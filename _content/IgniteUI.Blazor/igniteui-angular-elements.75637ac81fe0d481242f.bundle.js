"use strict";(this.webpackChunkInfragisticsBlazor=this.webpackChunkInfragisticsBlazor||[]).push([[258],{19515:(e,t,i)=>{i.r(t),i.d(t,{ColumnPinningPosition:()=>CS,DropPosition:()=>NM,FilteringExpressionsTreeType:()=>tS,FilteringLogic:()=>nS,GridPagingMode:()=>bS,IgcBooleanFilteringOperand:()=>KA,IgcDateFilteringOperand:()=>UA,IgcDateSummaryOperand:()=>cO,IgcDateTimeFilteringOperand:()=>qA,IgcFilteringExpressionsTree:()=>iS,IgcFilteringOperand:()=>WA,IgcNoopFilteringStrategy:()=>oS,IgcNoopPivotDimensionsStrategy:()=>jJ,IgcNoopSortingStrategy:()=>qC,IgcNumberFilteringOperand:()=>XA,IgcNumberSummaryOperand:()=>dO,IgcPivotAggregate:()=>uO,IgcPivotDateAggregate:()=>pO,IgcPivotDateDimension:()=>F0,IgcPivotNumericAggregate:()=>gO,IgcPivotTimeAggregate:()=>mO,IgcStringFilteringOperand:()=>ZA,IgcSummaryOperand:()=>lO,IgcTimeFilteringOperand:()=>YA,IgcTimeSummaryOperand:()=>hO,PivotDimensionType:()=>vO,RowPinningPosition:()=>SS,SortingDirection:()=>LC});var n=i(88259),r=i(73914),s=i(8437);e=i.hmd(e);var o=globalThis;function a(e){return(o.__Zone_symbol_prefix||"__zone_symbol__")+e}var l=Object.getOwnPropertyDescriptor,d=Object.defineProperty,c=Object.getPrototypeOf,h=Object.create,u=Array.prototype.slice,g="addEventListener",p="removeEventListener",m=a(g),f=a(p),v="true",y="false",x=a("");function w(e,t){return Zone.current.wrap(e,t)}function _(e,t,i,n,r){return Zone.current.scheduleMacroTask(e,t,i,n,r)}var C=a,S=typeof window<"u",b=S?window:void 0,D=S&&b||globalThis,I="removeAttribute";function E(e,t){for(let i=e.length-1;i>=0;i--)"function"==typeof e[i]&&(e[i]=w(e[i],t+"_"+i));return e}function T(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&typeof e.set>"u")}var R=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,A=!("nw"in D)&&typeof D.process<"u"&&"[object process]"===D.process.toString(),k=!A&&!R&&!(!S||!b.HTMLElement),O=typeof D.process<"u"&&"[object process]"===D.process.toString()&&!R&&!(!S||!b.HTMLElement),P={},F=C("enable_beforeunload"),V=function(e){if(!(e=e||D.event))return;let t=P[e.type];t||(t=P[e.type]=C("ON_PROPERTY"+e.type));let i,n=this||e.target||D,r=n[t];if(k&&n===b&&"error"===e.type){let t=e;i=r&&r.call(this,t.message,t.filename,t.lineno,t.colno,t.error),!0===i&&e.preventDefault()}else i=r&&r.apply(this,arguments),"beforeunload"===e.type&&D[F]&&"string"==typeof i?e.returnValue=i:null!=i&&!i&&e.preventDefault();return i};function M(e,t,i){let n=l(e,t);if(!n&&i&&l(i,t)&&(n={enumerable:!0,configurable:!0}),!n||!n.configurable)return;let r=C("on"+t+"patched");if(e.hasOwnProperty(r)&&e[r])return;delete n.writable,delete n.value;let s=n.get,o=n.set,a=t.slice(2),c=P[a];c||(c=P[a]=C("ON_PROPERTY"+a)),n.set=function(t){let i=this;!i&&e===D&&(i=D),i&&("function"==typeof i[c]&&i.removeEventListener(a,V),o&&o.call(i,null),i[c]=t,"function"==typeof t&&i.addEventListener(a,V,!1))},n.get=function(){let i=this;if(!i&&e===D&&(i=D),!i)return null;let r=i[c];if(r)return r;if(s){let e=s.call(this);if(e)return n.set.call(this,e),"function"==typeof i[I]&&i.removeAttribute(t),e}return null},d(e,t,n),e[r]=!0}function N(e,t,i){if(t)for(let n=0;n<t.length;n++)M(e,"on"+t[n],i);else{let t=[];for(let i in e)"on"==i.slice(0,2)&&t.push(i);for(let n=0;n<t.length;n++)M(e,t[n],i)}}var L=C("originalInstance");function H(e){let t=D[e];if(!t)return;D[C(e)]=t,D[e]=function(){let i=E(arguments,e);switch(i.length){case 0:this[L]=new t;break;case 1:this[L]=new t(i[0]);break;case 2:this[L]=new t(i[0],i[1]);break;case 3:this[L]=new t(i[0],i[1],i[2]);break;case 4:this[L]=new t(i[0],i[1],i[2],i[3]);break;default:throw new Error("Arg list too long.")}},G(D[e],t);let i,n=new t((function(){}));for(i in n)"XMLHttpRequest"===e&&"responseBlob"===i||function(t){"function"==typeof n[t]?D[e].prototype[t]=function(){return this[L][t].apply(this[L],arguments)}:d(D[e].prototype,t,{set:function(i){"function"==typeof i?(this[L][t]=w(i,e+"."+t),G(this[L][t],i)):this[L][t]=i},get:function(){return this[L][t]}})}(i);for(i in t)"prototype"!==i&&t.hasOwnProperty(i)&&(D[e][i]=t[i])}function z(e,t,i){let n=e;for(;n&&!n.hasOwnProperty(t);)n=c(n);!n&&e[t]&&(n=e);let r=C(t),s=null;if(n&&(!(s=n[r])||!n.hasOwnProperty(r))&&(s=n[r]=n[t],T(n&&l(n,t)))){let e=i(s,r,t);n[t]=function(){return e(this,arguments)},G(n[t],s)}return s}function B(e,t,i){let n=null;function r(e){let t=e.data;return t.args[t.cbIdx]=function(){e.invoke.apply(this,arguments)},n.apply(t.target,t.args),e}n=z(e,t,(e=>function(t,n){let s=i(t,n);return s.cbIdx>=0&&"function"==typeof n[s.cbIdx]?_(s.name,n[s.cbIdx],s,r):e.apply(t,n)}))}function G(e,t){e[C("OriginalDelegate")]=t}var $=!1,W=!1;function K(){if($)return W;$=!0;try{let e=b.navigator.userAgent;(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/")||-1!==e.indexOf("Edge/"))&&(W=!0)}catch{}return W}function j(e){return"function"==typeof e}function U(e){return"number"==typeof e}var q=!1;if(typeof window<"u")try{let e=Object.defineProperty({},"passive",{get:function(){q=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch{q=!1}var Y={useG:!0},X={},Z={},Q=new RegExp("^"+x+"(\\w+)(true|false)$"),J=C("propagationStopped");function ee(e,t){let i=(t?t(e):e)+y,n=(t?t(e):e)+v,r=x+i,s=x+n;X[e]={},X[e][y]=r,X[e][v]=s}function te(e,t,i,n){let r=n&&n.add||g,s=n&&n.rm||p,o=n&&n.listeners||"eventListeners",a=n&&n.rmAll||"removeAllListeners",l=C(r),d="."+r+":",h="prependListener",u="."+h+":",m=function(e,t,i){if(e.isRemoved)return;let n,r=e.callback;"object"==typeof r&&r.handleEvent&&(e.callback=e=>r.handleEvent(e),e.originalDelegate=r);try{e.invoke(e,t,[i])}catch(e){n=e}let o=e.options;if(o&&"object"==typeof o&&o.once){let n=e.originalDelegate?e.originalDelegate:e.callback;t[s].call(t,i.type,n,o)}return n};function f(i,n,r){if(!(n=n||e.event))return;let s=i||n.target||e,o=s[X[n.type][r?v:y]];if(o){let e=[];if(1===o.length){let t=m(o[0],s,n);t&&e.push(t)}else{let t=o.slice();for(let i=0;i<t.length&&(!n||!0!==n[J]);i++){let r=m(t[i],s,n);r&&e.push(r)}}if(1===e.length)throw e[0];for(let i=0;i<e.length;i++){let n=e[i];t.nativeScheduleMicroTask((()=>{throw n}))}}}let w=function(e){return f(this,e,!1)},_=function(e){return f(this,e,!0)};function S(t,i){if(!t)return!1;let n=!0;i&&void 0!==i.useG&&(n=i.useG);let g=i&&i.vh,p=!0;i&&void 0!==i.chkDup&&(p=i.chkDup);let m=!1;i&&void 0!==i.rt&&(m=i.rt);let f=t;for(;f&&!f.hasOwnProperty(r);)f=c(f);if(!f&&t[r]&&(f=t),!f||f[l])return!1;let S,b=i&&i.eventNameToString,D={},I=f[l]=f[r],E=f[C(s)]=f[s],T=f[C(o)]=f[o],R=f[C(a)]=f[a];i&&i.prepend&&(S=f[C(i.prepend)]=f[i.prepend]);let k=n?function(e){if(!D.isExisting)return I.call(D.target,D.eventName,D.capture?_:w,D.options)}:function(e){return I.call(D.target,D.eventName,e.invoke,D.options)},O=n?function(e){if(!e.isRemoved){let t,i=X[e.eventName];i&&(t=i[e.capture?v:y]);let n=t&&e.target[t];if(n)for(let i=0;i<n.length;i++)if(n[i]===e){n.splice(i,1),e.isRemoved=!0,e.removeAbortListener&&(e.removeAbortListener(),e.removeAbortListener=null),0===n.length&&(e.allRemoved=!0,e.target[t]=null);break}}if(e.allRemoved)return E.call(e.target,e.eventName,e.capture?_:w,e.options)}:function(e){return E.call(e.target,e.eventName,e.invoke,e.options)},P=i&&i.diff?i.diff:function(e,t){let i=typeof t;return"function"===i&&e.callback===t||"object"===i&&e.originalDelegate===t},F=Zone[C("UNPATCHED_EVENTS")],V=e[C("PASSIVE_EVENTS")],M=function(t,r,s,o,a=!1,l=!1){return function(){let d=this||e,c=arguments[0];i&&i.transferEventName&&(c=i.transferEventName(c));let h=arguments[1];if(!h)return t.apply(this,arguments);if(A&&"uncaughtException"===c)return t.apply(this,arguments);let u=!1;if("function"!=typeof h){if(!h.handleEvent)return t.apply(this,arguments);u=!0}if(g&&!g(t,h,d,arguments))return;let m=q&&!!V&&-1!==V.indexOf(c),f=function(e){if("object"==typeof e&&null!==e){let t={...e};return e.signal&&(t.signal=e.signal),t}return e}(function(e,t){return!q&&"object"==typeof e&&e?!!e.capture:q&&t?"boolean"==typeof e?{capture:e,passive:!0}:e?"object"==typeof e&&!1!==e.passive?{...e,passive:!0}:e:{passive:!0}:e}(arguments[2],m)),x=f?.signal;if(x?.aborted)return;if(F)for(let e=0;e<F.length;e++)if(c===F[e])return m?t.call(d,c,h,f):t.apply(this,arguments);let w=!!f&&("boolean"==typeof f||f.capture),_=!(!f||"object"!=typeof f)&&f.once,C=Zone.current,S=X[c];S||(ee(c,b),S=X[c]);let I=S[w?v:y],E=d[I],T=!1;if(E){if(T=!0,p)for(let e=0;e<E.length;e++)if(P(E[e],h))return}else E=d[I]=[];let R,k=d.constructor.name,O=Z[k];O&&(R=O[c]),R||(R=k+r+(b?b(c):c)),D.options=f,_&&(D.options.once=!1),D.target=d,D.capture=w,D.eventName=c,D.isExisting=T;let M=n?Y:void 0;M&&(M.taskData=D),x&&(D.options.signal=void 0);let N=C.scheduleEventTask(R,h,M,s,o);if(x){D.options.signal=x;let e=()=>N.zone.cancelTask(N);t.call(x,"abort",e,{once:!0}),N.removeAbortListener=()=>x.removeEventListener("abort",e)}return D.target=null,M&&(M.taskData=null),_&&(D.options.once=!0),!q&&"boolean"==typeof N.options||(N.options=f),N.target=d,N.capture=w,N.eventName=c,u&&(N.originalDelegate=h),l?E.unshift(N):E.push(N),a?d:void 0}};return f[r]=M(I,d,k,O,m),S&&(f[h]=M(S,u,(function(e){return S.call(D.target,D.eventName,e.invoke,D.options)}),O,m,!0)),f[s]=function(){let t=this||e,n=arguments[0];i&&i.transferEventName&&(n=i.transferEventName(n));let r=arguments[2],s=!!r&&("boolean"==typeof r||r.capture),o=arguments[1];if(!o)return E.apply(this,arguments);if(g&&!g(E,o,t,arguments))return;let a,l=X[n];l&&(a=l[s?v:y]);let d=a&&t[a];if(d)for(let e=0;e<d.length;e++){let i=d[e];if(P(i,o))return d.splice(e,1),i.isRemoved=!0,0!==d.length||(i.allRemoved=!0,t[a]=null,s||"string"!=typeof n)||(t[x+"ON_PROPERTY"+n]=null),i.zone.cancelTask(i),m?t:void 0}return E.apply(this,arguments)},f[o]=function(){let t=this||e,n=arguments[0];i&&i.transferEventName&&(n=i.transferEventName(n));let r=[],s=ie(t,b?b(n):n);for(let e=0;e<s.length;e++){let t=s[e],i=t.originalDelegate?t.originalDelegate:t.callback;r.push(i)}return r},f[a]=function(){let t=this||e,n=arguments[0];if(n){i&&i.transferEventName&&(n=i.transferEventName(n));let e=X[n];if(e){let i=e[y],r=e[v],o=t[i],a=t[r];if(o){let e=o.slice();for(let t=0;t<e.length;t++){let i=e[t],r=i.originalDelegate?i.originalDelegate:i.callback;this[s].call(this,n,r,i.options)}}if(a){let e=a.slice();for(let t=0;t<e.length;t++){let i=e[t],r=i.originalDelegate?i.originalDelegate:i.callback;this[s].call(this,n,r,i.options)}}}}else{let e=Object.keys(t);for(let t=0;t<e.length;t++){let i=e[t],n=Q.exec(i),r=n&&n[1];r&&"removeListener"!==r&&this[a].call(this,r)}this[a].call(this,"removeListener")}if(m)return this},G(f[r],I),G(f[s],E),R&&G(f[a],R),T&&G(f[o],T),!0}let b=[];for(let e=0;e<i.length;e++)b[e]=S(i[e],n);return b}function ie(e,t){if(!t){let i=[];for(let n in e){let r=Q.exec(n),s=r&&r[1];if(s&&(!t||s===t)){let t=e[n];if(t)for(let e=0;e<t.length;e++)i.push(t[e])}}return i}let i=X[t];i||(ee(t),i=X[t]);let n=e[i[y]],r=e[i[v]];return n?r?n.concat(r):n.slice():r?r.slice():[]}function ne(e,t){let i=e.Event;i&&i.prototype&&t.patchMethod(i.prototype,"stopImmediatePropagation",(e=>function(t,i){t[J]=!0,e&&e.apply(t,i)}))}var re=C("zoneTask");function se(e,t,i,n){let r=null,s=null;i+=n;let o={};function a(t){let i=t.data;i.args[0]=function(){return t.invoke.apply(this,arguments)};let n=r.apply(e,i.args);return U(n)?i.handleId=n:(i.handle=n,i.isRefreshable=j(n.refresh)),t}function l(t){let{handle:i,handleId:n}=t.data;return s.call(e,i??n)}r=z(e,t+=n,(i=>function(r,s){if(j(s[0])){let e={isRefreshable:!1,isPeriodic:"Interval"===n,delay:"Timeout"===n||"Interval"===n?s[1]||0:void 0,args:s},i=s[0];s[0]=function(){try{return i.apply(this,arguments)}finally{let{handle:t,handleId:i,isPeriodic:n,isRefreshable:r}=e;!n&&!r&&(i?delete o[i]:t&&(t[re]=null))}};let r=_(t,s[0],e,a,l);if(!r)return r;let{handleId:d,handle:c,isRefreshable:h,isPeriodic:u}=r.data;if(d)o[d]=r;else if(c&&(c[re]=r,h&&!u)){let e=c.refresh;c.refresh=function(){let{zone:t,state:i}=r;return"notScheduled"===i?(r._state="scheduled",t._updateTaskCount(r,1)):"running"===i&&(r._state="scheduling"),e.call(this)}}return c??d??r}return i.apply(e,s)})),s=z(e,i,(t=>function(i,n){let r,s=n[0];U(s)?(r=o[s],delete o[s]):(r=s?.[re],r?s[re]=null:r=s),r?.type?r.cancelFn&&r.zone.cancelTask(r):t.apply(e,n)}))}function oe(e,t,i){if(!i||0===i.length)return t;let n=i.filter((t=>t.target===e));if(!n||0===n.length)return t;let r=n[0].ignoreProperties;return t.filter((e=>-1===r.indexOf(e)))}function ae(e,t,i,n){e&&N(e,oe(e,t,i),n)}function le(e){return Object.getOwnPropertyNames(e).filter((e=>e.startsWith("on")&&e.length>2)).map((e=>e.substring(2)))}function de(e,t,i,n,r){let s=Zone.__symbol__(n);if(t[s])return;let o=t[s]=t[n];t[n]=function(s,a,l){return a&&a.prototype&&r.forEach((function(t){let r=`${i}.${n}::`+t,s=a.prototype;try{if(s.hasOwnProperty(t)){let i=e.ObjectGetOwnPropertyDescriptor(s,t);i&&i.value?(i.value=e.wrapWithCurrentZone(i.value,r),e._redefineProperty(a.prototype,t,i)):s[t]&&(s[t]=e.wrapWithCurrentZone(s[t],r))}else s[t]&&(s[t]=e.wrapWithCurrentZone(s[t],r))}catch{}})),o.call(t,s,a,l)},e.attachOriginToPatched(t[n],o)}var ce,he=function(){let e=globalThis,t=!0===e[a("forceDuplicateZoneCheck")];if(e.Zone&&(t||"function"!=typeof e.Zone.__symbol__))throw new Error("Zone already loaded.");return e.Zone??=function(){let e=o.performance;function t(t){e&&e.mark&&e.mark(t)}function i(t,i){e&&e.measure&&e.measure(t,i)}t("Zone");let n=(()=>{let e=class e{static assertZonePatched(){if(o.Promise!==T.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let t=e.current;for(;t.parent;)t=t.parent;return t}static get current(){return A.zone}static get currentTask(){return k}static __load_patch(n,r,s=!1){if(T.hasOwnProperty(n)){let e=!0===o[a("forceDuplicateZoneCheck")];if(!s&&e)throw Error("Already loaded patch: "+n)}else if(!o["__Zone_disable_"+n]){let s="Zone:"+n;t(s),T[n]=r(o,e,R),i(s,s)}}get parent(){return this._parent}get name(){return this._name}constructor(e,t){this._parent=e,this._name=t?t.name||"unnamed":"<root>",this._properties=t&&t.properties||{},this._zoneDelegate=new s(this,this._parent&&this._parent._zoneDelegate,t)}get(e){let t=this.getZoneWith(e);if(t)return t._properties[e]}getZoneWith(e){let t=this;for(;t;){if(t._properties.hasOwnProperty(e))return t;t=t._parent}return null}fork(e){if(!e)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,e)}wrap(e,t){if("function"!=typeof e)throw new Error("Expecting function got: "+e);let i=this._zoneDelegate.intercept(this,e,t),n=this;return function(){return n.runGuarded(i,this,arguments,t)}}run(e,t,i,n){A={parent:A,zone:this};try{return this._zoneDelegate.invoke(this,e,t,i,n)}finally{A=A.parent}}runGuarded(e,t=null,i,n){A={parent:A,zone:this};try{try{return this._zoneDelegate.invoke(this,e,t,i,n)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{A=A.parent}}runTask(e,t,i){if(e.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(e.zone||y).name+"; Execution: "+this.name+")");let n=e,{type:r,data:{isPeriodic:s=!1,isRefreshable:o=!1}={}}=e;if(e.state===x&&(r===E||r===I))return;let a=e.state!=C;a&&n._transitionTo(C,_);let l=k;k=n,A={parent:A,zone:this};try{r==I&&e.data&&!s&&!o&&(e.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,n,t,i)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{let t=e.state;if(t!==x&&t!==b)if(r==E||s||o&&t===w)a&&n._transitionTo(_,C,w);else{let e=n._zoneDelegates;this._updateTaskCount(n,-1),a&&n._transitionTo(x,C,x),o&&(n._zoneDelegates=e)}A=A.parent,k=l}}scheduleTask(e){if(e.zone&&e.zone!==this){let t=this;for(;t;){if(t===e.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${e.zone.name}`);t=t.parent}}e._transitionTo(w,x);let t=[];e._zoneDelegates=t,e._zone=this;try{e=this._zoneDelegate.scheduleTask(this,e)}catch(t){throw e._transitionTo(b,w,x),this._zoneDelegate.handleError(this,t),t}return e._zoneDelegates===t&&this._updateTaskCount(e,1),e.state==w&&e._transitionTo(_,w),e}scheduleMicroTask(e,t,i,n){return this.scheduleTask(new l(D,e,t,i,n,void 0))}scheduleMacroTask(e,t,i,n,r){return this.scheduleTask(new l(I,e,t,i,n,r))}scheduleEventTask(e,t,i,n,r){return this.scheduleTask(new l(E,e,t,i,n,r))}cancelTask(e){if(e.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(e.zone||y).name+"; Execution: "+this.name+")");if(e.state===_||e.state===C){e._transitionTo(S,_,C);try{this._zoneDelegate.cancelTask(this,e)}catch(t){throw e._transitionTo(b,S),this._zoneDelegate.handleError(this,t),t}return this._updateTaskCount(e,-1),e._transitionTo(x,S),e.runCount=-1,e}}_updateTaskCount(e,t){let i=e._zoneDelegates;-1==t&&(e._zoneDelegates=null);for(let n=0;n<i.length;n++)i[n]._updateTaskCount(e.type,t)}};return e.__symbol__=a,e})(),r={name:"",onHasTask:(e,t,i,n)=>e.hasTask(i,n),onScheduleTask:(e,t,i,n)=>e.scheduleTask(i,n),onInvokeTask:(e,t,i,n,r,s)=>e.invokeTask(i,n,r,s),onCancelTask:(e,t,i,n)=>e.cancelTask(i,n)};class s{get zone(){return this._zone}constructor(e,t,i){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this._zone=e,this._parentDelegate=t,this._forkZS=i&&(i&&i.onFork?i:t._forkZS),this._forkDlgt=i&&(i.onFork?t:t._forkDlgt),this._forkCurrZone=i&&(i.onFork?this._zone:t._forkCurrZone),this._interceptZS=i&&(i.onIntercept?i:t._interceptZS),this._interceptDlgt=i&&(i.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=i&&(i.onIntercept?this._zone:t._interceptCurrZone),this._invokeZS=i&&(i.onInvoke?i:t._invokeZS),this._invokeDlgt=i&&(i.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=i&&(i.onInvoke?this._zone:t._invokeCurrZone),this._handleErrorZS=i&&(i.onHandleError?i:t._handleErrorZS),this._handleErrorDlgt=i&&(i.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=i&&(i.onHandleError?this._zone:t._handleErrorCurrZone),this._scheduleTaskZS=i&&(i.onScheduleTask?i:t._scheduleTaskZS),this._scheduleTaskDlgt=i&&(i.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=i&&(i.onScheduleTask?this._zone:t._scheduleTaskCurrZone),this._invokeTaskZS=i&&(i.onInvokeTask?i:t._invokeTaskZS),this._invokeTaskDlgt=i&&(i.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=i&&(i.onInvokeTask?this._zone:t._invokeTaskCurrZone),this._cancelTaskZS=i&&(i.onCancelTask?i:t._cancelTaskZS),this._cancelTaskDlgt=i&&(i.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=i&&(i.onCancelTask?this._zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let n=i&&i.onHasTask,s=t&&t._hasTaskZS;(n||s)&&(this._hasTaskZS=n?i:r,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,i.onScheduleTask||(this._scheduleTaskZS=r,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this._zone),i.onInvokeTask||(this._invokeTaskZS=r,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this._zone),i.onCancelTask||(this._cancelTaskZS=r,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this._zone))}fork(e,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,e,t):new n(e,t)}intercept(e,t,i){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,e,t,i):t}invoke(e,t,i,n,r){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,e,t,i,n,r):t.apply(i,n)}handleError(e,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,e,t)}scheduleTask(e,t){let i=t;if(this._scheduleTaskZS)this._hasTaskZS&&i._zoneDelegates.push(this._hasTaskDlgtOwner),i=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,e,t),i||(i=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=D)throw new Error("Task is missing scheduleFn.");f(t)}return i}invokeTask(e,t,i,n){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,e,t,i,n):t.callback.apply(i,n)}cancelTask(e,t){let i;if(this._cancelTaskZS)i=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,e,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");i=t.cancelFn(t)}return i}hasTask(e,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,e,t)}catch(t){this.handleError(e,t)}}_updateTaskCount(e,t){let i=this._taskCounts,n=i[e],r=i[e]=n+t;if(r<0)throw new Error("More tasks executed then were scheduled.");if(0==n||0==r){let t={microTask:i.microTask>0,macroTask:i.macroTask>0,eventTask:i.eventTask>0,change:e};this.hasTask(this._zone,t)}}}class l{constructor(e,t,i,n,r,s){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=e,this.source=t,this.data=n,this.scheduleFn=r,this.cancelFn=s,!i)throw new Error("callback is not defined");this.callback=i;let a=this;e===E&&n&&n.useG?this.invoke=l.invokeTask:this.invoke=function(){return l.invokeTask.call(o,a,this,arguments)}}static invokeTask(e,t,i){e||(e=this),O++;try{return e.runCount++,e.zone.runTask(e,t,i)}finally{1==O&&v(),O--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(x,w)}_transitionTo(e,t,i){if(this._state!==t&&this._state!==i)throw new Error(`${this.type} '${this.source}': can not transition to '${e}', expecting state '${t}'${i?" or '"+i+"'":""}, was '${this._state}'.`);this._state=e,e==x&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let d,c=a("setTimeout"),h=a("Promise"),u=a("then"),g=[],p=!1;function m(e){if(d||o[h]&&(d=o[h].resolve(0)),d){let t=d[u];t||(t=d.then),t.call(d,e)}else o[c](e,0)}function f(e){0===O&&0===g.length&&m(v),e&&g.push(e)}function v(){if(!p){for(p=!0;g.length;){let e=g;g=[];for(let t=0;t<e.length;t++){let i=e[t];try{i.zone.runTask(i,null,null)}catch(e){R.onUnhandledError(e)}}}R.microtaskDrainDone(),p=!1}}let y={name:"NO ZONE"},x="notScheduled",w="scheduling",_="scheduled",C="running",S="canceling",b="unknown",D="microTask",I="macroTask",E="eventTask",T={},R={symbol:a,currentZoneFrame:()=>A,onUnhandledError:P,microtaskDrainDone:P,scheduleMicroTask:f,showUncaughtError:()=>!n[a("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:P,patchMethod:()=>P,bindArguments:()=>[],patchThen:()=>P,patchMacroTask:()=>P,patchEventPrototype:()=>P,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>P,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>P,wrapWithCurrentZone:()=>P,filterProperties:()=>[],attachOriginToPatched:()=>P,_redefineProperty:()=>P,patchCallbacks:()=>P,nativeScheduleMicroTask:m},A={parent:null,zone:new n(null,null)},k=null,O=0;function P(){}return i("Zone","Zone"),n}(),e.Zone}();(function(e){e.__load_patch("ZoneAwarePromise",((e,t,i)=>{let n=Object.getOwnPropertyDescriptor,r=Object.defineProperty,s=i.symbol,o=[],a=!1!==e[s("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],l=s("Promise"),d=s("then"),c="__creationTrace__";i.onUnhandledError=e=>{if(i.showUncaughtError()){let t=e&&e.rejection;t?console.error("Unhandled Promise rejection:",t instanceof Error?t.message:t,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",t,t instanceof Error?t.stack:void 0):console.error(e)}},i.microtaskDrainDone=()=>{for(;o.length;){let e=o.shift();try{e.zone.runGuarded((()=>{throw e.throwOriginal?e.rejection:e}))}catch(e){u(e)}}};let h=s("unhandledPromiseRejectionHandler");function u(e){i.onUnhandledError(e);try{let i=t[h];"function"==typeof i&&i.call(this,e)}catch{}}function g(e){return e&&e.then}function p(e){return e}function m(e){return M.reject(e)}let f=s("state"),v=s("value"),y=s("finally"),x=s("parentPromiseValue"),w=s("parentPromiseState"),_="Promise.then",C=null,S=!0,b=!1,D=0;function I(e,t){return i=>{try{A(e,t,i)}catch(t){A(e,!1,t)}}}let E=function(){let e=!1;return function(t){return function(){e||(e=!0,t.apply(null,arguments))}}},T="Promise resolved with itself",R=s("currentTaskTrace");function A(e,n,s){let l=E();if(e===s)throw new TypeError(T);if(e[f]===C){let d=null;try{("object"==typeof s||"function"==typeof s)&&(d=s&&s.then)}catch(t){return l((()=>{A(e,!1,t)}))(),e}if(n!==b&&s instanceof M&&s.hasOwnProperty(f)&&s.hasOwnProperty(v)&&s[f]!==C)O(s),A(e,s[f],s[v]);else if(n!==b&&"function"==typeof d)try{d.call(s,l(I(e,n)),l(I(e,!1)))}catch(t){l((()=>{A(e,!1,t)}))()}else{e[f]=n;let l=e[v];if(e[v]=s,e[y]===y&&n===S&&(e[f]=e[w],e[v]=e[x]),n===b&&s instanceof Error){let e=t.currentTask&&t.currentTask.data&&t.currentTask.data[c];e&&r(s,R,{configurable:!0,enumerable:!1,writable:!0,value:e})}for(let t=0;t<l.length;)P(e,l[t++],l[t++],l[t++],l[t++]);if(0==l.length&&n==b){e[f]=D;let n=s;try{throw new Error("Uncaught (in promise): "+function(e){return e&&e.toString===Object.prototype.toString?(e.constructor&&e.constructor.name||"")+": "+JSON.stringify(e):e?e.toString():Object.prototype.toString.call(e)}(s)+(s&&s.stack?"\n"+s.stack:""))}catch(e){n=e}a&&(n.throwOriginal=!0),n.rejection=s,n.promise=e,n.zone=t.current,n.task=t.currentTask,o.push(n),i.scheduleMicroTask()}}}return e}let k=s("rejectionHandledHandler");function O(e){if(e[f]===D){try{let i=t[k];i&&"function"==typeof i&&i.call(this,{rejection:e[v],promise:e})}catch{}e[f]=b;for(let t=0;t<o.length;t++)e===o[t].promise&&o.splice(t,1)}}function P(e,t,i,n,r){O(e);let s=e[f],o=s?"function"==typeof n?n:p:"function"==typeof r?r:m;t.scheduleMicroTask(_,(()=>{try{let n=e[v],r=!!i&&y===i[y];r&&(i[x]=n,i[w]=s);let a=t.run(o,void 0,r&&o!==m&&o!==p?[]:[n]);A(i,!0,a)}catch(e){A(i,!1,e)}}),i)}let F=function(){},V=e.AggregateError;class M{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(e){return e instanceof M?e:A(new this(null),S,e)}static reject(e){return A(new this(null),b,e)}static withResolvers(){let e={};return e.promise=new M(((t,i)=>{e.resolve=t,e.reject=i})),e}static any(e){if(!e||"function"!=typeof e[Symbol.iterator])return Promise.reject(new V([],"All promises were rejected"));let t=[],i=0;try{for(let n of e)i++,t.push(M.resolve(n))}catch{return Promise.reject(new V([],"All promises were rejected"))}if(0===i)return Promise.reject(new V([],"All promises were rejected"));let n=!1,r=[];return new M(((e,s)=>{for(let o=0;o<t.length;o++)t[o].then((t=>{n||(n=!0,e(t))}),(e=>{r.push(e),i--,0===i&&(n=!0,s(new V(r,"All promises were rejected")))}))}))}static race(e){let t,i,n=new this(((e,n)=>{t=e,i=n}));function r(e){t(e)}function s(e){i(e)}for(let t of e)g(t)||(t=this.resolve(t)),t.then(r,s);return n}static all(e){return M.allWithCallback(e)}static allSettled(e){return(this&&this.prototype instanceof M?this:M).allWithCallback(e,{thenCallback:e=>({status:"fulfilled",value:e}),errorCallback:e=>({status:"rejected",reason:e})})}static allWithCallback(e,t){let i,n,r=new this(((e,t)=>{i=e,n=t})),s=2,o=0,a=[];for(let r of e){g(r)||(r=this.resolve(r));let e=o;try{r.then((n=>{a[e]=t?t.thenCallback(n):n,s--,0===s&&i(a)}),(r=>{t?(a[e]=t.errorCallback(r),s--,0===s&&i(a)):n(r)}))}catch(e){n(e)}s++,o++}return s-=2,0===s&&i(a),r}constructor(e){let t=this;if(!(t instanceof M))throw new Error("Must be an instanceof Promise.");t[f]=C,t[v]=[];try{let i=E();e&&e(i(I(t,S)),i(I(t,b)))}catch(e){A(t,!1,e)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return M}then(e,i){let n=this.constructor?.[Symbol.species];(!n||"function"!=typeof n)&&(n=this.constructor||M);let r=new n(F),s=t.current;return this[f]==C?this[v].push(s,r,e,i):P(this,s,r,e,i),r}catch(e){return this.then(null,e)}finally(e){let i=this.constructor?.[Symbol.species];(!i||"function"!=typeof i)&&(i=M);let n=new i(F);n[y]=y;let r=t.current;return this[f]==C?this[v].push(r,n,e,e):P(this,r,n,e,e),n}}M.resolve=M.resolve,M.reject=M.reject,M.race=M.race,M.all=M.all;let N=e[l]=e.Promise;e.Promise=M;let L=s("thenPatched");function H(e){let t=e.prototype,i=n(t,"then");if(i&&(!1===i.writable||!i.configurable))return;let r=t.then;t[d]=r,e.prototype.then=function(e,t){return new M(((e,t)=>{r.call(this,e,t)})).then(e,t)},e[L]=!0}return i.patchThen=H,N&&(H(N),z(e,"fetch",(e=>function(e){return function(t,i){let n=e.apply(t,i);if(n instanceof M)return n;let r=n.constructor;return r[L]||H(r),n}}(e)))),Promise[t.__symbol__("uncaughtPromiseErrors")]=o,M}))})(ce=he),function(e){e.__load_patch("toString",(e=>{let t=Function.prototype.toString,i=C("OriginalDelegate"),n=C("Promise"),r=C("Error"),s=function(){if("function"==typeof this){let s=this[i];if(s)return"function"==typeof s?t.call(s):Object.prototype.toString.call(s);if(this===Promise){let i=e[n];if(i)return t.call(i)}if(this===Error){let i=e[r];if(i)return t.call(i)}}return t.call(this)};s[i]=t,Function.prototype.toString=s;let o=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":o.call(this)}}))}(ce),function(e){e.__load_patch("util",((e,t,i)=>{let n=le(e);i.patchOnProperties=N,i.patchMethod=z,i.bindArguments=E,i.patchMacroTask=B;let r=t.__symbol__("BLACK_LISTED_EVENTS"),s=t.__symbol__("UNPATCHED_EVENTS");e[s]&&(e[r]=e[s]),e[r]&&(t[r]=t[s]=e[r]),i.patchEventPrototype=ne,i.patchEventTarget=te,i.isIEOrEdge=K,i.ObjectDefineProperty=d,i.ObjectGetOwnPropertyDescriptor=l,i.ObjectCreate=h,i.ArraySlice=u,i.patchClass=H,i.wrapWithCurrentZone=w,i.filterProperties=oe,i.attachOriginToPatched=G,i._redefineProperty=Object.defineProperty,i.patchCallbacks=de,i.getGlobalObjects=()=>({globalSources:Z,zoneSymbolEventNames:X,eventNames:n,isBrowser:k,isMix:O,isNode:A,TRUE_STR:v,FALSE_STR:y,ZONE_SYMBOL_PREFIX:x,ADD_EVENT_LISTENER_STR:g,REMOVE_EVENT_LISTENER_STR:p})}))}(ce),function(e){e.__load_patch("legacy",(t=>{let i=t[e.__symbol__("legacyPatch")];i&&i()})),e.__load_patch("timers",(e=>{let t="set",i="clear";se(e,t,i,"Timeout"),se(e,t,i,"Interval"),se(e,t,i,"Immediate")})),e.__load_patch("requestAnimationFrame",(e=>{se(e,"request","cancel","AnimationFrame"),se(e,"mozRequest","mozCancel","AnimationFrame"),se(e,"webkitRequest","webkitCancel","AnimationFrame")})),e.__load_patch("blocking",((e,t)=>{let i=["alert","prompt","confirm"];for(let n=0;n<i.length;n++)z(e,i[n],((i,n,r)=>function(n,s){return t.current.run(i,e,s,r)}))})),e.__load_patch("EventTarget",((e,t,i)=>{(function(e,t){t.patchEventPrototype(e,t)})(e,i),function(e,t){if(Zone[t.symbol("patchEventTarget")])return;let{eventNames:i,zoneSymbolEventNames:n,TRUE_STR:r,FALSE_STR:s,ZONE_SYMBOL_PREFIX:o}=t.getGlobalObjects();for(let e=0;e<i.length;e++){let t=i[e],a=o+(t+s),l=o+(t+r);n[t]={},n[t][s]=a,n[t][r]=l}let a=e.EventTarget;a&&a.prototype&&t.patchEventTarget(e,t,[a&&a.prototype])}(e,i);let n=e.XMLHttpRequestEventTarget;n&&n.prototype&&i.patchEventTarget(e,i,[n.prototype])})),e.__load_patch("MutationObserver",((e,t,i)=>{H("MutationObserver"),H("WebKitMutationObserver")})),e.__load_patch("IntersectionObserver",((e,t,i)=>{H("IntersectionObserver")})),e.__load_patch("FileReader",((e,t,i)=>{H("FileReader")})),e.__load_patch("on_property",((e,t,i)=>{!function(e,t){if(A&&!O||Zone[e.symbol("patchEvents")])return;let i=t.__Zone_ignore_on_properties,n=[];if(k){let e=window;n=n.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let t=function(){try{let e=b.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:e,ignoreProperties:["error"]}]:[];ae(e,le(e),i&&i.concat(t),c(e))}n=n.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let e=0;e<n.length;e++){let r=t[n[e]];r&&r.prototype&&ae(r.prototype,le(r.prototype),i)}}(i,e)})),e.__load_patch("customElements",((e,t,i)=>{!function(e,t){let{isBrowser:i,isMix:n}=t.getGlobalObjects();(i||n)&&e.customElements&&"customElements"in e&&t.patchCallbacks(t,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"])}(e,i)})),e.__load_patch("XHR",((e,t)=>{!function(e){let l=e.XMLHttpRequest;if(!l)return;let d=l.prototype,c=d[m],h=d[f];if(!c){let t=e.XMLHttpRequestEventTarget;if(t){let e=t.prototype;c=e[m],h=e[f]}}let u="readystatechange",g="scheduled";function p(e){let n=e.data,o=n.target;o[s]=!1,o[a]=!1;let l=o[r];c||(c=o[m],h=o[f]),l&&h.call(o,u,l);let d=o[r]=()=>{if(o.readyState===o.DONE)if(!n.aborted&&o[s]&&e.state===g){let i=o[t.__symbol__("loadfalse")];if(0!==o.status&&i&&i.length>0){let r=e.invoke;e.invoke=function(){let i=o[t.__symbol__("loadfalse")];for(let t=0;t<i.length;t++)i[t]===e&&i.splice(t,1);!n.aborted&&e.state===g&&r.call(e)},i.push(e)}else e.invoke()}else!n.aborted&&!1===o[s]&&(o[a]=!0)};return c.call(o,u,d),o[i]||(o[i]=e),b.apply(o,n.args),o[s]=!0,e}function v(){}function y(e){let t=e.data;return t.aborted=!0,D.apply(t.target,t.args)}let x=z(d,"open",(()=>function(e,t){return e[n]=0==t[2],e[o]=t[1],x.apply(e,t)})),w=C("fetchTaskAborting"),S=C("fetchTaskScheduling"),b=z(d,"send",(()=>function(e,i){if(!0===t.current[S]||e[n])return b.apply(e,i);{let t={target:e,url:e[o],isPeriodic:!1,args:i,aborted:!1},n=_("XMLHttpRequest.send",v,t,p,y);e&&!0===e[a]&&!t.aborted&&n.state===g&&n.invoke()}})),D=z(d,"abort",(()=>function(e,n){let r=function(e){return e[i]}(e);if(r&&"string"==typeof r.type){if(null==r.cancelFn||r.data&&r.data.aborted)return;r.zone.cancelTask(r)}else if(!0===t.current[w])return D.apply(e,n)}))}(e);let i=C("xhrTask"),n=C("xhrSync"),r=C("xhrListener"),s=C("xhrScheduled"),o=C("xhrURL"),a=C("xhrErrorBeforeScheduled")})),e.__load_patch("geolocation",(e=>{e.navigator&&e.navigator.geolocation&&function(e,t){let i=e.constructor.name;for(let n=0;n<t.length;n++){let r=t[n],s=e[r];if(s){if(!T(l(e,r)))continue;e[r]=(e=>{let t=function(){return e.apply(this,E(arguments,i+"."+r))};return G(t,e),t})(s)}}}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])})),e.__load_patch("PromiseRejectionEvent",((e,t)=>{function i(t){return function(i){ie(e,t).forEach((n=>{let r=e.PromiseRejectionEvent;if(r){let e=new r(t,{promise:i.promise,reason:i.rejection});n.invoke(e)}}))}}e.PromiseRejectionEvent&&(t[C("unhandledPromiseRejectionHandler")]=i("unhandledrejection"),t[C("rejectionHandledHandler")]=i("rejectionhandled"))})),e.__load_patch("queueMicrotask",((e,t,i)=>{!function(e,t){t.patchMethod(e,"queueMicrotask",(e=>function(e,t){Zone.current.scheduleMicroTask("queueMicrotask",t[0])}))}(e,i)}))}(he);var ue=new WeakMap,ge=e=>{let t=ue.get(e);return void 0===t&&ue.set(e,t=new Map),t},pe=class{constructor(){this.__shadowRootMode=null,this.__shadowRoot=null,this.__internals=null}get attributes(){return Array.from(ge(this)).map((([e,t])=>({name:e,value:t})))}get shadowRoot(){return"closed"===this.__shadowRootMode?null:this.__shadowRoot}setAttribute(e,t){ge(this).set(e,String(t))}removeAttribute(e){ge(this).delete(e)}toggleAttribute(e,t){return this.hasAttribute(e)?!(void 0===t||!t)||(this.removeAttribute(e),!1):!(void 0!==t&&!t||(this.setAttribute(e,""),0))}hasAttribute(e){return ge(this).has(e)}attachShadow(e){let t={host:this};return this.__shadowRootMode=e.mode,e&&"open"===e.mode&&(this.__shadowRoot=t),t}attachInternals(){if(null!==this.__internals)throw new Error("Failed to execute 'attachInternals' on 'HTMLElement': ElementInternals for the specified element was already attached.");let e=new class{get shadowRoot(){return this.__host.__shadowRoot}constructor(e){this.ariaAtomic="",this.ariaAutoComplete="",this.ariaBraileLabel="",this.ariaBraileRoleDescription="",this.ariaBusy="",this.ariaChecked="",this.ariaColCount="",this.ariaColIndex="",this.ariaColSpan="",this.ariaCurrent="",this.ariaDescription="",this.ariaDisabled="",this.ariaExpanded="",this.ariaHasPopup="",this.ariaHidden="",this.ariaInvalid="",this.ariaKeyShortcuts="",this.ariaLabel="",this.ariaLevel="",this.ariaLive="",this.ariaModal="",this.ariaMultiLine="",this.ariaMultiSelectable="",this.ariaOrientation="",this.ariaPlaceholder="",this.ariaPosInSet="",this.ariaPressed="",this.ariaReadOnly="",this.ariaRequired="",this.ariaRoleDescription="",this.ariaRowCount="",this.ariaRowIndex="",this.ariaRowSpan="",this.ariaSelected="",this.ariaSetSize="",this.ariaSort="",this.ariaValueMax="",this.ariaValueMin="",this.ariaValueNow="",this.ariaValueText="",this.role="",this.form=null,this.labels=[],this.states=new Set,this.validationMessage="",this.validity={},this.willValidate=!0,this.__host=e}checkValidity(){return console.warn("`ElementInternals.checkValidity()` was called on the server.This method always returns true."),!0}reportValidity(){return!0}setFormValue(){}setValidity(){}}(this);return this.__internals=e,e}getAttribute(e){return ge(this).get(e)??null}},me=pe,fe=class{constructor(){this.__definitions=new Map}define(e,t){if(this.__definitions.has(e))throw new Error(`Failed to execute 'define' on 'CustomElementRegistry': the name "${e}" has already been used with this registry`);this.__definitions.set(e,{ctor:t,observedAttributes:t.observedAttributes??[]})}get(e){return this.__definitions.get(e)?.ctor}},ve=new fe;typeof window>"u"&&(globalThis.Element=me,globalThis.HTMLElement=class extends pe{},globalThis.CustomElementRegistry=fe,globalThis.customElements=ve),Zone&&Zone.__load_patch("abortSignal_patchEventTarget",((e,t,i)=>{let n=e.EventTarget?.prototype,r=i.getGlobalObjects().ADD_EVENT_LISTENER_STR,s=i.symbol(r),o=i.symbol(`${r}__ig_patch`);n?.[s]&&(n[o]=n[r],n[r]=function(){return arguments[2]?.signal?n[s].apply(this,arguments):n[o].apply(this,arguments)})}));var ye=Object.defineProperty,xe=Object.defineProperties,we=Object.getOwnPropertyDescriptor,_e=Object.getOwnPropertyDescriptors,Ce=Object.getOwnPropertyNames,Se=Object.getOwnPropertySymbols,be=Object.getPrototypeOf,De=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable,Ee=Reflect.get,Te=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Re=e=>{throw TypeError(e)},Ae=(e,t,i)=>t in e?ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,ke=(e,t)=>{for(var i in t||={})De.call(t,i)&&Ae(e,i,t[i]);if(Se)for(var i of Se(t))Ie.call(t,i)&&Ae(e,i,t[i]);return e},Oe=(e,t)=>xe(e,_e(t)),Pe=(e,t)=>{var i={};for(var n in e)De.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&Se)for(var n of Se(e))t.indexOf(n)<0&&Ie.call(e,n)&&(i[n]=e[n]);return i},Fe=(e,t)=>{for(var i in t)ye(e,i,{get:t[i],enumerable:!0})},Ve=(e,t,i,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of Ce(t))!De.call(e,r)&&r!==i&&ye(e,r,{get:()=>t[r],enumerable:!(n=we(t,r))||n.enumerable});return e},Me=(e,t,i)=>(Ve(e,t,"default"),i&&Ve(i,t,"default")),Ne=(e,t,i)=>t.has(e)||Re("Cannot "+i),Le=(e,t,i)=>(Ne(e,t,"read from private field"),i?i.call(e):t.get(e)),He=(e,t,i)=>t.has(e)?Re("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i),ze=(e,t,i,n)=>(Ne(e,t,"write to private field"),n?n.call(e,i):t.set(e,i),i),Be=(e,t,i)=>Ee(be(e),i,t),Ge=(e,t,i)=>new Promise(((n,r)=>{var s=e=>{try{a(i.next(e))}catch(e){r(e)}},o=e=>{try{a(i.throw(e))}catch(e){r(e)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(s,o);a((i=i.apply(e,t)).next())})),$e=function(e,t){this[0]=e,this[1]=t};function We(e,t){return Object.is(e,t)}var Ke=null,je=!1,Ue=1,qe=Symbol("SIGNAL");function Ye(e){let t=Ke;return Ke=e,t}var Xe={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ze(e){if(je)throw new Error("");if(null===Ke)return;Ke.consumerOnSignalRead(e);let t=Ke.nextProducerIndex++;dt(Ke),t<Ke.producerNode.length&&Ke.producerNode[t]!==e&&lt(Ke)&&at(Ke.producerNode[t],Ke.producerIndexOfThis[t]),Ke.producerNode[t]!==e&&(Ke.producerNode[t]=e,Ke.producerIndexOfThis[t]=lt(Ke)?ot(e,Ke,t):0),Ke.producerLastReadVersion[t]=e.version}function Qe(e){if((!lt(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Ue)){if(!e.producerMustRecompute(e)&&!rt(e))return e.dirty=!1,void(e.lastCleanEpoch=Ue);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Ue}}function Je(e){if(void 0===e.liveConsumerNode)return;let t=je;je=!0;try{for(let t of e.liveConsumerNode)t.dirty||tt(t)}finally{je=t}}function et(){return!1!==Ke?.consumerAllowSignalWrites}function tt(e){e.dirty=!0,Je(e),e.consumerMarkedDirty?.(e)}function it(e){return e&&(e.nextProducerIndex=0),Ye(e)}function nt(e,t){if(Ye(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(lt(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)at(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function rt(e){dt(e);for(let t=0;t<e.producerNode.length;t++){let i=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==i.version||(Qe(i),n!==i.version))return!0}return!1}function st(e){if(dt(e),lt(e))for(let t=0;t<e.producerNode.length;t++)at(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ot(e,t,i){if(ct(e),0===e.liveConsumerNode.length&&ht(e))for(let t=0;t<e.producerNode.length;t++)e.producerIndexOfThis[t]=ot(e.producerNode[t],e,t);return e.liveConsumerIndexOfThis.push(i),e.liveConsumerNode.push(t)-1}function at(e,t){if(ct(e),1===e.liveConsumerNode.length&&ht(e))for(let t=0;t<e.producerNode.length;t++)at(e.producerNode[t],e.producerIndexOfThis[t]);let i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[t],n=e.liveConsumerNode[t];dt(n),n.producerIndexOfThis[i]=t}}function lt(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function dt(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function ct(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function ht(e){return void 0!==e.producerNode}var ut=Symbol("UNSET"),gt=Symbol("COMPUTING"),pt=Symbol("ERRORED"),mt=Oe(ke({},Xe),{value:ut,dirty:!0,error:null,equal:We,producerMustRecompute:e=>e.value===ut||e.value===gt,producerRecomputeValue(e){if(e.value===gt)throw new Error("Detected cycle in computations.");let t=e.value;e.value=gt;let i,n=it(e);try{i=e.computation()}catch(t){i=pt,e.error=t}finally{nt(e,n)}t!==ut&&t!==pt&&i!==pt&&e.equal(t,i)?e.value=t:(e.value=i,e.version++)}}),ft=function(){throw new Error};function vt(){ft()}var yt=null;function xt(e,t){et()||vt(),e.equal(e.value,t)||(e.value=t,function(e){e.version++,Ue++,Je(e),yt?.()}(e))}var wt=Oe(ke({},Xe),{equal:We,value:void 0});function _t(e){return"function"==typeof e}function Ct(e){let t=e((e=>{Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var St=Ct((e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map(((e,t)=>`${t+1}) ${e.toString()}`)).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t}));function bt(e,t){if(e){let i=e.indexOf(t);0<=i&&e.splice(i,1)}}var Dt=class e{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let e of t)e.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(_t(i))try{i()}catch(t){e=t instanceof St?t.errors:[t]}let{_finalizers:n}=this;if(n){this._finalizers=null;for(let t of n)try{Tt(t)}catch(t){e=e??[],t instanceof St?e=[...e,...t.errors]:e.push(t)}}if(e)throw new St(e)}}add(t){var i;if(t&&t!==this)if(this.closed)Tt(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(t)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&bt(t,e)}remove(t){let{_finalizers:i}=this;i&&bt(i,t),t instanceof e&&t._removeParent(this)}};Dt.EMPTY=(()=>{let e=new Dt;return e.closed=!0,e})();var It=Dt.EMPTY;function Et(e){return e instanceof Dt||e&&"closed"in e&&_t(e.remove)&&_t(e.add)&&_t(e.unsubscribe)}function Tt(e){_t(e)?e():e.unsubscribe()}var Rt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},At={setTimeout(e,t,...i){let{delegate:n}=At;return n?.setTimeout?n.setTimeout(e,t,...i):setTimeout(e,t,...i)},clearTimeout(e){let{delegate:t}=At;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function kt(e){At.setTimeout((()=>{let{onUnhandledError:t}=Rt;if(!t)throw e;t(e)}))}function Ot(){}var Pt=Ft("C",void 0,void 0);function Ft(e,t,i){return{kind:e,value:t,error:i}}var Vt=null;function Mt(e){if(Rt.useDeprecatedSynchronousErrorHandling){let t=!Vt;if(t&&(Vt={errorThrown:!1,error:null}),e(),t){let{errorThrown:e,error:t}=Vt;if(Vt=null,e)throw t}}else e()}var Nt=class extends Dt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Et(e)&&e.add(this)):this.destination=$t}static create(e,t,i){return new zt(e,t,i)}next(e){this.isStopped?Gt(Ft("N",e,void 0),this):this._next(e)}error(e){this.isStopped?Gt(Ft("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gt(Pt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Lt=Function.prototype.bind;function Ht(e,t){return Lt.call(e,t)}var zt=class extends Nt{constructor(e,t,i){let n;if(super(),_t(e)||!e)n={next:e??void 0,error:t??void 0,complete:i??void 0};else{let t;this&&Rt.useDeprecatedNextContext?(t=Object.create(e),t.unsubscribe=()=>this.unsubscribe(),n={next:e.next&&Ht(e.next,t),error:e.error&&Ht(e.error,t),complete:e.complete&&Ht(e.complete,t)}):n=e}this.destination=new class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(e){Bt(e)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(e){Bt(e)}else Bt(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(e){Bt(e)}}}(n)}};function Bt(e){Rt.useDeprecatedSynchronousErrorHandling?function(e){Rt.useDeprecatedSynchronousErrorHandling&&Vt&&(Vt.errorThrown=!0,Vt.error=e)}(e):kt(e)}function Gt(e,t){let{onStoppedNotification:i}=Rt;i&&At.setTimeout((()=>i(e,t)))}var $t={closed:!0,next:Ot,error:function(e){throw e},complete:Ot},Wt="function"==typeof Symbol&&Symbol.observable||"@@observable";function Kt(e){return e}function jt(e){return 0===e.length?Kt:1===e.length?e[0]:function(t){return e.reduce(((e,t)=>t(e)),t)}}var Ut=(()=>{class e{constructor(e){e&&(this._subscribe=e)}lift(t){let i=new e;return i.source=this,i.operator=t,i}subscribe(e,t,i){let n=function(e){return e&&e instanceof Nt||function(e){return e&&_t(e.next)&&_t(e.error)&&_t(e.complete)}(e)&&Et(e)}(e)?e:new zt(e,t,i);return Mt((()=>{let{operator:e,source:t}=this;n.add(e?e.call(n,t):t?this._subscribe(n):this._trySubscribe(n))})),n}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.error(t)}}forEach(e,t){return new(t=qt(t))(((t,i)=>{let n=new zt({next:t=>{try{e(t)}catch(e){i(e),n.unsubscribe()}},error:i,complete:t});this.subscribe(n)}))}_subscribe(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)}[Wt](){return this}pipe(...e){return jt(e)(this)}toPromise(e){return new(e=qt(e))(((e,t)=>{let i;this.subscribe((e=>i=e),(e=>t(e)),(()=>e(i)))}))}}return e.create=t=>new e(t),e})();function qt(e){var t;return null!==(t=e??Rt.Promise)&&void 0!==t?t:Promise}function Yt(e){return t=>{if(function(e){return _t(e?.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Xt(e,t,i,n,r){return new Zt(e,t,i,n,r)}var Zt=class extends Nt{constructor(e,t,i,n,r,s){super(e),this.onFinalize=r,this.shouldUnsubscribe=s,this._next=t?function(i){try{t(i)}catch(t){e.error(t)}}:super._next,this._error=n?function(t){try{n(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(t){e.error(t)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}},Qt={schedule(e){let t=requestAnimationFrame,i=cancelAnimationFrame,{delegate:n}=Qt;n&&(t=n.requestAnimationFrame,i=n.cancelAnimationFrame);let r=t((t=>{i=void 0,e(t)}));return new Dt((()=>i?.(r)))},requestAnimationFrame(...e){let{delegate:t}=Qt;return(t?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){let{delegate:t}=Qt;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0},Jt=Ct((e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"})),ei=(()=>{class e extends Ut{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let t=new ti(this,this);return t.operator=e,t}_throwIfClosed(){if(this.closed)throw new Jt}next(e){Mt((()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let t of this.currentObservers)t.next(e)}}))}error(e){Mt((()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:t}=this;for(;t.length;)t.shift().error(e)}}))}complete(){Mt((()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}}))}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:t,isStopped:i,observers:n}=this;return t||i?It:(this.currentObservers=null,n.push(e),new Dt((()=>{this.currentObservers=null,bt(n,e)})))}_checkFinalizedStatuses(e){let{hasError:t,thrownError:i,isStopped:n}=this;t?e.error(i):n&&e.complete()}asObservable(){let e=new Ut;return e.source=this,e}}return e.create=(e,t)=>new ti(e,t),e})(),ti=class extends ei{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:It}},ii=class extends ei{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}},ni={now:()=>(ni.delegate||Date).now(),delegate:void 0},ri=class extends ei{constructor(e=1/0,t=1/0,i=ni){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:i,_infiniteTimeWindow:n,_timestampProvider:r,_windowTime:s}=this;t||(i.push(e),!n&&i.push(r.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:n}=this,r=n.slice();for(let t=0;t<r.length&&!e.closed;t+=i?1:2)e.next(r[t]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:n}=this,r=(n?1:2)*e;if(e<1/0&&r<i.length&&i.splice(0,i.length-r),!n){let e=t.now(),n=0;for(let t=1;t<i.length&&i[t]<=e;t+=2)n=t;n&&i.splice(0,n+1)}}},si=class extends Dt{constructor(e,t){super()}schedule(e,t=0){return this}},oi={setInterval(e,t,...i){let{delegate:n}=oi;return n?.setInterval?n.setInterval(e,t,...i):setInterval(e,t,...i)},clearInterval(e){let{delegate:t}=oi;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},ai=class extends si{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,i=0){return oi.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&oi.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,n=!1;try{this.work(e)}catch(e){n=!0,i=e||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,bt(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}},li=class e{constructor(t,i=e.now){this.schedulerActionCtor=t,this.now=i}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};li.now=ni.now;var di=class extends li{constructor(e,t=li.now){super(e,t),this.actions=[],this._active=!1}flush(e){let t,{actions:i}=this;if(this._active)i.push(e);else{this._active=!0;do{if(t=e.execute(e.state,e.delay))break}while(e=i.shift());if(this._active=!1,t){for(;e=i.shift();)e.unsubscribe();throw t}}}},ci=new di(ai),hi=ci,ui=new class extends di{flush(e){this._active=!0;let t=this._scheduled;this._scheduled=void 0;let i,{actions:n}=this;e=e||n.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,i){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw i}}}(class extends ai{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Qt.requestAnimationFrame((()=>e.flush(void 0)))))}recycleAsyncId(e,t,i=0){var n;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);let{actions:r}=e;null!=t&&(null===(n=r[r.length-1])||void 0===n?void 0:n.id)!==t&&(Qt.cancelAnimationFrame(t),e._scheduled=void 0)}}),gi=new Ut((e=>e.complete()));function pi(e){return e&&_t(e.schedule)}function mi(e){return e[e.length-1]}function fi(e){return pi(mi(e))?e.pop():void 0}function vi(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o}function yi(e,t){return function(i,n){t(i,n,e)}}function xi(e){return this instanceof xi?(this.v=e,this):new xi(e)}function wi(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise((function(n,r){!function(e,t,i,n){Promise.resolve(n).then((function(t){e({value:t,done:i})}),t)}(n,r,(t=e[i](t)).done,t.value)}))}}}var _i=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Ci(e){return _t(e?.then)}function Si(e){return _t(e[Wt])}function bi(e){return Symbol.asyncIterator&&_t(e?.[Symbol.asyncIterator])}function Di(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}var Ii="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Ei(e){return _t(e?.[Ii])}function Ti(e){return function(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=i.apply(e,t||[]),s=[];return n={},o("next"),o("throw"),o("return",(function(e){return function(t){return Promise.resolve(t).then(e,d)}})),n[Symbol.asyncIterator]=function(){return this},n;function o(e,t){r[e]&&(n[e]=function(t){return new Promise((function(i,n){s.push([e,t,i,n])>1||a(e,t)}))},t&&(n[e]=t(n[e])))}function a(e,t){try{!function(e){e.value instanceof xi?Promise.resolve(e.value.v).then(l,d):c(s[0][2],e)}(r[e](t))}catch(e){c(s[0][3],e)}}function l(e){a("next",e)}function d(e){a("throw",e)}function c(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,(function*(){let t=e.getReader();try{for(;;){let{value:e,done:i}=yield xi(t.read());if(i)return yield xi(void 0);yield yield xi(e)}}finally{t.releaseLock()}}))}function Ri(e){return _t(e?.getReader)}function Ai(e){if(e instanceof Ut)return e;if(null!=e){if(Si(e))return function(e){return new Ut((t=>{let i=e[Wt]();if(_t(i.subscribe))return i.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}(e);if(_i(e))return function(e){return new Ut((t=>{for(let i=0;i<e.length&&!t.closed;i++)t.next(e[i]);t.complete()}))}(e);if(Ci(e))return function(e){return new Ut((t=>{e.then((e=>{t.closed||(t.next(e),t.complete())}),(e=>t.error(e))).then(null,kt)}))}(e);if(bi(e))return ki(e);if(Ei(e))return function(e){return new Ut((t=>{for(let i of e)if(t.next(i),t.closed)return;t.complete()}))}(e);if(Ri(e))return function(e){return ki(Ti(e))}(e)}throw Di(e)}function ki(e){return new Ut((t=>{(function(e,t){var i,n,r,s;return function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){try{for(i=wi(e);!(n=yield i.next()).done;){let e=n.value;if(t.next(e),t.closed)return}}catch(e){r={error:e}}finally{try{n&&!n.done&&(s=i.return)&&(yield s.call(i))}finally{if(r)throw r.error}}t.complete()}))})(e,t).catch((e=>t.error(e)))}))}function Oi(e,t,i,n=0,r=!1){let s=t.schedule((function(){i(),r?e.add(this.schedule(null,n)):this.unsubscribe()}),n);if(e.add(s),!r)return s}function Pi(e,t=0){return Yt(((i,n)=>{i.subscribe(Xt(n,(i=>Oi(n,e,(()=>n.next(i)),t)),(()=>Oi(n,e,(()=>n.complete()),t)),(i=>Oi(n,e,(()=>n.error(i)),t))))}))}function Fi(e,t=0){return Yt(((i,n)=>{n.add(e.schedule((()=>i.subscribe(n)),t))}))}function Vi(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ut((i=>{Oi(i,t,(()=>{let n=e[Symbol.asyncIterator]();Oi(i,t,(()=>{n.next().then((e=>{e.done?i.complete():i.next(e.value)}))}),0,!0)}))}))}function Mi(e,t){return t?function(e,t){if(null!=e){if(Si(e))return function(e,t){return Ai(e).pipe(Fi(t),Pi(t))}(e,t);if(_i(e))return function(e,t){return new Ut((i=>{let n=0;return t.schedule((function(){n===e.length?i.complete():(i.next(e[n++]),i.closed||this.schedule())}))}))}(e,t);if(Ci(e))return function(e,t){return Ai(e).pipe(Fi(t),Pi(t))}(e,t);if(bi(e))return Vi(e,t);if(Ei(e))return function(e,t){return new Ut((i=>{let n;return Oi(i,t,(()=>{n=e[Ii](),Oi(i,t,(()=>{let e,t;try{({value:e,done:t}=n.next())}catch(e){return void i.error(e)}t?i.complete():i.next(e)}),0,!0)})),()=>_t(n?.return)&&n.return()}))}(e,t);if(Ri(e))return function(e,t){return Vi(Ti(e),t)}(e,t)}throw Di(e)}(e,t):Ai(e)}var Ni=Ct((e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}));function Li(e){return e instanceof Date&&!isNaN(e)}var Hi=Ct((e=>function(t=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}));function zi(e){throw new Hi(e)}function Bi(e,t){return Yt(((i,n)=>{let r=0;i.subscribe(Xt(n,(i=>{n.next(e.call(t,i,r++))})))}))}var{isArray:Gi}=Array;function $i(e){return Bi((t=>function(e,t){return Gi(t)?e(...t):e(t)}(e,t)))}var{isArray:Wi}=Array,{getPrototypeOf:Ki,prototype:ji,keys:Ui}=Object;function qi(e,t){return e.reduce(((e,i,n)=>(e[i]=t[n],e)),{})}function Yi(e,t,i=1/0){return _t(t)?Yi(((i,n)=>Bi(((e,r)=>t(i,e,n,r)))(Ai(e(i,n)))),i):("number"==typeof t&&(i=t),Yt(((t,n)=>function(e,t,i,n,r,s,o,a){let l=[],d=0,c=0,h=!1,u=()=>{h&&!l.length&&!d&&t.complete()},g=e=>d<n?p(e):l.push(e),p=e=>{d++;let r=!1;Ai(i(e,c++)).subscribe(Xt(t,(e=>{t.next(e)}),(()=>{r=!0}),void 0,(()=>{if(r)try{for(d--;l.length&&d<n;){let e=l.shift();p(e)}u()}catch(e){t.error(e)}})))};return e.subscribe(Xt(t,g,(()=>{h=!0,u()}))),()=>{}}(t,n,e,i))))}function Xi(...e){let t=function(e){return _t(mi(e))?e.pop():void 0}(e),{args:i,keys:n}=function(e){if(1===e.length){let t=e[0];if(Wi(t))return{args:t,keys:null};if(function(e){return e&&"object"==typeof e&&Ki(e)===ji}(t)){let e=Ui(t);return{args:e.map((e=>t[e])),keys:e}}}return{args:e,keys:null}}(e),r=new Ut((e=>{let{length:t}=i;if(!t)return void e.complete();let r=new Array(t),s=t,o=t;for(let a=0;a<t;a++){let t=!1;Ai(i[a]).subscribe(Xt(e,(e=>{t||(t=!0,o--),r[a]=e}),(()=>s--),void 0,(()=>{(!s||!t)&&(o||e.next(n?qi(n,r):r),e.complete())})))}}));return t?r.pipe($i(t)):r}var Zi=["addListener","removeListener"],Qi=["addEventListener","removeEventListener"],Ji=["on","off"];function en(e,t,i,n){if(_t(i)&&(n=i,i=void 0),n)return en(e,t,i).pipe($i(n));let[r,s]=function(e){return _t(e.addEventListener)&&_t(e.removeEventListener)}(e)?Qi.map((n=>r=>e[n](t,r,i))):function(e){return _t(e.addListener)&&_t(e.removeListener)}(e)?Zi.map(tn(e,t)):function(e){return _t(e.on)&&_t(e.off)}(e)?Ji.map(tn(e,t)):[];if(!r&&_i(e))return Yi((e=>en(e,t,i)))(Ai(e));if(!r)throw new TypeError("Invalid event target");return new Ut((e=>{let t=(...t)=>e.next(1<t.length?t:t[0]);return r(t),()=>s(t)}))}function tn(e,t){return i=>n=>e[i](t,n)}function nn(e=0,t,i=hi){let n=-1;return null!=t&&(pi(t)?i=t:n=t),new Ut((t=>{let r=Li(e)?+e-i.now():e;r<0&&(r=0);let s=0;return i.schedule((function(){t.closed||(t.next(s++),0<=n?this.schedule(void 0,n):t.complete())}),r)}))}function rn(e=0,t=ci){return e<0&&(e=0),nn(e,e,t)}function sn(...e){let t=fi(e),i=function(e,t){return"number"==typeof mi(e)?e.pop():1/0}(e),n=e;return n.length?1===n.length?Ai(n[0]):function(e=1/0){return Yi(Kt,e)}(i)(Mi(n,t)):gi}function on(e,t){return Yt(((i,n)=>{let r=0;i.subscribe(Xt(n,(i=>e.call(t,i,r++)&&n.next(i))))}))}function an(e){return Yt(((t,i)=>{let n=!1,r=null,s=null,o=()=>{if(s?.unsubscribe(),s=null,n){n=!1;let e=r;r=null,i.next(e)}};t.subscribe(Xt(i,(t=>{s?.unsubscribe(),n=!0,r=t,s=Xt(i,o,Ot),Ai(e(t)).subscribe(s)}),(()=>{o(),i.complete()}),void 0,(()=>{r=s=null})))}))}function ln(e,t=ci){return Yt(((i,n)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let e=s;s=null,n.next(e)}};function l(){let i=o+e,s=t.now();if(s<i)return r=this.schedule(void 0,i-s),void n.add(r);a()}i.subscribe(Xt(n,(i=>{s=i,o=t.now(),r||(r=t.schedule(l,e),n.add(r))}),(()=>{a(),n.complete()}),void 0,(()=>{s=r=null})))}))}function dn(e){return e<=0?()=>gi:Yt(((t,i)=>{let n=0;t.subscribe(Xt(i,(t=>{++n<=e&&(i.next(t),e<=n&&i.complete())})))}))}function cn(e=hn){return Yt(((t,i)=>{let n=!1;t.subscribe(Xt(i,(e=>{n=!0,i.next(e)}),(()=>n?i.complete():i.error(e()))))}))}function hn(){return new Ni}function un(e,t){let i=arguments.length>=2;return n=>n.pipe(e?on(((t,i)=>e(t,i,n))):Kt,dn(1),i?function(e){return Yt(((t,i)=>{let n=!1;t.subscribe(Xt(i,(e=>{n=!0,i.next(e)}),(()=>{n||i.next(e),i.complete()})))}))}(t):cn((()=>new Ni)))}function gn(e,t,...i){if(!0===t)return void e();if(!1===t)return;let n=new zt({next:()=>{n.unsubscribe(),e()}});return Ai(t(...i)).subscribe(n)}function pn(e,t){return Yt(((i,n)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&n.complete();i.subscribe(Xt(n,(i=>{r?.unsubscribe();let o=0,l=s++;Ai(e(i,l)).subscribe(r=Xt(n,(e=>n.next(t?t(i,e,l,o++):e)),(()=>{r=null,a()})))}),(()=>{o=!0,a()})))}))}function mn(e){return Yt(((t,i)=>{Ai(e).subscribe(Xt(i,(()=>i.complete()),Ot)),!i.closed&&t.subscribe(i)}))}function fn(e,t=!1){return Yt(((i,n)=>{let r=0;i.subscribe(Xt(n,(i=>{let s=e(i,r++);(s||t)&&n.next(i),!s&&n.complete()})))}))}function vn(e,t){return Yt(((i,n)=>{let{leading:r=!0,trailing:s=!1}=t??{},o=!1,a=null,l=null,d=!1,c=()=>{l?.unsubscribe(),l=null,s&&(g(),d&&n.complete())},h=()=>{l=null,d&&n.complete()},u=t=>l=Ai(e(t)).subscribe(Xt(n,c,h)),g=()=>{if(o){o=!1;let e=a;a=null,n.next(e),!d&&u(e)}};i.subscribe(Xt(n,(e=>{o=!0,a=e,(!l||l.closed)&&(r?g():u(e))}),(()=>{d=!0,(!(s&&o&&l)||l.closed)&&n.complete()})))}))}function yn(e,t=ci,i){let n=nn(e,t);return vn((()=>n),i)}var xn="https://g.co/ng/security#xss",wn=class extends Error{constructor(e,t){super(function(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(e,t)),this.code=e}};function _n(e){return{toString:e}.toString()}var Cn="__parameters__";function Sn(e,t,i){return _n((()=>{let n=function(e){return function(...t){if(e){let i=e(...t);for(let e in i)this[e]=i[e]}}}(t);function r(...e){if(this instanceof r)return n.apply(this,e),this;let t=new r(...e);return i.annotation=t,i;function i(e,i,n){let r=e.hasOwnProperty(Cn)?e[Cn]:Object.defineProperty(e,Cn,{value:[]})[Cn];for(;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(t),e}}return i&&(r.prototype=Object.create(i.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r}))}var bn=globalThis;function Dn(e){for(let t in e)if(e[t]===Dn)return t;throw Error("Could not find renamed property on target object.")}function In(e,t){for(let i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function En(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(En).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(null==t)return""+t;let i=t.indexOf("\n");return-1===i?t:t.substring(0,i)}function Tn(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var Rn=Dn({__forward_ref__:Dn});function An(e){return e.__forward_ref__=An,e.toString=function(){return En(this())},e}function kn(e){return On(e)?e():e}function On(e){return"function"==typeof e&&e.hasOwnProperty(Rn)&&e.__forward_ref__===An}function Pn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Fn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Vn(e){return Mn(e,Ln)||Mn(e,zn)}function Mn(e,t){return e.hasOwnProperty(t)?e[t]:null}function Nn(e){return e&&(e.hasOwnProperty(Hn)||e.hasOwnProperty(Bn))?e[Hn]:null}var Ln=Dn({ɵprov:Dn}),Hn=Dn({ɵinj:Dn}),zn=Dn({ngInjectableDef:Dn}),Bn=Dn({ngInjectorDef:Dn}),Gn=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ɵprov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ɵprov=Pn({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function $n(e){return e&&!!e.ɵproviders}var Wn=Dn({ɵcmp:Dn}),Kn=Dn({ɵdir:Dn}),jn=Dn({ɵpipe:Dn}),Un=Dn({ɵmod:Dn}),qn=Dn({ɵfac:Dn}),Yn=Dn({__NG_ELEMENT_ID__:Dn}),Xn=Dn({__NG_ENV_ID__:Dn});function Zn(e){return"string"==typeof e?e:null==e?"":String(e)}function Qn(e,t){throw new wn(-201,!1)}var Jn,er,tr=((Jn=tr||{})[Jn.Default=0]="Default",Jn[Jn.Host=1]="Host",Jn[Jn.Self=2]="Self",Jn[Jn.SkipSelf=4]="SkipSelf",Jn[Jn.Optional=8]="Optional",Jn);function ir(){return er}function nr(e){let t=er;return er=e,t}function rr(e,t,i){let n=Vn(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:i&tr.Optional?null:void 0!==t?t:void Qn()}var sr,or={},ar="__NG_DI_FLAG__",lr="ngTempTokenPath",dr=/\n/gm,cr="__source";function hr(e){let t=sr;return sr=e,t}function ur(e,t=tr.Default){if(void 0===sr)throw new wn(-203,!1);return null===sr?rr(e,void 0,t):sr.get(e,t&tr.Optional?null:void 0,t)}function gr(e,t=tr.Default){return(ir()||ur)(kn(e),t)}function pr(e,t=tr.Default){return gr(e,mr(t))}function mr(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function fr(e){let t=[];for(let i=0;i<e.length;i++){let n=kn(e[i]);if(Array.isArray(n)){if(0===n.length)throw new wn(900,!1);let e,i=tr.Default;for(let t=0;t<n.length;t++){let r=n[t],s=yr(r);"number"==typeof s?-1===s?e=r.token:i|=s:e=r}t.push(gr(e,i))}else t.push(gr(n))}return t}function vr(e,t){return e[ar]=t,e.prototype[ar]=t,e}function yr(e){return e[ar]}var xr=vr(Sn("Optional"),8),wr=vr(Sn("SkipSelf"),4);function _r(e,t){return e.hasOwnProperty(qn)?e[qn]:null}function Cr(e,t){e.forEach((e=>Array.isArray(e)?Cr(e,t):t(e)))}function Sr(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function br(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Dr(e,t,i){let n=Er(e,t);return n>=0?e[1|n]=i:(n=~n,function(e,t,i,n){let r=e.length;if(r==t)e.push(i,n);else if(1===r)e.push(n,e[0]),e[0]=i;else{for(r--,e.push(e[r-1],e[r]);r>t;){let t=r-2;e[r]=e[t],r--}e[t]=i,e[t+1]=n}}(e,n,t,i)),n}function Ir(e,t){let i=Er(e,t);if(i>=0)return e[1|i]}function Er(e,t){return function(e,t,i){let n=0,r=e.length>>1;for(;r!==n;){let i=n+(r-n>>1),s=e[i<<1];if(t===s)return i<<1;s>t?r=i:n=i+1}return~(r<<1)}(e,t)}var Tr={},Rr=[],Ar=new Gn(""),kr=new Gn("",-1),Or=new Gn(""),Pr=class{get(e,t=or){if(t===or){let t=new Error(`NullInjectorError: No provider for ${En(e)}!`);throw t.name="NullInjectorError",t}return t}},Fr=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Fr||{}),Vr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Vr||{}),Mr=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Mr||{});function Nr(e,t,i){let n=e.length;for(;;){let r=e.indexOf(t,i);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){let i=t.length;if(r+i===n||e.charCodeAt(r+i)<=32)return r}i=r+1}}function Lr(e,t,i){let n=0;for(;n<i.length;){let r=i[n];if("number"==typeof r){if(0!==r)break;n++;let s=i[n++],o=i[n++],a=i[n++];e.setAttribute(t,o,a,s)}else{let s=r,o=i[++n];zr(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),n++}}return n}function Hr(e){return 3===e||4===e||6===e}function zr(e){return 64===e.charCodeAt(0)}function Br(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let i=-1;for(let n=0;n<t.length;n++){let r=t[n];"number"==typeof r?i=r:0===i||Gr(e,i,r,null,-1===i||2===i?t[++n]:null)}}return e}function Gr(e,t,i,n,r){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){let i=e[s++];if("number"==typeof i){if(i===t){o=-1;break}if(i>t){o=s-1;break}}}for(;s<e.length;){let t=e[s];if("number"==typeof t)break;if(t===i){if(null===n)return void(null!==r&&(e[s+1]=r));if(n===e[s+1])return void(e[s+2]=r)}s++,null!==n&&s++,null!==r&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,i),null!==n&&e.splice(s++,0,n),null!==r&&e.splice(s++,0,r)}var $r="ng-template";function Wr(e,t,i,n){let r=0;if(n){for(;r<t.length&&"string"==typeof t[r];r+=2)if("class"===t[r]&&-1!==Nr(t[r+1].toLowerCase(),i,0))return!0}else if(Kr(e))return!1;if(r=t.indexOf(1,r),r>-1){let e;for(;++r<t.length&&"string"==typeof(e=t[r]);)if(e.toLowerCase()===i)return!0}return!1}function Kr(e){return 4===e.type&&e.value!==$r}function jr(e,t,i){return t===(4!==e.type||i?e.value:$r)}function Ur(e,t,i){let n=4,r=e.attrs,s=null!==r?function(e){for(let t=0;t<e.length;t++)if(Hr(e[t]))return t;return e.length}(r):0,o=!1;for(let a=0;a<t.length;a++){let l=t[a];if("number"!=typeof l){if(!o)if(4&n){if(n=2|1&n,""!==l&&!jr(e,l,i)||""===l&&1===t.length){if(qr(n))return!1;o=!0}}else if(8&n){if(null===r||!Wr(e,r,l,i)){if(qr(n))return!1;o=!0}}else{let d=t[++a],c=Yr(l,r,Kr(e),i);if(-1===c){if(qr(n))return!1;o=!0;continue}if(""!==d){let e;if(e=c>s?"":r[c+1].toLowerCase(),2&n&&d!==e){if(qr(n))return!1;o=!0}}}}else{if(!o&&!qr(n)&&!qr(l))return!1;if(o&&qr(l))continue;o=!1,n=l|1&n}}return qr(n)||o}function qr(e){return 0==(1&e)}function Yr(e,t,i,n){if(null===t)return-1;let r=0;if(n||!i){let i=!1;for(;r<t.length;){let n=t[r];if(n===e)return r;if(3===n||6===n)i=!0;else{if(1===n||2===n){let e=t[++r];for(;"string"==typeof e;)e=t[++r];continue}if(4===n)break;if(0===n){r+=4;continue}}r+=i?1:2}return-1}return function(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){let n=e[i];if("number"==typeof n)return-1;if(n===t)return i;i++}return-1}(t,e)}function Xr(e,t,i=!1){for(let n=0;n<t.length;n++)if(Ur(e,t[n],i))return!0;return!1}function Zr(e,t){e:for(let i=0;i<t.length;i++){let n=t[i];if(e.length===n.length){for(let t=0;t<e.length;t++)if(e[t]!==n[t])continue e;return!0}}return!1}function Qr(e,t){return e?":not("+t.trim()+")":t}function Jr(e){let t=e[0],i=1,n=2,r="",s=!1;for(;i<e.length;){let o=e[i];if("string"==typeof o)if(2&n){let t=e[++i];r+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&n?r+="."+o:4&n&&(r+=" "+o);else""!==r&&!qr(o)&&(t+=Qr(s,r),r=""),n=o,s=s||!qr(n);i++}return""!==r&&(t+=Qr(s,r)),t}function es(e){return _n((()=>{let t=cs(e),i=Oe(ke({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Fr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Vr.Emulated,styles:e.styles||Rr,_:null,schemas:e.schemas||null,tView:null,id:""});hs(i);let n=e.dependencies;return i.directiveDefs=us(n,!1),i.pipeDefs=us(n,!0),i.id=function(e){let t=0,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let e of i)t=Math.imul(31,t)+e.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(i),i}))}function ts(e){return as(e)||ls(e)}function is(e){return null!==e}function ns(e){return _n((()=>({type:e.type,bootstrap:e.bootstrap||Rr,declarations:e.declarations||Rr,imports:e.imports||Rr,exports:e.exports||Rr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null})))}function rs(e,t){if(null==e)return Tr;let i={};for(let n in e)if(e.hasOwnProperty(n)){let r,s,o=e[n],a=Mr.None;Array.isArray(o)?(a=o[0],r=o[1],s=o[2]??r):(r=o,s=o),t?(i[r]=a!==Mr.None?[n,a]:n,t[r]=s):i[r]=n}return i}function ss(e){return _n((()=>{let t=cs(e);return hs(t),t}))}function os(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function as(e){return e[Wn]||null}function ls(e){return e[Kn]||null}function ds(e){return e[jn]||null}function cs(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Tr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Rr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rs(e.inputs,t),outputs:rs(e.outputs),debugInfo:null}}function hs(e){e.features?.forEach((t=>t(e)))}function us(e,t){if(!e)return null;let i=t?ds:ts;return()=>("function"==typeof e?e():e).map((e=>i(e))).filter(is)}function gs(...e){return{ɵproviders:ps(0,e),ɵfromNgModule:!0}}function ps(e,...t){let i,n=[],r=new Set,s=e=>{n.push(e)};return Cr(t,(e=>{let t=e;fs(t,s,[],r)&&(i||=[],i.push(t))})),void 0!==i&&ms(i,s),n}function ms(e,t){for(let i=0;i<e.length;i++){let{ngModule:n,providers:r}=e[i];vs(r,(e=>{t(e,n)}))}}function fs(e,t,i,n){if(!(e=kn(e)))return!1;let r=null,s=Nn(e),o=!s&&as(e);if(s||o){if(o&&!o.standalone)return!1;r=e}else{let t=e.ngModule;if(s=Nn(t),!s)return!1;r=t}let a=n.has(r);if(o){if(a)return!1;if(n.add(r),o.dependencies){let e="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(let r of e)fs(r,t,i,n)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let e;n.add(r);try{Cr(s.imports,(r=>{fs(r,t,i,n)&&(e||=[],e.push(r))}))}finally{}void 0!==e&&ms(e,t)}if(!a){let e=_r(r)||(()=>new r);t({provide:r,useFactory:e,deps:Rr},r),t({provide:Or,useValue:r,multi:!0},r),t({provide:Ar,useValue:()=>gr(r),multi:!0},r)}let o=s.providers;if(null!=o&&!a){let i=e;vs(o,(e=>{t(e,i)}))}}}return r!==e&&void 0!==e.providers}function vs(e,t){for(let i of e)$n(i)&&(i=i.ɵproviders),Array.isArray(i)?vs(i,t):t(i)}var ys=Dn({provide:String,useValue:Dn});function xs(e){return null!==e&&"object"==typeof e&&ys in e}function ws(e){return"function"==typeof e}var _s,Cs=new Gn(""),Ss={},bs={};function Ds(){return void 0===_s&&(_s=new Pr),_s}var Is=class{},Es=class extends Is{get destroyed(){return this._destroyed}constructor(e,t,i,n){super(),this.parent=t,this.source=i,this.scopes=n,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ks(e,(e=>this.processProvider(e))),this.records.set(kr,As(void 0,this)),n.has("environment")&&this.records.set(Is,As(void 0,this));let r=this.records.get(Cs);null!=r&&"string"==typeof r.value&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(Or,Rr,tr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ye(null);try{for(let e of this._ngOnDestroyHooks)e.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=hr(this),i=nr(void 0);try{return e()}finally{hr(t),nr(i)}}get(e,t=or,i=tr.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Xn))return e[Xn](this);i=mr(i);let n=hr(this),r=nr(void 0);try{if(!(i&tr.SkipSelf)){let t=this.records.get(e);if(void 0===t){let i=function(e){return"function"==typeof e||"object"==typeof e&&e instanceof Gn}(e)&&Vn(e);t=i&&this.injectableDefInScope(i)?As(Ts(e),Ss):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}let n=i&tr.Self?Ds():this.parent;return t=i&tr.Optional&&t===or?null:t,n.get(e,t)}catch(t){if("NullInjectorError"===t.name){if((t[lr]=t[lr]||[]).unshift(En(e)),n)throw t;return function(e,t,i,n){let r=e[lr];throw t[cr]&&r.unshift(t[cr]),e.message=function(e,t,i,n=null){e=e&&"\n"===e.charAt(0)&&"ɵ"==e.charAt(1)?e.slice(2):e;let r=En(t);if(Array.isArray(t))r=t.map(En).join(" -> ");else if("object"==typeof t){let e=[];for(let i in t)if(t.hasOwnProperty(i)){let n=t[i];e.push(i+":"+("string"==typeof n?JSON.stringify(n):En(n)))}r=`{${e.join(", ")}}`}return`${i}${n?"("+n+")":""}[${r}]: ${e.replace(dr,"\n  ")}`}("\n"+e.message,r,i,n),e.ngTokenPath=r,e[lr]=null,e}(t,e,"R3InjectorError",this.source)}throw t}finally{nr(r),hr(n)}}resolveInjectorInitializers(){let e=Ye(null),t=hr(this),i=nr(void 0);try{let e=this.get(Ar,Rr,tr.Self);for(let t of e)t()}finally{hr(t),nr(i),Ye(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(En(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new wn(205,!1)}processProvider(e){let t=ws(e=kn(e))?e:kn(e&&e.provide),i=function(e){return xs(e)?As(void 0,e.useValue):As(Rs(e),Ss)}(e);if(!ws(e)&&!0===e.multi){let i=this.records.get(t);i||(i=As(void 0,Ss,!0),i.factory=()=>fr(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=Ye(null);try{return t.value===Ss&&(t.value=bs,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ye(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=kn(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}};function Ts(e){let t=Vn(e),i=null!==t?t.factory:_r(e);if(null!==i)return i;if(e instanceof Gn)throw new wn(204,!1);if(e instanceof Function)return function(e){if(e.length>0)throw new wn(204,!1);let t=function(e){return e&&(e[Ln]||e[zn])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new wn(204,!1)}function Rs(e,t,i){let n;if(ws(e)){let t=kn(e);return _r(t)||Ts(t)}if(xs(e))n=()=>kn(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...fr(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))n=()=>gr(kn(e.useExisting));else{let t=kn(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return _r(t)||Ts(t);n=()=>new t(...fr(e.deps))}return n}function As(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function ks(e,t){for(let i of e)Array.isArray(i)?ks(i,t):i&&$n(i)?ks(i.ɵproviders,t):t(i)}var Os=0,Ps=1,Fs=2,Vs=3,Ms=4,Ns=5,Ls=6,Hs=7,zs=8,Bs=9,Gs=10,$s=11,Ws=12,Ks=13,js=14,Us=15,qs=16,Ys=17,Xs=18,Zs=19,Qs=20,Js=21,eo=22,to=23,io=25,no=1,ro=7,so=9,oo=10,ao=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(ao||{});function lo(e){return Array.isArray(e)&&"object"==typeof e[no]}function co(e){return Array.isArray(e)&&!0===e[no]}function ho(e){return 0!=(4&e.flags)}function uo(e){return e.componentOffset>-1}function go(e){return 1==(1&e.flags)}function po(e){return!!e.template}function mo(e){return 0!=(512&e[Fs])}var fo=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function vo(e,t,i,n){null!==t?t.applyValueToInputSignal(t,n):e[i]=n}function yo(){return xo}function xo(e){return e.type.prototype.ngOnChanges&&(e.setInput=_o),wo}function wo(){let e=So(this),t=e?.current;if(t){let i=e.previous;if(i===Tr)e.previous=t;else for(let e in t)i[e]=t[e];e.current=null,this.ngOnChanges(t)}}function _o(e,t,i,n,r){let s=this.declaredInputs[n],o=So(e)||function(e,t){return e[Co]=t}(e,{previous:Tr,current:null}),a=o.current||(o.current={}),l=o.previous,d=l[s];a[s]=new fo(d&&d.currentValue,i,l===Tr),vo(e,t,r,i)}yo.ngInherit=!0;var Co="__ngSimpleChanges__";function So(e){return e[Co]||null}var bo=function(e,t,i){},Do="svg";function Io(e){for(;Array.isArray(e);)e=e[Os];return e}function Eo(e,t){return Io(t[e])}function To(e,t){return Io(t[e.index])}function Ro(e,t){return e.data[t]}function Ao(e,t){return e[t]}function ko(e,t){let i=t[e];return lo(i)?i:i[Os]}function Oo(e){return 128==(128&e[Fs])}function Po(e,t){return null==t?null:e[t]}function Fo(e){e[Ys]=0}function Vo(e){1024&e[Fs]||(e[Fs]|=1024,Oo(e)&&Lo(e))}function Mo(e){return!!(9216&e[Fs]||e[to]?.dirty)}function No(e){e[Gs].changeDetectionScheduler?.notify(8),64&e[Fs]&&(e[Fs]|=1024),Mo(e)&&Lo(e)}function Lo(e){e[Gs].changeDetectionScheduler?.notify(0);let t=zo(e);for(;null!==t&&!(8192&t[Fs])&&(t[Fs]|=8192,Oo(t));)t=zo(t)}function Ho(e,t){if(256==(256&e[Fs]))throw new wn(911,!1);null===e[Js]&&(e[Js]=[]),e[Js].push(t)}function zo(e){let t=e[Vs];return co(t)?t[Vs]:t}var Bo={lFrame:ga(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Go=!1;function $o(){return Bo.bindingsEnabled}function Wo(){return null!==Bo.skipHydrationRootTNode}function Ko(){return Bo.lFrame.lView}function jo(){return Bo.lFrame.tView}function Uo(e){return Bo.lFrame.contextLView=e,e[zs]}function qo(e){return Bo.lFrame.contextLView=null,e}function Yo(){let e=Xo();for(;null!==e&&64===e.type;)e=e.parent;return e}function Xo(){return Bo.lFrame.currentTNode}function Zo(e,t){let i=Bo.lFrame;i.currentTNode=e,i.isParent=t}function Qo(){return Bo.lFrame.isParent}function Jo(){Bo.lFrame.isParent=!1}function ea(){return Go}function ta(e){Go=e}function ia(){let e=Bo.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function na(){return Bo.lFrame.bindingIndex++}function ra(e){let t=Bo.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function sa(e,t){let i=Bo.lFrame;i.bindingIndex=i.bindingRootIndex=e,oa(t)}function oa(e){Bo.lFrame.currentDirectiveIndex=e}function aa(){return Bo.lFrame.currentQueryIndex}function la(e){Bo.lFrame.currentQueryIndex=e}function da(e){let t=e[Ps];return 2===t.type?t.declTNode:1===t.type?e[Ns]:null}function ca(e,t,i){if(i&tr.SkipSelf){let n=t,r=e;for(;!(n=n.parent,null!==n||i&tr.Host||(n=da(r),null===n||(r=r[js],10&n.type))););if(null===n)return!1;t=n,e=r}let n=Bo.lFrame=ua();return n.currentTNode=t,n.lView=e,!0}function ha(e){let t=ua(),i=e[Ps];Bo.lFrame=t,t.currentTNode=i.firstChild,t.lView=e,t.tView=i,t.contextLView=e,t.bindingIndex=i.bindingStartIndex,t.inI18n=!1}function ua(){let e=Bo.lFrame,t=null===e?null:e.child;return null===t?ga(e):t}function ga(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function pa(){let e=Bo.lFrame;return Bo.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var ma=pa;function fa(){let e=pa();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function va(){return Bo.lFrame.selectedIndex}function ya(e){Bo.lFrame.selectedIndex=e}function xa(){let e=Bo.lFrame;return Ro(e.tView,e.selectedIndex)}function wa(){Bo.lFrame.currentNamespace=Do}var _a=!0;function Ca(){return _a}function Sa(e){_a=e}function ba(e,t){for(let i=t.directiveStart,n=t.directiveEnd;i<n;i++){let t=e.data[i].type.prototype,{ngAfterContentInit:n,ngAfterContentChecked:r,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;n&&(e.contentHooks??=[]).push(-i,n),r&&((e.contentHooks??=[]).push(i,r),(e.contentCheckHooks??=[]).push(i,r)),s&&(e.viewHooks??=[]).push(-i,s),o&&((e.viewHooks??=[]).push(i,o),(e.viewCheckHooks??=[]).push(i,o)),null!=a&&(e.destroyHooks??=[]).push(i,a)}}function Da(e,t,i){Ta(e,t,3,i)}function Ia(e,t,i,n){(3&e[Fs])===i&&Ta(e,t,i,n)}function Ea(e,t){let i=e[Fs];(3&i)===t&&(i&=16383,i+=1,e[Fs]=i)}function Ta(e,t,i,n){let r=void 0!==n?65535&e[Ys]:0,s=n??-1,o=t.length-1,a=0;for(let l=r;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=n&&a>=n)break}else t[l]<0&&(e[Ys]+=65536),(a<s||-1==s)&&(Aa(e,i,t,l),e[Ys]=(4294901760&e[Ys])+l+2),l++}function Ra(e,t){bo(4,e,t);let i=Ye(null);try{t.call(e)}finally{Ye(i),bo(5,e,t)}}function Aa(e,t,i,n){let r=i[n]<0,s=i[n+1],o=e[r?-i[n]:i[n]];r?e[Fs]>>14<e[Ys]>>16&&(3&e[Fs])===t&&(e[Fs]+=16384,Ra(o,s)):Ra(o,s)}var ka=-1,Oa=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}},Pa={};function Fa(e){return e!==ka}function Va(e){return 32767&e}function Ma(e,t){let i=function(e){return e>>16}(e),n=t;for(;i>0;)n=n[js],i--;return n}var Na=!0;function La(e){let t=Na;return Na=e,t}var Ha=255,za=5,Ba=0,Ga={};function $a(e,t){let i=Ka(e,t);if(-1!==i)return i;let n=t[Ps];n.firstCreatePass&&(e.injectorIndex=t.length,Wa(n.data,e),Wa(t,null),Wa(n.blueprint,null));let r=ja(e,t),s=e.injectorIndex;if(Fa(r)){let e=Va(r),i=Ma(r,t),n=i[Ps].data;for(let r=0;r<8;r++)t[s+r]=i[e+r]|n[e+r]}return t[s+8]=r,s}function Wa(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ka(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ja(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,n=null,r=t;for(;null!==r;){if(n=al(r),null===n)return ka;if(i++,r=r[js],-1!==n.injectorIndex)return n.injectorIndex|i<<16}return ka}function Ua(e,t,i){!function(e,t,i){let n;"string"==typeof i?n=i.charCodeAt(0)||0:i.hasOwnProperty(Yn)&&(n=i[Yn]),null==n&&(n=i[Yn]=Ba++);let r=n&Ha,s=1<<r;t.data[e+(r>>za)]|=s}(e,t,i)}function qa(e,t,i){if(i&tr.Optional||void 0!==e)return e;Qn()}function Ya(e,t,i,n){if(i&tr.Optional&&void 0===n&&(n=null),!(i&(tr.Self|tr.Host))){let r=e[Bs],s=nr(void 0);try{return r?r.get(t,n,i&tr.Optional):rr(t,n,i&tr.Optional)}finally{nr(s)}}return qa(n,0,i)}function Xa(e,t,i,n=tr.Default,r){if(null!==e){if(2048&t[Fs]&&!(n&tr.Self)){let r=function(e,t,i,n,r){let s=e,o=t;for(;null!==s&&null!==o&&2048&o[Fs]&&!(512&o[Fs]);){let e=Za(s,o,i,n|tr.Self,Ga);if(e!==Ga)return e;let t=s.parent;if(!t){let e=o[Qs];if(e){let t=e.get(i,Ga,n);if(t!==Ga)return t}t=al(o),o=o[js]}s=t}return r}(e,t,i,n,Ga);if(r!==Ga)return r}let r=Za(e,t,i,n,Ga);if(r!==Ga)return r}return Ya(t,i,n,r)}function Za(e,t,i,n,r){let s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Yn)?e[Yn]:void 0;return"number"==typeof t?t>=0?t&Ha:rl:t}(i);if("function"==typeof s){if(!ca(t,e,n))return n&tr.Host?qa(r,0,n):Ya(t,i,n,r);try{let e;if(e=s(n),null!=e||n&tr.Optional)return e;Qn()}finally{ma()}}else if("number"==typeof s){let r=null,o=Ka(e,t),a=ka,l=n&tr.Host?t[Us][Ns]:null;for((-1===o||n&tr.SkipSelf)&&(a=-1===o?ja(e,t):t[o+8],a!==ka&&il(n,!1)?(r=t[Ps],o=Va(a),t=Ma(a,t)):o=-1);-1!==o;){let e=t[Ps];if(tl(s,o,e.data)){let e=Qa(o,t,i,r,n,l);if(e!==Ga)return e}a=t[o+8],a!==ka&&il(n,t[Ps].data[o+8]===l)&&tl(s,o,t)?(r=e,o=Va(a),t=Ma(a,t)):o=-1}}return r}function Qa(e,t,i,n,r,s){let o=t[Ps],a=o.data[e+8],l=Ja(a,o,i,null==n?uo(a)&&Na:n!=o&&0!=(3&a.type),r&tr.Host&&s===a);return null!==l?el(t,o,l,a):Ga}function Ja(e,t,i,n,r){let s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,d=e.directiveEnd,c=s>>20,h=r?a+c:d;for(let e=n?a:a+c;e<h;e++){let t=o[e];if(e<l&&i===t||e>=l&&t.type===i)return e}if(r){let e=o[l];if(e&&po(e)&&e.type===i)return l}return null}function el(e,t,i,n){let r=e[i],s=t.data;if(function(e){return e instanceof Oa}(r)){let o=r;o.resolving&&function(e,t){throw new wn(-200,e)}(function(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Zn(e)}(s[i]));let a=La(o.canSeeViewProviders);o.resolving=!0;let l=o.injectImpl?nr(o.injectImpl):null;ca(e,n,tr.Default);try{r=e[i]=o.factory(void 0,s,e,n),t.firstCreatePass&&i>=n.directiveStart&&function(e,t,i){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(n){let n=xo(t);(i.preOrderHooks??=[]).push(e,n),(i.preOrderCheckHooks??=[]).push(e,n)}r&&(i.preOrderHooks??=[]).push(0-e,r),s&&((i.preOrderHooks??=[]).push(e,s),(i.preOrderCheckHooks??=[]).push(e,s))}(i,s[i],t)}finally{null!==l&&nr(l),La(a),o.resolving=!1,ma()}}return r}function tl(e,t,i){let n=1<<e;return!!(i[t+(e>>za)]&n)}function il(e,t){return!(e&tr.Self||e&tr.Host&&t)}var nl=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Xa(this._tNode,this._lView,e,mr(i),t)}};function rl(){return new nl(Yo(),Ko())}function sl(e){return _n((()=>{let t=e.prototype.constructor,i=t[qn]||ol(t),n=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==n;){let e=r[qn]||ol(r);if(e&&e!==i)return e;r=Object.getPrototypeOf(r)}return e=>new e}))}function ol(e){return On(e)?()=>{let t=ol(kn(e));return t&&t()}:_r(e)}function al(e){let t=e[Ps],i=t.type;return 2===i?t.declTNode:1===i?e[Ns]:null}function ll(e,t=null,i=null,n){let r=dl(e,t,i,n);return r.resolveInjectorInitializers(),r}function dl(e,t=null,i=null,n,r=new Set){let s=[i||Rr,gs(e)];return n=n||("object"==typeof e?void 0:En(e)),new Es(s,t||Ds(),n||null,r)}var cl=class{static create(e,t){if(Array.isArray(e))return ll({name:""},t,e,"");{let t=e.name??"";return ll({name:t},e.parent,e.providers,t)}}};cl.THROW_IF_NOT_FOUND=or,cl.NULL=new Pr,cl.ɵprov=Pn({token:cl,providedIn:"any",factory:()=>gr(kr)}),cl.__NG_ELEMENT_ID__=-1;var hl=cl;function ul(e){return e.ngOriginalError}new Gn("").__NG_ELEMENT_ID__=e=>{let t=Yo();if(null===t)throw new wn(204,!1);if(2&t.type)return t.value;if(e&tr.Optional)return null;throw new wn(204,!1)};var gl=!0,pl=(()=>{let e=class{};return e.__NG_ELEMENT_ID__=fl,e.__NG_ENV_ID__=e=>e,e})(),ml=class extends pl{constructor(e){super(),this._lView=e}onDestroy(e){return Ho(this._lView,e),()=>function(e,t){if(null===e[Js])return;let i=e[Js].indexOf(t);-1!==i&&e[Js].splice(i,1)}(this._lView,e)}};function fl(){return new ml(Ko())}var vl=(()=>{let e=class{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ii(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};return e.ɵprov=Pn({token:e,providedIn:"root",factory:()=>new e}),e})(),yl=class extends ei{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,(void 0!==ir()||null!=sr)&&(this.destroyRef=pr(pl,{optional:!0})??void 0,this.pendingTasks=pr(vl,{optional:!0})??void 0)}emit(e){let t=Ye(null);try{super.next(e)}finally{Ye(t)}}subscribe(e,t,i){let n=e,r=t||(()=>null),s=i;if(e&&"object"==typeof e){let t=e;n=t.next?.bind(t),r=t.error?.bind(t),s=t.complete?.bind(t)}this.__isAsync&&(r=this.wrapInTimeout(r),n&&(n=this.wrapInTimeout(n)),s&&(s=this.wrapInTimeout(s)));let o=super.subscribe({next:n,error:r,complete:s});return e instanceof Dt&&e.add(o),o}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout((()=>{e(t),void 0!==i&&this.pendingTasks?.remove(i)}))}}};function xl(...e){}function wl(e){let t,i;function n(){e=xl;try{void 0!==i&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(i),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout((()=>{e(),n()})),"function"==typeof requestAnimationFrame&&(i=requestAnimationFrame((()=>{e(),n()}))),()=>n()}function _l(e){return queueMicrotask((()=>e())),()=>{e=xl}}var Cl="isAngularZone",Sl=Cl+"_ID",bl=0,Dl=class e{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yl(!1),this.onMicrotaskEmpty=new yl(!1),this.onStable=new yl(!1),this.onError=new yl(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:n=!1,scheduleInRootZone:r=gl}=e;if(typeof Zone>"u")throw new wn(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!n&&i,s.shouldCoalesceRunChangeDetection=n,s.callbackScheduled=!1,s.scheduleInRootZone=r,function(e){let t=()=>{!function(e){function t(){wl((()=>{e.callbackScheduled=!1,Tl(e),e.isCheckStableRunning=!0,El(e),e.isCheckStableRunning=!1}))}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run((()=>{t()})):e._outer.run((()=>{t()})),Tl(e))}(e)},i=bl++;e._inner=e._inner.fork({name:"angular",properties:{[Cl]:!0,[Sl]:i,[Sl+i]:!0},onInvokeTask:(i,n,r,s,o,a)=>{if(function(e){return Ol(e,"__ignore_ng_zone__")}(a))return i.invokeTask(r,s,o,a);try{return Rl(e),i.invokeTask(r,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),Al(e)}},onInvoke:(i,n,r,s,o,a,l)=>{try{return Rl(e),i.invoke(r,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function(e){return Ol(e,"__scheduler_tick__")}(a)&&t(),Al(e)}},onHasTask:(t,i,n,r)=>{t.hasTask(n,r),i===n&&("microTask"==r.change?(e._hasPendingMicrotasks=r.microTask,Tl(e),El(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,i,n,r)=>(t.handleError(n,r),e.runOutsideAngular((()=>e.onError.emit(r))),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Cl)}static assertInAngularZone(){if(!e.isInAngularZone())throw new wn(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new wn(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,n){let r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+n,e,Il,xl,xl);try{return r.runTask(s,t,i)}finally{r.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},Il={};function El(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((()=>e.onStable.emit(null)))}finally{e.isStable=!0}}}function Tl(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Rl(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Al(e){e._nesting--,El(e)}var kl=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yl,this.onMicrotaskEmpty=new yl,this.onStable=new yl,this.onError=new yl}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,n){return e.apply(t,i)}};function Ol(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}var Pl=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ul(e);for(;t&&ul(t);)t=ul(t);return t||null}},Fl=new Gn("",{providedIn:"root",factory:()=>{let e=pr(Dl),t=pr(Pl);return i=>e.runOutsideAngular((()=>t.handleError(i)))}});function Vl(){return Ml(Yo(),Ko())}function Ml(e,t){return new Nl(To(e,t))}var Nl=(()=>{let e=class{constructor(e){this.nativeElement=e}};return e.__NG_ELEMENT_ID__=Vl,e})();function Ll(e){return e instanceof Nl?e.nativeElement:e}function Hl(){return this._results[Symbol.iterator]()}var zl=class e{get changes(){return this._changes??=new yl}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let i=e.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=Hl)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=function(e){return e.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function(e,t,i){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],s=t[n];if(i&&(r=i(r),s=i(s)),s!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}};function Bl(e){return 128==(128&e.flags)}var Gl=new Map,$l=0;function Wl(e){Gl.delete(e[Zs])}var Kl,jl="__ngContext__";function Ul(e,t){lo(t)?(e[jl]=t[Zs],function(e){Gl.set(e[Zs],e)}(t)):e[jl]=t}function ql(e){return Xl(e[Ws])}function Yl(e){return Xl(e[Ms])}function Xl(e){for(;null!==e&&!co(e);)e=e[Ms];return e}function Zl(){if(void 0!==Kl)return Kl;if(typeof document<"u")return document;throw new wn(210,!1)}var Ql=new Gn("",{providedIn:"root",factory:()=>Jl}),Jl="ng",ed=new Gn(""),td=new Gn("",{providedIn:"platform",factory:()=>"unknown"}),id=new Gn(""),nd=new Gn("",{providedIn:"root",factory:()=>Zl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),rd=()=>null;function sd(e,t,i=!1){return rd(e,t,i)}var od,ad,ld=new Gn("",{providedIn:"root",factory:()=>!1});function dd(e){return function(){if(void 0===od&&(od=null,bn.trustedTypes))try{od=bn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return od}()?.createHTML(e)||e}function cd(e){return function(){if(void 0===ad&&(ad=null,bn.trustedTypes))try{ad=bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ad}()?.createHTML(e)||e}var hd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xn})`}},ud=class extends hd{getTypeName(){return"HTML"}},gd=class extends hd{getTypeName(){return"Style"}},pd=class extends hd{getTypeName(){return"Script"}},md=class extends hd{getTypeName(){return"URL"}},fd=class extends hd{getTypeName(){return"ResourceURL"}};function vd(e){return e instanceof hd?e.changingThisBreaksApplicationSecurity:e}function yd(e,t){let i=function(e){return e instanceof hd&&e.getTypeName()||null}(e);if(null!=i&&i!==t){if("ResourceURL"===i&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${i} (see ${xn})`)}return i===t}var xd=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=(new window.DOMParser).parseFromString(dd(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},wd=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=dd(e),t}},_d=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Cd(e){return(e=String(e)).match(_d)?e:"unsafe:"+e}function Sd(e){let t={};for(let i of e.split(","))t[i]=!0;return t}function bd(...e){let t={};for(let i of e)for(let e in i)i.hasOwnProperty(e)&&(t[e]=!0);return t}var Dd=Sd("area,br,col,hr,img,wbr"),Id=Sd("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ed=Sd("rp,rt"),Td=bd(Ed,Id),Rd=bd(Id,Sd("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ad=bd(Ed,Sd("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),kd=bd(Dd,Rd,Ad,Td),Od=Sd("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Pd=Sd("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fd=Sd("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Vd=bd(Od,Pd,Fd),Md=Sd("script,style,template"),Nd=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0,n=[];for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)n.push(t),t=Hd(t);else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=Ld(t);if(e){t=e;break}t=n.pop()}return this.buf.join("")}startElement(e){let t=zd(e).toLowerCase();if(!kd.hasOwnProperty(t))return this.sanitizedSomething=!0,!Md.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let e=0;e<i.length;e++){let t=i.item(e),n=t.name,r=n.toLowerCase();if(!Vd.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let s=t.value;Od[r]&&(s=Cd(s)),this.buf.push(" ",n,'="',Kd(s),'"')}return this.buf.push(">"),!0}endElement(e){let t=zd(e).toLowerCase();kd.hasOwnProperty(t)&&!Dd.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Kd(e))}};function Ld(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw Bd(t);return t}function Hd(e){let t=e.firstChild;if(t&&function(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw Bd(t);return t}function zd(e){let t=e.nodeName;return"string"==typeof t?t:"FORM"}function Bd(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var Gd,$d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wd=/([^\#-~ |!])/g;function Kd(e){return e.replace(/&/g,"&amp;").replace($d,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Wd,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function jd(e,t){let i=null;try{Gd=Gd||function(e){let t=new wd(e);return function(){try{return!!(new window.DOMParser).parseFromString(dd(""),"text/html")}catch{return!1}}()?new xd(t):t}(e);let n=t?String(t):"";i=Gd.getInertBodyElement(n);let r=5,s=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=i.innerHTML,i=Gd.getInertBodyElement(n)}while(n!==s);return dd((new Nd).sanitizeChildren(Ud(i)||i))}finally{if(i){let e=Ud(i)||i;for(;e.firstChild;)e.firstChild.remove()}}}function Ud(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var qd=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(qd||{});function Yd(e){let t=Zd();return t?cd(t.sanitize(qd.HTML,e)||""):yd(e,"HTML")?cd(vd(e)):jd(Zl(),Zn(e))}function Xd(e){let t=Zd();return t?t.sanitize(qd.URL,e)||"":yd(e,"URL")?vd(e):Cd(Zn(e))}function Zd(){let e=Ko();return e&&e[Gs].sanitizer}var Qd=/^>|^->|<!--|-->|--!>|<!-$/g,Jd=/(<|>)/g;function ec(e){return e.ownerDocument}var tc,ic=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ic||{});function nc(e,t){return tc(e,t)}function rc(e,t,i,n,r){if(null!=n){let s,o=!1;co(n)?s=n:lo(n)&&(o=!0,n=n[Os]);let a=Io(n);0===e&&null!==i?null==r?pc(t,i,a):gc(t,i,a,r||null,!0):1===e&&null!==i?gc(t,i,a,r||null,!0):2===e?function(e,t,i){e.removeChild(null,t,i)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,i,n,r){let s=i[ro];s!==Io(i)&&rc(t,e,n,s,r);for(let r=oo;r<i.length;r++){let o=i[r];Dc(o[Ps],o,e,t,n,s)}}(t,e,s,i,r)}}function sc(e,t,i){return e.createElement(t,i)}function oc(e,t){t[Gs].changeDetectionScheduler?.notify(9),Dc(e,t,t[$s],2,null,null)}function ac(e,t){let i=e[so],n=t[Vs];if(lo(n))e[Fs]|=ao.HasTransplantedViews;else{let i=n[Vs][Us];t[Us]!==i&&(e[Fs]|=ao.HasTransplantedViews)}null===i?e[so]=[t]:i.push(t)}function lc(e,t){let i=e[so],n=i.indexOf(t);i.splice(n,1)}function dc(e,t){if(e.length<=oo)return;let i=oo+t,n=e[i];if(n){let r=n[qs];null!==r&&r!==e&&lc(r,n),t>0&&(e[i-1][Ms]=n[Ms]);let s=br(e,oo+t);!function(e,t){oc(e,t),t[Os]=null,t[Ns]=null}(n[Ps],n);let o=s[Xs];null!==o&&o.detachView(s[Ps]),n[Vs]=null,n[Ms]=null,n[Fs]&=-129}return n}function cc(e,t){if(!(256&t[Fs])){let i=t[$s];i.destroyNode&&Dc(e,t,i,3,null,null),function(e){let t=e[Ws];if(!t)return hc(e[Ps],e);for(;t;){let i=null;if(lo(t))i=t[Ws];else{let e=t[oo];e&&(i=e)}if(!i){for(;t&&!t[Ms]&&t!==e;)lo(t)&&hc(t[Ps],t),t=t[Vs];null===t&&(t=e),lo(t)&&hc(t[Ps],t),i=t&&t[Ms]}t=i}}(t)}}function hc(e,t){if(256&t[Fs])return;let i=Ye(null);try{t[Fs]&=-129,t[Fs]|=256,t[to]&&st(t[to]),function(e,t){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let e=0;e<i.length;e+=2){let n=t[i[e]];if(!(n instanceof Oa)){let t=i[e+1];if(Array.isArray(t))for(let e=0;e<t.length;e+=2){let i=n[t[e]],r=t[e+1];bo(4,i,r);try{r.call(i)}finally{bo(5,i,r)}}else{bo(4,n,t);try{t.call(n)}finally{bo(5,n,t)}}}}}(e,t),function(e,t){let i=e.cleanup,n=t[Hs];if(null!==i)for(let e=0;e<i.length-1;e+=2)if("string"==typeof i[e]){let t=i[e+3];t>=0?n[t]():n[-t].unsubscribe(),e+=2}else{let t=n[i[e+1]];i[e].call(t)}null!==n&&(t[Hs]=null);let r=t[Js];if(null!==r){t[Js]=null;for(let e=0;e<r.length;e++)(0,r[e])()}}(e,t),1===t[Ps].type&&t[$s].destroy();let i=t[qs];if(null!==i&&co(t[Vs])){i!==t[Vs]&&lc(i,t);let n=t[Xs];null!==n&&n.detachView(e)}Wl(t)}finally{Ye(i)}}function uc(e,t,i){return function(e,t,i){let n=t;for(;null!==n&&168&n.type;)n=(t=n).parent;if(null===n)return i[Os];{let{componentOffset:t}=n;if(t>-1){let{encapsulation:i}=e.data[n.directiveStart+t];if(i===Vr.None||i===Vr.Emulated)return null}return To(n,i)}}(e,t.parent,i)}function gc(e,t,i,n,r){e.insertBefore(t,i,n,r)}function pc(e,t,i){e.appendChild(t,i)}function mc(e,t,i,n,r){null!==n?gc(e,t,i,n,r):pc(e,t,i)}function fc(e,t){return e.parentNode(t)}function vc(e,t,i){return xc(e,t,i)}var yc,xc=function(e,t,i){return 40&e.type?To(e,i):null};function wc(e,t,i,n){let r=uc(e,n,t),s=t[$s],o=vc(n.parent||t[Ns],n,t);if(null!=r)if(Array.isArray(i))for(let e=0;e<i.length;e++)mc(s,r,i[e],o,!1);else mc(s,r,i,o,!1);void 0!==yc&&yc(s,n,t,i,r)}function _c(e,t){if(null!==t){let i=t.type;if(3&i)return To(t,e);if(4&i)return Sc(-1,e[t.index]);if(8&i){let i=t.child;if(null!==i)return _c(e,i);{let i=e[t.index];return co(i)?Sc(-1,i):Io(i)}}if(128&i)return _c(e,t.next);if(32&i)return nc(t,e)()||Io(e[t.index]);{let i=Cc(e,t);return null!==i?Array.isArray(i)?i[0]:_c(zo(e[Us]),i):_c(e,t.next)}}return null}function Cc(e,t){if(null!==t){let i=e[Us][Ns],n=t.projection;return i.projection[n]}return null}function Sc(e,t){let i=oo+e+1;if(i<t.length){let e=t[i],n=e[Ps].firstChild;if(null!==n)return _c(e,n)}return t[ro]}function bc(e,t,i,n,r,s,o){for(;null!=i;){if(128===i.type){i=i.next;continue}let a=n[i.index],l=i.type;if(o&&0===t&&(a&&Ul(Io(a),n),i.flags|=2),32!=(32&i.flags))if(8&l)bc(e,t,i.child,n,r,s,!1),rc(t,e,r,a,s);else if(32&l){let o,l=nc(i,n);for(;o=l();)rc(t,e,r,o,s);rc(t,e,r,a,s)}else 16&l?Ic(e,t,n,i,r,s):rc(t,e,r,a,s);i=o?i.projectionNext:i.next}}function Dc(e,t,i,n,r,s){bc(i,n,e.firstChild,t,r,s,!1)}function Ic(e,t,i,n,r,s){let o=i[Us],a=o[Ns].projection[n.projection];if(Array.isArray(a))for(let i=0;i<a.length;i++)rc(t,e,r,a[i],s);else{let i=a,l=o[Vs];Bl(n)&&(i.flags|=128),bc(e,t,i,l,r,s,!0)}}function Ec(e,t,i){""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i)}function Tc(e,t,i){let{mergedAttrs:n,classes:r,styles:s}=i;null!==n&&Lr(e,t,n),null!==r&&Ec(e,t,r),null!==s&&function(e,t,i){e.setAttribute(t,"style",i)}(e,t,s)}var Rc={};function Ac(e=1){kc(jo(),Ko(),va()+e,!1)}function kc(e,t,i,n){if(!n)if(3==(3&t[Fs])){let n=e.preOrderCheckHooks;null!==n&&Da(t,n,i)}else{let n=e.preOrderHooks;null!==n&&Ia(t,n,0,i)}ya(i)}function Oc(e,t=tr.Default){let i=Ko();return null===i?gr(e,t):Xa(Yo(),i,kn(e),t)}function Pc(e,t,i,n,r,s){let o=Ye(null);try{let o=null;r&Mr.SignalBased&&(o=t[n][qe]),null!==o&&void 0!==o.transformFn&&(s=o.transformFn(s)),r&Mr.HasDecoratorInputTransform&&(s=e.inputTransforms[n].call(t,s)),null!==e.setInput?e.setInput(t,o,s,i,n):vo(t,o,n,s)}finally{Ye(o)}}function Fc(e,t,i,n,r,s,o,a,l,d,c){let h=t.blueprint.slice();return h[Os]=r,h[Fs]=204|n,(null!==d||e&&2048&e[Fs])&&(h[Fs]|=2048),Fo(h),h[Vs]=h[js]=e,h[zs]=i,h[Gs]=o||e&&e[Gs],h[$s]=a||e&&e[$s],h[Bs]=l||e&&e[Bs]||null,h[Ns]=s,h[Zs]=$l++,h[Ls]=c,h[Qs]=d,h[Us]=2==t.type?e[Us]:h,h}function Vc(e,t,i,n,r){let s=e.data[t];if(null===s)s=function(e,t,i,n,r){let s=Xo(),o=Qo(),a=o?s:s&&s.parent,l=e.data[t]=function(e,t,i,n,r,s){let o=t?t.injectorIndex:-1,a=0;return Wo()&&(a|=128),{type:i,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a,i,t,n,r);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,t,i,n,r),Bo.lFrame.inI18n&&(s.flags|=32);else if(64&s.type){s.type=i,s.value=n,s.attrs=r;let e=function(){let e=Bo.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===e?-1:e.injectorIndex}return Zo(s,!0),s}function Mc(e,t,i,n){if(0===i)return-1;let r=t.length;for(let r=0;r<i;r++)t.push(n),e.blueprint.push(n),e.data.push(null);return r}function Nc(e,t,i,n,r){let s=va(),o=2&n;try{ya(-1),o&&t.length>io&&kc(e,t,io,!1),bo(o?2:0,r),i(n,r)}finally{ya(s),bo(o?3:1,r)}}function Lc(e,t,i){if(ho(t)){let n=Ye(null);try{let n=t.directiveStart,r=t.directiveEnd;for(let t=n;t<r;t++){let n=e.data[t];if(n.contentQueries){let e=i[t];n.contentQueries(1,e,t)}}}finally{Ye(n)}}}function Hc(e,t,i){$o()&&(function(e,t,i,n){let r=i.directiveStart,s=i.directiveEnd;uo(i)&&function(e,t,i){let n=To(t,e),r=Bc(i),s=e[Gs].rendererFactory,o=16;i.signals?o=4096:i.onPush&&(o=64);let a=rh(e,Fc(e,r,null,o,n,t,null,s.createRenderer(n,i),null,null,null));e[t.index]=a}(t,i,e.data[r+i.componentOffset]),e.firstCreatePass||$a(i,t),Ul(n,t);let o=i.initialInputs;for(let n=r;n<s;n++){let s=e.data[n],a=el(t,e,n,i);Ul(a,t),null!==o&&eh(0,n-r,a,s,0,o),po(s)&&(ko(i.index,t)[zs]=el(t,e,n,i))}}(e,t,i,To(i,t)),64==(64&i.flags)&&Yc(e,t,i))}function zc(e,t,i=To){let n=t.localNames;if(null!==n){let r=t.index+1;for(let s=0;s<n.length;s+=2){let o=n[s+1],a=-1===o?i(t,e):e[o];e[r++]=a}}}function Bc(e){let t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Gc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Gc(e,t,i,n,r,s,o,a,l,d,c){let h=io+n,u=h+r,g=function(e,t){let i=[];for(let n=0;n<t;n++)i.push(n<e?null:Rc);return i}(h,u),p="function"==typeof d?d():d;return g[Ps]={type:e,blueprint:g,template:i,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:u,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:c}}var $c=()=>null;function Wc(e,t,i,n,r){for(let s in t){if(!t.hasOwnProperty(s))continue;let o=t[s];if(void 0===o)continue;n??={};let a,l=Mr.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let d=s;if(null!==r){if(!r.hasOwnProperty(s))continue;d=r[s]}0===e?Kc(n,i,d,a,l):Kc(n,i,d,a)}return n}function Kc(e,t,i,n,r){let s;e.hasOwnProperty(i)?(s=e[i]).push(t,n):s=e[i]=[t,n],void 0!==r&&s.push(r)}function jc(e,t,i,n,r,s,o,a){let l,d=To(t,i),c=t.inputs;!a&&null!=c&&(l=c[n])?(dh(e,i,l,n,r),uo(t)&&function(e,t){let i=ko(t,e);16&i[Fs]||(i[Fs]|=64)}(i,t.index)):3&t.type?(n=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),r=null!=o?o(r,t.value||"",n):r,s.setProperty(d,n,r)):t.type}function Uc(e,t,i,n){if($o()){let r,s,o=null===n?null:{"":-1},a=function(e,t){let i=e.directiveRegistry,n=null,r=null;if(i)for(let s=0;s<i.length;s++){let o=i[s];if(Xr(t,o.selectors,!1))if(n||(n=[]),po(o))if(null!==o.findHostDirectiveDefs){let i=[];r=r||new Map,o.findHostDirectiveDefs(o,i,r),n.unshift(...i,o),Zc(e,t,i.length)}else n.unshift(o),Zc(e,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,n,r),n.push(o)}return null===n?null:[n,r]}(e,i);null===a?r=s=null:[r,s]=a,null!==r&&qc(e,t,i,r,o,s),o&&function(e,t,i){if(t){let n=e.localNames=[];for(let e=0;e<t.length;e+=2){let r=i[t[e+1]];if(null==r)throw new wn(-301,!1);n.push(t[e],r)}}}(i,n,o)}i.mergedAttrs=Br(i.mergedAttrs,i.attrs)}function qc(e,t,i,n,r,s){for(let r=0;r<n.length;r++)Ua($a(i,t),e,n[r].type);!function(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}(i,e.data.length,n.length);for(let e=0;e<n.length;e++){let t=n[e];t.providersResolver&&t.providersResolver(t)}let o=!1,a=!1,l=Mc(e,t,n.length,null);for(let s=0;s<n.length;s++){let d=n[s];i.mergedAttrs=Br(i.mergedAttrs,d.hostAttrs),Jc(e,i,t,l,d),Qc(l,d,r),null!==d.contentQueries&&(i.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(i.flags|=64);let c=d.type.prototype;!o&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((e.preOrderHooks??=[]).push(i.index),o=!0),!a&&(c.ngOnChanges||c.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(i.index),a=!0),l++}!function(e,t,i){let n=t.directiveStart,r=t.directiveEnd,s=e.data,o=t.attrs,a=[],l=null,d=null;for(let e=n;e<r;e++){let n=s[e],r=i?i.get(n):null,c=r?r.inputs:null,h=r?r.outputs:null;l=Wc(0,n.inputs,e,l,c),d=Wc(1,n.outputs,e,d,h);let u=null===l||null===o||Kr(t)?null:th(l,e,o);a.push(u)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=d}(e,i,s)}function Yc(e,t,i){let n=i.directiveStart,r=i.directiveEnd,s=i.index,o=Bo.lFrame.currentDirectiveIndex;try{ya(s);for(let i=n;i<r;i++){let n=e.data[i],r=t[i];oa(i),(null!==n.hostBindings||0!==n.hostVars||null!==n.hostAttrs)&&Xc(n,r)}}finally{ya(-1),oa(o)}}function Xc(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Zc(e,t,i){t.componentOffset=i,(e.components??=[]).push(t.index)}function Qc(e,t,i){if(i){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)i[t.exportAs[n]]=e;po(t)&&(i[""]=e)}}function Jc(e,t,i,n,r){e.data[n]=r;let s=r.factory||(r.factory=_r(r.type)),o=new Oa(s,po(r),Oc);e.blueprint[n]=o,i[n]=o,function(e,t,i,n,r){let s=r.hostBindings;if(s){let r=e.hostBindingOpCodes;null===r&&(r=e.hostBindingOpCodes=[]);let o=~t.index;(function(e){let t=e.length;for(;t>0;){let i=e[--t];if("number"==typeof i&&i<0)return i}return 0})(r)!=o&&r.push(o),r.push(i,n,s)}}(e,t,n,Mc(e,i,r.hostVars,Rc),r)}function eh(e,t,i,n,r,s){let o=s[t];if(null!==o)for(let e=0;e<o.length;)Pc(n,i,o[e++],o[e++],o[e++],o[e++])}function th(e,t,i){let n=null,r=0;for(;r<i.length;){let s=i[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===n&&(n=[]);let o=e[s];for(let e=0;e<o.length;e+=3)if(o[e]===t){n.push(s,o[e+1],o[e+2],i[r+1]);break}}r+=2}else r+=2;else r+=4}return n}function ih(e,t,i,n){return[e,!0,0,t,null,n,null,i,null,null]}function nh(e,t){let i=e.contentQueries;if(null!==i){let n=Ye(null);try{for(let n=0;n<i.length;n+=2){let r=i[n],s=i[n+1];if(-1!==s){let i=e.data[s];la(r),i.contentQueries(2,t[s],s)}}}finally{Ye(n)}}}function rh(e,t){return e[Ws]?e[Ks][Ms]=t:e[Ws]=t,e[Ks]=t,t}function sh(e,t,i){la(0);let n=Ye(null);try{t(e,i)}finally{Ye(n)}}function oh(e){return e[Hs]??=[]}function ah(e){return e.cleanup??=[]}function lh(e,t){let i=e[Bs],n=i?i.get(Pl,null):null;n&&n.handleError(t)}function dh(e,t,i,n,r){for(let s=0;s<i.length;){let o=i[s++],a=i[s++],l=i[s++],d=t[o];Pc(e.data[o],d,n,a,l,r)}}function ch(e,t,i){let n=Eo(t,e);!function(e,t,i){e.setValue(t,i)}(e[$s],n,i)}function hh(e,t){let i=ko(t,e),n=i[Ps];!function(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])}(n,i);let r=i[Os];null!==r&&null===i[Ls]&&(i[Ls]=sd(r,i[Bs])),uh(n,i,i[zs])}function uh(e,t,i){ha(t);try{let n=e.viewQuery;null!==n&&sh(1,n,i);let r=e.template;null!==r&&Nc(e,t,r,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),t[Xs]?.finishViewCreation(e),e.staticContentQueries&&nh(e,t),e.staticViewQueries&&sh(2,e.viewQuery,i);let s=e.components;null!==s&&function(e,t){for(let i=0;i<t.length;i++)hh(e,t[i])}(t,s)}catch(t){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),t}finally{t[Fs]&=-5,fa()}}function gh(e,t,i,n){let r=Ye(null);try{let r=t.tView,s=Fc(e,r,i,4096&e[Fs]?4096:16,null,t,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),o=e[t.index];s[qs]=o;let a=e[Xs];return null!==a&&(s[Xs]=a.createEmbeddedView(r)),uh(r,s,i),s}finally{Ye(r)}}function ph(e,t){return!t||null===t.firstChild||Bl(e)}function mh(e,t,i,n=!0){let r=t[Ps];if(function(e,t,i,n){let r=oo+n,s=i.length;n>0&&(i[r-1][Ms]=t),n<s-oo?(t[Ms]=i[r],Sr(i,oo+n,t)):(i.push(t),t[Ms]=null),t[Vs]=i;let o=t[qs];null!==o&&i!==o&&ac(o,t);let a=t[Xs];null!==a&&a.insertView(e),No(t),t[Fs]|=128}(r,t,e,i),n){let n=Sc(i,e),s=t[$s],o=fc(s,e[ro]);null!==o&&function(e,t,i,n,r,s){n[Os]=r,n[Ns]=t,Dc(e,n,i,1,r,s)}(r,e[Ns],s,t,o,n)}let s=t[Ls];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function fh(e,t,i,n,r=!1){for(;null!==i;){if(128===i.type){i=r?i.projectionNext:i.next;continue}let s=t[i.index];null!==s&&n.push(Io(s)),co(s)&&vh(s,n);let o=i.type;if(8&o)fh(e,t,i.child,n);else if(32&o){let e,r=nc(i,t);for(;e=r();)n.push(e)}else if(16&o){let e=Cc(t,i);if(Array.isArray(e))n.push(...e);else{let i=zo(t[Us]);fh(i[Ps],i,e,n,!0)}}i=r?i.projectionNext:i.next}return n}function vh(e,t){for(let i=oo;i<e.length;i++){let n=e[i],r=n[Ps].firstChild;null!==r&&fh(n[Ps],n,r,t)}e[ro]!==e[Os]&&t.push(e[ro])}var yh=[];var xh=Oe(ke({},Xe),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Lo(e.lView)},consumerOnSignalRead(){this.lView[to]=this}}),wh=Oe(ke({},Xe),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=zo(e.lView);for(;t&&!_h(t[Ps]);)t=zo(t);t&&Vo(t)},consumerOnSignalRead(){this.lView[to]=this}});function _h(e){return 2!==e.type}var Ch=100;function Sh(e,t=!0,i=0){let n=e[Gs],r=n.rendererFactory;r.begin?.();try{!function(e,t){let i=ea();try{ta(!0),Th(e,t);let i=0;for(;Mo(e);){if(i===Ch)throw new wn(103,!1);i++,Th(e,1)}}finally{ta(i)}}(e,i)}catch(i){throw t&&lh(e,i),i}finally{r.end?.(),n.inlineEffectRunner?.flush()}}function bh(e,t,i,n){let r=t[Fs];if(256==(256&r))return;t[Gs].inlineEffectRunner?.flush(),ha(t);let s=!0,o=null,a=null;_h(e)?(a=function(e){return e[to]??function(e){let t=yh.pop()??Object.create(xh);return t.lView=e,t}(e)}(t),o=it(a)):null===Ke?(s=!1,a=function(e){let t=e[to]??Object.create(wh);return t.lView=e,t}(t),o=it(a)):t[to]&&(st(t[to]),t[to]=null);try{Fo(t),function(e){Bo.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&Nc(e,t,i,2,n);let s=3==(3&r);if(s){let i=e.preOrderCheckHooks;null!==i&&Da(t,i,null)}else{let i=e.preOrderHooks;null!==i&&Ia(t,i,0,null),Ea(t,0)}if(function(e){for(let t=ql(e);null!==t;t=Yl(t)){if(!(t[Fs]&ao.HasTransplantedViews))continue;let e=t[so];for(let t=0;t<e.length;t++)Vo(e[t])}}(t),Dh(t,0),null!==e.contentQueries&&nh(e,t),s){let i=e.contentCheckHooks;null!==i&&Da(t,i)}else{let i=e.contentHooks;null!==i&&Ia(t,i,1),Ea(t,1)}!function(e,t){let i=e.hostBindingOpCodes;if(null!==i)try{for(let e=0;e<i.length;e++){let n=i[e];if(n<0)ya(~n);else{let r=n,s=i[++e],o=i[++e];sa(s,r),o(2,t[r])}}}finally{ya(-1)}}(e,t);let o=e.components;null!==o&&Rh(t,o,0);let a=e.viewQuery;if(null!==a&&sh(2,a,n),s){let i=e.viewCheckHooks;null!==i&&Da(t,i)}else{let i=e.viewHooks;null!==i&&Ia(t,i,2),Ea(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[eo]){for(let e of t[eo])e();t[eo]=null}t[Fs]&=-73}catch(e){throw Lo(t),e}finally{null!==a&&(nt(a,o),s&&function(e){e.lView[to]!==e&&(e.lView=null,yh.push(e))}(a)),fa()}}function Dh(e,t){for(let i=ql(e);null!==i;i=Yl(i))for(let e=oo;e<i.length;e++)Eh(i[e],t)}function Ih(e,t,i){Eh(ko(t,e),i)}function Eh(e,t){Oo(e)&&Th(e,t)}function Th(e,t){let i=e[Ps],n=e[Fs],r=e[to],s=!!(0===t&&16&n);if(s||=!!(64&n&&0===t),s||=!!(1024&n),s||=!(!r?.dirty||!rt(r)),s||=!1,r&&(r.dirty=!1),e[Fs]&=-9217,s)bh(i,e,i.template,e[zs]);else if(8192&n){Dh(e,1);let t=i.components;null!==t&&Rh(e,t,1)}}function Rh(e,t,i){for(let n=0;n<t.length;n++)Ih(e,t[n],i)}function Ah(e,t){let i=ea()?64:1088;for(e[Gs].changeDetectionScheduler?.notify(t);e;){e[Fs]|=i;let t=zo(e);if(mo(e)&&!t)return e;e=t}return null}var kh=class{get rootNodes(){let e=this._lView,t=e[Ps];return fh(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[zs]}set context(e){this._lView[zs]=e}get destroyed(){return 256==(256&this._lView[Fs])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Vs];if(co(e)){let t=e[8],i=t?t.indexOf(this):-1;i>-1&&(dc(e,i),br(t,i))}this._attachedToViewContainer=!1}cc(this._lView[Ps],this._lView)}onDestroy(e){Ho(this._lView,e)}markForCheck(){Ah(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Fs]&=-129}reattach(){No(this._lView),this._lView[Fs]|=128}detectChanges(){this._lView[Fs]|=1024,Sh(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new wn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=mo(this._lView),t=this._lView[qs];null!==t&&!e&&lc(t,this._lView),oc(this._lView[Ps],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new wn(902,!1);this._appRef=e;let t=mo(this._lView),i=this._lView[qs];null!==i&&!t&&ac(i,this._lView),No(this._lView)}},Oh=(()=>{let e=class{};return e.__NG_ELEMENT_ID__=Vh,e})(),Ph=Oh,Fh=class extends Ph{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let n=gh(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new kh(n)}};function Vh(){return Mh(Yo(),Ko())}function Mh(e,t){return 4&e.type?new Fh(t,e,Ml(e,t)):null}new RegExp("^(\\d+)*(b|h)*(.*)");var Nh=()=>null;function Lh(e,t){return Nh(e,t)}var Hh=class{},zh=new Gn("",{providedIn:"root",factory:()=>!1}),Bh=new Gn(""),Gh=new Gn(""),$h=class{},Wh=class{},Kh=class{};Kh.NULL=new class{resolveComponentFactory(e){throw function(e){let t=Error(`No component factory found for ${En(e)}.`);return t.ngComponent=e,t}(e)}};var jh=Kh,Uh=class{},qh=(()=>{let e=class{constructor(){this.destroyNode=null}};return e.__NG_ELEMENT_ID__=()=>function(){let e=Ko(),t=ko(Yo().index,e);return(lo(t)?t:e)[$s]}(),e})(),Yh=(()=>{let e=class{};return e.ɵprov=Pn({token:e,providedIn:"root",factory:()=>null}),e})();function Xh(e,t,i){let n=i?e.styles:null,r=i?e.classes:null,s=0;if(null!==t)for(let e=0;e<t.length;e++){let i=t[e];"number"==typeof i?s=i:1==s?r=Tn(r,i):2==s&&(n=Tn(n,i+": "+t[++e]+";"))}i?e.styles=n:e.stylesWithoutHost=n,i?e.classes=r:e.classesWithoutHost=r}var Zh=class extends jh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=as(e);return new Jh(t,this.ngModule)}};function Qh(e,t){let i=[];for(let n in e){if(!e.hasOwnProperty(n))continue;let r=e[n];if(void 0===r)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:Mr.None;t?i.push({propName:o,templateName:n,isSignal:0!=(a&Mr.SignalBased)}):i.push({propName:o,templateName:n})}return i}var Jh=class extends Wh{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=Qh(e.inputs,!0);if(null!==t)for(let e of i)t.hasOwnProperty(e.propName)&&(e.transform=t[e.propName]);return i}get outputs(){return Qh(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(e){return e.map(Jr).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,n){let r=Ye(null);try{let r=(n=n||this.ngModule)instanceof Is?n:n?.injector;r&&null!==this.componentDef.getStandaloneInjector&&(r=this.componentDef.getStandaloneInjector(r)||r);let s=r?new class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=mr(i);let n=this.injector.get(e,Pa,i);return n!==Pa||t===Pa?n:this.parentInjector.get(e,t,i)}}(e,r):e,o=s.get(Uh,null);if(null===o)throw new wn(407,!1);let a={rendererFactory:o,sanitizer:s.get(Yh,null),inlineEffectRunner:null,changeDetectionScheduler:s.get(Hh,null)},l=o.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",c=i?function(e,t,i,n){let r=n.get(ld,!1)||i===Vr.ShadowDom,s=e.selectRootElement(t,r);return function(e){$c(e)}(s),s}(l,i,this.componentDef.encapsulation,s):sc(l,d,function(e){let t=e.toLowerCase();return"svg"===t?Do:"math"===t?"math":null}(d)),h=512;this.componentDef.signals?h|=4096:this.componentDef.onPush||(h|=16);let u=null;null!==c&&(u=sd(c,s,!0));let g=Gc(0,null,null,1,0,null,null,null,null,null,null),p=Fc(null,g,null,h,null,null,a,l,s,null,u);ha(p);let m,f,v=null;try{let e,n=this.componentDef,r=null;n.findHostDirectiveDefs?(e=[],r=new Map,n.findHostDirectiveDefs(n,e,r),e.push(n)):e=[n];let s=function(e,t){let i=e[Ps],n=io;return e[n]=t,Vc(i,n,2,"#host",null)}(p,c);v=function(e,t,i,n,r,s,o){let a=r[Ps];!function(e,t,i,n){for(let i of e)t.mergedAttrs=Br(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Xh(t,t.mergedAttrs,!0),null!==i&&Tc(n,i,t))}(n,e,t,o);let l=null;null!==t&&(l=sd(t,r[Bs]));let d=s.rendererFactory.createRenderer(t,i),c=16;i.signals?c=4096:i.onPush&&(c=64);let h=Fc(r,Bc(i),null,c,r[e.index],e,s,d,null,null,l);return a.firstCreatePass&&Zc(a,e,n.length-1),rh(r,h),r[e.index]=h}(s,c,n,e,p,a,l),f=Ro(g,io),c&&function(e,t,i,n){if(n)Lr(e,i,["ng-version","18.2.4"]);else{let{attrs:n,classes:r}=function(e){let t=[],i=[],n=1,r=2;for(;n<e.length;){let s=e[n];if("string"==typeof s)2===r?""!==s&&t.push(s,e[++n]):8===r&&i.push(s);else{if(!qr(r))break;r=s}n++}return{attrs:t,classes:i}}(t.selectors[0]);n&&Lr(e,i,n),r&&r.length>0&&Ec(e,i,r.join(" "))}}(l,n,c,i),void 0!==t&&function(e,t,i){let n=e.projection=[];for(let e=0;e<t.length;e++){let t=i[e];n.push(null!=t?Array.from(t):null)}}(f,this.ngContentSelectors,t),m=function(e,t,i,n,r,s){let o=Yo(),a=r[Ps],l=To(o,r);qc(a,r,o,i,null,n);for(let e=0;e<i.length;e++)Ul(el(r,a,o.directiveStart+e,o),r);Yc(a,r,o),l&&Ul(l,r);let d=el(r,a,o.directiveStart+o.componentOffset,o);if(e[zs]=r[zs]=d,null!==s)for(let e of s)e(d,t);return Lc(a,o,r),d}(v,n,e,r,p,[tu]),uh(g,p,null)}catch(e){throw null!==v&&Wl(v),Wl(p),e}finally{fa()}return new eu(this.componentType,m,Ml(f,p),p,f)}finally{Ye(r)}}},eu=class extends $h{constructor(e,t,i,n,r){super(),this.location=i,this._rootLView=n,this._tNode=r,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new kh(n,void 0,!1),this.componentType=e}setInput(e,t){let i,n=this._tNode.inputs;if(null!==n&&(i=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let n=this._rootLView;dh(n[Ps],n,i,e,t),this.previousInputValues.set(e,t),Ah(ko(this._tNode.index,n),1)}}get injector(){return new nl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function tu(){let e=Yo();ba(Ko()[Ps],e)}var iu=(()=>{let e=class{};return e.__NG_ELEMENT_ID__=nu,e})();function nu(){return lu(Yo(),Ko())}var ru=iu,su=class extends ru{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Ml(this._hostTNode,this._hostLView)}get injector(){return new nl(this._hostTNode,this._hostLView)}get parentInjector(){let e=ja(this._hostTNode,this._hostLView);if(Fa(e)){let t=Ma(e,this._hostLView),i=Va(e),n=t[Ps].data[i+8];return new nl(n,t)}return new nl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=ou(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-oo}createEmbeddedView(e,t,i){let n,r;"number"==typeof i?n=i:null!=i&&(n=i.index,r=i.injector);let s=Lh(this._lContainer,e.ssrId),o=e.createEmbeddedViewImpl(t||{},r,s);return this.insertImpl(o,n,ph(this._hostTNode,s)),o}createComponent(e,t,i,n,r){let s,o=e&&!function(e){return"function"==typeof e}(e);if(o)s=t;else{let e=t||{};s=e.index,i=e.injector,n=e.projectableNodes,r=e.environmentInjector||e.ngModuleRef}let a=o?e:new Jh(as(e)),l=i||this.parentInjector;if(!r&&null==a.ngModule){let e=(o?l:this.parentInjector).get(Is,null);e&&(r=e)}let d=as(a.componentType??{}),c=Lh(this._lContainer,d?.id??null),h=c?.firstChild??null,u=a.create(l,n,h,r);return this.insertImpl(u.hostView,s,ph(this._hostTNode,c)),u}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let n=e._lView;if(function(e){return co(e[Vs])}(n)){let t=this.indexOf(e);if(-1!==t)this.detach(t);else{let t=n[Vs],i=new su(t,t[Ns],t[Vs]);i.detach(i.indexOf(e))}}let r=this._adjustIndex(t),s=this._lContainer;return mh(s,n,r,i),e.attachToViewContainerRef(),Sr(au(s),r,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=ou(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=dc(this._lContainer,t);i&&(br(au(this._lContainer),t),cc(i[Ps],i))}detach(e){let t=this._adjustIndex(e,-1),i=dc(this._lContainer,t);return i&&null!=br(au(this._lContainer),t)?new kh(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function ou(e){return e[8]}function au(e){return e[8]||(e[8]=[])}function lu(e,t){let i,n=t[e.index];return co(n)?i=n:(i=ih(n,t,null,e),t[e.index]=i,rh(t,i)),du(i,t,e,n),new su(i,e,t)}var du=function(e,t,i,n){if(e[ro])return;let r;r=8&i.type?Io(n):function(e,t){let i=e[$s],n=i.createComment(""),r=To(t,e);return gc(i,fc(i,r),n,function(e,t){return e.nextSibling(t)}(i,r),!1),n}(t,i),e[ro]=r},cu=()=>!1,hu=class e{constructor(e){this.queryList=e,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},uu=class e{constructor(e=[]){this.queries=e}createEmbeddedView(t){let i=t.queries;if(null!==i){let n=null!==t.contentQueries?t.contentQueries[0]:i.length,r=[];for(let e=0;e<n;e++){let t=i.getByIndex(e),n=this.queries[t.indexInDeclarationView];r.push(n.clone())}return new e(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Cu(e,t).matches&&this.queries[t].setDirty()}},gu=class{constructor(e,t,i=null){this.flags=t,this.read=i,this.predicate="string"==typeof e?function(e){return e.split(",").map((e=>e.trim()))}(e):e}},pu=class e{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(t){let i=null;for(let e=0;e<this.length;e++){let n=null!==i?i.length:0,r=this.getByIndex(e).embeddedTView(t,n);r&&(r.indexInDeclarationView=e,null!==i?i.push(r):i=[r])}return null!==i?new e(i):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},mu=class e{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(t,i){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,i),new e(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){let t=this._declarationNodeIndex,i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let n=0;n<i.length;n++){let r=i[n];this.matchTNodeWithReadOption(e,t,fu(t,r)),this.matchTNodeWithReadOption(e,t,Ja(t,e,r,!1,!1))}else i===Oh?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ja(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){let n=this.metadata.read;if(null!==n)if(n===Nl||n===iu||n===Oh&&4&t.type)this.addMatch(t.index,-2);else{let i=Ja(t,e,n,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}};function fu(e,t){let i=e.localNames;if(null!==i)for(let e=0;e<i.length;e+=2)if(i[e]===t)return i[e+1];return null}function vu(e,t,i,n){return-1===i?function(e,t){return 11&e.type?Ml(e,t):4&e.type?Mh(e,t):null}(t,e):-2===i?function(e,t,i){return i===Nl?Ml(t,e):i===Oh?Mh(t,e):i===iu?lu(t,e):void 0}(e,t,n):el(e,e[Ps],i,t)}function yu(e,t,i,n){let r=t[Xs].queries[n];if(null===r.matches){let n=e.data,s=i.matches,o=[];for(let e=0;null!==s&&e<s.length;e+=2){let r=s[e];if(r<0)o.push(null);else{let a=n[r];o.push(vu(t,a,s[e+1],i.metadata.read))}}r.matches=o}return r.matches}function xu(e,t,i,n){let r=e.queries.getByIndex(i),s=r.matches;if(null!==s){let o=yu(e,t,r,i);for(let e=0;e<s.length;e+=2){let i=s[e];if(i>0)n.push(o[e/2]);else{let r=s[e+1],o=t[-i];for(let e=oo;e<o.length;e++){let t=o[e];t[qs]===t[Vs]&&xu(t[Ps],t,r,n)}if(null!==o[so]){let e=o[so];for(let t=0;t<e.length;t++){let i=e[t];xu(i[Ps],i,r,n)}}}}}return n}function wu(e,t,i){let n=new zl(4==(4&i));return function(e,t,i,n){let r=oh(t);r.push(i),e.firstCreatePass&&ah(e).push(n,r.length-1)}(e,t,n,n.destroy),(t[Xs]??=new uu).queries.push(new hu(n))-1}function _u(e,t,i){null===e.queries&&(e.queries=new pu),e.queries.track(new mu(t,i))}function Cu(e,t){return e.queries.getByIndex(t)}function Su(e,t){let i=e[Ps],n=Cu(i,t);return n.crossesNgTemplate?xu(i,e,t,[]):yu(i,e,n,t)}var bu=new Set;function Du(e){bu.has(e)||(bu.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Iu(e,t){Du("NgSignals");let i=function(e){let t=Object.create(wt);t.value=e;let i=()=>(Ze(t),t.value);return i[qe]=t,i}(e),n=i[qe];return t?.equal&&(n.equal=t.equal),i.set=e=>xt(n,e),i.update=e=>function(e,t){et()||vt(),xt(e,t(e.value))}(n,e),i.asReadonly=Eu.bind(i),i}function Eu(){let e=this[qe];if(void 0===e.readonlyFn){let t=()=>this();t[qe]=e,e.readonlyFn=t}return e.readonlyFn}function Tu(e){return function(e){return"function"==typeof e&&void 0!==e[qe]}(e)&&"function"==typeof e.set}function Ru(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0,n=[e];for(;t;){let r;if(po(e))r=t.ɵcmp||t.ɵdir;else{if(t.ɵcmp)throw new wn(903,!1);r=t.ɵdir}if(r){if(i){n.push(r);let t=e;t.inputs=ku(e.inputs),t.inputTransforms=ku(e.inputTransforms),t.declaredInputs=ku(e.declaredInputs),t.outputs=ku(e.outputs);let i=r.hostBindings;i&&Fu(e,i);let s=r.viewQuery,o=r.contentQueries;if(s&&Ou(e,s),o&&Pu(e,o),Au(e,r),In(e.outputs,r.outputs),po(r)&&r.data.animation){let t=e.data;t.animation=(t.animation||[]).concat(r.data.animation)}}let t=r.features;if(t)for(let n=0;n<t.length;n++){let r=t[n];r&&r.ngInherit&&r(e),r===Ru&&(i=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,i=null;for(let n=e.length-1;n>=0;n--){let r=e[n];r.hostVars=t+=r.hostVars,r.hostAttrs=Br(r.hostAttrs,i=Br(i,r.hostAttrs))}}(n)}function Au(e,t){for(let i in t.inputs){if(!t.inputs.hasOwnProperty(i)||e.inputs.hasOwnProperty(i))continue;let n=t.inputs[i];if(void 0!==n&&(e.inputs[i]=n,e.declaredInputs[i]=t.declaredInputs[i],null!==t.inputTransforms)){let i=Array.isArray(n)?n[0]:n;if(!t.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=t.inputTransforms[i]}}}function ku(e){return e===Tr?{}:e===Rr?[]:e}function Ou(e,t){let i=e.viewQuery;e.viewQuery=i?(e,n)=>{t(e,n),i(e,n)}:t}function Pu(e,t){let i=e.contentQueries;e.contentQueries=i?(e,n,r)=>{t(e,n,r),i(e,n,r)}:t}function Fu(e,t){let i=e.hostBindings;e.hostBindings=i?(e,n)=>{t(e,n),i(e,n)}:t}function Vu(e){let t=e.inputConfig,i={};for(let e in t)if(t.hasOwnProperty(e)){let n=t[e];Array.isArray(n)&&n[3]&&(i[e]=n[3])}e.inputTransforms=i}var Mu=class{},Nu=class{},Lu=class extends Mu{constructor(e,t,i,n=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zh(this);let r=function(e,t){let i=e[Un]||null;return i}(e);this._bootstrapComponents=function(e){return e instanceof Function?e():e}(r.bootstrap),this._r3Injector=dl(e,t,[{provide:Mu,useValue:this},{provide:jh,useValue:this.componentFactoryResolver},...i],En(e),new Set(["environment"])),n&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((e=>e())),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Hu=class extends Nu{constructor(e){super(),this.moduleType=e}create(e){return new Lu(this.moduleType,e,[])}},zu=class extends Mu{constructor(e){super(),this.componentFactoryResolver=new Zh(this),this.instance=null;let t=new Es([...e.providers,{provide:Mu,useValue:this},{provide:jh,useValue:this.componentFactoryResolver}],e.parent||Ds(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Bu(e){return!!Gu(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Gu(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function $u(e,t,i){return e[t]=i}function Wu(e,t){return e[t]}function Ku(e,t,i){let n=e[t];return!Object.is(n,i)&&(e[t]=i,!0)}function ju(e,t,i,n){let r=Ku(e,t,i);return Ku(e,t+1,n)||r}function Uu(e,t,i,n,r){let s=ju(e,t,i,n);return Ku(e,t+2,r)||s}function qu(e,t,i,n,r,s){let o=ju(e,t,i,n);return ju(e,t+2,r,s)||o}function Yu(e,t,i,n,r,s,o,a,l,d){let c=i+io,h=t.firstCreatePass?function(e,t,i,n,r,s,o,a,l){let d=t.consts,c=Vc(t,e,4,o||null,a||null);Uc(t,i,c,Po(d,l)),ba(t,c);let h=c.tView=Gc(2,c,n,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,d,null);return null!==t.queries&&(t.queries.template(t,c),h.queries=t.queries.embeddedTView(c)),c}(c,t,e,n,r,s,o,a,l):t.data[c];Zo(h,!1);let u=Zu(t,e,h,i);Ca()&&wc(t,e,u,h),Ul(u,e);let g=ih(u,e,u,h);return e[c]=g,rh(e,g),function(e,t,i){cu(e,t,i)}(g,h,e),go(h)&&Hc(t,e,h),null!=l&&zc(e,h,d),h}function Xu(e,t,i,n,r,s,o,a){let l=Ko(),d=jo();return Yu(l,d,e,t,i,n,r,Po(d.consts,s),o,a),Xu}var Zu=function(e,t,i,n){return Sa(!0),t[$s].createComment("")},Qu=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Qu||{}),Ju=(()=>{let e=class{constructor(){this.impl=null}execute(){this.impl?.execute()}};return e.ɵprov=Pn({token:e,providedIn:"root",factory:()=>new e}),e})(),eg=class e{constructor(){this.ngZone=pr(Dl),this.scheduler=pr(Hh),this.errorHandler=pr(Pl,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let t of e.PHASES)for(let e of this.sequences)if(!e.erroredOrDestroyed&&e.hooks[t])try{e.pipelinedValue=this.ngZone.runOutsideAngular((()=>e.hooks[t](e.pipelinedValue)))}catch(t){e.erroredOrDestroyed=!0,this.errorHandler?.handleError(t)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};function tg(e,t,i,n){let r=Ko();return Ku(r,na(),t)&&(jo(),function(e,t,i,n,r,s){let o=To(e,t);!function(e,t,i,n,r,s,o){if(null==s)e.removeAttribute(t,r,i);else{let a=null==o?Zn(s):o(s,n||"",r);e.setAttribute(t,r,a,i)}}(t[$s],o,s,e.value,i,n,r)}(xa(),r,e,t,i,n)),tg}function ig(e,t,i,n){return Ku(e,na(),i)?t+Zn(i)+n:Rc}function ng(e,t,i,n,r,s){let o=ju(e,Bo.lFrame.bindingIndex,i,r);return ra(2),o?t+Zn(i)+n+Zn(r)+s:Rc}function rg(e,t){return e<<17|t<<2}function sg(e){return e>>17&32767}function og(e){return 2|e}function ag(e){return(131068&e)>>2}function lg(e,t){return-131069&e|t<<2}function dg(e){return 1|e}function cg(e,t,i,n){let r=e[i+1],s=null===t,o=n?sg(r):ag(r),a=!1;for(;0!==o&&(!1===a||s);){let i=e[o],r=e[o+1];hg(i,t)&&(a=!0,e[o+1]=n?dg(r):og(r)),o=n?sg(r):ag(r)}a&&(e[i+1]=n?og(r):dg(r))}function hg(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Er(e,t)>=0}eg.PHASES=[Qu.EarlyRead,Qu.Write,Qu.MixedReadWrite,Qu.Read],eg.ɵprov=Pn({token:eg,providedIn:"root",factory:()=>new eg});var ug={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gg(e){return e.substring(ug.key,ug.keyEnd)}function pg(e,t){let i=ug.textEnd;return i===t?-1:(t=ug.keyEnd=function(e,t,i){for(;t<i&&e.charCodeAt(t)>32;)t++;return t}(e,ug.key=t,i),mg(e,t,i))}function mg(e,t,i){for(;t<i&&e.charCodeAt(t)<=32;)t++;return t}function fg(e,t,i){let n=Ko();return Ku(n,na(),t)&&jc(jo(),xa(),n,e,t,n[$s],i,!1),fg}function vg(e,t,i,n,r){let s=r?"class":"style";dh(e,i,t.inputs[s],s,n)}function yg(e,t,i){return Cg(e,t,i,!1),yg}function xg(e,t){return Cg(e,t,null,!0),xg}function wg(e){Sg(Tg,_g,e,!0)}function _g(e,t){for(let i=function(e){return function(e){ug.key=0,ug.keyEnd=0,ug.value=0,ug.valueEnd=0,ug.textEnd=e.length}(e),pg(e,mg(e,0,ug.textEnd))}(t);i>=0;i=pg(t,i))Dr(e,gg(t),!0)}function Cg(e,t,i,n){let r=Ko(),s=jo(),o=ra(2);s.firstUpdatePass&&Dg(s,e,o,n),t!==Rc&&Ku(r,o,t)&&Rg(s,s.data[va()],r,r[$s],e,r[o+1]=function(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=En(vd(e)))),e}(t,i),n,o)}function Sg(e,t,i,n){let r=jo(),s=ra(2);r.firstUpdatePass&&Dg(r,null,s,n);let o=Ko();if(i!==Rc&&Ku(o,s,i)){let a=r.data[va()];if(Og(a,n)&&!bg(r,s)){let e=n?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(i=Tn(e,i||"")),vg(r,a,o,i,n)}else!function(e,t,i,n,r,s,o,a){r===Rc&&(r=Rr);let l=0,d=0,c=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;null!==c||null!==h;){let u,g=l<r.length?r[l+1]:void 0,p=d<s.length?s[d+1]:void 0,m=null;c===h?(l+=2,d+=2,g!==p&&(m=h,u=p)):null===h||null!==c&&c<h?(l+=2,m=c):(d+=2,m=h,u=p),null!==m&&Rg(e,t,i,n,m,u,o,a),c=l<r.length?r[l]:null,h=d<s.length?s[d]:null}}(r,a,o,o[$s],o[s+1],o[s+1]=function(e,t,i){if(null==i||""===i)return Rr;let n=[],r=vd(i);if(Array.isArray(r))for(let t=0;t<r.length;t++)e(n,r[t],!0);else if("object"==typeof r)for(let t in r)r.hasOwnProperty(t)&&e(n,t,r[t]);else"string"==typeof r&&t(n,r);return n}(e,t,i),n,s)}}function bg(e,t){return t>=e.expandoStartIndex}function Dg(e,t,i,n){let r=e.data;if(null===r[i+1]){let s=r[va()],o=bg(e,i);Og(s,n)&&null===t&&!o&&(t=!1),t=function(e,t,i,n){let r=function(e){let t=Bo.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),s=n?t.residualClasses:t.residualStyles;if(null===r)0===(n?t.classBindings:t.styleBindings)&&(i=Eg(i=Ig(null,e,t,i,n),t.attrs,n),s=null);else{let o=t.directiveStylingLast;if(-1===o||e[o]!==r)if(i=Ig(r,e,t,i,n),null===s){let i=function(e,t,i){let n=i?t.classBindings:t.styleBindings;if(0!==ag(n))return e[sg(n)]}(e,t,n);void 0!==i&&Array.isArray(i)&&(i=Ig(null,e,t,i[1],n),i=Eg(i,t.attrs,n),function(e,t,i,n){e[sg(i?t.classBindings:t.styleBindings)]=n}(e,t,n,i))}else s=function(e,t,i){let n,r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)n=Eg(n,e[s].hostAttrs,i);return Eg(n,t.attrs,i)}(e,t,n)}return void 0!==s&&(n?t.residualClasses=s:t.residualStyles=s),i}(r,s,t,n),function(e,t,i,n,r,s){let o=s?t.classBindings:t.styleBindings,a=sg(o),l=ag(o);e[n]=i;let d,c=!1;if(Array.isArray(i)){let e=i;d=e[1],(null===d||Er(e,d)>0)&&(c=!0)}else d=i;if(r)if(0!==l){let t=sg(e[a+1]);e[n+1]=rg(t,a),0!==t&&(e[t+1]=lg(e[t+1],n)),e[a+1]=function(e,t){return 131071&e|t<<17}(e[a+1],n)}else e[n+1]=rg(a,0),0!==a&&(e[a+1]=lg(e[a+1],n)),a=n;else e[n+1]=rg(l,0),0===a?a=n:e[l+1]=lg(e[l+1],n),l=n;c&&(e[n+1]=og(e[n+1])),cg(e,d,n,!0),cg(e,d,n,!1),function(e,t,i,n,r){let s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Er(s,t)>=0&&(i[n+1]=dg(i[n+1]))}(t,d,e,n,s),o=rg(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,i,o,n)}}function Ig(e,t,i,n,r){let s=null,o=i.directiveEnd,a=i.directiveStylingLast;for(-1===a?a=i.directiveStart:a++;a<o&&(s=t[a],n=Eg(n,s.hostAttrs,r),s!==e);)a++;return null!==e&&(i.directiveStylingLast=a),n}function Eg(e,t,i){let n=i?1:2,r=-1;if(null!==t)for(let s=0;s<t.length;s++){let o=t[s];"number"==typeof o?r=o:r===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Dr(e,o,!!i||t[++s]))}return void 0===e?null:e}function Tg(e,t,i){let n=String(t);""!==n&&!n.includes(" ")&&Dr(e,n,i)}function Rg(e,t,i,n,r,s,o,a){if(!(3&t.type))return;let l=e.data,d=l[a+1],c=function(e){return 1==(1&e)}(d)?Ag(l,t,i,r,ag(d),o):void 0;kg(c)||(kg(s)||function(e){return 2==(2&e)}(d)&&(s=Ag(l,null,i,r,a,o)),function(e,t,i,n,r){if(t)r?e.addClass(i,n):e.removeClass(i,n);else{let t=-1===n.indexOf("-")?void 0:ic.DashCase;null==r?e.removeStyle(i,n,t):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),t|=ic.Important),e.setStyle(i,n,r,t))}}(n,o,Eo(va(),i),r,s))}function Ag(e,t,i,n,r,s){let o,a=null===t;for(;r>0;){let t=e[r],s=Array.isArray(t),l=s?t[1]:t,d=null===l,c=i[r+1];c===Rc&&(c=d?Rr:void 0);let h=d?Ir(c,n):l===n?c:void 0;if(s&&!kg(h)&&(h=Ir(t,n)),kg(h)&&(o=h,a))return o;let u=e[r+1];r=a?sg(u):ag(u)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(o=Ir(e,n))}return o}function kg(e){return void 0!==e}function Og(e,t){return 0!=(e.flags&(t?8:16))}function Pg(e,t,i){Sg(Dr,_g,ig(Ko(),e,t,i),!0)}function Fg(e,t){Du("NgControlFlow");let i=Ko(),n=na(),r=i[n]!==Rc?i[n]:-1,s=-1!==r?Vg(i,io+r):void 0;if(Ku(i,n,e)){let n=Ye(null);try{if(void 0!==s&&function(e,t){let i=dc(e,0);void 0!==i&&cc(i[Ps],i)}(s),-1!==e){let n=io+e,r=Vg(i,n),s=function(e,t){return Ro(e,t)}(i[Ps],n),o=Lh(r,s.tView.ssrId);mh(r,gh(i,s,t,{dehydratedView:o}),0,ph(s,o))}}finally{Ye(n)}}else if(void 0!==s){let e=function(e,t){let i=oo+0;if(i<e.length)return e[i]}(s);void 0!==e&&(e[zs]=t)}}function Vg(e,t){return e[t]}function Mg(e,t,i,n){let r=Ko(),s=jo(),o=io+e,a=r[$s],l=s.firstCreatePass?function(e,t,i,n,r,s){let o=t.consts,a=Vc(t,e,2,n,Po(o,r));return Uc(t,i,a,Po(o,s)),null!==a.attrs&&Xh(a,a.attrs,!1),null!==a.mergedAttrs&&Xh(a,a.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,a),a}(o,s,r,t,i,n):s.data[o],d=Hg(s,r,l,a,t,e);r[o]=d;let c=go(l);return Zo(l,!0),Tc(a,d,l),!function(e){return 32==(32&e.flags)}(l)&&Ca()&&wc(s,r,d,l),0===Bo.lFrame.elementDepthCount&&Ul(d,r),Bo.lFrame.elementDepthCount++,c&&(Hc(s,r,l),Lc(s,l,r)),null!==n&&zc(r,l),Mg}function Ng(){let e=Yo();Qo()?Jo():(e=e.parent,Zo(e,!1));let t=e;(function(e){return Bo.skipHydrationRootTNode===e})(t)&&(Bo.skipHydrationRootTNode=null),Bo.lFrame.elementDepthCount--;let i=jo();return i.firstCreatePass&&(ba(i,e),ho(e)&&i.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(8&e.flags)}(t)&&vg(i,t,Ko(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&vg(i,t,Ko(),t.stylesWithoutHost,!1),Ng}function Lg(e,t,i,n){return Mg(e,t,i,n),Ng(),Lg}var Hg=(e,t,i,n,r,s)=>(Sa(!0),sc(n,r,Bo.lFrame.currentNamespace));function zg(e,t,i){let n=Ko(),r=jo(),s=e+io,o=r.firstCreatePass?function(e,t,i,n,r){let s=t.consts,o=Po(s,n),a=Vc(t,e,8,"ng-container",o);return null!==o&&Xh(a,o,!0),Uc(t,i,a,Po(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,n,t,i):r.data[s];Zo(o,!0);let a=$g(r,n,o,e);return n[s]=a,Ca()&&wc(r,n,a,o),Ul(a,n),go(o)&&(Hc(r,n,o),Lc(r,o,n)),null!=i&&zc(n,o),zg}function Bg(){let e=Yo(),t=jo();return Qo()?Jo():(e=e.parent,Zo(e,!1)),t.firstCreatePass&&(ba(t,e),ho(e)&&t.queries.elementEnd(e)),Bg}function Gg(e,t,i){return zg(e,t,i),Bg(),Gg}var $g=(e,t,i,n)=>(Sa(!0),function(e,t){return e.createComment(function(e){return e.replace(Qd,(e=>e.replace(Jd,"​$1​")))}(t))}(t[$s],""));function Wg(){return Ko()}function Kg(e,t,i){let n=Ko();return Ku(n,na(),t)&&jc(jo(),xa(),n,e,t,n[$s],i,!0),Kg}var jg=void 0,Ug=["en",[["a","p"],["AM","PM"],jg],[["AM","PM"],jg,jg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jg,"{1} 'at' {0}",jg],[".",",",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0%","¤#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}],qg={};function Yg(e){let t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),i=Xg(t);if(i)return i;let n=t.split("-")[0];if(i=Xg(n),i)return i;if("en"===n)return Ug;throw new wn(701,!1)}function Xg(e){return e in qg||(qg[e]=bn.ng&&bn.ng.common&&bn.ng.common.locales&&bn.ng.common.locales[e]),qg[e]}var Zg=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Zg||{}),Qg="en-US",Jg=(e,t,i)=>{};function ep(e,t,i,n){let r=Ko(),s=jo(),o=Yo();return tp(s,r,r[$s],o,e,t,n),ep}function tp(e,t,i,n,r,s,o){let a=go(n),l=e.firstCreatePass&&ah(e),d=t[zs],c=oh(t),h=!0;if(3&n.type||o){let u=To(n,t),g=o?o(u):u,p=c.length,m=o?e=>o(Io(e[n.index])):n.index,f=null;if(!o&&a&&(f=function(e,t,i,n){let r=e.cleanup;if(null!=r)for(let e=0;e<r.length-1;e+=2){let s=r[e];if(s===i&&r[e+1]===n){let i=t[Hs],n=r[e+2];return i.length>n?i[n]:null}"string"==typeof s&&(e+=2)}return null}(e,t,r,n.index)),null!==f)(f.__ngLastListenerFn__||f).__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,h=!1;else{s=np(n,t,d,s),Jg(u,r,s);let e=i.listen(g,r,s);c.push(s,e),l&&l.push(r,m,p,p+1)}}else s=np(n,t,d,s);let u,g=n.outputs;if(h&&null!==g&&(u=g[r])){let e=u.length;if(e)for(let i=0;i<e;i+=2){let e=u[i],o=u[i+1],a=t[e][o].subscribe(s),d=c.length;c.push(s,a),l&&l.push(r,n.index,d,-(d+1))}}}function ip(e,t,i,n){let r=Ye(null);try{return bo(6,t,i),!1!==i(n)}catch(t){return lh(e,t),!1}finally{bo(7,t,i),Ye(r)}}function np(e,t,i,n){return function r(s){if(s===Function)return n;Ah(e.componentOffset>-1?ko(e.index,t):t,5);let o=ip(t,i,n,s),a=r.__ngNextListenerFn__;for(;a;)o=ip(t,i,a,s)&&o,a=a.__ngNextListenerFn__;return o}}function rp(e=1){return function(e){return(Bo.lFrame.contextLView=function(e,t){for(;e>0;)t=t[js],e--;return t}(e,Bo.lFrame.contextLView))[zs]}(e)}function sp(e,t){let i=null,n=function(e){let t=e.attrs;if(null!=t){let e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(e);for(let r=0;r<t.length;r++){let s=t[r];if("*"!==s){if(null===n?Xr(e,s,!0):Zr(n,s))return r}else i=r}return i}function op(e){let t=Ko()[Us][Ns];if(!t.projection){let i=e?e.length:1,n=t.projection=function(e,t){let i=[];for(let t=0;t<e;t++)i.push(null);return i}(i),r=n.slice(),s=t.child;for(;null!==s;){if(128!==s.type){let t=e?sp(s,e):0;null!==t&&(r[t]?r[t].projectionNext=s:n[t]=s,r[t]=s)}s=s.next}}}function ap(e,t=0,i,n,r,s){let o=Ko(),a=jo(),l=n?e+1:null;null!==l&&Yu(o,a,l,n,r,s,null,i);let d=Vc(a,io+e,16,null,i||null);null===d.projection&&(d.projection=t),Jo();let c=!o[Ls]||Wo();null===o[Us][Ns].projection[d.projection]&&null!==l?function(e,t,i){let n=io+i,r=t.data[n],s=e[n],o=Lh(s,r.tView.ssrId);mh(s,gh(e,r,void 0,{dehydratedView:o}),0,ph(r,o))}(o,a,l):c&&32!=(32&d.flags)&&function(e,t,i){Ic(t[$s],0,t,i,uc(e,i,t),vc(i.parent||t[Ns],i,t))}(a,o,d)}function lp(e,t,i){return dp(e,"",t,"",i),lp}function dp(e,t,i,n,r){let s=Ko(),o=ig(s,t,i,n);return o!==Rc&&jc(jo(),xa(),s,e,o,s[$s],r,!1),dp}function cp(e,t,i,n,r,s,o){let a=Ko(),l=ng(a,t,i,n,r,s);return l!==Rc&&jc(jo(),xa(),a,e,l,a[$s],o,!1),cp}function hp(e,t,i,n){!function(e,t,i,n){let r=jo();if(r.firstCreatePass){let s=Yo();_u(r,new gu(t,i,n),s.index),function(e,t){let i=e.contentQueries||(e.contentQueries=[]);t!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,t)}(r,e),2==(2&i)&&(r.staticContentQueries=!0)}wu(r,Ko(),i)}(e,t,i,n)}function up(e,t,i){!function(e,t,i){let n=jo();n.firstCreatePass&&(_u(n,new gu(e,t,i),-1),2==(2&t)&&(n.staticViewQueries=!0)),wu(n,Ko(),t)}(e,t,i)}function gp(e){let t=Ko(),i=jo(),n=aa();la(n+1);let r=Cu(i,n);if(e.dirty&&function(e){return 4==(4&e[Fs])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{let i=Su(t,n);e.reset(i,Ll),e.notifyOnChanges()}return!0}return!1}function pp(){return function(e,t){return e[Xs].queries[t].queryList}(Ko(),aa())}function mp(e){return Ao(Bo.lFrame.contextLView,io+e)}function fp(e,t=""){let i=Ko(),n=jo(),r=e+io,s=n.firstCreatePass?Vc(n,r,1,t,null):n.data[r],o=vp(n,i,s,t,e);i[r]=o,Ca()&&wc(n,i,o,s),Zo(s,!1)}var vp=(e,t,i,n,r)=>(Sa(!0),function(e,t){return e.createText(t)}(t[$s],n));function yp(e){return xp("",e,""),yp}function xp(e,t,i){let n=Ko(),r=ig(n,e,t,i);return r!==Rc&&ch(n,va(),r),xp}function wp(e,t,i,n,r){let s=Ko(),o=ng(s,e,t,i,n,r);return o!==Rc&&ch(s,va(),o),wp}function _p(e,t,i){Tu(t)&&(t=t());let n=Ko();return Ku(n,na(),t)&&jc(jo(),xa(),n,e,t,n[$s],i,!1),_p}function Cp(e,t){let i=Tu(e);return i&&e.set(t),i}function Sp(e,t){let i=Ko(),n=jo(),r=Yo();return tp(n,i,i[$s],r,e,t),Sp}function bp(e,t,i,n,r){if(e=kn(e),Array.isArray(e))for(let s=0;s<e.length;s++)bp(e[s],t,i,n,r);else{let s=jo(),o=Ko(),a=Yo(),l=ws(e)?e:kn(e.provide),d=Rs(e),c=1048575&a.providerIndexes,h=a.directiveStart,u=a.providerIndexes>>20;if(ws(e)||!e.multi){let n=new Oa(d,r,Oc),g=Ep(l,t,r?c:c+u,h);-1===g?(Ua($a(a,o),s,l),Dp(s,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(n),o.push(n)):(i[g]=n,o[g]=n)}else{let g=Ep(l,t,c+u,h),p=Ep(l,t,c,c+u),m=g>=0&&i[g],f=p>=0&&i[p];if(r&&!f||!r&&!m){Ua($a(a,o),s,l);let c=function(e,t,i,n,r){let s=new Oa(e,i,Oc);return s.multi=[],s.index=t,s.componentProviders=0,Ip(s,r,n&&!i),s}(r?Rp:Tp,i.length,r,n,d);!r&&f&&(i[p].providerFactory=c),Dp(s,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(c),o.push(c)}else Dp(s,e,g>-1?g:p,Ip(i[r?p:g],d,!r&&n));!r&&n&&f&&i[p].componentProviders++}}}function Dp(e,t,i,n){let r=ws(t),s=function(e){return!!e.useClass}(t);if(r||s){let o=(s?kn(t.useClass):t).prototype.ngOnDestroy;if(o){let s=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let e=s.indexOf(i);-1===e?s.push(i,[n,o]):s[e+1].push(n,o)}else s.push(i,o)}}}function Ip(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function Ep(e,t,i,n){for(let r=i;r<n;r++)if(t[r]===e)return r;return-1}function Tp(e,t,i,n){return Ap(this.multi,[])}function Rp(e,t,i,n){let r,s=this.multi;if(this.providerFactory){let e=this.providerFactory.componentProviders,t=el(i,i[Ps],this.providerFactory.index,n);r=t.slice(0,e),Ap(s,r);for(let i=e;i<t.length;i++)r.push(t[i])}else r=[],Ap(s,r);return r}function Ap(e,t){for(let i=0;i<e.length;i++){let n=e[i];t.push(n())}return t}function kp(e,t=[]){return i=>{i.providersResolver=(i,n)=>function(e,t,i){let n=jo();if(n.firstCreatePass){let r=po(e);bp(i,n.data,n.blueprint,r,!0),bp(t,n.data,n.blueprint,r,!1)}}(i,n?n(e):e,t)}}var Op=(()=>{let e=class{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let t=ps(0,e.type),i=t.length>0?function(e,t,i=null){return new zu({providers:e,parent:t,debugName:i,runEnvironmentInitializers:!0}).injector}([t],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}};return e.ɵprov=Pn({token:e,providedIn:"environment",factory:()=>new e(gr(Is))}),e})();function Pp(e){Du("NgStandalone"),e.getStandaloneInjector=t=>t.get(Op).getOrCreateStandaloneInjector(e)}function Fp(e,t,i){let n=ia()+e,r=Ko();return r[n]===Rc?$u(r,n,i?t.call(i):t()):Wu(r,n)}function Vp(e,t,i,n){return Kp(Ko(),ia(),e,t,i,n)}function Mp(e,t,i,n,r){return jp(Ko(),ia(),e,t,i,n,r)}function Np(e,t,i,n,r,s){return Up(Ko(),ia(),e,t,i,n,r,s)}function Lp(e,t,i,n,r,s,o){return qp(Ko(),ia(),e,t,i,n,r,s,o)}function Hp(e,t,i,n,r,s,o,a){let l=ia()+e,d=Ko(),c=qu(d,l,i,n,r,s);return Ku(d,l+4,o)||c?$u(d,l+5,a?t.call(a,i,n,r,s,o):t(i,n,r,s,o)):Wu(d,l+5)}function zp(e,t,i,n,r,s,o,a,l){let d=ia()+e,c=Ko(),h=qu(c,d,i,n,r,s);return ju(c,d+4,o,a)||h?$u(c,d+6,l?t.call(l,i,n,r,s,o,a):t(i,n,r,s,o,a)):Wu(c,d+6)}function Bp(e,t,i,n,r,s,o,a,l,d){let c=ia()+e,h=Ko(),u=qu(h,c,i,n,r,s);return Uu(h,c+4,o,a,l)||u?$u(h,c+7,d?t.call(d,i,n,r,s,o,a,l):t(i,n,r,s,o,a,l)):Wu(h,c+7)}function Gp(e,t,i,n,r,s,o,a,l,d,c){let h=ia()+e,u=Ko(),g=qu(u,h,i,n,r,s);return qu(u,h+4,o,a,l,d)||g?$u(u,h+8,c?t.call(c,i,n,r,s,o,a,l,d):t(i,n,r,s,o,a,l,d)):Wu(u,h+8)}function $p(e,t,i,n){return Yp(Ko(),ia(),e,t,i,n)}function Wp(e,t){let i=e[t];return i===Rc?void 0:i}function Kp(e,t,i,n,r,s){let o=t+i;return Ku(e,o,r)?$u(e,o+1,s?n.call(s,r):n(r)):Wp(e,o+1)}function jp(e,t,i,n,r,s,o){let a=t+i;return ju(e,a,r,s)?$u(e,a+2,o?n.call(o,r,s):n(r,s)):Wp(e,a+2)}function Up(e,t,i,n,r,s,o,a){let l=t+i;return Uu(e,l,r,s,o)?$u(e,l+3,a?n.call(a,r,s,o):n(r,s,o)):Wp(e,l+3)}function qp(e,t,i,n,r,s,o,a,l){let d=t+i;return qu(e,d,r,s,o,a)?$u(e,d+4,l?n.call(l,r,s,o,a):n(r,s,o,a)):Wp(e,d+4)}function Yp(e,t,i,n,r,s){let o=t+i,a=!1;for(let t=0;t<r.length;t++)Ku(e,o++,r[t])&&(a=!0);return a?$u(e,o,n.apply(s,r)):Wp(e,o)}function Xp(e,t){let i,n=jo(),r=e+io;n.firstCreatePass?(i=function(e,t){if(t)for(let i=t.length-1;i>=0;i--){let n=t[i];if(e===n.name)return n}}(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let s=i.factory||(i.factory=_r(i.type)),o=nr(Oc);try{let e=La(!1),t=s();return La(e),function(e,t,i,n){i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=n}(n,Ko(),r,t),t}finally{nr(o)}}function Zp(e,t,i){let n=e+io,r=Ko(),s=Ao(r,n);return im(r,n)?Kp(r,ia(),t,s.transform,i,s):s.transform(i)}function Qp(e,t,i,n){let r=e+io,s=Ko(),o=Ao(s,r);return im(s,r)?jp(s,ia(),t,o.transform,i,n,o):o.transform(i,n)}function Jp(e,t,i,n,r){let s=e+io,o=Ko(),a=Ao(o,s);return im(o,s)?Up(o,ia(),t,a.transform,i,n,r,a):a.transform(i,n,r)}function em(e,t,i,n,r,s){let o=e+io,a=Ko(),l=Ao(a,o);return im(a,o)?qp(a,ia(),t,l.transform,i,n,r,s,l):l.transform(i,n,r,s)}function tm(e,t,i){let n=e+io,r=Ko(),s=Ao(r,n);return im(r,n)?Yp(r,ia(),t,s.transform,i,s):s.transform.apply(s,i)}function im(e,t){return e[Ps].data[t].pure}function nm(e,t){return Mh(e,t)}var rm,sm=new Gn(""),om=new Gn(""),am=(()=>{let e=class{constructor(e,t,i){this._ngZone=e,this.registry=t,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,rm||(function(e){rm=e}(i),i.addToWindow(t)),this._watchAngularEvents(),e.run((()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")}))}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular((()=>{this._ngZone.onStable.subscribe({next:()=>{Dl.assertNotInAngularZone(),queueMicrotask((()=>{this._isZoneStable=!0,this._runCallbacksIfReady()}))}})}))}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask((()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}}));else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter((t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((e=>({source:e.source,creationLocation:e.creationLocation,data:e.data}))):[]}addCallback(e,t,i){let n=-1;t&&t>0&&(n=setTimeout((()=>{this._callbacks=this._callbacks.filter((e=>e.timeoutId!==n)),e()}),t)),this._callbacks.push({doneCb:e,timeoutId:n,updateCb:i})}whenStable(e,t,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,i),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,t,i){return[]}};return e.ɵfac=function(t){return new(t||e)(gr(Dl),gr(lm),gr(om))},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),lm=(()=>{let e=class{constructor(){this._applications=new Map}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return rm?.findTestabilityInTree(this,e,t)??null}};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"platform"}),e})();function dm(e){return!!e&&"function"==typeof e.then}function cm(e){return!!e&&"function"==typeof e.subscribe}var hm=new Gn(""),um=(()=>{let e=class{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),this.appInits=pr(hm,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let t of this.appInits){let i=t();if(dm(i))e.push(i);else if(cm(i)){let t=new Promise(((e,t)=>{i.subscribe({complete:e,error:t})}));e.push(t)}}let t=()=>{this.done=!0,this.resolve()};Promise.all(e).then((()=>{t()})).catch((e=>{this.reject(e)})),0===e.length&&t(),this.initialized=!0}};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),gm=new Gn("");function pm(){ft=()=>{throw new wn(600,!1)}}function mm(e,t){return Array.isArray(t)?t.reduce(mm,e):ke(ke({},e),t)}var fm=(()=>{let e=class{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=pr(Fl),this.afterRenderManager=pr(Ju),this.zonelessEnabled=pr(zh),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ei,this.afterTick=new ei,this.componentTypes=[],this.components=[],this.isStable=pr(vl).hasPendingTasks.pipe(Bi((e=>!e))),this._injector=pr(Is)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let e;return new Promise((t=>{e=this.isStable.subscribe({next:e=>{e&&t()}})})).finally((()=>{e.unsubscribe()}))}get injector(){return this._injector}bootstrap(e,t){let i,n=e instanceof Wh;if(!this._injector.get(um).done)throw!n&&function(e){let t=as(e)||ls(e)||ds(e);null!==t&&t.standalone}(e),new wn(405,!1);i=n?e:this._injector.get(jh).resolveComponentFactory(e),this.componentTypes.push(i.componentType);let r=function(e){return e.isBoundToModule}(i)?void 0:this._injector.get(Mu),s=t||i.selector,o=i.create(hl.NULL,[],s,r),a=o.location.nativeElement,l=o.injector.get(sm,null);return l?.registerApplication(a),o.onDestroy((()=>{this.detachView(o.hostView),vm(this.components,o),l?.unregisterApplication(a)})),this._loadComponent(o),o}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new wn(101,!1);let e=Ye(null);try{this._runningTick=!0,this.synchronize()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1,Ye(e),this.afterTick.next()}}synchronize(){let e=null;this._injector.destroyed||(e=this._injector.get(Uh,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let t=0;for(;0!==this.dirtyFlags&&t++<10;)this.synchronizeOnce(e)}synchronizeOnce(e){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){let e=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(e);for(let{_lView:t,notifyErrorHandler:i}of this._views)ym(t,i,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else e?.begin?.(),e?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some((({_lView:e})=>Mo(e)))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(e){let t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){let t=e;vm(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let t=this._injector.get(gm,[]);[...this._bootstrapListeners,...t].forEach((t=>t(e)))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach((e=>e())),this._views.slice().forEach((e=>e.destroy()))}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>vm(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new wn(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})();function vm(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function ym(e,t,i,n){(i||Mo(e))&&Sh(e,t,i&&!n?0:1)}new Gn("");var xm=(()=>{let e=class{constructor(){this.zone=pr(Dl),this.changeDetectionScheduler=pr(Hh),this.applicationRef=pr(fm)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run((()=>{this.applicationRef.tick()}))}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})();function wm({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:i}){return e??=()=>new Dl(Oe(ke({},_m()),{scheduleInRootZone:i})),[{provide:Dl,useFactory:e},{provide:Ar,multi:!0,useFactory:()=>{let e=pr(xm,{optional:!0});return()=>e.initialize()}},{provide:Ar,multi:!0,useFactory:()=>{let e=pr(Cm);return()=>{e.initialize()}}},!0===t?{provide:Bh,useValue:!0}:[],{provide:Gh,useValue:i??gl}]}function _m(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var Cm=(()=>{let e=class{constructor(){this.subscription=new Dt,this.initialized=!1,this.zone=pr(Dl),this.pendingTasks=pr(vl)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular((()=>{this.subscription.add(this.zone.onStable.subscribe((()=>{Dl.assertNotInAngularZone(),queueMicrotask((()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)}))})))})),this.subscription.add(this.zone.onUnstable.subscribe((()=>{Dl.assertInAngularZone(),e??=this.pendingTasks.add()})))}ngOnDestroy(){this.subscription.unsubscribe()}};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Sm=(()=>{let e=class{constructor(){this.appRef=pr(fm),this.taskService=pr(vl),this.ngZone=pr(Dl),this.zonelessEnabled=pr(zh),this.disableScheduling=pr(Bh,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Dt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Sl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(pr(Gh,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe((()=>{this.runningTick||this.cleanup()}))),this.subscriptions.add(this.ngZone.onUnstable.subscribe((()=>{this.runningTick||this.cleanup()}))),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof kl||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&5===e)return;switch(e){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let t=this.useMicrotaskScheduler?_l:wl;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run((()=>t((()=>this.tick())))):this.cancelScheduledCallback=this.ngZone.runOutsideAngular((()=>t((()=>this.tick()))))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Sl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run((()=>{this.runningTick=!0,this.appRef._tick()}),void 0,this.schedulerTickApplyArgs)}catch(t){throw this.taskService.remove(e),t}finally{this.cleanup()}this.useMicrotaskScheduler=!0,_l((()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)}))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),bm=new Gn("",{providedIn:"root",factory:()=>pr(bm,tr.Optional|tr.SkipSelf)||typeof $localize<"u"&&$localize.locale||Qg}),Dm=new Gn("",{providedIn:"root",factory:()=>"USD"}),Im=new Gn("");function Em(e){return!!e.platformInjector}var Tm=(()=>{let e=class{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){let i=t?.scheduleInRootZone,n=t?.ignoreChangesOutsideZone,r=[wm({ngZoneFactory:()=>function(e="zone.js",t){return"noop"===e?new kl:"zone.js"===e?new Dl(t):e}(t?.ngZone,Oe(ke({},_m({eventCoalescing:t?.ngZoneEventCoalescing,runCoalescing:t?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),ignoreChangesOutsideZone:n}),{provide:Hh,useExisting:Sm}],s=function(e,t,i){return new Lu(e,t,i,!1)}(e.moduleType,this.injector,r);return function(e){let t=Em(e)?e.r3Injector:e.moduleRef.injector,i=t.get(Dl);return i.run((()=>{Em(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let n,r=t.get(Pl,null);if(i.runOutsideAngular((()=>{n=i.onError.subscribe({next:e=>{r.handleError(e)}})})),Em(e)){let i=()=>t.destroy(),r=e.platformInjector.get(Im);r.add(i),t.onDestroy((()=>{n.unsubscribe(),r.delete(i)}))}else e.moduleRef.onDestroy((()=>{vm(e.allPlatformModules,e.moduleRef),n.unsubscribe()}));return function(e,t,i){try{let n=i();return dm(n)?n.catch((i=>{throw t.runOutsideAngular((()=>e.handleError(i))),i})):n}catch(i){throw t.runOutsideAngular((()=>e.handleError(i))),i}}(r,i,(()=>{let i=t.get(um);return i.runInitializers(),i.donePromise.then((()=>{if(function(e){"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}(t.get(bm,Qg)||Qg),Em(e)){let i=t.get(fm);return void 0!==e.rootComponent&&i.bootstrap(e.rootComponent),i}return function(e,t){let i=e.injector.get(fm);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((e=>i.bootstrap(e)));else{if(!e.instance.ngDoBootstrap)throw new wn(-403,!1);e.instance.ngDoBootstrap(i)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef}))}))}))}({moduleRef:s,allPlatformModules:this._modules})}bootstrapModule(e,t=[]){let i=mm({},t);return function(e,t,i){let n=new Hu(i);return Promise.resolve(n)}(this.injector,0,e).then((e=>this.bootstrapModuleFactory(e,i)))}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new wn(404,!1);this._modules.slice().forEach((e=>e.destroy())),this._destroyListeners.forEach((e=>e()));let e=this._injector.get(Im,null);e&&(e.forEach((e=>e())),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};return e.ɵfac=function(t){return new(t||e)(gr(hl))},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"platform"}),e})(),Rm=null,Am=new Gn("");function km(e,t,i=[]){let n=`Platform: ${t}`,r=new Gn(n);return(t=[])=>{let s=Om();if(!s||s.injector.get(Am,!1)){let s=[...i,...t,{provide:r,useValue:!0}];e?e(s):function(e){if(Rm&&!Rm.get(Am,!1))throw new wn(400,!1);pm(),Rm=e;let t=e.get(Tm);(function(e){e.get(ed,null)?.forEach((e=>e()))})(e)}(function(e=[],t){return hl.create({name:t,providers:[{provide:Cs,useValue:"platform"},{provide:Im,useValue:new Set([()=>Rm=null])},...e]})}(s,n))}return function(e){let t=Om();if(!t)throw new wn(401,!1);return t}()}}function Om(){return Rm?.get(Tm)??null}var Pm=(()=>{let e=class{};return e.__NG_ELEMENT_ID__=Fm,e})();function Fm(e){return function(e,t,i){if(uo(e)&&!i){let i=ko(e.index,t);return new kh(i,i)}if(175&e.type){let e=t[Us];return new kh(e,t)}return null}(Yo(),Ko(),16==(16&e))}var Vm=class{constructor(){}supports(e){return Bu(e)}create(e){return new Nm(e)}},Mm=(e,t)=>t,Nm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Mm}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,n=0,r=null;for(;t||i;){let s=!i||t&&t.currentIndex<zm(i,n,r)?t:i,o=zm(s,n,r),a=s.currentIndex;if(s===i)n--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)n++;else{r||(r=[]);let e=o-n,t=a-n;if(e!=t){for(let i=0;i<e;i++){let n=i<r.length?r[i]:r[i]=0,s=n+i;t<=s&&s<e&&(r[i]=n+1)}r[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Bu(e))throw new wn(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,i,n,r=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)i=e[t],n=this._trackByFn(t,i),null!==r&&Object.is(r.trackById,n)?(s&&(r=this._verifyReinsertion(r,i,n,t)),Object.is(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,n,t),s=!0),r=r._next}else t=0,function(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{let i,n=e[Symbol.iterator]();for(;!(i=n.next()).done;)t(i.value)}}(e,(e=>{n=this._trackByFn(t,e),null!==r&&Object.is(r.trackById,n)?(s&&(r=this._verifyReinsertion(r,e,n,t)),Object.is(r.item,e)||this._addIdentityChange(r,e)):(r=this._mismatch(r,e,n,t),s=!0),r=r._next,t++})),this.length=t;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,n){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,n)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,n))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,n)):e=this._addAfter(new Lm(t,i),r,n),e}_verifyReinsertion(e,t,i,n){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?e=this._reinsertAfter(r,e._prev,n):e.currentIndex!=n&&(e.currentIndex=n,this._addToMoves(e,n)),e}_truncate(e){for(;null!==e;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);let n=e._prevRemoved,r=e._nextRemoved;return null===n?this._removalsHead=r:n._nextRemoved=r,null===r?this._removalsTail=n:r._prevRemoved=n,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let n=null===t?this._itHead:t._next;return e._next=n,e._prev=t,null===n?this._itTail=e:n._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Hm),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Hm),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Lm=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Hm=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new class{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}},this.map.set(t,i)),i.add(e)}get(e,t){let i=e,n=this.map.get(i);return n?n.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}};function zm(e,t,i){let n=e.previousIndex;if(null===n)return n;let r=0;return i&&n<i.length&&(r=i[n]),n+t+r}var Bm=class{constructor(){}supports(e){return e instanceof Map||Gu(e)}create(){return new Gm}},Gm=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Gu(e)))throw new wn(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,((e,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{let n=this._getOrCreateRecordForKey(i,e);t=this._insertBeforeOrAppend(t,n)}})),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let n=i._prev,r=i._next;return n&&(n._next=r),r&&(r._prev=n),i._next=null,i._prev=null,i}let i=new $m(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((i=>t(e[i],i)))}},$m=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Wm(){return new Km([new Vm])}var Km=(()=>{let e=class e{constructor(e){this.factories=e}static create(t,i){if(null!=i){let e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||Wm()),deps:[[e,new wr,new xr]]}}find(e){let t=this.factories.find((t=>t.supports(e)));if(null!=t)return t;throw new wn(901,!1)}};return e.ɵprov=Pn({token:e,providedIn:"root",factory:Wm}),e})();function jm(){return new Um([new Bm])}var Um=(()=>{let e=class e{constructor(e){this.factories=e}static create(t,i){if(i){let e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||jm()),deps:[[e,new wr,new xr]]}}find(e){let t=this.factories.find((t=>t.supports(e)));if(t)return t;throw new wn(901,!1)}};return e.ɵprov=Pn({token:e,providedIn:"root",factory:jm}),e})(),qm=km(null,"core",[]),Ym=(()=>{let e=class{constructor(e){}};return e.ɵfac=function(t){return new(t||e)(gr(fm))},e.ɵmod=ns({type:e}),e.ɵinj=Fn({}),e})(),Xm=new Gn("");function Zm(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function Qm(e,t){Du("NgSignals");let i=function(e){let t=Object.create(mt);t.computation=e;let i=()=>{if(Qe(t),Ze(t),t.value===pt)throw t.error;return t.value};return i[qe]=t,i}(e);return t?.equal&&(i[qe].equal=t.equal),i}function Jm(e){let t=Ye(null);try{return e()}finally{Ye(t)}}function ef(e,t){let i=as(e),n=t.elementInjector||Ds();return new Jh(i).create(n,t.projectableNodes,t.hostElement,t.environmentInjector)}function tf(e){let t=as(e);if(!t)return null;let i=new Jh(t);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var nf=null;function rf(){return nf}var sf=class{},of=new Gn(""),af={ADP:[void 0,void 0,0],AFN:[void 0,"؋",0],ALL:[void 0,void 0,0],AMD:[void 0,"֏",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"₼"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"৳"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN¥","¥"],COP:[void 0,"$",2],CRC:[void 0,"₡",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"Kč",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E£"],ESP:[void 0,"₧",0],EUR:["€"],FJD:[void 0,"$"],FKP:[void 0,"£"],GBP:["£"],GEL:[void 0,"₾"],GHS:[void 0,"GH₵"],GIP:[void 0,"£"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["₪"],INR:["₹"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["¥",void 0,0],KHR:[void 0,"៛"],KMF:[void 0,"CF",0],KPW:[void 0,"₩",0],KRW:["₩",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"₸"],LAK:[void 0,"₭",0],LBP:[void 0,"L£",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"₮",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"₦"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["₱"],PKR:[void 0,"Rs",2],PLN:[void 0,"zł"],PYG:[void 0,"₲",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"₽"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"£"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"£"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"£",0],THB:[void 0,"฿"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"₺"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"₴"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["₫",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["¤"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},lf=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(lf||{}),df=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(df||{}),cf=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(cf||{}),hf=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(hf||{}),uf={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function gf(e){return Yg(e)[Zg.FirstDayOfWeek]}function pf(e,t){return _f(Yg(e)[Zg.DateFormat],t)}function mf(e,t){return _f(Yg(e)[Zg.TimeFormat],t)}function ff(e,t){return _f(Yg(e)[Zg.DateTimeFormat],t)}function vf(e,t){let i=Yg(e),n=i[Zg.NumberSymbols][t];if(typeof n>"u"){if(t===uf.CurrencyDecimal)return i[Zg.NumberSymbols][uf.Decimal];if(t===uf.CurrencyGroup)return i[Zg.NumberSymbols][uf.Group]}return n}function yf(e,t){return Yg(e)[Zg.NumberFormats][t]}function xf(e){return function(e){return Yg(e)[Zg.CurrencyCode]||null}(e)}function wf(e){if(!e[Zg.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Zg.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function _f(e,t){for(let i=t;i>-1;i--)if(typeof e[i]<"u")return e[i];throw new Error("Locale data API: locale data undefined")}function Cf(e){let[t,i]=e.split(":");return{hours:+t,minutes:+i}}function Sf(e,t,i="en"){let n=function(e){return Yg(e)[Zg.Currencies]}(i)[e]||af[e]||[],r=n[1];return"narrow"===t&&"string"==typeof r?r:n[0]||e}var bf=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Df={},If=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Ef=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(Ef||{}),Tf=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(Tf||{}),Rf=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(Rf||{});function Af(e,t,i,n){let r=function(e){if(Kf(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[t,i=1,n=1]=e.split("-").map((e=>+e));return kf(t,i-1,n)}let t,i=parseFloat(e);if(!isNaN(e-i))return new Date(i);if(t=e.match(bf))return function(e){let t=new Date(0),i=0,n=0,r=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(i=Number(e[9]+e[10]),n=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let o=Number(e[4]||0)-i,a=Number(e[5]||0)-n,l=Number(e[6]||0),d=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return s.call(t,o,a,l,d),t}(t)}let t=new Date(e);if(!Kf(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=Of(i,t)||t;let s,o=[];for(;t;){if(s=If.exec(t),!s){o.push(t);break}{o=o.concat(s.slice(1));let e=o.pop();if(!e)break;t=e}}let a=r.getTimezoneOffset();n&&(a=Wf(n,a),r=function(e,t,i){let n=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(Wf(t,n)-n))}(r,n));let l="";return o.forEach((e=>{let t=function(e){if($f[e])return $f[e];let t;switch(e){case"G":case"GG":case"GGG":t=Mf(Rf.Eras,cf.Abbreviated);break;case"GGGG":t=Mf(Rf.Eras,cf.Wide);break;case"GGGGG":t=Mf(Rf.Eras,cf.Narrow);break;case"y":t=Vf(Tf.FullYear,1,0,!1,!0);break;case"yy":t=Vf(Tf.FullYear,2,0,!0,!0);break;case"yyy":t=Vf(Tf.FullYear,3,0,!1,!0);break;case"yyyy":t=Vf(Tf.FullYear,4,0,!1,!0);break;case"Y":t=Gf(1);break;case"YY":t=Gf(2,!0);break;case"YYY":t=Gf(3);break;case"YYYY":t=Gf(4);break;case"M":case"L":t=Vf(Tf.Month,1,1);break;case"MM":case"LL":t=Vf(Tf.Month,2,1);break;case"MMM":t=Mf(Rf.Months,cf.Abbreviated);break;case"MMMM":t=Mf(Rf.Months,cf.Wide);break;case"MMMMM":t=Mf(Rf.Months,cf.Narrow);break;case"LLL":t=Mf(Rf.Months,cf.Abbreviated,df.Standalone);break;case"LLLL":t=Mf(Rf.Months,cf.Wide,df.Standalone);break;case"LLLLL":t=Mf(Rf.Months,cf.Narrow,df.Standalone);break;case"w":t=Bf(1);break;case"ww":t=Bf(2);break;case"W":t=Bf(1,!0);break;case"d":t=Vf(Tf.Date,1);break;case"dd":t=Vf(Tf.Date,2);break;case"c":case"cc":t=Vf(Tf.Day,1);break;case"ccc":t=Mf(Rf.Days,cf.Abbreviated,df.Standalone);break;case"cccc":t=Mf(Rf.Days,cf.Wide,df.Standalone);break;case"ccccc":t=Mf(Rf.Days,cf.Narrow,df.Standalone);break;case"cccccc":t=Mf(Rf.Days,cf.Short,df.Standalone);break;case"E":case"EE":case"EEE":t=Mf(Rf.Days,cf.Abbreviated);break;case"EEEE":t=Mf(Rf.Days,cf.Wide);break;case"EEEEE":t=Mf(Rf.Days,cf.Narrow);break;case"EEEEEE":t=Mf(Rf.Days,cf.Short);break;case"a":case"aa":case"aaa":t=Mf(Rf.DayPeriods,cf.Abbreviated);break;case"aaaa":t=Mf(Rf.DayPeriods,cf.Wide);break;case"aaaaa":t=Mf(Rf.DayPeriods,cf.Narrow);break;case"b":case"bb":case"bbb":t=Mf(Rf.DayPeriods,cf.Abbreviated,df.Standalone,!0);break;case"bbbb":t=Mf(Rf.DayPeriods,cf.Wide,df.Standalone,!0);break;case"bbbbb":t=Mf(Rf.DayPeriods,cf.Narrow,df.Standalone,!0);break;case"B":case"BB":case"BBB":t=Mf(Rf.DayPeriods,cf.Abbreviated,df.Format,!0);break;case"BBBB":t=Mf(Rf.DayPeriods,cf.Wide,df.Format,!0);break;case"BBBBB":t=Mf(Rf.DayPeriods,cf.Narrow,df.Format,!0);break;case"h":t=Vf(Tf.Hours,1,-12);break;case"hh":t=Vf(Tf.Hours,2,-12);break;case"H":t=Vf(Tf.Hours,1);break;case"HH":t=Vf(Tf.Hours,2);break;case"m":t=Vf(Tf.Minutes,1);break;case"mm":t=Vf(Tf.Minutes,2);break;case"s":t=Vf(Tf.Seconds,1);break;case"ss":t=Vf(Tf.Seconds,2);break;case"S":t=Vf(Tf.FractionalSeconds,1);break;case"SS":t=Vf(Tf.FractionalSeconds,2);break;case"SSS":t=Vf(Tf.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Nf(Ef.Short);break;case"ZZZZZ":t=Nf(Ef.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Nf(Ef.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Nf(Ef.Long);break;default:return null}return $f[e]=t,t}(e);l+=t?t(r,i,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),l}function kf(e,t,i){let n=new Date(0);return n.setFullYear(e,t,i),n.setHours(0,0,0),n}function Of(e,t){let i=function(e){return Yg(e)[Zg.LocaleId]}(e);if(Df[i]??={},Df[i][t])return Df[i][t];let n="";switch(t){case"shortDate":n=pf(e,hf.Short);break;case"mediumDate":n=pf(e,hf.Medium);break;case"longDate":n=pf(e,hf.Long);break;case"fullDate":n=pf(e,hf.Full);break;case"shortTime":n=mf(e,hf.Short);break;case"mediumTime":n=mf(e,hf.Medium);break;case"longTime":n=mf(e,hf.Long);break;case"fullTime":n=mf(e,hf.Full);break;case"short":let t=Of(e,"shortTime"),i=Of(e,"shortDate");n=Pf(ff(e,hf.Short),[t,i]);break;case"medium":let r=Of(e,"mediumTime"),s=Of(e,"mediumDate");n=Pf(ff(e,hf.Medium),[r,s]);break;case"long":let o=Of(e,"longTime"),a=Of(e,"longDate");n=Pf(ff(e,hf.Long),[o,a]);break;case"full":let l=Of(e,"fullTime"),d=Of(e,"fullDate");n=Pf(ff(e,hf.Full),[l,d])}return n&&(Df[i][t]=n),n}function Pf(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,i){return null!=t&&i in t?t[i]:e}))),e}function Ff(e,t,i="-",n,r){let s="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,s=i));let o=String(e);for(;o.length<t;)o="0"+o;return n&&(o=o.slice(o.length-t)),s+o}function Vf(e,t,i=0,n=!1,r=!1){return function(s,o){let a=function(e,t){switch(e){case Tf.FullYear:return t.getFullYear();case Tf.Month:return t.getMonth();case Tf.Date:return t.getDate();case Tf.Hours:return t.getHours();case Tf.Minutes:return t.getMinutes();case Tf.Seconds:return t.getSeconds();case Tf.FractionalSeconds:return t.getMilliseconds();case Tf.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((i>0||a>-i)&&(a+=i),e===Tf.Hours)0===a&&-12===i&&(a=12);else if(e===Tf.FractionalSeconds)return function(e,t){return Ff(e,3).substring(0,t)}(a,t);let l=vf(o,uf.MinusSign);return Ff(a,t,l,n,r)}}function Mf(e,t,i=df.Format,n=!1){return function(r,s){return function(e,t,i,n,r,s){switch(i){case Rf.Months:return function(e,t,i){let n=Yg(e),r=_f([n[Zg.MonthsFormat],n[Zg.MonthsStandalone]],t);return _f(r,i)}(t,r,n)[e.getMonth()];case Rf.Days:return function(e,t,i){let n=Yg(e),r=_f([n[Zg.DaysFormat],n[Zg.DaysStandalone]],t);return _f(r,i)}(t,r,n)[e.getDay()];case Rf.DayPeriods:let o=e.getHours(),a=e.getMinutes();if(s){let e=function(e){let t=Yg(e);return wf(t),(t[Zg.ExtraData][2]||[]).map((e=>"string"==typeof e?Cf(e):[Cf(e[0]),Cf(e[1])]))}(t),i=function(e,t,i){let n=Yg(e);wf(n);let r=_f([n[Zg.ExtraData][0],n[Zg.ExtraData][1]],t)||[];return _f(r,i)||[]}(t,r,n),s=e.findIndex((e=>{if(Array.isArray(e)){let[t,i]=e,n=o>=t.hours&&a>=t.minutes,r=o<i.hours||o===i.hours&&a<i.minutes;if(t.hours<i.hours){if(n&&r)return!0}else if(n||r)return!0}else if(e.hours===o&&e.minutes===a)return!0;return!1}));if(-1!==s)return i[s]}return function(e,t,i){let n=Yg(e),r=_f([n[Zg.DayPeriodsFormat],n[Zg.DayPeriodsStandalone]],t);return _f(r,i)}(t,r,n)[o<12?0:1];case Rf.Eras:return function(e,t){return _f(Yg(e)[Zg.Eras],t)}(t,n)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${i}`)}}(r,s,e,t,i,n)}}function Nf(e){return function(t,i,n){let r=-1*n,s=vf(i,uf.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case Ef.Short:return(r>=0?"+":"")+Ff(o,2,s)+Ff(Math.abs(r%60),2,s);case Ef.ShortGMT:return"GMT"+(r>=0?"+":"")+Ff(o,1,s);case Ef.Long:return"GMT"+(r>=0?"+":"")+Ff(o,2,s)+":"+Ff(Math.abs(r%60),2,s);case Ef.Extended:return 0===n?"Z":(r>=0?"+":"")+Ff(o,2,s)+":"+Ff(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}var Lf=0,Hf=4;function zf(e){let t=e.getDay(),i=0===t?-3:Hf-t;return kf(e.getFullYear(),e.getMonth(),e.getDate()+i)}function Bf(e,t=!1){return function(i,n){let r;if(t){let e=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,t=i.getDate();r=1+Math.floor((t+e)/7)}else{let e=zf(i),t=function(e){let t=kf(e,Lf,1).getDay();return kf(e,0,1+(t<=Hf?Hf:Hf+7)-t)}(e.getFullYear()),n=e.getTime()-t.getTime();r=1+Math.round(n/6048e5)}return Ff(r,e,vf(n,uf.MinusSign))}}function Gf(e,t=!1){return function(i,n){return Ff(zf(i).getFullYear(),e,vf(n,uf.MinusSign),t)}}var $f={};function Wf(e,t){e=e.replace(/:/g,"");let i=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(i)?t:i}function Kf(e){return e instanceof Date&&!isNaN(e.valueOf())}var jf=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Uf=22,qf=".",Yf="0",Xf=";",Zf=",",Qf="#";function Jf(e,t,i,n,r,s,o=!1){let a="",l=!1;if(isFinite(e)){let d=function(e){let t,i,n,r,s,o=Math.abs(e)+"",a=0;for((i=o.indexOf(qf))>-1&&(o=o.replace(qf,"")),(n=o.search(/e/i))>0?(i<0&&(i=n),i+=+o.slice(n+1),o=o.substring(0,n)):i<0&&(i=o.length),n=0;o.charAt(n)===Yf;n++);if(n===(s=o.length))t=[0],i=1;else{for(s--;o.charAt(s)===Yf;)s--;for(i-=n,t=[],r=0;n<=s;n++,r++)t[r]=Number(o.charAt(n))}return i>Uf&&(t=t.splice(0,Uf-1),a=i-1,i=1),{digits:t,exponent:a,integerLen:i}}(e);o&&(d=function(e){if(0===e.digits[0])return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(d));let c=t.minInt,h=t.minFrac,u=t.maxFrac;if(s){let e=s.match(jf);if(null===e)throw new Error(`${s} is not a valid digit info`);let t=e[1],i=e[3],n=e[5];null!=t&&(c=rv(t)),null!=i&&(h=rv(i)),null!=n?u=rv(n):null!=i&&h>u&&(u=h)}!function(e,t,i){if(t>i)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${i}).`);let n=e.digits,r=n.length-e.integerLen,s=Math.min(Math.max(t,r),i),o=s+e.integerLen,a=n[o];if(o>0){n.splice(Math.max(e.integerLen,o));for(let e=o;e<n.length;e++)n[e]=0}else{r=Math.max(0,r),e.integerLen=1,n.length=Math.max(1,o=s+1),n[0]=0;for(let e=1;e<o;e++)n[e]=0}if(a>=5)if(o-1<0){for(let t=0;t>o;t--)n.unshift(0),e.integerLen++;n.unshift(1),e.integerLen++}else n[o-1]++;for(;r<Math.max(0,s);r++)n.push(0);let l=0!==s,d=t+e.integerLen,c=n.reduceRight((function(e,t,i,n){return t+=e,n[i]=t<10?t:t-10,l&&(0===n[i]&&i>=d?n.pop():l=!1),t>=10?1:0}),0);c&&(n.unshift(c),e.integerLen++)}(d,h,u);let g=d.digits,p=d.integerLen,m=d.exponent,f=[];for(l=g.every((e=>!e));p<c;p++)g.unshift(0);for(;p<0;p++)g.unshift(0);p>0?f=g.splice(p,g.length):(f=g,g=[0]);let v=[];for(g.length>=t.lgSize&&v.unshift(g.splice(-t.lgSize,g.length).join(""));g.length>t.gSize;)v.unshift(g.splice(-t.gSize,g.length).join(""));g.length&&v.unshift(g.join("")),a=v.join(vf(i,n)),f.length&&(a+=vf(i,r)+f.join("")),m&&(a+=vf(i,uf.Exponential)+"+"+m)}else a=vf(i,uf.Infinity);return a=e<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function ev(e,t,i,n,r){let s=nv(yf(t,lf.Currency),vf(t,uf.MinusSign));return s.minFrac=function(e){let t,i=af[e];return i&&(t=i[2]),"number"==typeof t?t:2}(n),s.maxFrac=s.minFrac,Jf(e,s,t,uf.CurrencyGroup,uf.CurrencyDecimal,r).replace("¤",i).replace("¤","").trim()}function tv(e,t,i){return Jf(e,nv(yf(t,lf.Percent),vf(t,uf.MinusSign)),t,uf.Group,uf.Decimal,i,!0).replace(new RegExp("%","g"),vf(t,uf.PercentSign))}function iv(e,t,i){return Jf(e,nv(yf(t,lf.Decimal),vf(t,uf.MinusSign)),t,uf.Group,uf.Decimal,i)}function nv(e,t="-"){let i={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=e.split(Xf),r=n[0],s=n[1],o=-1!==r.indexOf(qf)?r.split(qf):[r.substring(0,r.lastIndexOf(Yf)+1),r.substring(r.lastIndexOf(Yf)+1)],a=o[0],l=o[1]||"";i.posPre=a.substring(0,a.indexOf(Qf));for(let e=0;e<l.length;e++){let t=l.charAt(e);t===Yf?i.minFrac=i.maxFrac=e+1:t===Qf?i.maxFrac=e+1:i.posSuf+=t}let d=a.split(Zf);if(i.gSize=d[1]?d[1].length:0,i.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,s){let e=r.length-i.posPre.length-i.posSuf.length,t=s.indexOf(Qf);i.negPre=s.substring(0,t).replace(/'/g,""),i.negSuf=s.slice(t+e).replace(/'/g,"")}else i.negPre=t+i.posPre,i.negSuf=i.posSuf;return i}function rv(e){let t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var sv=/\s+/,ov=[],av=(()=>{let e=class{constructor(e,t){this._ngEl=e,this._renderer=t,this.initialClasses=ov,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(sv):ov}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(sv):e}ngDoCheck(){for(let e of this.initialClasses)this._updateState(e,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let t of e)this._updateState(t,!0);else if(null!=e)for(let t of Object.keys(e))this._updateState(t,!!e[t]);this._applyStateDiff()}_updateState(e,t){let i=this.stateMap.get(e);void 0!==i?(i.enabled!==t&&(i.changed=!0,i.enabled=t),i.touched=!0):this.stateMap.set(e,{enabled:t,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let t=e[0],i=e[1];i.changed?(this._toggleClass(t,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(t,!1),this.stateMap.delete(t)),i.touched=!1}}_toggleClass(e,t){(e=e.trim()).length>0&&e.split(sv).forEach((e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)}))}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(qh))},e.ɵdir=ss({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0}),e})(),lv=(()=>{let e=class{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,t,i){this._viewContainer=e,this._template=t,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let t=this._viewContainer;e.forEachOperation(((e,i,n)=>{if(null==e.previousIndex)t.createEmbeddedView(this._template,new class{constructor(e,t,i,n){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}(e.item,this._ngForOf,-1,-1),null===n?void 0:n);else if(null==n)t.remove(null===i?void 0:i);else if(null!==i){let r=t.get(i);t.move(r,n),dv(r,e)}}));for(let e=0,i=t.length;e<i;e++){let n=t.get(e).context;n.index=e,n.count=i,n.ngForOf=this._ngForOf}e.forEachIdentityChange((e=>{dv(t.get(e.currentIndex),e)}))}static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)(Oc(iu),Oc(Oh),Oc(Km))},e.ɵdir=ss({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function dv(e,t){e.context.$implicit=t.item}var cv=(()=>{let e=class{constructor(e,t){this._viewContainer=e,this._context=new hv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){uv("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){uv("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)(Oc(iu),Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})(),hv=class{constructor(){this.$implicit=null,this.ngIf=null}};function uv(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${En(t)}'.`)}var gv=class{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},pv=(()=>{let e=class{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){let t=e===this._ngSwitch;return this._lastCasesMatched||=t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(let t of this._defaultViews)t.enforceState(e)}}};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),mv=(()=>{let e=class{constructor(e,t,i){this.ngSwitch=i,i._addCase(),this._view=new gv(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}};return e.ɵfac=function(t){return new(t||e)(Oc(iu),Oc(Oh),Oc(pv,9))},e.ɵdir=ss({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})(),fv=(()=>{let e=class{constructor(e,t,i){i._addDefault(new gv(e,t))}};return e.ɵfac=function(t){return new(t||e)(Oc(iu),Oc(Oh),Oc(pv,9))},e.ɵdir=ss({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),e})(),vv=(()=>{let e=class{constructor(e,t,i){this._ngEl=e,this._differs=t,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){let[i,n]=e.split("."),r=-1===i.indexOf("-")?void 0:ic.DashCase;null!=t?this._renderer.setStyle(this._ngEl.nativeElement,i,n?`${t}${n}`:t,r):this._renderer.removeStyle(this._ngEl.nativeElement,i,r)}_applyChanges(e){e.forEachRemovedItem((e=>this._setStyle(e.key,null))),e.forEachAddedItem((e=>this._setStyle(e.key,e.currentValue))),e.forEachChangedItem((e=>this._setStyle(e.key,e.currentValue)))}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(Um),Oc(qh))},e.ɵdir=ss({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),yv=(()=>{let e=class{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){let e=this._viewContainerRef;if(this._viewRef&&e.remove(e.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);let t=this._createContextForwardProxy();this._viewRef=e.createEmbeddedView(this.ngTemplateOutlet,t,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,t,i)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,t,i),get:(e,t,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,t,i)}})}};return e.ɵfac=function(t){return new(t||e)(Oc(iu))},e.ɵdir=ss({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[yo]}),e})();function xv(e,t){return new wn(2100,!1)}var wv=new class{createSubscription(e,t){return e.then(t,(e=>{throw e}))}dispose(e){}},_v=new class{createSubscription(e,t){return Jm((()=>e.subscribe({next:t,error:e=>{throw e}})))}dispose(e){Jm((()=>e.unsubscribe()))}},Cv=(()=>{let e=class{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,(t=>this._updateLatestValue(e,t)))}_selectStrategy(e){if(dm(e))return wv;if(cm(e))return _v;throw xv()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};return e.ɵfac=function(t){return new(t||e)(Oc(Pm,16))},e.ɵpipe=os({name:"async",type:e,pure:!1,standalone:!0}),e})(),Sv=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,bv=(()=>{let e=class{transform(e){if(null==e)return null;if("string"!=typeof e)throw xv();return e.replace(Sv,(e=>e[0].toUpperCase()+e.slice(1).toLowerCase()))}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"titlecase",type:e,pure:!0,standalone:!0}),e})(),Dv=new Gn(""),Iv=new Gn(""),Ev=(()=>{let e=class{constructor(e,t,i){this.locale=e,this.defaultTimezone=t,this.defaultOptions=i}transform(e,t,i,n){if(null==e||""===e||e!=e)return null;try{let r=t??this.defaultOptions?.dateFormat??"mediumDate",s=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Af(e,r,n||this.locale,s)}catch(e){throw xv(0,e.message)}}};return e.ɵfac=function(t){return new(t||e)(Oc(bm,16),Oc(Dv,24),Oc(Iv,24))},e.ɵpipe=os({name:"date",type:e,pure:!0,standalone:!0}),e})(),Tv=(()=>{let e=class{constructor(e){this._locale=e}transform(e,t,i){if(!kv(e))return null;i||=this._locale;try{return iv(Ov(e),i,t)}catch(e){throw xv(0,e.message)}}};return e.ɵfac=function(t){return new(t||e)(Oc(bm,16))},e.ɵpipe=os({name:"number",type:e,pure:!0,standalone:!0}),e})(),Rv=(()=>{let e=class{constructor(e){this._locale=e}transform(e,t,i){if(!kv(e))return null;i||=this._locale;try{return tv(Ov(e),i,t)}catch(e){throw xv(0,e.message)}}};return e.ɵfac=function(t){return new(t||e)(Oc(bm,16))},e.ɵpipe=os({name:"percent",type:e,pure:!0,standalone:!0}),e})(),Av=(()=>{let e=class{constructor(e,t="USD"){this._locale=e,this._defaultCurrencyCode=t}transform(e,t=this._defaultCurrencyCode,i="symbol",n,r){if(!kv(e))return null;r||=this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let s=t||this._defaultCurrencyCode;"code"!==i&&(s="symbol"===i||"symbol-narrow"===i?Sf(s,"symbol"===i?"wide":"narrow",r):i);try{return ev(Ov(e),r,s,t,n)}catch(e){throw xv(0,e.message)}}};return e.ɵfac=function(t){return new(t||e)(Oc(bm,16),Oc(Dm,16))},e.ɵpipe=os({name:"currency",type:e,pure:!0,standalone:!0}),e})();function kv(e){return!(null==e||""===e||e!=e)}function Ov(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}var Pv=(()=>{let e=class{};return e.ɵfac=function(t){return new(t||e)},e.ɵmod=ns({type:e}),e.ɵinj=Fn({}),e})(),Fv="browser";function Vv(e){return"server"===e}var Mv=class{},Nv=class e{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach((e=>{let t=e.indexOf(":");if(t>0){let i=e.slice(0,t),n=i.toLowerCase(),r=e.slice(t+1).trim();this.maybeSetNormalizedName(i,n),this.headers.has(n)?this.headers.get(n).push(r):this.headers.set(n,[r])}}))}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach(((e,t)=>{this.setHeaderEntries(t,e)}))):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach((([e,t])=>{this.setHeaderEntries(e,t)}))}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((e=>this.applyUpdate(e))),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach((t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))}))}clone(t){let i=new e;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);let n=("a"===e.op?this.headers.get(t):void 0)||[];n.push(...i),this.headers.set(t,n);break;case"d":let r=e.value;if(r){let e=this.headers.get(t);if(!e)return;e=e.filter((e=>-1===r.indexOf(e))),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map((e=>e.toString())),n=e.toLowerCase();this.headers.set(n,i),this.maybeSetNormalizedName(e,n)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach((t=>e(this.normalizedNames.get(t),this.headers.get(t))))}},Lv=/%(\d[a-f0-9])/gi,Hv={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zv(e){return encodeURIComponent(e).replace(Lv,((e,t)=>Hv[t]??e))}function Bv(e){return`${e}`}var Gv=class e{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new class{encodeKey(e){return zv(e)}encodeValue(e){return zv(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}},e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){let i=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach((e=>{let n=e.indexOf("="),[r,s]=-1==n?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,n)),t.decodeValue(e.slice(n+1))],o=i.get(r)||[];o.push(s),i.set(r,o)})),i}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach((t=>{let i=e.fromObject[t],n=Array.isArray(i)?i.map(Bv):[Bv(i)];this.map.set(t,n)}))):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach((i=>{let n=e[i];Array.isArray(n)?n.forEach((e=>{t.push({param:i,value:e,op:"a"})})):t.push({param:i,value:n,op:"a"})})),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map((e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map((e=>t+"="+this.encoder.encodeValue(e))).join("&")})).filter((e=>""!==e)).join("&")}clone(t){let i=new e({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(t),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((e=>this.map.set(e,this.cloneFrom.map.get(e)))),this.updates.forEach((e=>{switch(e.op){case"a":case"s":let t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Bv(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[],i=t.indexOf(Bv(e.value));-1!==i&&t.splice(i,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}})),this.cloneFrom=this.updates=null)}};function $v(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Wv(e){return typeof Blob<"u"&&e instanceof Blob}function Kv(e){return typeof FormData<"u"&&e instanceof FormData}var jv=class e{constructor(e,t,i,n){let r;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==i?i:null,r=n):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new Nv,this.context??=new class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}},this.params){let e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{let i=t.indexOf("?"),n=-1===i?"?":i<t.length-1?"&":"";this.urlWithParams=t+n+e}}else this.params=new Gv,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||$v(this.body)||Wv(this.body)||Kv(this.body)||function(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Gv?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Kv(this.body)?null:Wv(this.body)?this.body.type||null:$v(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Gv?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){let i=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,s=t.transferCache??this.transferCache,o=void 0!==t.body?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,d=t.headers||this.headers,c=t.params||this.params,h=t.context??this.context;return void 0!==t.setHeaders&&(d=Object.keys(t.setHeaders).reduce(((e,i)=>e.set(i,t.setHeaders[i])),d)),t.setParams&&(c=Object.keys(t.setParams).reduce(((e,i)=>e.set(i,t.setParams[i])),c)),new e(i,n,o,{params:c,headers:d,context:h,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}},Uv=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Uv||{}),qv=class{constructor(e,t=200,i="OK"){this.headers=e.headers||new Nv,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Yv=class e extends qv{constructor(e={}){super(e),this.type=Uv.Response,this.body=void 0!==e.body?e.body:null}clone(t={}){return new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};function Xv(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Zv=(()=>{let e=class{constructor(e){this.handler=e}request(e,t,i={}){let n;if(e instanceof jv)n=e;else{let r,s;r=i.headers instanceof Nv?i.headers:new Nv(i.headers),i.params&&(s=i.params instanceof Gv?i.params:new Gv({fromObject:i.params})),n=new jv(e,t,void 0!==i.body?i.body:null,{headers:r,context:i.context,params:s,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let r=function(...e){return Mi(e,fi(e))}(n).pipe(function(e,t){return _t(t)?Yi(e,t,1):Yi(e,1)}((e=>this.handler.handle(e))));if(e instanceof jv||"events"===i.observe)return r;let s=r.pipe(on((e=>e instanceof Yv)));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return s.pipe(Bi((e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return s.pipe(Bi((e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return s.pipe(Bi((e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));default:return s.pipe(Bi((e=>e.body)))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new Gv).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,i={}){return this.request("PATCH",e,Xv(i,t))}post(e,t,i={}){return this.request("POST",e,Xv(i,t))}put(e,t,i={}){return this.request("PUT",e,Xv(i,t))}};return e.ɵfac=function(t){return new(t||e)(gr(Mv))},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),Qv=class extends sf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Jv=class e extends Qv{static makeCurrent(){!function(e){nf??=e}(new e)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){let t=(ey=ey||document.querySelector("base"))?ey.getAttribute("href"):null;return null==t?null:function(e){return new URL(e,document.baseURI).pathname}(t)}resetBaseElement(){ey=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(let i of e.split(";")){let e=i.indexOf("="),[n,r]=-1==e?[i,""]:[i.slice(0,e),i.slice(e+1)];if(n.trim()===t)return decodeURIComponent(r)}return null}(document.cookie,e)}},ey=null,ty=(()=>{let e=class{build(){return new XMLHttpRequest}};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),iy=new Gn(""),ny=(()=>{let e=class{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach((e=>{e.manager=this})),this._plugins=e.slice().reverse()}addEventListener(e,t,i){return this._findPluginFor(t).addEventListener(e,t,i)}getZone(){return this._zone}_findPluginFor(e){let t=this._eventNameToPlugin.get(e);if(t)return t;if(t=this._plugins.find((t=>t.supports(e))),!t)throw new wn(5101,!1);return this._eventNameToPlugin.set(e,t),t}};return e.ɵfac=function(t){return new(t||e)(gr(iy),gr(Dl))},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),ry=class{constructor(e){this._doc=e}},sy="ng-app-id",oy=(()=>{let e=class{constructor(e,t,i,n={}){this.doc=e,this.appId=t,this.nonce=i,this.platformId=n,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Vv(n),this.resetHostNodes()}addStyles(e){for(let t of e)1===this.changeUsageCount(t,1)&&this.onStyleAdded(t)}removeStyles(e){for(let t of e)this.changeUsageCount(t,-1)<=0&&this.onStyleRemoved(t)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach((e=>e.remove())),e.clear());for(let e of this.getAllStyles())this.onStyleRemoved(e);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let t of this.getAllStyles())this.addStyleToHost(e,t)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let t of this.hostNodes)this.addStyleToHost(t,e)}onStyleRemoved(e){let t=this.styleRef;t.get(e)?.elements?.forEach((e=>e.remove())),t.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${sy}="${this.appId}"]`);if(e?.length){let t=new Map;return e.forEach((e=>{null!=e.textContent&&t.set(e.textContent,e)})),t}return null}changeUsageCount(e,t){let i=this.styleRef;if(i.has(e)){let n=i.get(e);return n.usage+=t,n.usage}return i.set(e,{usage:t,elements:[]}),t}getStyleElement(e,t){let i=this.styleNodesInDOM,n=i?.get(t);if(n?.parentNode===e)return i.delete(t),n.removeAttribute(sy),n;{let i=this.doc.createElement("style");return this.nonce&&i.setAttribute("nonce",this.nonce),i.textContent=t,this.platformIsServer&&i.setAttribute(sy,this.appId),e.appendChild(i),i}}addStyleToHost(e,t){let i=this.getStyleElement(e,t),n=this.styleRef,r=n.get(t)?.elements;r?r.push(i):n.set(t,{elements:[i],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}};return e.ɵfac=function(t){return new(t||e)(gr(of),gr(Ql),gr(nd,8),gr(td))},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),ay={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ly=/%COMP%/g,dy="%COMP%",cy=`_nghost-${dy}`,hy=`_ngcontent-${dy}`,uy=new Gn("",{providedIn:"root",factory:()=>!0});function gy(e,t){return t.map((t=>t.replace(ly,e)))}var py=(()=>{let e=class{constructor(e,t,i,n,r,s,o,a=null){this.eventManager=e,this.sharedStylesHost=t,this.appId=i,this.removeStylesOnCompDestroy=n,this.doc=r,this.platformId=s,this.ngZone=o,this.nonce=a,this.rendererByCompId=new Map,this.platformIsServer=Vv(s),this.defaultRenderer=new my(e,r,o,this.platformIsServer)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;this.platformIsServer&&t.encapsulation===Vr.ShadowDom&&(t=Oe(ke({},t),{encapsulation:Vr.Emulated}));let i=this.getOrCreateRenderer(e,t);return i instanceof xy?i.applyToHost(e):i instanceof yy&&i.applyStyles(),i}getOrCreateRenderer(e,t){let i=this.rendererByCompId,n=i.get(t.id);if(!n){let r=this.doc,s=this.ngZone,o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(t.encapsulation){case Vr.Emulated:n=new xy(o,a,t,this.appId,l,r,s,d);break;case Vr.ShadowDom:return new vy(o,a,e,t,r,s,this.nonce,d);default:n=new yy(o,a,t,l,r,s,d)}i.set(t.id,n)}return n}ngOnDestroy(){this.rendererByCompId.clear()}};return e.ɵfac=function(t){return new(t||e)(gr(ny),gr(oy),gr(Ql),gr(uy),gr(of),gr(td),gr(Dl),gr(nd))},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),my=class{constructor(e,t,i,n){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=n,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(ay[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(fy(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(fy(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new wn(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,n){if(n){t=n+":"+t;let r=ay[n];r?e.setAttributeNS(r,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let n=ay[i];n?e.removeAttributeNS(n,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,n){n&(ic.DashCase|ic.Important)?e.style.setProperty(t,i,n&ic.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&ic.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=rf().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded((()=>e(t))):e(t))&&t.preventDefault()}}};function fy(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}var vy=class extends my{constructor(e,t,i,n,r,s,o,a){super(e,r,s,a),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=gy(n.id,n.styles);for(let e of l){let t=document.createElement("style");o&&t.setAttribute("nonce",o),t.textContent=e,this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},yy=class extends my{constructor(e,t,i,n,r,s,o,a){super(e,r,s,o),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=n,this.styles=a?gy(a,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},xy=class extends yy{constructor(e,t,i,n,r,s,o,a){let l=n+"-"+i.id;super(e,t,i,r,s,o,a,l),this.contentAttr=function(e){return hy.replace(ly,e)}(l),this.hostAttr=function(e){return cy.replace(ly,e)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},wy=(()=>{let e=class extends ry{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,i){return e.addEventListener(t,i,!1),()=>this.removeEventListener(e,t,i)}removeEventListener(e,t,i){return e.removeEventListener(t,i)}};return e.ɵfac=function(t){return new(t||e)(gr(of))},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),_y=(()=>{let e=class extends ry{constructor(e){super(e),this.delegate=pr(Xm,{optional:!0})}supports(e){return!!this.delegate&&this.delegate.supports(e)}addEventListener(e,t,i){return this.delegate.addEventListener(e,t,i)}removeEventListener(e,t,i){return this.delegate.removeEventListener(e,t,i)}};return e.ɵfac=function(t){return new(t||e)(gr(of))},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),Cy=["alt","control","meta","shift"],Sy={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},by={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Dy=(()=>{let e=class e extends ry{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,i,n){let r=e.parseEventName(i),s=e.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular((()=>rf().onAndCancel(t,r.domEventName,s)))}static parseEventName(t){let i=t.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;let r=e._normalizeKey(i.pop()),s="",o=i.indexOf("code");if(o>-1&&(i.splice(o,1),s="code."),Cy.forEach((e=>{let t=i.indexOf(e);t>-1&&(i.splice(t,1),s+=e+".")})),s+=r,0!=i.length||0===r.length)return null;let a={};return a.domEventName=n,a.fullKey=s,a}static matchEventFullKeyCode(e,t){let i=Sy[e.key]||e.key,n="";return t.indexOf("code.")>-1&&(i=e.code,n="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Cy.forEach((t=>{t!==i&&(0,by[t])(e)&&(n+=t+".")})),n+=i,n===t)}static eventCallback(t,i,n){return r=>{e.matchEventFullKeyCode(r,t)&&n.runGuarded((()=>i(r)))}}static _normalizeKey(e){return"esc"===e?"escape":e}};return e.ɵfac=function(t){return new(t||e)(gr(of))},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),Iy=[{provide:td,useValue:Fv},{provide:ed,useValue:function(){Jv.makeCurrent()},multi:!0},{provide:of,useFactory:function(){return function(e){Kl=e}(document),document},deps:[]}],Ey=km(qm,"browser",Iy),Ty=new Gn(""),Ry=[{provide:om,useClass:class{addToWindow(e){bn.getAngularTestability=(t,i=!0)=>{let n=e.findTestabilityInTree(t,i);if(null==n)throw new wn(5103,!1);return n},bn.getAllAngularTestabilities=()=>e.getAllTestabilities(),bn.getAllAngularRootElements=()=>e.getAllRootElements(),bn.frameworkStabilizers||(bn.frameworkStabilizers=[]),bn.frameworkStabilizers.push((e=>{let t=bn.getAllAngularTestabilities(),i=t.length,n=function(){i--,0==i&&e()};t.forEach((e=>{e.whenStable(n)}))}))}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?rf().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:sm,useClass:am,deps:[Dl,lm,om]},{provide:am,useClass:am,deps:[Dl,lm,om]}],Ay=[{provide:Cs,useValue:"root"},{provide:Pl,useFactory:function(){return new Pl},deps:[]},{provide:iy,useClass:wy,multi:!0,deps:[of,Dl,td]},{provide:iy,useClass:Dy,multi:!0,deps:[of]},{provide:iy,useClass:_y,multi:!0},py,oy,ny,{provide:Uh,useExisting:py},{provide:class{},useClass:ty,deps:[]},[]],ky=(()=>{let e=class e{constructor(e){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Ql,useValue:t.appId}]}}};return e.ɵfac=function(t){return new(t||e)(gr(Ty,12))},e.ɵmod=ns({type:e}),e.ɵinj=Fn({providers:[...Ay,...Ry],imports:[Pv,Ym]}),e})(),Oy=(()=>{let e=class{};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:function(t){let i=null;return i=t?new(t||e):gr(Py),i},providedIn:"root"}),e})(),Py=(()=>{let e=class extends Oy{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case qd.NONE:return t;case qd.HTML:return yd(t,"HTML")?vd(t):jd(this._doc,String(t)).toString();case qd.STYLE:return yd(t,"Style")?vd(t):t;case qd.SCRIPT:if(yd(t,"Script"))return vd(t);throw new wn(5200,!1);case qd.URL:return yd(t,"URL")?vd(t):Cd(String(t));case qd.RESOURCE_URL:if(yd(t,"ResourceURL"))return vd(t);throw new wn(5201,!1);default:throw new wn(5202,!1)}}bypassSecurityTrustHtml(e){return function(e){return new ud(e)}(e)}bypassSecurityTrustStyle(e){return function(e){return new gd(e)}(e)}bypassSecurityTrustScript(e){return function(e){return new pd(e)}(e)}bypassSecurityTrustUrl(e){return function(e){return new md(e)}(e)}bypassSecurityTrustResourceUrl(e){return function(e){return new fd(e)}(e)}};return e.ɵfac=function(t){return new(t||e)(gr(of))},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Fy=(()=>{let e=class{constructor(){this.navs={}}add(e,t){this.navs[e]=t}remove(e){delete this.navs[e]}get(e){if(e)return this.navs[e]}toggle(e,...t){if(this.navs[e])return this.navs[e].toggle(...t)}open(e,...t){if(this.navs[e])return this.navs[e].open(...t)}close(e,...t){if(this.navs[e])return this.navs[e].close(...t)}};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Vy=(()=>{let e=class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}};return e.ɵfac=function(t){return new(t||e)(Oc(qh),Oc(Nl))},e.ɵdir=ss({type:e}),e})(),My=(()=>{let e=class extends Vy{};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵdir=ss({type:e,features:[Ru]}),e})(),Ny=new Gn(""),Ly={provide:Ny,useExisting:An((()=>zy)),multi:!0},Hy=new Gn(""),zy=(()=>{let e=class extends Vy{constructor(e,t,i){super(e,t),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){let e=rf()?rf().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){let t=e??"";this.setProperty("value",t)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}};return e.ɵfac=function(t){return new(t||e)(Oc(qh),Oc(Nl),Oc(Hy,8))},e.ɵdir=ss({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&ep("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[kp([Ly]),Ru]}),e})();function By(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function Gy(e){return null!=e&&"number"==typeof e.length}var $y=new Gn(""),Wy=new Gn(""),Ky=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,jy=class{static min(e){return function(e){return t=>{if(By(t.value)||By(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}(e)}static max(e){return function(e){return t=>{if(By(t.value)||By(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}(e)}static required(e){return function(e){return By(e.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(e){return!0===e.value?null:{required:!0}}(e)}static email(e){return function(e){return By(e.value)||Ky.test(e.value)?null:{email:!0}}(e)}static minLength(e){return function(e){return t=>By(t.value)||!Gy(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static maxLength(e){return function(e){return t=>Gy(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static pattern(e){return function(e){if(!e)return Uy;let t,i;return"string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),e=>{if(By(e.value))return null;let n=e.value;return t.test(n)?null:{pattern:{requiredPattern:i,actualValue:n}}}}(e)}static nullValidator(e){return null}static compose(e){return Jy(e)}static composeAsync(e){return tx(e)}};function Uy(e){return null}function qy(e){return null!=e}function Yy(e){return dm(e)?Mi(e):e}function Xy(e){let t={};return e.forEach((e=>{t=null!=e?ke(ke({},t),e):t})),0===Object.keys(t).length?null:t}function Zy(e,t){return t.map((t=>t(e)))}function Qy(e){return e.map((e=>function(e){return!e.validate}(e)?e:t=>e.validate(t)))}function Jy(e){if(!e)return null;let t=e.filter(qy);return 0==t.length?null:function(e){return Xy(Zy(e,t))}}function ex(e){return null!=e?Jy(Qy(e)):null}function tx(e){if(!e)return null;let t=e.filter(qy);return 0==t.length?null:function(e){return Xi(Zy(e,t).map(Yy)).pipe(Bi(Xy))}}function ix(e){return null!=e?tx(Qy(e)):null}function nx(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function rx(e){return e._rawValidators}function sx(e){return e._rawAsyncValidators}function ox(e){return e?Array.isArray(e)?e:[e]:[]}function ax(e,t){return Array.isArray(e)?e.includes(t):e===t}function lx(e,t){let i=ox(t);return ox(e).forEach((e=>{ax(i,e)||i.push(e)})),i}function dx(e,t){return ox(t).filter((t=>!ax(e,t)))}var cx=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ex(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ix(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach((e=>e())),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}},hx=class extends cx{get formDirective(){return null}get path(){return null}},ux=class extends cx{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},gx=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},px=(Oe(ke({},{"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"}),{"[class.ng-submitted]":"isSubmitted"}),(()=>{let e=class extends gx{constructor(e){super(e)}};return e.ɵfac=function(t){return new(t||e)(Oc(ux,2))},e.ɵdir=ss({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&xg("ng-untouched",t.isUntouched)("ng-touched",t.isTouched)("ng-pristine",t.isPristine)("ng-dirty",t.isDirty)("ng-valid",t.isValid)("ng-invalid",t.isInvalid)("ng-pending",t.isPending)},features:[Ru]}),e})()),mx=(()=>{let e=class extends gx{constructor(e){super(e)}};return e.ɵfac=function(t){return new(t||e)(Oc(hx,10))},e.ɵdir=ss({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&xg("ng-untouched",t.isUntouched)("ng-touched",t.isTouched)("ng-pristine",t.isPristine)("ng-dirty",t.isDirty)("ng-valid",t.isValid)("ng-invalid",t.isInvalid)("ng-pending",t.isPending)("ng-submitted",t.isSubmitted)},features:[Ru]}),e})(),fx="VALID",vx="INVALID",yx="PENDING",xx="DISABLED",wx=class{},_x=class extends wx{constructor(e,t){super(),this.value=e,this.source=t}},Cx=class extends wx{constructor(e,t){super(),this.pristine=e,this.source=t}},Sx=class extends wx{constructor(e,t){super(),this.touched=e,this.source=t}},bx=class extends wx{constructor(e,t){super(),this.status=e,this.source=t}},Dx=class extends wx{constructor(e){super(),this.source=e}},Ix=class extends wx{constructor(e){super(),this.source=e}};function Ex(e){return(Rx(e)?e.validators:e)||null}function Tx(e,t){return(Rx(t)?t.asyncValidators:e)||null}function Rx(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Ax=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Qm((()=>this.statusReactive())),this.statusReactive=Iu(void 0),this._pristine=Qm((()=>this.pristineReactive())),this.pristineReactive=Iu(!0),this._touched=Qm((()=>this.touchedReactive())),this.touchedReactive=Iu(!1),this._events=new ei,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Jm(this.statusReactive)}set status(e){Jm((()=>this.statusReactive.set(e)))}get valid(){return this.status===fx}get invalid(){return this.status===vx}get pending(){return this.status==yx}get disabled(){return this.status===xx}get enabled(){return this.status!==xx}get pristine(){return Jm(this.pristineReactive)}set pristine(e){Jm((()=>this.pristineReactive.set(e)))}get dirty(){return!this.pristine}get touched(){return Jm(this.touchedReactive)}set touched(e){Jm((()=>this.touchedReactive.set(e)))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(lx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(lx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(dx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(dx(e,this._rawAsyncValidators))}hasValidator(e){return ax(this._rawValidators,e)}hasAsyncValidator(e){return ax(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=!1===this.touched;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Oe(ke({},e),{sourceControl:i})),t&&!1!==e.emitEvent&&this._events.next(new Sx(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild((t=>t.markAllAsTouched(e)))}markAsUntouched(e={}){let t=!0===this.touched;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild((t=>{t.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&!1!==e.emitEvent&&this._events.next(new Sx(!1,i))}markAsDirty(e={}){let t=!0===this.pristine;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Oe(ke({},e),{sourceControl:i})),t&&!1!==e.emitEvent&&this._events.next(new Cx(!1,i))}markAsPristine(e={}){let t=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild((t=>{t.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&!1!==e.emitEvent&&this._events.next(new Cx(!0,i))}markAsPending(e={}){this.status=yx;let t=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new bx(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Oe(ke({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=xx,this.errors=null,this._forEachChild((t=>{t.disable(Oe(ke({},e),{onlySelf:!0}))})),this._updateValue();let i=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new _x(this.value,i)),this._events.next(new bx(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Oe(ke({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach((e=>e(!0)))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=fx,this._forEachChild((t=>{t.enable(Oe(ke({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Oe(ke({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach((e=>e(!1)))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fx||this.status===yx)&&this._runAsyncValidator(t,e.emitEvent)}let t=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new _x(this.value,t)),this._events.next(new bx(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Oe(ke({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild((t=>t._updateTreeValidity(e))),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xx:fx}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=yx,this._hasOwnPendingAsyncValidator={emitEvent:!1!==t};let i=Yy(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe((i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})}))}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent,this,t.shouldHaveEmitted)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce(((e,t)=>e&&e._find(t)),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new bx(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new yl,this.statusChanges=new yl}_calculateStatus(){return this._allControlsDisabled()?xx:this.errors?vx:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yx)?yx:this._anyControlsHaveStatus(vx)?vx:fx}_anyControlsHaveStatus(e){return this._anyControls((t=>t.status===e))}_anyControlsDirty(){return this._anyControls((e=>e.dirty))}_anyControlsTouched(){return this._anyControls((e=>e.touched))}_updatePristine(e,t){let i=!this._anyControlsDirty(),n=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),n&&this._events.next(new Cx(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Sx(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Rx(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function(e){return Array.isArray(e)?ex(e):e||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function(e){return Array.isArray(e)?ix(e):e||null}(this._rawAsyncValidators)}},kx=class extends Ax{constructor(e,t,i){super(Ex(t),Tx(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange((()=>{})),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange((()=>{})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function(e,t,i){e._forEachChild(((e,t)=>{if(void 0===i[t])throw new wn(1002,"")}))})(this,0,e),Object.keys(e).forEach((i=>{(function(e,t,i){let n=e.controls;if(!Object.keys(n).length)throw new wn(1e3,"");if(!n[i])throw new wn(1001,"")})(this,0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach((i=>{let n=this.controls[i];n&&n.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild(((i,n)=>{i.reset(e?e[n]:null,{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},((e,t,i)=>(e[i]=t.getRawValue(),e)))}_syncPendingControls(){let e=this._reduceChildren(!1,((e,t)=>!!t._syncPendingControls()||e));return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach((t=>{let i=this.controls[t];i&&e(i,t)}))}_setUpControls(){this._forEachChild((e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}))}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},((e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e)))}_reduceChildren(e,t){let i=e;return this._forEachChild(((e,n)=>{i=t(i,e,n)})),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}},Ox=new Gn("CallSetDisabledState",{providedIn:"root",factory:()=>Px}),Px="always";function Fx(e,t,i=Px){Nx(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===i)&&t.valueAccessor.setDisabledState?.(e.disabled),function(e,t){t.valueAccessor.registerOnChange((i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Hx(e,t)}))}(e,t),function(e,t){let i=(e,i)=>{t.valueAccessor.writeValue(e),i&&t.viewToModelUpdate(e)};e.registerOnChange(i),t._registerOnDestroy((()=>{e._unregisterOnChange(i)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Hx(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){let i=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(i),t._registerOnDestroy((()=>{e._unregisterOnDisabledChange(i)}))}}(e,t)}function Vx(e,t,i=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Lx(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange((()=>{})))}function Mx(e,t){e.forEach((e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)}))}function Nx(e,t){let i=rx(e);null!==t.validator?e.setValidators(nx(i,t.validator)):"function"==typeof i&&e.setValidators([i]);let n=sx(e);null!==t.asyncValidator?e.setAsyncValidators(nx(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);let r=()=>e.updateValueAndValidity();Mx(t._rawValidators,r),Mx(t._rawAsyncValidators,r)}function Lx(e,t){let i=!1;if(null!==e){if(null!==t.validator){let n=rx(e);if(Array.isArray(n)&&n.length>0){let r=n.filter((e=>e!==t.validator));r.length!==n.length&&(i=!0,e.setValidators(r))}}if(null!==t.asyncValidator){let n=sx(e);if(Array.isArray(n)&&n.length>0){let r=n.filter((e=>e!==t.asyncValidator));r.length!==n.length&&(i=!0,e.setAsyncValidators(r))}}}let n=()=>{};return Mx(t._rawValidators,n),Mx(t._rawAsyncValidators,n),i}function Hx(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function zx(e,t){if(!e.hasOwnProperty("model"))return!1;let i=e.model;return!!i.isFirstChange()||!Object.is(t,i.currentValue)}function Bx(e,t){if(!t)return null;let i,n,r;return Array.isArray(t),t.forEach((e=>{e.constructor===zy?i=e:function(e){return Object.getPrototypeOf(e.constructor)===My}(e)?n=e:r=e})),r||n||i||null}function Gx(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function $x(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}var Wx=class extends Ax{constructor(e=null,t,i){super(Ex(t),Tx(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rx(t)&&(t.nonNullable||t.initialValueIsDefault)&&($x(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach((e=>e(this.value,!1!==t.emitViewToModelChange))),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Gx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Gx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){$x(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Kx={provide:ux,useExisting:An((()=>Ux))},jx=Promise.resolve(),Ux=(()=>{let e=class extends ux{constructor(e,t,i,n,r,s){super(),this._changeDetectorRef=r,this.callSetDisabledState=s,this.control=new Wx,this._registered=!1,this.name="",this.update=new yl,this._parent=e,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=Bx(0,n)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let t=e.name.previousValue;this.formDirective.removeControl({name:t,path:this._getPath(t)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),zx(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Fx(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){jx.then((()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()}))}_updateDisabled(e){let t=e.isDisabled.currentValue,i=0!==t&&Zm(t);jx.then((()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()}))}_getPath(e){return this._parent?function(e,t){return[...t.path,e]}(e,this._parent):[e]}};return e.ɵfac=function(t){return new(t||e)(Oc(hx,9),Oc($y,10),Oc(Wy,10),Oc(Ny,10),Oc(Pm,8),Oc(Ox,8))},e.ɵdir=ss({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[kp([Kx]),Ru,yo]}),e})(),qx={provide:Ny,useExisting:An((()=>Yx)),multi:!0},Yx=(()=>{let e=class extends My{writeValue(e){let t=e??"";this.setProperty("value",t)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵdir=ss({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&ep("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[kp([qx]),Ru]}),e})(),Xx=new Gn(""),Zx={provide:ux,useExisting:An((()=>Qx))},Qx=(()=>{let e=class extends ux{set isDisabled(e){}constructor(e,t,i,n,r){super(),this._ngModelWarningConfig=n,this.callSetDisabledState=r,this.update=new yl,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(t),this.valueAccessor=Bx(0,i)}ngOnChanges(e){if(this._isControlChanged(e)){let t=e.form.previousValue;t&&Vx(t,this,!1),Fx(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}zx(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Vx(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}};return e._ngModelWarningSentOnce=!1,e.ɵfac=function(t){return new(t||e)(Oc($y,10),Oc(Wy,10),Oc(Ny,10),Oc(Xx,8),Oc(Ox,8))},e.ɵdir=ss({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[kp([Zx]),Ru,yo]}),e})(),Jx={provide:hx,useExisting:An((()=>ew))},ew=(()=>{let e=class extends hx{get submitted(){return Jm(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,t,i){super(),this.callSetDisabledState=i,this._submitted=Qm((()=>this._submittedReactive())),this._submittedReactive=Iu(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new yl,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Lx(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange((()=>{})))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let t=this.form.get(e.path);return Fx(t,e,this.callSetDisabledState),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){Vx(e.control||null,e,!1),function(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this._submittedReactive.set(!0),function(e,t){e._syncPendingControls(),t.forEach((e=>{let t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}))}(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Dx(this.control)),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new Ix(this.form))}_updateDomValue(){this.directives.forEach((e=>{let t=e.control,i=this.form.get(e.path);t!==i&&(Vx(t||null,e),(e=>e instanceof Wx)(i)&&(Fx(i,e,this.callSetDisabledState),e.control=i))})),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let t=this.form.get(e.path);(function(e,t){Nx(e,t)})(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let t=this.form.get(e.path);t&&function(e,t){return Lx(e,t)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange((()=>{}))}_updateValidators(){Nx(this.form,this),this._oldForm&&Lx(this._oldForm,this)}_checkFormPresent(){this.form}};return e.ɵfac=function(t){return new(t||e)(Oc($y,10),Oc(Wy,10),Oc(Ox,8))},e.ɵdir=ss({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&ep("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[kp([Jx]),Ru,yo]}),e})(),tw=(()=>{let e=class{};return e.ɵfac=function(t){return new(t||e)},e.ɵmod=ns({type:e}),e.ɵinj=Fn({}),e})(),iw=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:Ox,useValue:t.callSetDisabledState??Px}]}}};return e.ɵfac=function(t){return new(t||e)},e.ɵmod=ns({type:e}),e.ɵinj=Fn({imports:[tw]}),e})(),nw=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:Xx,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ox,useValue:t.callSetDisabledState??Px}]}}};return e.ɵfac=function(t){return new(t||e)},e.ɵmod=ns({type:e}),e.ɵinj=Fn({imports:[tw]}),e})(),rw=(()=>{let e=class{constructor(){this.highlightGroupsMap=new Map,this.onActiveElementChanged=new yl}setActiveHighlight(e,t){this.highlightGroupsMap.set(e,t),this.onActiveElementChanged.emit(e)}clearActiveHighlight(e){this.highlightGroupsMap.set(e,{index:-1}),this.onActiveElementChanged.emit(e)}destroyGroup(e){this.highlightGroupsMap.delete(e)}};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),sw="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,ow="object"==typeof self&&self&&self.Object===Object&&self,aw=sw||ow||Function("return this")(),lw=aw.Symbol,dw=Object.prototype,cw=dw.hasOwnProperty,hw=dw.toString,uw=lw?lw.toStringTag:void 0,gw=Object.prototype.toString,pw=lw?lw.toStringTag:void 0,mw=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":pw&&pw in Object(e)?function(e){var t=cw.call(e,uw),i=e[uw];try{e[uw]=void 0;var n=!0}catch{}var r=hw.call(e);return n&&(t?e[uw]=i:delete e[uw]),r}(e):function(e){return gw.call(e)}(e)},fw=function(e){return null!=e&&"object"==typeof e},vw=Array.isArray,yw=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},xw=function(e){return e},ww=function(e){if(!yw(e))return!1;var t=mw(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},_w=aw["__core-js_shared__"],Cw=function(){var e=/[^.]+$/.exec(_w&&_w.keys&&_w.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Sw=Function.prototype.toString,bw=/^\[object .+?Constructor\]$/,Dw=Function.prototype,Iw=Object.prototype,Ew=Dw.toString,Tw=Iw.hasOwnProperty,Rw=RegExp("^"+Ew.call(Tw).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Aw=function(e){return!(!yw(e)||function(e){return!!Cw&&Cw in e}(e))&&(ww(e)?Rw:bw).test(function(e){if(null!=e){try{return Sw.call(e)}catch{}try{return e+""}catch{}}return""}(e))},kw=function(e,t){var i=function(e,t){return e?.[t]}(e,t);return Aw(i)?i:void 0},Ow=Object.create,Pw=function(){function e(){}return function(t){if(!yw(t))return{};if(Ow)return Ow(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}(),Fw=Pw,Vw=Date.now,Mw=function(e){return function(){return e}},Nw=function(){try{var e=kw(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Lw=Nw,Hw=Lw?function(e,t){return Lw(e,"toString",{configurable:!0,enumerable:!1,value:Mw(t),writable:!0})}:xw,zw=function(e){var t=0,i=0;return function(){var n=Vw(),r=16-(n-i);if(i=n,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Hw),Bw=/^(?:0|[1-9]\d*)$/,Gw=function(e,t){var i=typeof e;return!!(t=t??9007199254740991)&&("number"==i||"symbol"!=i&&Bw.test(e))&&e>-1&&e%1==0&&e<t},$w=function(e,t,i){"__proto__"==t&&Lw?Lw(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i},Ww=function(e,t){return e===t||e!=e&&t!=t},Kw=Object.prototype.hasOwnProperty,jw=function(e,t,i){var n=e[t];(!Kw.call(e,t)||!Ww(n,i)||void 0===i&&!(t in e))&&$w(e,t,i)},Uw=Math.max,qw=function(e,t){return zw(function(e,t,i){return t=Uw(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,s=Uw(n.length-t,0),o=Array(s);++r<s;)o[r]=n[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=n[r];return a[t]=i(o),function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}(e,this,a)}}(e,t,xw),e+"")},Yw=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Xw=function(e){return null!=e&&Yw(e.length)&&!ww(e)},Zw=Object.prototype,Qw=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Zw)},Jw=function(e){return fw(e)&&"[object Arguments]"==mw(e)},e_=Object.prototype,t_=e_.hasOwnProperty,i_=e_.propertyIsEnumerable,n_=Jw(function(){return arguments}())?Jw:function(e){return fw(e)&&t_.call(e,"callee")&&!i_.call(e,"callee")},r_=n_,s_="object"==typeof exports&&exports&&!exports.nodeType&&exports,o_=s_&&e&&!e.nodeType&&e,a_=o_&&o_.exports===s_?aw.Buffer:void 0,l_=(a_?a_.isBuffer:void 0)||function(){return!1},d_={};d_["[object Float32Array]"]=d_["[object Float64Array]"]=d_["[object Int8Array]"]=d_["[object Int16Array]"]=d_["[object Int32Array]"]=d_["[object Uint8Array]"]=d_["[object Uint8ClampedArray]"]=d_["[object Uint16Array]"]=d_["[object Uint32Array]"]=!0,d_["[object Arguments]"]=d_["[object Array]"]=d_["[object ArrayBuffer]"]=d_["[object Boolean]"]=d_["[object DataView]"]=d_["[object Date]"]=d_["[object Error]"]=d_["[object Function]"]=d_["[object Map]"]=d_["[object Number]"]=d_["[object Object]"]=d_["[object RegExp]"]=d_["[object Set]"]=d_["[object String]"]=d_["[object WeakMap]"]=!1;var c_="object"==typeof exports&&exports&&!exports.nodeType&&exports,h_=c_&&e&&!e.nodeType&&e,u_=h_&&h_.exports===c_&&sw.process,g_=function(){try{return h_&&h_.require&&h_.require("util").types||u_&&u_.binding&&u_.binding("util")}catch{}}(),p_=g_&&g_.isTypedArray,m_=p_?function(e){return function(t){return e(t)}}(p_):function(e){return fw(e)&&Yw(e.length)&&!!d_[mw(e)]},f_=Object.prototype.hasOwnProperty,v_=function(e,t){var i=vw(e),n=!i&&r_(e),r=!i&&!n&&l_(e),s=!i&&!n&&!r&&m_(e),o=i||n||r||s,a=o?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],l=a.length;for(var d in e)(t||f_.call(e,d))&&(!o||!("length"==d||r&&("offset"==d||"parent"==d)||s&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||Gw(d,l)))&&a.push(d);return a},y_=Object.prototype.hasOwnProperty,x_=function(e){if(!yw(e))return function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}(e);var t=Qw(e),i=[];for(var n in e)"constructor"==n&&(t||!y_.call(e,n))||i.push(n);return i},w_=function(e){return Xw(e)?v_(e,!0):x_(e)},__=kw(Object,"create"),C_=Object.prototype.hasOwnProperty,S_=Object.prototype.hasOwnProperty;function b_(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}b_.prototype.clear=function(){this.__data__=__?__(null):{},this.size=0},b_.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},b_.prototype.get=function(e){var t=this.__data__;if(__){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return C_.call(t,e)?t[e]:void 0},b_.prototype.has=function(e){var t=this.__data__;return __?void 0!==t[e]:S_.call(t,e)},b_.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=__&&void 0===t?"__lodash_hash_undefined__":t,this};var D_=b_,I_=function(e,t){for(var i=e.length;i--;)if(Ww(e[i][0],t))return i;return-1},E_=Array.prototype.splice;function T_(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}T_.prototype.clear=function(){this.__data__=[],this.size=0},T_.prototype.delete=function(e){var t=this.__data__,i=I_(t,e);return!(i<0||(i==t.length-1?t.pop():E_.call(t,i,1),--this.size,0))},T_.prototype.get=function(e){var t=this.__data__,i=I_(t,e);return i<0?void 0:t[i][1]},T_.prototype.has=function(e){return I_(this.__data__,e)>-1},T_.prototype.set=function(e,t){var i=this.__data__,n=I_(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this};var R_=T_,A_=kw(aw,"Map"),k_=function(e,t){var i=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?i["string"==typeof t?"string":"hash"]:i.map};function O_(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}O_.prototype.clear=function(){this.size=0,this.__data__={hash:new D_,map:new(A_||R_),string:new D_}},O_.prototype.delete=function(e){var t=k_(this,e).delete(e);return this.size-=t?1:0,t},O_.prototype.get=function(e){return k_(this,e).get(e)},O_.prototype.has=function(e){return k_(this,e).has(e)},O_.prototype.set=function(e,t){var i=k_(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this};var P_=O_,F_=function(e,t){return function(i){return e(t(i))}}(Object.getPrototypeOf,Object),V_=Function.prototype,M_=Object.prototype,N_=V_.toString,L_=M_.hasOwnProperty,H_=N_.call(Object);function z_(e){var t=this.__data__=new R_(e);this.size=t.size}z_.prototype.clear=function(){this.__data__=new R_,this.size=0},z_.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},z_.prototype.get=function(e){return this.__data__.get(e)},z_.prototype.has=function(e){return this.__data__.has(e)},z_.prototype.set=function(e,t){var i=this.__data__;if(i instanceof R_){var n=i.__data__;if(!A_||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new P_(n)}return i.set(e,t),this.size=i.size,this};var B_=z_,G_="object"==typeof exports&&exports&&!exports.nodeType&&exports,$_=G_&&e&&!e.nodeType&&e,W_=$_&&$_.exports===G_?aw.Buffer:void 0,K_=W_?W_.allocUnsafe:void 0,j_=aw.Uint8Array,U_=function(e,t){var i=t?function(e){var t=new e.constructor(e.byteLength);return new j_(t).set(new j_(e)),t}(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)},q_=function(e){return function(t,i,n){for(var r=-1,s=Object(t),o=n(t),a=o.length;a--;){var l=o[e?a:++r];if(!1===i(s[l],l,s))break}return t}}(),Y_=function(e,t,i){(void 0!==i&&!Ww(e[t],i)||void 0===i&&!(t in e))&&$w(e,t,i)},X_=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},Z_=function(e){return function(e,t,i,n){var r=!i;i||(i={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=n?n(i[a],e[a],a,i,e):void 0;void 0===l&&(l=e[a]),r?$w(i,a,l):jw(i,a,l)}return i}(e,w_(e))},Q_=function(e,t,i,n,r,s,o){var a=X_(e,i),l=X_(t,i),d=o.get(l);if(d)Y_(e,i,d);else{var c=s?s(a,l,i+"",e,t,o):void 0,h=void 0===c;if(h){var u=vw(l),g=!u&&l_(l),p=!u&&!g&&m_(l);c=l,u||g||p?vw(a)?c=a:function(e){return fw(e)&&Xw(e)}(a)?c=function(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}(a):g?(h=!1,c=function(e,t){if(t)return e.slice();var i=e.length,n=K_?K_(i):new e.constructor(i);return e.copy(n),n}(l,!0)):p?(h=!1,c=U_(l,!0)):c=[]:function(e){if(!fw(e)||"[object Object]"!=mw(e))return!1;var t=F_(e);if(null===t)return!0;var i=L_.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&N_.call(i)==H_}(l)||r_(l)?(c=a,r_(a)?c=Z_(a):(!yw(a)||ww(a))&&(c=function(e){return"function"!=typeof e.constructor||Qw(e)?{}:Fw(F_(e))}(l))):h=!1}h&&(o.set(l,c),r(c,l,n,s,o),o.delete(l)),Y_(e,i,c)}},J_=function e(t,i,n,r,s){t!==i&&q_(i,(function(o,a){if(s||(s=new B_),yw(o))Q_(t,i,a,n,e,r,s);else{var l=r?r(X_(t,a),o,a+"",t,i,s):void 0;void 0===l&&(l=o),Y_(t,a,l)}}),w_)},eC=function(e){return qw((function(t,i){var n=-1,r=i.length,s=r>1?i[r-1]:void 0,o=r>2?i[2]:void 0;for(s=e.length>3&&"function"==typeof s?(r--,s):void 0,o&&function(e,t,i){if(!yw(i))return!1;var n=typeof t;return!!("number"==n?Xw(i)&&Gw(t,i.length):"string"==n&&t in i)&&Ww(i[t],e)}(i[0],i[1],o)&&(s=r<3?void 0:s,r=1),t=Object(t);++n<r;){var a=i[n];a&&e(t,a,n,s)}return t}))}((function(e,t,i,n){J_(e,t,i,n)})),tC=eC,iC={},nC=0,rC=!1,sC=e=>(e=>{if(iC.hasOwnProperty(e)){let t=iC[e];delete iC[e],t()}})(e.data),oC=new Gn("elements environment"),aC=()=>globalThis.window?.ResizeObserver,lC=(e,t)=>{let i=[];if(!e)return i;let n=e.length;for(;n--;)i[n]=t?hC(e[n]):e[n];return i},dC=(e,t)=>{let i=[];if(!e)return i;for(let n of e){let e=hC(n);Array.isArray(n[t])&&(e[t]=dC(e[t],t)),i.push(e)}return i},cC=(e,t)=>tC(e,t,((e,t)=>{if(Array.isArray(t))return t})),hC=e=>{if(pC(e))return new Date(e.getTime());if(Array.isArray(e))return[...e];if(e instanceof Map||e instanceof Set)return e;if(gC(e)){let t={};for(let i of Object.keys(e))"externalObject"!==i&&(t[i]=hC(e[i]));return t}return e},uC=e=>pC(e)?isNaN(e.getTime())?null:e:e?new Date(e):null,gC=e=>!(!e||"[object Object]"!==e.toString()),pC=e=>e instanceof Date,mC=(e,t)=>pC(e)&&pC(t)?e.getTime()===t.getTime():e===t,fC=(()=>{let e=class{constructor(e){this.platformId=e,this.isBrowser=function(e){return e===Fv}(this.platformId),this.isIOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.isSafari=this.isBrowser&&/Safari[\/\s](\d+\.\d+)/.test(navigator.userAgent),this.isFirefox=this.isBrowser&&/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent),this.isEdge=this.isBrowser&&/Edge[\/\s](\d+\.\d+)/.test(navigator.userAgent),this.isChromium=this.isBrowser&&(/Chrom|e?ium/g.test(navigator.userAgent)||/Google Inc/g.test(navigator.vendor))&&!/Edge/g.test(navigator.userAgent),this.browserVersion=this.isBrowser?parseFloat(navigator.userAgent.match(/Version\/([\d.]+)/)?.at(1)):0,this.isElements=pr(oC,{optional:!0}),this.KEYMAP={ENTER:"Enter",SPACE:" ",ESCAPE:"Escape",ARROW_DOWN:"ArrowDown",ARROW_UP:"ArrowUp",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",END:"End",HOME:"Home",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",F2:"F2",TAB:"Tab",SEMICOLON:";",DELETE:"Delete",BACKSPACE:"Backspace",CONTROL:"Control",X:"x",Y:"y",Z:"z"}}getNodeSizeViaRange(e,t,i){let n,r=null;if(this.isFirefox||(r=t.style.overflow,t.style.overflow="visible"),i){let e=i.style;n=[e.width,e.minWidth,e.flexBasis],e.width="",e.minWidth="",e.flexBasis=""}e.selectNodeContents(t);let s=t.getBoundingClientRect().width/t.offsetWidth,o=e.getBoundingClientRect().width/s;return this.isFirefox||(t.style.overflow=r),i&&(i.style.width=n[0],i.style.minWidth=n[1],i.style.flexBasis=n[2]),o}isActivationKey(e){return e.key===this.KEYMAP.ENTER||e.key===this.KEYMAP.SPACE}isFilteringKeyCombo(e){return e.key===this.KEYMAP.ESCAPE||e.ctrlKey&&e.shiftKey&&"l"===e.key.toLowerCase()}isLeftClick(e){return 0===e.button}isNavigationKey(e){return[this.KEYMAP.HOME,this.KEYMAP.END,this.KEYMAP.SPACE,this.KEYMAP.ARROW_DOWN,this.KEYMAP.ARROW_LEFT,this.KEYMAP.ARROW_RIGHT,this.KEYMAP.ARROW_UP].includes(e)}};return e.ɵfac=function(t){return new(t||e)(gr(td))},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),vC=e=>{let t=[];return e.forEach((e=>{if(t.push(e),e.children){let i=Array.isArray(e.children)?e.children:e.children.toArray();t=t.concat(vC(i))}})),t},yC=new Set(["arrowleft","left","arrowright","right","home","end"]),xC=new Set(["down","up","left","right","arrowdown","arrowup","arrowleft","arrowright","home","end","space","spacebar"," "]),wC=new Set("up down arrowup arrowdown home end".split(" ")),_C=new Set("right down arrowright arrowdown".split(" ")),CC=new Set("left up arrowleft arrowup".split(" ")),SC=new Set(["+","add","≠","±","="]),bC=new Set([...Array.from(xC),...Array.from(SC),"enter","f2","escape","esc","pagedown","pageup"]),DC=new Set([...Array.from(xC),"escape","esc","l","¬"]),IC=e=>new Ut((t=>{let i=new(aC())((e=>{t.next(e)}));return i.observe(e),()=>i.disconnect()})),EC=(e,t)=>{if(!t)return!e;if(e.size!==t.size)return!1;let i=!0,n=Array.from(t.keys());for(let r of n)if(i=!!e.has(r)&&e.get(r)===t.get(r),!i)break;return i},TC=(e,t)=>{let i=t?.split(".")??[],n=e[i.shift()];return i.forEach((e=>{n&&(n=n[e])})),n},RC=(e,t,i,n)=>{let r=0,s=()=>{let o=Math.min(r+t,e);for(;r<o;++r)i(r);r<e?function(e,...t){if(window.setImmediate)return window.setImmediate(e);rC||(rC=!0,window.addEventListener("message",sC,!1)),iC[++nC]=()=>{e.apply(void 0,t)};let i=window.location;window.postMessage(nC+"",i.protocol+"//"+i.host)}(s):n()};s()},AC=(e,t,i,n)=>null==e||""===e?"":Af(e,t,i,n),kC=new Av(void 0).transform,OC=e=>{let t=parseFloat(globalThis.window?.getComputedStyle(globalThis.document?.documentElement).getPropertyValue("--ig-base-font-size"));return Number(e)/t};function PC(e){return e.at(0)}function FC(e){return e.at(-1)}var VC=function(e){return e[e.None=0]="None",e[e.IncorrectPageIndex=1]="IncorrectPageIndex",e[e.IncorrectRecordsPerPage=2]="IncorrectRecordsPerPage",e}(VC||{}),MC=function(e){return e.ADD="add",e.DELETE="delete",e.UPDATE="update",e}(MC||{}),NC=function(e){return e.UNDO="undo",e.REDO="redo",e.CLEAR="clear",e.ADD="add",e.END="endPending",e}(NC||{}),LC=function(e){return e[e.None=0]="None",e[e.Asc=1]="Asc",e[e.Desc=2]="Desc",e}(LC||{}),HC=(()=>{let e=class{constructor(){}static instance(){return this._instance||(this._instance=new this)}sort(e,t,i,n,r,s,o){let a=t,l=i===LC.Desc?-1:1;return this.arraySort(e,((e,t)=>this.compareObjects(e,t,a,l,n,r,s,o)))}compareValues(e,t){let i=null==t;return null==e?i?0:-1:i||e>t?1:e<t?-1:0}compareObjects(e,t,i,n,r,s,o,a){let l=s.call(this,e,i,o,a),d=s.call(this,t,i,o,a);return r&&(l=l&&l.toLowerCase?l.toLowerCase():l,d=d&&d.toLowerCase?d.toLowerCase():d),n*this.compareValues(l,d)}arraySort(e,t){return e.sort(t)}};return e._instance=null,e})(),zC=(e,t,i)=>e.length===t.length&&e.every(((e,n)=>{let r=i.find((t=>t.fieldName===e.fieldName)).groupingComparer||HC.instance().compareValues;return e.fieldName===t[n].fieldName&&0===r(e.value,t[n].value)})),BC=e=>{let t=[];if(void 0!==e&&e.expression)for(t.push({fieldName:e.expression.fieldName,value:e.value});e.groupParent;)e=e.groupParent,t.unshift({fieldName:e.expression.fieldName,value:e.value});return t},GC="date",$C="time",WC="dateTime",KC="string",jC=class{sort(e,t,i){return this.sortDataRecursive(e,t,0,i)}groupDataRecursive(e,t,i,n,r,s=null,o=[],a={data:[],metadata:[]}){let l=t.expressions,d=t.expansion,c=0,h=[];for(;c<e.length;){let u=s?s.getColumnByName(l[i].fieldName):null,g=u?.dataType===GC||u?.dataType===WC,p=u?.dataType===$C||u?.dataType===WC,m=u?.dataType===KC,f=this.groupedRecordsByExpression(e,c,l[i],g,p,m),v={expression:l[i],level:i,records:lC(f),value:this.getFieldValue(f[0],l[i].fieldName,g,p),groupParent:n,groups:[],height:s?s.renderedRowHeight:null,column:u};n?n.groups.push(v):o.push(v);let y,x=BC(v),w=d.find((e=>zC(e.hierarchy||[{fieldName:v.expression.fieldName,value:v.value}],x,l))),_=w?w.expanded:t.defaultExpanded;if(h.push(v),r.push(null),a.data.push(v),a.metadata.push(null),i<l.length-1)y=this.groupDataRecursive(f,t,i+1,v,_?r:[],s,o,a),_&&(h=h.concat(y));else{for(let e of f)a.metadata.push(v),a.data.push(e);_&&(r.push(...a.metadata.slice(a.metadata.length-f.length)),h.push(...a.data.slice(a.data.length-f.length)))}c+=f.length}return h}getFieldValue(e,t,i=!1,n=!1){let r=TC(e,t),s=uC(r);return s&&i&&n?r=s:s&&i&&!n?r=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0):s&&n&&!i&&(r=new Date((new Date).setHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()))),r}groupedRecordsByExpression(e,t,i,n=!1,r=!1,s,o){let a=[],l=i.fieldName,d=e.length,c=e[t],h=this.getFieldValue(c,l,n,r);a.push(c),t++;let u=i.groupingComparer||o||HC.instance().compareValues;for(let o=t;o<d;o++){let t=e[o],d=this.getFieldValue(t,l,n,r);if(i.ignoreCase&&s&&(d=d?.toString().toLowerCase(),h=h?.toString().toLowerCase()),0!==u(d,h,t,c))break;a.push(t)}return a}sortDataRecursive(e,t,i=0,n){let r,s,o,a,l=t.length,d=e.length;if((i=i||0)>=l||d<=1)return e;let c=t[i];c.strategy||(c.strategy=HC.instance());let h=n?.getColumnByName(c.fieldName),u=h?.dataType===GC||h?.dataType===WC,g=h?.dataType===$C||h?.dataType===WC,p=h?.dataType===KC;if(e=c.strategy.sort(e,c.fieldName,c.dir,c.ignoreCase,this.getFieldValue,u,g,n),i===l-1)return e;for(r=0;r<d;r++){for(o=this.groupedRecordsByExpression(e,r,c,u,g,p,h?.groupingComparer),a=o.length,a>1&&(o=this.sortDataRecursive(o,t,i+1,n)),s=0;s<a;s++)e[r+s]=o[s];r+=a-1}return e}},UC=class extends jC{groupBy(e,t,i,n,r={data:[],metadata:[]}){let s=[],o=this.groupDataRecursive(e,t,0,null,s,i,n,r);return i?.groupingPerformedSubject.next(),{data:o,metadata:s}}},qC=(()=>{let e=class e{constructor(){}static instance(){return this._instance||(this._instance=new e)}sort(e){return e}};return e._instance=null,e})(),YC=class extends jC{getFieldValue(e,t,i=!1,n=!1){return super.getFieldValue(e.data,t,i,n)}},XC=class{clone(e){return hC(e)}},ZC={String:"string",Number:"number",Boolean:"boolean",Date:"date",DateTime:"dateTime",Time:"time",Currency:"currency",Percent:"percent",Image:"image"},QC=ZC,JC=class e{static sort(e,t,i=new jC,n){return i.sort(e,t,n)}static treeGridSort(t,i,n=new YC,r,s){let o=[];return t.forEach((t=>{let a=e.cloneTreeGridRecord(t);a.parent=r,a.children&&(a.children=e.treeGridSort(a.children,i,n,a,s)),o.push(a)})),o=e.sort(o,i,n,s),o}static cloneTreeGridRecord(e){return{key:e.key,data:e.data,children:e.children,isFilteredOutParent:e.isFilteredOutParent,level:e.level,expanded:e.expanded}}static group(e,t,i=new UC,n=null,r=[],s={data:[],metadata:[]}){return r.splice(0,r.length),i.groupBy(e,t,n,r,s)}static page(e,t,i){if(!t)return e;let n=void 0!==i?i:e.length,r=t.index,s=[],o=void 0!==i&&t.recordsPerPage>i?i:t.recordsPerPage;return t.metadata={countPages:0,countRecords:n,error:VC.None},r<0||isNaN(r)?(t.metadata.error=VC.IncorrectPageIndex,s):o<=0||isNaN(o)?(t.metadata.error=VC.IncorrectRecordsPerPage,s):(t.metadata.countPages=Math.ceil(n/o),n?r>=t.metadata.countPages?(t.metadata.error=VC.IncorrectPageIndex,s):e.slice(r*o,(r+1)*o):e)}static correctPagingState(e,t){let i=Math.ceil(t/e.recordsPerPage)-1;!isNaN(i)&&e.index>i&&(e.index=i)}static getHierarchy(e){return BC(e)}static isHierarchyMatch(e,t,i){return zC(e,t,i)}static mergeTransactions(e,t,i,n=new XC,r=!1){return e.forEach(((r,s)=>{let o=i?r[i]:r,a=t.find((e=>e.id===o));a&&a.type===MC.UPDATE&&(e[s]=cC(n.clone(e[s]),a.newValue))})),r&&t.filter((e=>e.type===MC.DELETE)).forEach((t=>{let n=i?e.findIndex((e=>e[i]===t.id)):e.findIndex((e=>e===t.id));0<=n&&n<e.length&&e.splice(n,1)})),e.push(...t.filter((e=>e.type===MC.ADD)).map((e=>e.newValue))),e}static mergeHierarchicalTransactions(e,t,i,n,r=new XC,s=!1){for(let o of t)if(o.path){let t=this.findParentFromPath(e,n,i,o.path),a=t?t[i]:e;switch(o.type){case MC.ADD:t&&!t[i]&&(t[i]=a=[]),a.push(o.newValue);break;case MC.UPDATE:let e=a.findIndex((e=>e[n]===o.id));-1!==e&&(a[e]=cC(r.clone(a[e]),o.newValue));break;case MC.DELETE:if(s){let e=a.findIndex((e=>e[n]===o.id));-1!==e&&a.splice(e,1)}}}else e.push(o.newValue);return e}static parseValue(e,t){return(e===QC.Number||e===QC.Currency||e===QC.Percent)&&(t=parseFloat(t)),t}static findParentFromPath(e,t,i,n){let r,s=e;for(let e of n){if(r=s&&s.find((i=>i[t]===e)),!r)break;s=r[i]}return r}},eS=class e{static getKeysFromData(t){let i=t.length;if(0===i)return[];let n=t[0],r=t[Math.floor(i/2)],s=t[i-1],o=Object.keys(n),a=Object.keys(r),l=Object.keys(s),d=new Set(o.concat(a).concat(l));return e.isSpecialData(n)?["Column 1"]:Array.from(d)}static saveBlobToFile(e,t){let i=document.createElement("a"),n=window.URL.createObjectURL(e);i.download=t,i.href=n,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}static stringToArrayBuffer(e){let t=new ArrayBuffer(e.length),i=new Uint8Array(t);for(let t=0;t!==e.length;++t)i[t]=255&e.charCodeAt(t);return t}static isSpecialData(e){return"string"==typeof e||"number"==typeof e||e instanceof Date}static hasValue(e){return null!=e}static isNullOrWhitespaces(e){return null==e||!e.trim()}static sanitizeValue(e){return this.hasValue(e)?String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):""}},tS=function(e){return e[e.Regular=0]="Regular",e[e.Advanced=1]="Advanced",e}(tS||{}),iS=class e{constructor(e,t){this.filteringOperands=[],this.operator=e,this.fieldName=t}static empty(e){return!e||!e.filteringOperands||!e.filteringOperands.length}find(e){let t=this.findIndex(e);return t>-1?this.filteringOperands[t]:null}findIndex(t){let i;for(let n=0;n<this.filteringOperands.length;n++)if(i=this.filteringOperands[n],i instanceof e){if(this.isFilteringExpressionsTreeForColumn(i,t))return n}else if(i.fieldName===t)return n;return-1}isFilteringExpressionsTreeForColumn(t,i){if(t.fieldName===i)return!0;for(let n of t.filteringOperands){if(n instanceof e)return this.isFilteringExpressionsTreeForColumn(n,i);if(n.fieldName===i)return!0}return!1}},nS=function(e){return e[e.And=0]="And",e[e.Or=1]="Or",e}(nS||{}),rS=class{static filter(e,t,i){return t.strategy||(t.strategy=new aS),t.strategy.filter(e,t.expressionsTree,t.advancedExpressionsTree,i)}},sS=class{findMatchByExpression(e,t,i,n,r){let s=t.condition,o=this.getFieldValue(e,t.fieldName,i,n,r);return s.logic(o,t.searchVal,t.ignoreCase)}matchRecord(e,t,i){if(t){if(t instanceof iS){let n,r=t,s=r.operator;if(r.filteringOperands&&r.filteringOperands.length){for(let t of r.filteringOperands){if(n=this.matchRecord(e,t,i),!n&&s===nS.And)return!1;if(n&&s===nS.Or)return!0}return n}return!0}{let n=t,r=i&&i.getColumnByName(n.fieldName),s=!!r&&("date"===r.dataType||"dateTime"===r.dataType),o=!!r&&"time"===r.dataType;return this.findMatchByExpression(e,n,s,o,i)}}return!0}getFilterItems(e,t){let i=e.grid.gridAPI.filterDataByExpressions(t);i=e.grid.gridAPI.sortDataByExpressions(i,[{fieldName:e.field,dir:LC.Asc,ignoreCase:e.sortingIgnoreCase}]);let n=e.field,r=i.map((t=>{let i=TC(t,n),r=e.formatter&&this.shouldFormatFilterValues(e);return i=r?e.formatter(i,t):i,{value:i,label:this.getFilterItemLabel(e,i,!r,t)}}));return r=this.getUniqueFilterItems(e,r),Promise.resolve(r)}getFilterItemLabel(e,t,i,n){if(e.formatter)return i?e.formatter(t,n):t;let{display:r,format:s,digitsInfo:o,currencyCode:a,timezone:l}=e.pipeArgs,d=e.grid.locale;switch(e.dataType){case QC.Date:case QC.DateTime:case QC.Time:return AC(t,s,d,l);case QC.Currency:return kC(t,a||xf(d),r,o,d);case QC.Number:return iv(t,d,o);case QC.Percent:return tv(t,d,o);default:return t}}getUniqueFilterItems(e,t){let i=t.reduce(((t,i)=>{let n=i.value;if(e.dataType===QC.String&&e.filteringIgnoreCase)n=n?.toString().toLowerCase();else if(e.dataType===QC.DateTime)n=i.value?.toString(),i.value=n&&new Date(n);else if(e.dataType===QC.Time){let e=n&&new Date(n);n=e?(new Date).setHours(e.getHours(),e.getMinutes(),e.getSeconds()):n,i.value=n&&new Date(n)}else if(e.dataType===QC.Date){let e=n&&new Date(n);n=e?new Date(e.getFullYear(),e.getMonth(),e.getDate()).toISOString():n,i.value=e}return t.has(n)?t:t.set(n,i)}),new Map);return Array.from(i.values())}shouldFormatFilterValues(e){return!1}},oS=(()=>{let e=class e extends sS{getFieldValue(e,t){return e}static instance(){return this._instance||(this._instance=new e)}filter(e,t,i){return e}};return e._instance=null,e})(),aS=(()=>{let e=class extends sS{constructor(){super()}static instance(){return this._instance||(this._instance=new this)}filter(e,t,i,n){let r,s,o=e.length,a=[];if(iS.empty(t)&&iS.empty(i)||!o)return e;for(r=0;r<o;r++)s=e[r],this.matchRecord(s,t,n)&&this.matchRecord(s,i,n)&&a.push(s);return a}getFieldValue(e,t,i=!1,n=!1,r){let s=r?.getColumnByName(t),o=TC(e,t);return o=s?.formatter&&this.shouldFormatFilterValues(s)?s.formatter(o,e):o&&(i||n)?uC(o):o,o}};return e._instance=null,e})(),lS=class extends sS{constructor(e){super(),this.hierarchicalFilterFields=e}filter(e,t,i,n){return this.filterImpl(e,t,i,void 0,n)}getFieldValue(e,t,i=!1,n=!1,r){let s=r?.getColumnByName(t),o=e,a=this.isHierarchicalFilterField(t)?this.getHierarchicalFieldValue(o,t):TC(o.data,t);return a=s?.formatter&&this.shouldFormatFilterValues(s)?s.formatter(a,e.data):a&&(i||n)?uC(a):a,a}getHierarchicalFieldValue(e,t){let i=TC(e.data,t);return e.parent?`${this.getHierarchicalFieldValue(e.parent,t)}${i?`.[${i}]`:""}`:`[${i}]`}filterImpl(e,t,i,n,r){let s,o,a=e.length,l=[];if(iS.empty(t)&&iS.empty(i)||!a)return e;for(s=0;s<a;s++){if(o=JC.cloneTreeGridRecord(e[s]),o.parent=n,o.children){let e=this.filterImpl(o.children,t,i,o,r);o.children=e.length>0?e:null}this.matchRecord(o,t,r)&&this.matchRecord(o,i,r)?l.push(o):o.children&&o.children.length>0&&(o.isFilteredOutParent=!0,l.push(o))}return l}isHierarchicalFilterField(e){return this.hierarchicalFilterFields&&-1!==this.hierarchicalFilterFields.indexOf(e)}getFilterItems(e,t){if(!this.isHierarchicalFilterField(e.field))return super.getFilterItems(e,t);let i=e.grid.gridAPI.filterTreeDataByExpressions(t);i=JC.treeGridSort(i,[{fieldName:e.field,dir:LC.Asc,ignoreCase:e.sortingIgnoreCase}],e.grid.sortStrategy,null,e.grid);let n=this.getHierarchicalFilterItems(i,e);return Promise.resolve(n)}getHierarchicalFilterItems(e,t,i){return e?.map((e=>{let n=TC(e.data,t.field),r=t.formatter&&this.shouldFormatFilterValues(t);n=r?t.formatter(n,e.data):n;let s={value:i?n||0===n?`${i.value}.[${n}]`:n:`[${n}]`};return s.label=this.getFilterItemLabel(t,n,!r,e.data),s.children=this.getHierarchicalFilterItems(e.children,t,s),s}))}},dS="quickFilter",cS="excelStyleFilter",hS="top",uS="bottom",gS="rootLevelOnly",pS="childLevelsOnly",mS="rootAndChildLevels",fS="none",vS="single",yS="multiple",xS="multipleCascade",wS="Alphabetical",_S="DisplayOrder",CS=function(e){return e[e.Start=0]="Start",e[e.End=1]="End",e}(CS||{}),SS=function(e){return e[e.Top=0]="Top",e[e.Bottom=1]="Bottom",e}(SS||{}),bS=function(e){return e[e.Local=0]="Local",e[e.Remote=1]="Remote",e}(bS||{}),DS="1",IS="2",ES="3",TS=function(e){return e.GroupedRecord="GroupedRecord",e.TreeGridRecord="TreeGridRecord",e.DataRecord="DataRecord",e.HierarchicalGridRecord="HierarchicalGridRecord",e.HeaderRecord="HeaderRecord",e.SummaryRecord="SummaryRecord",e.PivotGridRecord="PivotGridRecord",e}(TS||{}),RS=function(e){return e.RowHeader="RowHeader",e.ColumnHeader="ColumnHeader",e.MultiRowHeader="MultiRowHeader",e.MultiColumnHeader="MultiColumnHeader",e.PivotRowHeader="PivotRowHeader",e.PivotMergedHeader="PivotMergedHeader",e}(RS||{}),AS=class{get columnIndex(){return this._columnIndex}set columnIndex(e){this._columnIndex=e,this.userSetIndex=!0}constructor(e){this.userSetIndex=!1,this.header=e.header,this.field=e.field,this.cancel=e.cancel,this.skipFormatter=e.skipFormatter,this.grid=e.grid,this.owner=e.owner,this._columnIndex=e.columnIndex}},kS="default",OS="igxGridRootSummary",PS="grid-parent",FS="GRID_LEVEL_COL",VS=8.43,MS="grid-child-",NS=class{constructor(){this.exportEnded=new yl,this.rowExporting=new yl,this.columnExporting=new yl,this._sort=null,this._ownersMap=new Map,this._setChildSummaries=!1,this.summaries=new Map,this.rowIslandCounter=-1,this.flatRecords=[],this.pivotGridColumns=[],this.pivotGridKeyValueMap=new Map}export(e,t){if(null==t)throw Error("No options provided!");this.options=t,this.locale=e.locale,this.ownerGrid=e;let i=e.columns;this.options.ignoreMultiColumnHeaders&&(i=i.filter((e=>void 0===e.children)));let n=this.getColumns(i);if("hierarchical"===e.type){this._ownersMap.set(e,n);let t=e.childLayoutList;for(let i of t)this.mapHierarchicalGridColumns(i,e.data[0])}else"pivot"===e.type?(this.pivotGridColumns=[],this.isPivotGridExport=!0,this.pivotGridKeyValueMap=new Map,this.pivotGridRowDimensionsMap=new Map,e.visibleRowDimensions.filter((e=>e.enabled)).forEach((e=>{this.addToRowDimensionsMap(e,e.memberName)})),this._ownersMap.set(kS,n)):this._ownersMap.set(kS,n);this.summaries=this.prepareSummaries(e),this._setChildSummaries=this.summaries.size>1&&e.summaryCalculationMode!==gS,this.addLevelColumns(),this.prepareData(e),this.addLevelData(),this.addPivotGridColumns(e),this.addPivotRowHeaders(e),this.exportGridRecordsData(this.flatRecords,e)}exportData(e,t){if(null==t)throw Error("No options provided!");this.options=t;let i=e.map((e=>({data:e,type:TS.DataRecord,level:0})));this.exportGridRecordsData(i)}addToRowDimensionsMap(e,t){this.pivotGridRowDimensionsMap[e.memberName]=t,e.childLevel&&this.addToRowDimensionsMap(e.childLevel,t)}exportGridRecordsData(e,t){if(0===this._ownersMap.size){let t=e.filter((e=>e.type!==TS.SummaryRecord)).map((e=>e.data)),i=eS.getKeysFromData(t),n={columns:i.map((e=>({header:e,field:e,skip:!1,headerType:RS.ColumnHeader,level:0,columnSpan:1}))),columnWidths:new Array(i.length).fill(VS),indexOfLastPinnedColumn:-1,maxLevel:0};this._ownersMap.set(kS,n)}let i=!1;for(let[e,n]of this._ownersMap){let r=0,s=1,o=n.indexOfLastPinnedColumn;n.columns.forEach(((a,l)=>{if(!a.skip){let d={header:eS.isNullOrWhitespaces(a.header)?"Column"+s++:a.header,field:a.field,columnIndex:l,cancel:!1,skipFormatter:!1,grid:e===kS?t:e},c=new AS(d);if(this.columnExporting.emit(c),a.header=c.header,a.skip=c.cancel,a.skipFormatter=c.skipFormatter,c.userSetIndex&&(a.exportIndex=c.columnIndex,i=!0),a.skip){l<=o&&r++,this.calculateColumnSpans(a,n,a.columnSpan);let t=n.columns.filter((e=>!e.skip));t.length>0&&(this._ownersMap.get(e).maxLevel=t.sort(((e,t)=>t.level-e.level))[0].level)}this._sort&&this._sort.fieldName===a.field&&(a.skip?this._sort=null:this._sort.fieldName=a.header)}})),o-=r,i&&(n.columns=this.reorderColumns(n.columns))}let n=new Array,r=e[0]?.data,s=eS.isSpecialData(r);RC(e.length,100,(t=>{let i=e[t];this.exportRow(n,i,t,s)}),(()=>{this.exportDataImplementation(n,this.options,(()=>{this.resetDefaults()}))}))}calculateColumnSpans(e,t,i){e.headerType===RS.MultiColumnHeader&&e.skip&&t.columns.filter((t=>t.columnGroupParent===e.columnGroup)).forEach((e=>{e.headerType===RS.MultiColumnHeader?(e.columnSpan=0,e.columnGroupParent=null,e.skip=!0,this.calculateColumnSpans(e,t,e.columnSpan)):e.skip=!0}));let n=t.columns.filter((t=>null!==e.columnGroupParent&&void 0!==e.columnGroupParent&&t.columnGroup===e.columnGroupParent))[0];void 0!==n&&(n.columnSpan-=i,null!==n.columnGroupParent&&this.calculateColumnSpans(n,t,i),0===n.columnSpan&&(n.skip=!0))}exportRow(e,t,i,n){if(!n){let e=void 0===t.owner?kS:t.owner,i=this._ownersMap.get(e).columns;if(t.type!==TS.HeaderRecord){let e=i.filter((e=>e.headerType===RS.ColumnHeader&&!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex));t.data=e.reduce(((e,i)=>{if(!i.skip){let n=TC(t.data,i.field),r=i.formatter&&!i.skipFormatter&&t.type!==TS.GroupedRecord;"date"!==i.dataType&&"dateTime"!==i.dataType&&"time"!==i.dataType||t.type===TS.SummaryRecord||t.type===TS.GroupedRecord||n instanceof Date||r||null==n?"string"===i.dataType&&n instanceof Date&&(n=n.toString()):n=new Date(n);let s=r?i.formatter(n,t.data):n;this.isPivotGridExport&&!isNaN(parseFloat(s))&&(s=parseFloat(s)),e[i.field]=s}return e}),{})}else{let e=i.filter((e=>e.skip)).map((e=>e.header?e.header:e.field));t.data=t.data.filter((t=>-1===e.indexOf(t)))}}let r={rowData:t.data,rowIndex:i,cancel:!1,owner:t.owner??this.ownerGrid};this.rowExporting.emit(r),r.cancel||e.push(t)}reorderColumns(e){let t=e.filter((e=>!e.skip)),i=t.length,n=t.filter((e=>!isNaN(e.exportIndex))).sort(((e,t)=>e.exportIndex-t.exportIndex)),r=n.map((e=>e.exportIndex));n.forEach((e=>{t.splice(t.indexOf(e),1)}));let s=new Array(i);if(n.length>Math.max(...r))return n.concat(t);r.forEach(((e,r)=>{if(e<0||e>=i)t.push(n[r]);else{let t=e;for(;t<i&&void 0!==s[t];)++t;s[t]=n[r]}}));for(let e=0;e<i;e++)void 0===s[e]&&(s[e]=t.splice(0,1)[0]);return s}prepareData(e){this.flatRecords=[];let t=e.filteringExpressionsTree&&e.filteringExpressionsTree.filteringOperands.length>0||e.advancedFilteringExpressionsTree&&e.advancedFilteringExpressionsTree.filteringOperands.length>0,i=e.groupingExpressions?e.groupingExpressions.concat(e.sortingExpressions||[]):e.sortingExpressions,n=i&&i.length>0,r=!1;switch(e.type){case"pivot":this.preparePivotGridData(e);break;case"hierarchical":this.prepareHierarchicalGridData(e,t,n),r=!0;break;case"tree":this.prepareTreeGridData(e,t,n);break;default:this.prepareGridData(e,t,n)}this.summaries.size>0&&e.summaryCalculationMode!==pS&&(r?this.setSummaries(OS,0,!1,e):this.setSummaries(OS))}preparePivotGridData(e){for(let t of e.filteredSortedData){let e=Object.fromEntries(t.aggregationValues);t.dimensionValues.forEach(((t,i)=>{let n=this.pivotGridRowDimensionsMap[i];e[n]=t}));let i={data:e,level:t.level,type:TS.PivotGridRecord};this.flatRecords.push(i)}}prepareHierarchicalGridData(e,t,i){if(t&&this.options.ignoreFiltering||i&&this.options.ignoreSorting){let n=e.data;if(t&&!this.options.ignoreFiltering){let t={expressionsTree:e.filteringExpressionsTree,advancedExpressionsTree:e.advancedFilteringExpressionsTree,strategy:e.filterStrategy};n=rS.filter(n,t,e)}i&&!this.options.ignoreSorting&&(this._sort=hC(e.sortingExpressions[0]),n=JC.sort(n,e.sortingExpressions,e.sortStrategy,e)),this.addHierarchicalGridData(e,n)}else{let t=e.filteredSortedData;this.addHierarchicalGridData(e,t)}}addHierarchicalGridData(e,t){let i=e.childLayoutList,n=this._ownersMap.get(e).columns.map((e=>e.field));for(let r of t){let t=!!e.expansionStates.has(r)&&e.expansionStates.get(r),s={data:Object.keys(r).filter((e=>n.includes(e))).reduce(((e,t)=>(e[t]=r[t],e)),{}),level:0,type:TS.HierarchicalGridRecord,owner:e,hierarchicalOwner:PS};this.flatRecords.push(s);for(let n of i){let i={rowID:n.primaryKey?r[n.primaryKey]:r,rowKey:n.primaryKey?r[n.primaryKey]:r,rowIslandKey:n.key},s=e?.gridAPI.getChildGrid([i]),o=this.prepareIslandData(n,s,r[n.key])||[];this.getAllChildColumnsAndData(n,o,t,s)}}}prepareSummaries(e){let t=new Map;if(this.options.exportSummaries&&e.summaryService.summaryCacheMap.size>0){let i=e.summaryService.summaryCacheMap;switch(e.summaryCalculationMode){case pS:i.delete(OS);break;case gS:for(let e of i.keys())e!==OS&&i.delete(e)}t=i}return t}prepareIslandData(e,t,i){if(void 0!==t){let e=t.filteringExpressionsTree&&t.filteringExpressionsTree.filteringOperands.length>0||t.advancedFilteringExpressionsTree&&t.advancedFilteringExpressionsTree.filteringOperands.length>0,n=t.sortingExpressions&&t.sortingExpressions.length>0;if(e&&this.options.ignoreFiltering||n&&this.options.ignoreSorting){if(e&&!this.options.ignoreFiltering){let e={expressionsTree:t.filteringExpressionsTree,advancedExpressionsTree:t.advancedFilteringExpressionsTree,strategy:t.filterStrategy};i=rS.filter(i,e,t)}n&&!this.options.ignoreSorting&&(this._sort=hC(t.sortingExpressions[0]),i=JC.sort(i,t.sortingExpressions,t.sortStrategy,t))}else i=t.filteredSortedData}else{let t=e.filteringExpressionsTree&&e.filteringExpressionsTree.filteringOperands.length>0||e.advancedFilteringExpressionsTree&&e.advancedFilteringExpressionsTree.filteringOperands.length>0,n=e.sortingExpressions&&e.sortingExpressions.length>0;if(t&&!this.options.ignoreFiltering||n&&!this.options.ignoreSorting){if(t&&!this.options.ignoreFiltering){let t={expressionsTree:e.filteringExpressionsTree,advancedExpressionsTree:e.advancedFilteringExpressionsTree,strategy:e.filterStrategy};i=rS.filter(i,t,e)}n&&!this.options.ignoreSorting&&(this._sort=hC(e.sortingExpressions[0]),i=JC.sort(i,e.sortingExpressions,e.sortStrategy,e))}}return i}getAllChildColumnsAndData(e,t,i,n){let r=`${MS}${++this.rowIslandCounter}`,s={data:this._ownersMap.get(e).columns.filter((e=>e.headerType===RS.ColumnHeader)).map((e=>e.header?e.header:e.field)),level:e.level,type:TS.HeaderRecord,owner:e,hidden:!i,hierarchicalOwner:r};if(t&&t.length>0){this.flatRecords.push(s);for(let s of t){let t={data:s,level:e.level,type:TS.HierarchicalGridRecord,owner:e,hidden:!i,hierarchicalOwner:r};if(t.summaryKey=e.key,this.flatRecords.push(t),e.children.length>0){let t=void 0!==n&&!!n.expansionStates.has(s)&&n.expansionStates.get(s);for(let i of e.children){let r={rowID:i.primaryKey?s[i.primaryKey]:s,rowKey:i.primaryKey?s[i.primaryKey]:s,rowIslandKey:i.key},o=n?.gridAPI.getChildGrid([r]),a=this.prepareIslandData(e,o,s[i.key])||[];this.getAllChildColumnsAndData(i,a,t,o)}}}if(n){let t=this.prepareSummaries(n);for(let n of t.keys()){let s=t.get(n);this.setSummaries(e.key,e.level,!i,e,s,r)}}}}prepareGridData(e,t,i){let n={expressions:e.groupingExpressions,expansion:e.groupingExpansionState,defaultExpanded:e.groupsExpanded},r=e.groupingExpressions&&e.groupingExpressions.length>0;if(t&&this.options.ignoreFiltering||i&&this.options.ignoreSorting||r&&this.options.ignoreGrouping){let s=e.data;if(t&&!this.options.ignoreFiltering){let t={expressionsTree:e.filteringExpressionsTree,advancedExpressionsTree:e.advancedFilteringExpressionsTree,strategy:e.filterStrategy};s=rS.filter(s,t,e)}if(i&&!this.options.ignoreSorting){let t=e.groupingExpressions?e.groupingExpressions.concat(e.sortingExpressions||[]):e.sortingExpressions;s=JC.sort(s,t,e.sortStrategy,e)}if(r&&!this.options.ignoreGrouping){let t=[];JC.group(lC(s),n,e.groupStrategy,e,t),s=t}r&&!this.options.ignoreGrouping?this.addGroupedData(e,s,n,!0):this.addFlatData(s)}else r?this.addGroupedData(e,e.groupsRecords,n,!0):this.addFlatData(e.filteredSortedData)}prepareTreeGridData(e,t,i){if(t&&this.options.ignoreFiltering||i&&this.options.ignoreSorting){let n=e.rootRecords;if(t&&!this.options.ignoreFiltering){let t={expressionsTree:e.filteringExpressionsTree,advancedExpressionsTree:e.advancedFilteringExpressionsTree,strategy:e.filterStrategy?e.filterStrategy:new lS};n=t.strategy.filter(n,t.expressionsTree,t.advancedExpressionsTree)}i&&!this.options.ignoreSorting&&(this._sort=hC(e.sortingExpressions[0]),n=JC.treeGridSort(n,e.sortingExpressions,e.sortStrategy)),this.addTreeGridData(n)}else this.addTreeGridData(e.processedRootRecords)}addTreeGridData(e,t=!0,i){if(e)for(let n of e){let e={data:n.data,level:n.level,hidden:!t,type:TS.TreeGridRecord,summaryKey:n.key,hierarchicalOwner:0===n.level?PS:i};this.flatRecords.push(e),n.children&&this.getTreeGridChildData(n.children,n.key,n.level,n.expanded&&t)}}getTreeGridChildData(e,t,i,n=!0){let r=`${MS}${++this.rowIslandCounter}`,s=i,o=!n;for(let i of e)if(i.children&&i.children.length>0)this.addTreeGridData([i],n,r),s=i.level;else{let e={data:i.data,level:i.level,hidden:!n,type:TS.DataRecord,hierarchicalOwner:r};this._setChildSummaries&&(e.summaryKey=t),this.flatRecords.push(e),s=i.level,o=!n}this._setChildSummaries&&this.setSummaries(t,s,o,null,null,r)}addFlatData(e){if(e)for(let t of e){let e={data:t,type:TS.DataRecord,level:0};this.flatRecords.push(e)}}setSummaries(e,t=0,i=!1,n,r,s){let o=r??this.summaries.get(e);if(o){let r=[...o.values()].sort(((e,t)=>t.length-e.length))[0];for(let a=0;a<r.length;a++){let r={};for(let[e,t]of o){let i=t.map((e=>({label:e.label,value:e.summaryResult})));r[e]=i[a]}let l={data:r,type:TS.SummaryRecord,level:t,hidden:i,summaryKey:e,hierarchicalOwner:s};n&&(l.owner=n),this.flatRecords.push(l)}}}addGroupedData(e,t,i,n,r=!0,s=[]){if(!t)return;let o="",a=this._ownersMap.get(kS).columns.filter((e=>e.headerType===RS.ColumnHeader&&!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex))[0].field;for(let l of t){let t=l.value,d=n?PS:`${MS}${++this.rowIslandCounter}`,c=BC(l),h=i.expansion.find((i=>zC(i.hierarchy||[{fieldName:l.expression.fieldName,value:t}],c,e.groupingExpressions))),u=h?h.expanded:i.defaultExpanded;if(t instanceof Date){let i=6e4*t.getTimezoneOffset(),n=new Date(t-i).toISOString();t=new Ev(e.locale).transform(n)}let g=l.column&&l.column.header?l.column.header:l.expression.fieldName;t=null!==t?t:"";let p={data:{[a]:`${g}: ${t??"(Blank)"} (${l.records.length})`},level:l.level,hidden:!r,type:TS.GroupedRecord,hierarchicalOwner:d};this.flatRecords.push(p);let m="",f="";if(this._setChildSummaries&&(m=`'${l.expression.fieldName}': '${t}'`,s=s.filter((e=>e!==o)),o=m,s.push(m),f=`{ ${s.join(", ")} }`,p.summaryKey=f),l.groups.length>0)this.addGroupedData(e,l.groups,i,!1,u&&r,s);else{let e=l.records;for(let t of e){let e={data:t,level:l.level+1,hidden:!(u&&r),type:TS.DataRecord,hierarchicalOwner:d};f&&(e.summaryKey=f),this.flatRecords.push(e)}}this._setChildSummaries&&(this.setSummaries(f,l.level+1,!(u&&r),null,null,d),s.pop())}}getColumns(e){let t=[],i=[],n=[],r=-1,s=-1,o=0;return e.forEach((e=>{let a=eS.isNullOrWhitespaces(e.header)?e.field:e.header,l=!e.hidden||this.options.ignoreColumnsVisibility,d=this.options.ignoreColumnsOrder||this.options.ignoreColumnsVisibility?e.index:e.visibleIndex,c=Number(e.width?.slice(0,-2))||VS,h=this.options.ignoreMultiColumnHeaders?0:e.level,u=e.columnGroup,g=u?e.allChildren.filter((e=>!(e.columnGroup||!this.options.ignoreColumnsVisibility&&e.hidden))).length:1,p={header:eS.sanitizeValue(a),dataType:e.dataType,field:e.field,skip:!l,formatter:e.formatter,skipFormatter:!1,headerType:u?RS.MultiColumnHeader:RS.ColumnHeader,columnSpan:g,level:h,startIndex:d,pinnedIndex:e.pinned?e.hidden?NaN:e.grid.pinnedColumns.indexOf(e):Number.MAX_VALUE,columnGroupParent:e.parent?e.parent:null,columnGroup:u?e:null};"currency"===e.dataType&&(p.currencyCode=e.pipeArgs.currencyCode?e.pipeArgs.currencyCode:xf(this.locale),p.displayFormat=e.pipeArgs.display?e.pipeArgs.display:"symbol",p.digitsInfo=e.pipeArgs.digitsInfo?e.pipeArgs.digitsInfo:"1.0-2"),"date"===e.dataType&&(p.dateFormat=pf(this.locale,hf.Medium)),"dateTime"===e.dataType&&(p.dateFormat=ff(this.locale,hf.Medium)),this.options.ignoreColumnsOrder&&p.startIndex!==p.pinnedIndex&&(p.pinnedIndex=Number.MAX_VALUE),e.level>o&&!this.options.ignoreMultiColumnHeaders&&(o=e.level),-1!==d?(t.push(p),i.push(c),s=Math.max(s,t.indexOf(p))):n.push(p),e.pinned&&l&&p.headerType===RS.ColumnHeader&&r++})),n.forEach((e=>{t[++s]=e})),{columns:t,columnWidths:i,indexOfLastPinnedColumn:r,maxLevel:o}}mapHierarchicalGridColumns(e,t){let i,n;if(e.autoGenerate){n=t[e.key];let r=e.children.map((e=>e.key)),s=n.map((e=>{let t={};return Object.keys(e).map((i=>{r.includes(i)||(t[i]=e[i])})),t}));i=this.getAutoGeneratedColumns(s)}else{let t=e.columns;i=this.getColumns(t)}if(this._ownersMap.set(e,i),e.children.length>0)for(let t of e.children){let e=void 0!==n?n[0]:{};this.mapHierarchicalGridColumns(t,e)}}getAutoGeneratedColumns(e){let t=[],i=[];return Object.keys(e[0]).forEach(((e,n)=>{let r={header:e,field:e,dataType:"string",skip:!1,headerType:RS.ColumnHeader,columnSpan:1,level:0,startIndex:n,pinnedIndex:Number.MAX_VALUE};t.push(r),i.push(VS)})),{columns:t,columnWidths:i,indexOfLastPinnedColumn:-1,maxLevel:0}}addPivotRowHeaders(e){if(e?.pivotUI?.showRowHeaders){let t=this._ownersMap.get(kS),i=e.visibleRowDimensions.filter((e=>e.enabled)).map(((e,t)=>({name:e.displayName||e.memberName,level:t}))),n=0;i.forEach((e=>{t.columns.unshift({rowSpan:t.maxLevel+1,field:e.name,header:e.name,startIndex:n,skip:!1,pinnedIndex:0,level:e.level,dataType:"string",headerType:RS.PivotRowHeader}),n+=1})),t.columnWidths.unshift(...Array(i.length).fill(200))}}addPivotGridColumns(e){if("pivot"!==e.type)return;let t=e.visibleRowDimensions.map(((e,t)=>({name:e.memberName,level:t})));this.preparePivotGridColumns(t),this.pivotGridFilterFieldsCount=t.length;let i=this._ownersMap.get(kS);i.columns.unshift(...this.pivotGridColumns),i.columnWidths.unshift(...Array(this.pivotGridColumns.length).fill(200)),i.indexOfLastPinnedColumn=t.length-1,i.maxRowLevel=t.length,this._ownersMap.set(kS,i)}preparePivotGridColumns(e,t){if(0===e.length)return;let i=0,n=e[0],r=this.flatRecords.map((e=>e.data)),s={};if(r.forEach((e=>{let t=e[n.name];s[t]||(s[t]=[]),s[t].push(e)})),t){let e=[...this.pivotGridKeyValueMap.keys()],t=[...this.pivotGridKeyValueMap.values()];for(let i of Object.keys(s))s[i]=s[i].filter((i=>e.every((e=>Object.keys(i).includes(e)))&&t.every((e=>Object.values(i).includes(e))))),0===s[i].length&&delete s[i]}for(let r of Object.keys(s)){let o=r,a=s[r].length,l={columnSpan:1,rowSpan:a,field:o,header:o,startIndex:i,skip:!1,pinnedIndex:0,level:n.level,dataType:"string",headerType:s[o].length>1?RS.MultiRowHeader:RS.RowHeader};if("undefined"===o&&(this.pivotGridColumns[this.pivotGridColumns.length-1].columnSpan+=1,l.headerType=RS.PivotMergedHeader,o=t),t?l.columnGroupParent=t:l.columnGroup=o,this.pivotGridColumns.push(l),e.length>1){o!==t&&this.pivotGridKeyValueMap.set(n.name,o);let i=e.filter((e=>e!==n));this.preparePivotGridColumns(i,o),this.pivotGridKeyValueMap.delete(n.name)}i+=a}}addLevelColumns(){this.options.exportSummaries&&this.summaries.size>0&&this._ownersMap.forEach((e=>{let t={header:FS,dataType:"number",field:FS,skip:!1,skipFormatter:!1,headerType:RS.ColumnHeader,columnSpan:1,level:0};e.columns.push(t),e.columnWidths.push(20)}))}addLevelData(){if(this.options.exportSummaries&&this.summaries.size>0)for(let e of this.flatRecords)(e.type===TS.DataRecord||e.type===TS.TreeGridRecord||e.type===TS.HierarchicalGridRecord)&&(e.data[FS]=e.level)}resetDefaults(){this._sort=null,this.flatRecords=[],this.options={},this._ownersMap.clear(),this.rowIslandCounter=0}},LS=class{constructor(e,t,i=[]){this._data=e,this.columns=i,this._headerRecord="",this._dataRecords="",this._eor="\r\n",this._escapeCharacters=["\r","\n","\r\n"],this._delimiterLength=1,this._isSpecialData=!1,this.setDelimiter(t)}prepareData(e){if(!this._data||0===this._data.length)return"";let t=[];return t=e||eS.getKeysFromData(this._data),0===t.length?"":(this._isSpecialData=eS.isSpecialData(this._data[0]),this._escapeCharacters.push(this._delimiter),this._headerRecord=this.processHeaderRecord(t,this._data.length),this._dataRecords=this.processDataRecords(this._data,t),this._headerRecord+this._dataRecords)}prepareDataAsync(e){let t=this.columns?.filter((e=>!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)),i=t&&t.length?t.map((e=>e.field)):eS.getKeysFromData(this._data);this._isSpecialData=eS.isSpecialData(this._data[0]),this._escapeCharacters.push(this._delimiter);let n=t&&t.length?t.map((e=>e.header??e.field)):i;this._headerRecord=this.processHeaderRecord(n,this._data.length),0!==i.length&&(this._data&&0!==this._data.length||0!==i.length)?this.processDataRecordsAsync(this._data,i,(t=>{e(this._headerRecord+t)})):e("")}processField(e,t){let i=eS.hasValue(e)?String(e):"";return t.some((e=>i.includes(e)))&&(i=`"${i}"`),i+this._delimiter}processHeaderRecord(e,t){let i="";for(let t of e)i+=this.processField(t,this._escapeCharacters);let n=i.slice(0,-this._delimiterLength);return t>0?n+this._eor:n}processRecord(e,t){let i=new Array(t.length);for(let n=0;n<t.length;n++){let r=void 0!==e[t[n]]?e[t[n]]:this._isSpecialData?e:"";i[n]=this.processField(r,this._escapeCharacters)}return i.join("").slice(0,-this._delimiterLength)+this._eor}processDataRecords(e,t){let i=new Array(e.length);for(let n=0;n<e.length;n++){let r=e[n];i[n]=this.processRecord(r,t)}return i.join("")}processDataRecordsAsync(e,t,i){let n=new Array(e.length);RC(e.length,1e3,(i=>{let r=e[i];n[i]=this.processRecord(r,t)}),(()=>{i(n.join(""))}))}setDelimiter(e){this._delimiter=e,this._delimiterLength=e.length}},HS=class{constructor(e,t){this._fileExtension=t,this.ignoreColumnsVisibility=!1,this.ignoreFiltering=!1,this.ignoreColumnsOrder=!1,this.ignoreSorting=!1,this.ignoreGrouping=!1,this.ignoreMultiColumnHeaders=!1,this.exportSummaries=!0,this.freezeHeaders=!1,this.alwaysExportHeaders=!0,this.setFileName(e)}setFileName(e){this._fileName=e+(!1===e.endsWith(this._fileExtension)?this._fileExtension:"")}get fileName(){return this._fileName}set fileName(e){this.setFileName(e)}},zS=class e extends HS{constructor(t,i){super(t,e.getExtensionFromFileType(i)),this.setFileType(i),this.setDelimiter()}static getExtensionFromFileType(e){let t="";switch(e){case BS.CSV:t=".csv";break;case BS.TSV:t=".tsv";break;case BS.TAB:t=".tab";break;default:throw Error("Unsupported CSV file type!")}return t}get valueDelimiter(){return this._valueDelimiter}set valueDelimiter(e){this.setDelimiter(e)}get fileType(){return this._fileType}set fileType(e){this.setFileType(e)}setFileType(t){if(null!=t&&t!==this._fileType){this._fileType=t;let i=e.getExtensionFromFileType(t);if(!this.fileName.endsWith(i)){let e="."+this.fileName.split(".").pop(),t=this.fileName.replace(e,i);this._fileExtension=i,this.fileName=t}}}setDelimiter(e){if(void 0!==e&&""!==e&&null!==e)this._valueDelimiter=e;else switch(this.fileType){case BS.CSV:this._valueDelimiter=",";break;case BS.TSV:case BS.TAB:this._valueDelimiter="\t"}}},BS=function(e){return e[e.CSV=0]="CSV",e[e.TSV=1]="TSV",e[e.TAB=2]="TAB",e}(BS||{}),GS=(()=>{let e=class extends NS{constructor(){super(...arguments),this.exportEnded=new yl}exportDataImplementation(e,t,i){e=e.map((e=>e.data));let n=this._ownersMap.get(kS);new LS(e,t.valueDelimiter,n?.columns).prepareDataAsync((e=>{this._stringData=e,this.saveFile(t),this.exportEnded.emit({csvData:this._stringData}),i()}))}saveFile(e){switch(e.fileType){case BS.CSV:this.exportFile(this._stringData,e.fileName,"text/csv;charset=utf-8;");break;case BS.TSV:case BS.TAB:this.exportFile(this._stringData,e.fileName,"text/tab-separated-values;charset=utf-8;")}}exportFile(e,t,i){let n=new Blob([e?"\ufeff":"",e],{type:i});eS.saveBlobToFile(n,t)}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),$S={},WS=Uint8Array,KS=Uint16Array,jS=Int32Array,US=new WS([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),qS=new WS([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),YS=new WS([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),XS=function(e,t){for(var i=new KS(31),n=0;n<31;++n)i[n]=t+=1<<e[n-1];var r=new jS(i[30]);for(n=1;n<30;++n)for(var s=i[n];s<i[n+1];++s)r[s]=s-i[n]<<5|n;return{b:i,r}},ZS=XS(US,2),QS=ZS.b,JS=ZS.r;QS[28]=258,JS[258]=28;var eb,tb=XS(qS,0),ib=(tb.b,tb.r),nb=new KS(32768);for(ob=0;ob<32768;++ob)eb=(61680&(eb=(52428&(eb=(43690&ob)>>1|(21845&ob)<<1))>>2|(13107&eb)<<2))>>4|(3855&eb)<<4,nb[ob]=((65280&eb)>>8|(255&eb)<<8)>>1;var rb=function(e,t,i){for(var n=e.length,r=0,s=new KS(t);r<n;++r)e[r]&&++s[e[r]-1];var o,a=new KS(t);for(r=1;r<t;++r)a[r]=a[r-1]+s[r-1]<<1;if(i){o=new KS(1<<t);var l=15-t;for(r=0;r<n;++r)if(e[r])for(var d=r<<4|e[r],c=t-e[r],h=a[e[r]-1]++<<c,u=h|(1<<c)-1;h<=u;++h)o[nb[h]>>l]=d}else for(o=new KS(n),r=0;r<n;++r)e[r]&&(o[r]=nb[a[e[r]-1]++]>>15-e[r]);return o},sb=new WS(288);for(ob=0;ob<144;++ob)sb[ob]=8;for(ob=144;ob<256;++ob)sb[ob]=9;for(ob=256;ob<280;++ob)sb[ob]=7;for(ob=280;ob<288;++ob)sb[ob]=8;var ob,ab=new WS(32);for(ob=0;ob<32;++ob)ab[ob]=5;var lb=rb(sb,9,0),db=rb(ab,5,0),cb=function(e){return(e+7)/8|0},hb=function(e,t,i){return(null==t||t<0)&&(t=0),(null==i||i>e.length)&&(i=e.length),new WS(e.subarray(t,i))},ub=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],gb=function(e,t,i){var n=new Error(t||ub[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,gb),!i)throw n;return n},pb=function(e,t,i){i<<=7&t;var n=t/8|0;e[n]|=i,e[n+1]|=i>>8},mb=function(e,t,i){i<<=7&t;var n=t/8|0;e[n]|=i,e[n+1]|=i>>8,e[n+2]|=i>>16},fb=function(e,t){for(var i=[],n=0;n<e.length;++n)e[n]&&i.push({s:n,f:e[n]});var r=i.length,s=i.slice();if(!r)return{t:Sb,l:0};if(1==r){var o=new WS(i[0].s+1);return o[i[0].s]=1,{t:o,l:1}}i.sort((function(e,t){return e.f-t.f})),i.push({s:-1,f:25001});var a=i[0],l=i[1],d=0,c=1,h=2;for(i[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=r-1;)a=i[i[d].f<i[h].f?d++:h++],l=i[d!=c&&i[d].f<i[h].f?d++:h++],i[c++]={s:-1,f:a.f+l.f,l:a,r:l};var u=s[0].s;for(n=1;n<r;++n)s[n].s>u&&(u=s[n].s);var g=new KS(u+1),p=vb(i[c-1],g,0);if(p>t){n=0;var m=0,f=p-t,v=1<<f;for(s.sort((function(e,t){return g[t.s]-g[e.s]||e.f-t.f}));n<r;++n){var y=s[n].s;if(!(g[y]>t))break;m+=v-(1<<p-g[y]),g[y]=t}for(m>>=f;m>0;){var x=s[n].s;g[x]<t?m-=1<<t-g[x]++-1:++n}for(;n>=0&&m;--n){var w=s[n].s;g[w]==t&&(--g[w],++m)}p=t}return{t:new WS(g),l:p}},vb=function(e,t,i){return-1==e.s?Math.max(vb(e.l,t,i+1),vb(e.r,t,i+1)):t[e.s]=i},yb=function(e){for(var t=e.length;t&&!e[--t];);for(var i=new KS(++t),n=0,r=e[0],s=1,o=function(e){i[n++]=e},a=1;a<=t;++a)if(e[a]==r&&a!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=e[a]}return{c:i.subarray(0,n),n:t}},xb=function(e,t){for(var i=0,n=0;n<t.length;++n)i+=e[n]*t[n];return i},wb=function(e,t,i){var n=i.length,r=cb(t+2);e[r]=255&n,e[r+1]=n>>8,e[r+2]=255^e[r],e[r+3]=255^e[r+1];for(var s=0;s<n;++s)e[r+s+4]=i[s];return 8*(r+4+n)},_b=function(e,t,i,n,r,s,o,a,l,d,c){pb(t,c++,i),++r[256];for(var h=fb(r,15),u=h.t,g=h.l,p=fb(s,15),m=p.t,f=p.l,v=yb(u),y=v.c,x=v.n,w=yb(m),_=w.c,C=w.n,S=new KS(19),b=0;b<y.length;++b)++S[31&y[b]];for(b=0;b<_.length;++b)++S[31&_[b]];for(var D=fb(S,7),I=D.t,E=D.l,T=19;T>4&&!I[YS[T-1]];--T);var R,A,k,O,P=d+5<<3,F=xb(r,sb)+xb(s,ab)+o,V=xb(r,u)+xb(s,m)+o+14+3*T+xb(S,I)+2*S[16]+3*S[17]+7*S[18];if(l>=0&&P<=F&&P<=V)return wb(t,c,e.subarray(l,l+d));if(pb(t,c,1+(V<F)),c+=2,V<F){R=rb(u,g,0),A=u,k=rb(m,f,0),O=m;var M=rb(I,E,0);for(pb(t,c,x-257),pb(t,c+5,C-1),pb(t,c+10,T-4),c+=14,b=0;b<T;++b)pb(t,c+3*b,I[YS[b]]);c+=3*T;for(var N=[y,_],L=0;L<2;++L){var H=N[L];for(b=0;b<H.length;++b){var z=31&H[b];pb(t,c,M[z]),c+=I[z],z>15&&(pb(t,c,H[b]>>5&127),c+=H[b]>>12)}}}else R=lb,A=sb,k=db,O=ab;for(b=0;b<a;++b){var B=n[b];if(B>255){mb(t,c,R[257+(z=B>>18&31)]),c+=A[z+257],z>7&&(pb(t,c,B>>23&31),c+=US[z]);var G=31&B;mb(t,c,k[G]),c+=O[G],G>3&&(mb(t,c,B>>5&8191),c+=qS[G])}else mb(t,c,R[B]),c+=A[B]}return mb(t,c,R[256]),c+A[256]},Cb=new jS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Sb=new WS(0),bb=function(e,t,i,n,r,s){var o=s.z||e.length,a=new WS(n+o+5*(1+Math.ceil(o/7e3))+r),l=a.subarray(n,a.length-r),d=s.l,c=7&(s.r||0);if(t){c&&(l[0]=s.r>>3);for(var h=Cb[t-1],u=h>>13,g=8191&h,p=(1<<i)-1,m=s.p||new KS(32768),f=s.h||new KS(p+1),v=Math.ceil(i/3),y=2*v,x=function(t){return(e[t]^e[t+1]<<v^e[t+2]<<y)&p},w=new jS(25e3),_=new KS(288),C=new KS(32),S=0,b=0,D=s.i||0,I=0,E=s.w||0,T=0;D+2<o;++D){var R=x(D),A=32767&D,k=f[R];if(m[A]=k,f[R]=A,E<=D){var O=o-D;if((S>7e3||I>24576)&&(O>423||!d)){c=_b(e,l,0,w,_,C,b,I,T,D-T,c),I=S=b=0,T=D;for(var P=0;P<286;++P)_[P]=0;for(P=0;P<30;++P)C[P]=0}var F=2,V=0,M=g,N=A-k&32767;if(O>2&&R==x(D-N))for(var L=Math.min(u,O)-1,H=Math.min(32767,D),z=Math.min(258,O);N<=H&&--M&&A!=k;){if(e[D+F]==e[D+F-N]){for(var B=0;B<z&&e[D+B]==e[D+B-N];++B);if(B>F){if(F=B,V=N,B>L)break;var G=Math.min(N,B-2),$=0;for(P=0;P<G;++P){var W=D-N+P&32767,K=W-m[W]&32767;K>$&&($=K,k=W)}}}N+=(A=k)-(k=m[A])&32767}if(V){w[I++]=268435456|JS[F]<<18|ib[V];var j=31&JS[F],U=31&ib[V];b+=US[j]+qS[U],++_[257+j],++C[U],E=D+F,++S}else w[I++]=e[D],++_[e[D]]}}for(D=Math.max(D,E);D<o;++D)w[I++]=e[D],++_[e[D]];c=_b(e,l,d,w,_,C,b,I,T,D-T,c),d||(s.r=7&c|l[c/8|0]<<3,c-=7,s.h=f,s.p=m,s.i=D,s.w=E)}else{for(D=s.w||0;D<o+d;D+=65535){var q=D+65535;q>=o&&(l[c/8|0]=d,q=o),c=wb(l,c+1,e.subarray(D,q))}s.i=o}return hb(a,0,n+cb(c)+r)},Db=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var i=t,n=9;--n;)i=(1&i&&-306674912)^i>>>1;e[t]=i}return e}(),Ib=function(e,t,i,n,r){if(!r&&(r={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new WS(s.length+e.length);o.set(s),o.set(e,s.length),e=o,r.w=s.length}return bb(e,null==t.level?6:t.level,null==t.mem?r.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,i,n,r)},Eb=function(e,t){var i={};for(var n in e)i[n]=e[n];for(var n in t)i[n]=t[n];return i},Tb=function(e,t,i){for(var n=e(),r=e.toString(),s=r.slice(r.indexOf("[")+1,r.lastIndexOf("]")).replace(/\s+/g,"").split(","),o=0;o<n.length;++o){var a=n[o],l=s[o];if("function"==typeof a){t+=";"+l+"=";var d=a.toString();if(a.prototype)if(-1!=d.indexOf("[native code]")){var c=d.indexOf(" ",8)+1;t+=d.slice(c,d.indexOf("(",c))}else for(var h in t+=d,a.prototype)t+=";"+l+".prototype."+h+"="+a.prototype[h].toString();else t+=d}else i[l]=a}return t},Rb=[],Ab=function(){return[WS,KS,jS,US,qS,YS,JS,ib,lb,sb,db,ab,nb,Cb,Sb,rb,pb,mb,fb,vb,yb,xb,wb,_b,cb,hb,bb,Ib,Fb,kb]},kb=function(e){return postMessage(e,[e.buffer])},Ob=function(e,t,i,n,r,s){var o=function(e,t,i,n){if(!Rb[i]){for(var r="",s={},o=e.length-1,a=0;a<o;++a)r=Tb(e[a],r,s);Rb[i]={c:Tb(e[o],r,s),e:s}}var l=Eb({},Rb[i].e);return function(e,t,i,n,r){var s=new Worker($S[t]||($S[t]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return s.onmessage=function(e){var t=e.data,i=t.$e$;if(i){var n=new Error(i[0]);n.code=i[1],n.stack=i[2],r(n,null)}else r(null,t)},s.postMessage(i,n),s}(Rb[i].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",i,l,function(e){var t=[];for(var i in e)e[i].buffer&&t.push((e[i]=new e[i].constructor(e[i])).buffer);return t}(l),n)}(i,n,r,(function(e,t){o.terminate(),s(e,t)}));return o.postMessage([e,t],t.consume?[e.buffer]:[]),function(){o.terminate()}},Pb=function(e,t,i){for(;i;++t)e[t]=i,i>>>=8};function Fb(e,t){return Ib(e,t||{},0,0)}var Vb=function(e,t,i,n){for(var r in e){var s=e[r],o=t+r,a=n;Array.isArray(s)&&(a=Eb(n,s[1]),s=s[0]),s instanceof WS?i[o]=[s,a]:(i[o+="/"]=[new WS(0),a],Vb(s,o,i,n))}},Mb=typeof TextEncoder<"u"&&new TextEncoder,Nb=typeof TextDecoder<"u"&&new TextDecoder;try{Nb.decode(Sb,{stream:!0})}catch{}function Lb(e,t){if(t){for(var i=new WS(e.length),n=0;n<e.length;++n)i[n]=e.charCodeAt(n);return i}if(Mb)return Mb.encode(e);var r=e.length,s=new WS(e.length+(e.length>>1)),o=0,a=function(e){s[o++]=e};for(n=0;n<r;++n){if(o+5>s.length){var l=new WS(o+8+(r-n<<1));l.set(s),s=l}var d=e.charCodeAt(n);d<128||t?a(d):d<2048?(a(192|d>>6),a(128|63&d)):d>55295&&d<57344?(a(240|(d=65536+(1047552&d)|1023&e.charCodeAt(++n))>>18),a(128|d>>12&63),a(128|d>>6&63),a(128|63&d)):(a(224|d>>12),a(128|d>>6&63),a(128|63&d))}return hb(s,0,o)}var Hb=function(e){var t=0;if(e)for(var i in e){var n=e[i].length;n>65535&&gb(9),t+=n+4}return t},zb=function(e,t,i,n,r,s,o,a){var l=n.length,d=i.extra,c=a&&a.length,h=Hb(d);Pb(e,t,null!=o?33639248:67324752),t+=4,null!=o&&(e[t++]=20,e[t++]=i.os),e[t]=20,t+=2,e[t++]=i.flag<<1|(s<0&&8),e[t++]=r&&8,e[t++]=255&i.compression,e[t++]=i.compression>>8;var u=new Date(null==i.mtime?Date.now():i.mtime),g=u.getFullYear()-1980;if((g<0||g>119)&&gb(10),Pb(e,t,g<<25|u.getMonth()+1<<21|u.getDate()<<16|u.getHours()<<11|u.getMinutes()<<5|u.getSeconds()>>1),t+=4,-1!=s&&(Pb(e,t,i.crc),Pb(e,t+4,s<0?-s-2:s),Pb(e,t+8,i.size)),Pb(e,t+12,l),Pb(e,t+14,h),t+=16,null!=o&&(Pb(e,t,c),Pb(e,t+6,i.attrs),Pb(e,t+10,o),t+=14),e.set(n,t),t+=l,h)for(var p in d){var m=d[p],f=m.length;Pb(e,t,+p),Pb(e,t+2,f),e.set(m,t+4),t+=4+f}return c&&(e.set(a,t),t+=c),t};var Bb="function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout?setTimeout:function(e){e()},Gb=function(e){return e[e.RootExcelFolder=0]="RootExcelFolder",e[e.RootRelsExcelFolder=1]="RootRelsExcelFolder",e[e.DocPropsExcelFolder=2]="DocPropsExcelFolder",e[e.XLExcelFolder=3]="XLExcelFolder",e[e.XLRelsExcelFolder=4]="XLRelsExcelFolder",e[e.ThemeExcelFolder=5]="ThemeExcelFolder",e[e.WorksheetsExcelFolder=6]="WorksheetsExcelFolder",e[e.WorksheetsRelsExcelFolder=7]="WorksheetsRelsExcelFolder",e[e.TablesExcelFolder=8]="TablesExcelFolder",e}(Gb||{}),$b=function(e){return e[e.RootRelsFile=0]="RootRelsFile",e[e.AppFile=1]="AppFile",e[e.CoreFile=2]="CoreFile",e[e.WorkbookRelsFile=3]="WorkbookRelsFile",e[e.ThemeFile=4]="ThemeFile",e[e.WorksheetFile=5]="WorksheetFile",e[e.StyleFile=6]="StyleFile",e[e.WorkbookFile=7]="WorkbookFile",e[e.ContentTypesFile=8]="ContentTypesFile",e[e.SharedStringsFile=9]="SharedStringsFile",e[e.WorksheetRelsFile=10]="WorksheetRelsFile",e[e.TablesFile=11]="TablesFile",e}($b||{}),Wb=(()=>{let e=class e{static getRels(){return e.XML_STRING+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>'}static getApp(t){return e.XML_STRING+`<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>1</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="1" baseType="lpstr"><vt:lpstr>${t}</vt:lpstr></vt:vector></TitlesOfParts><Company></Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>16.0300</AppVersion></Properties>`}static getCore(){return e.XML_STRING+'<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator></dc:creator><cp:lastModifiedBy></cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">2015-06-05T18:17:20Z</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">2015-06-05T18:17:26Z</dcterms:modified></cp:coreProperties>'}static getTheme(){return e.XML_STRING+'<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="5B9BD5"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="4472C4"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Calibri Light" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="游ゴシック Light"/><a:font script="Hang" typeface="맑은 고딕"/><a:font script="Hans" typeface="等线 Light"/><a:font script="Hant" typeface="新細明體"/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="游ゴシック"/><a:font script="Hang" typeface="맑은 고딕"/><a:font script="Hans" typeface="等线"/><a:font script="Hant" typeface="新細明體"/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>'}static getStyles(){return e.XML_STRING+'<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac x16r2" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:x16r2="http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"><numFmts count="5"><numFmt numFmtId="164" formatCode="&quot;$&quot;#,##0.00"/><numFmt numFmtId="165" formatCode="[$£-809]#,##0.00"/><numFmt numFmtId="166" formatCode="[$¥-804]#,##0.00"/><numFmt numFmtId="167" formatCode="#,##0.00 [$€-1]"/><numFmt numFmtId="168" formatCode="[$¥-411]#,##0.00"/></numFmts><fonts count="2" x14ac:knownFonts="1"><font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font><font><b/><sz val="11"/><color theme="0"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts><fills count="3"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill><fill><patternFill patternType="solid"><fgColor theme="4"/><bgColor indexed="64"/></patternFill></fill></fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="13"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="14" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="0" xfId="0"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" applyAlignment="1"><alignment horizontal="center" vertical="center"/></xf><xf numFmtId="164" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="165" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="166" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="167" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="168" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="21" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="22" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="10" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles><dxfs count="0"/><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleLight16"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext><ext uri="{9260A510-F301-46a8-8635-F512D64BE5F5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:timelineStyles defaultTimelineStyle="TimeSlicerStyleLight1"/></ext></extLst></styleSheet>'}static getWorkbook(t){return e.XML_STRING+`<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><fileVersion appName="xl" lastEdited="6" lowestEdited="6" rupBuild="14420"/><workbookPr filterPrivacy="1" defaultThemeVersion="164011"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="22260" windowHeight="12645"/></bookViews><sheets><sheet name="${t}" sheetId="1" r:id="rId1"/></sheets><calcPr calcId="162913"/><extLst><ext uri="{140A7094-0E35-4892-8432-C4D2E57EDEB5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:workbookPr chartTrackingRefBase="1"/></ext></extLst></workbook>`}static getWorksheetRels(){return e.XML_STRING+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/table" Target="../tables/table1.xml"/></Relationships>'}static getWorkbookRels(t){let i=e.XML_STRING+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/>';return t&&(i+=e.SHARED_STRING_RELATIONSHIP),i+="</Relationships>",i}static getSheetXML(t,i,n,r,s,o=0,a){let l=o>0,d=s?'<tableParts count="1"><tablePart r:id="rId1"/></tableParts>':"",c=l?'<sheetPr><outlinePr summaryBelow="0"/></sheetPr>':"",h=l?`outlineLevelRow="${o}"`:"",u=a?"":`<dimension ref="${t}"/>`;return`${e.XML_STRING}\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">\n${c}\n${u}\n<sheetViews><sheetView tabSelected="1" workbookViewId="0">${i}</sheetView></sheetViews>\n<sheetFormatPr defaultRowHeight="15" ${h} x14ac:dyDescent="0.25"/>\n${n}\n${r}\n<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/>\n${d}</worksheet>`}static getSharedStringXML(t,i,n){return e.XML_STRING+'<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="'+t+'" uniqueCount="'+i+'">'+n+"</sst>"}static getContentTypesXML(t,i){let n=e.XML_STRING+'<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\n            <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>\n            <Default Extension="xml" ContentType="application/xml"/>\n            <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>\n            <Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>\n            <Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/>\n            <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>\n            <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/>\n            <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/>';return n+=t?'\t<Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>':"",n+=i?'<Override PartName="/xl/tables/table1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"/>':"",n+="</Types>",n}static getTablesXML(t,i,n,r){return`${e.XML_STRING}<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="${i}" totalsRowShown="0">\n    <autoFilter ref="${t}"/>${r}${n}<tableStyleInfo name="TableStyleMedium2" showFirstColumn="0" showLastColumn="0" showRowStripes="1" showColumnStripes="0"/>\n</table>`}static getExcelColumn(e){let t="";for(;e>=0;){let i=e%26;t=String.fromCharCode(65+i)+t,e=Math.floor(e/26)-1}return t}};return e.XML_STRING='<?xml version="1.0" encoding="UTF-8"?>\r\n',e.SHARED_STRING_RELATIONSHIP='<Relationship Id="rId4" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />',e})(),Kb=(()=>{let e=class e{constructor(){this.maxOutlineLevel=0,this.sheetData="",this.dimension="",this.freezePane="",this.rowHeight="",this.mergeCellStr="",this.mergeCellsCounter=0,this.rowIndex=0,this.pivotGridRowHeadersMap=new Map,this.dimensionMap=new Map,this.hierarchicalDimensionMap=new Map,this.currentSummaryOwner="",this.currentHierarchicalOwner="",this.firstColumn=Number.MAX_VALUE,this.firstDataRow=Number.MAX_VALUE,this.currencyStyleMap=new Map([["USD",{styleXf:5,symbol:"$"}],["GBP",{styleXf:6,symbol:"£"}],["CNY",{styleXf:7,symbol:"¥"}],["EUR",{styleXf:8,symbol:"€"}],["JPY",{styleXf:9,symbol:"¥"}]])}writeElement(){}writeElementAsync(e,t){return Ge(this,null,(function*(){return new Promise((i=>{this.prepareDataAsync(t,((n,r)=>{let s=(!t.isEmpty||t.options.alwaysExportHeaders)&&t.options.exportAsTable;e["sheet1.xml"]=Lb(Wb.getSheetXML(this.dimension,this.freezePane,n,r,s,this.maxOutlineLevel,t.isHierarchical)),i()}))}))}))}prepareDataAsync(t,i){this.sheetData="";let n="",r=t.dataDictionary;if(this.rowIndex=0,!t.isEmpty||t.options.alwaysExportHeaders&&0!==t.owner.columns.length){let s=t.owner,o=t.isHierarchical,a=t.hasMultiColumnHeader,l=t.hasMultiRowHeader,d=s.columns.some((e=>void 0!==e.exportIndex)),c=t.options.rowHeight;this.isValidGrid=t.isHierarchical||t.isTreeGrid||t.isGroupedGrid,this.rowHeight=c?` ht="${c}" customHeight="1"`:"",this.sheetData+="<sheetData>";let h=[];for(let e=0;e<=s.maxRowLevel;e++)h=s.columns.filter((t=>t.level===e&&t.rowSpan>0&&!t.skip)),this.printHeaders(t,h,e,!0),this.rowIndex++;this.rowIndex=0;for(let e=0;e<=s.maxLevel;e++){this.rowIndex++;let i=this.pivotGridRowHeadersMap.get(this.rowIndex)??"";this.sheetData+=`<row r="${this.rowIndex}"${this.rowHeight}>${i}`;let n=s.columns.filter((e=>e.headerType!==RS.RowHeader&&e.headerType!==RS.MultiRowHeader&&e.headerType!==RS.PivotRowHeader&&e.headerType!==RS.PivotMergedHeader));h=a?n.filter((t=>(t.level<e&&t.headerType!==RS.MultiColumnHeader||t.level===e)&&t.columnSpan>0&&!t.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)):d?n.filter((e=>!e.skip)):n.filter((e=>!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)),this.printHeaders(t,h,e,!1),this.sheetData+="</row>"}let u=t.options.ignoreMultiColumnHeaders?0:s.maxLevel,g=t.options.freezeHeaders?2+u:1;if(o){let e=t.options.columnWidth?t.options.columnWidth:20;if(n+=`<cols><col min="1" max="${t.columnCount}" width="${e}" customWidth="1"/>`,t.options.freezeHeaders){let e=Wb.getExcelColumn(0)+g;this.freezePane=`<pane xSplit="0" ySplit="${g-1}"\n                         topLeftCell="${e}" activePane="topRight" state="frozen"/>`}}else{let i=t.hasSummaries?t.columnCount+1:t.columnCount-1;if(this.dimension="A1:"+Wb.getExcelColumn(i)+t.rowCount,n+="<cols>",a)n+=`<col min="1" max="${t.columnCount}" width="15" customWidth="1"/>`;else for(let i=0;i<t.columnCount;i++){let s=r.columnWidths[i],o=void 0!==t.options.columnWidth?t.options.columnWidth:Math.max(s/96*14.4,e.MIN_WIDTH);o>0||(o=e.MIN_WIDTH),n+=`<col min="${i+1}" max="${i+1}" width="${o}" customWidth="1"/>`}let s=t.indexOfLastPinnedColumn,o=s+1,l=Wb.getExcelColumn(o)+g;void 0===s||-1===s||t.options.ignorePinning||t.options.ignoreColumnsOrder?t.options.freezeHeaders&&(l=Wb.getExcelColumn(0)+g,this.freezePane=`<pane xSplit="0" ySplit="${g-1}"\n                         topLeftCell="${l}" activePane="topRight" state="frozen"/>`):this.freezePane=`<pane xSplit="${o}" ySplit="${g-1}"\n                         topLeftCell="${l}" activePane="topRight" state="frozen"/>`}t.hasSummaries&&(n+=`<col min="${t.columnCount+2}" max="${t.columnCount+2}" hidden="1"/>`),n+="</cols>",this.processDataRecordsAsync(t,(e=>{this.sheetData+=e,this.sheetData+="</sheetData>",(a||l)&&this.mergeCellsCounter>0&&(this.sheetData+=`<mergeCells count="${this.mergeCellsCounter}">${this.mergeCellStr}</mergeCells>`),i(n,this.sheetData)}))}else this.sheetData+="<sheetData/>",this.dimension="A1",i("",this.sheetData)}processDataRecordsAsync(e,t){let i=[],n=e.options.rowHeight;this.rowHeight=n?' ht="'+n+'" customHeight="1"':"";let r=e.isHierarchical,s=e.owner.columns.some((e=>void 0!==e.exportIndex)),o=[];RC(e.rowCount-e.multiColumnHeaderRows-1,1e3,(t=>{if(!e.isEmpty){if(r){let n=e.data[t];if(n.type===TS.HeaderRecord){let t=e.owners.get(n.owner);t.columns.some((e=>!e.skip&&e.headerType===RS.MultiColumnHeader))&&this.hGridPrintMultiColHeaders(e,i,n,t)}o=Object.keys(e.data[t].data)}else o=s?e.rootKeys:e.owner.columns.filter((e=>e.headerType===RS.ColumnHeader&&!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)).map((e=>e.field));i.push(this.processRow(e,t,o,r))}}),(()=>{t(i.join(""))}))}hGridPrintMultiColHeaders(e,t,i,n){for(let r=0;r<n.maxLevel;r++){let s=i.level,o=s>0?` outlineLevel="${s}"`:"";this.maxOutlineLevel=this.maxOutlineLevel<s?s:this.maxOutlineLevel;let a=i.hidden?' hidden="1"':"";this.rowIndex++;let l=`<row r="${this.rowIndex}"${this.rowHeight}${o}${a}>`,d=n.columns.filter((e=>(e.level<r&&e.headerType!==RS.MultiColumnHeader||e.level===r)&&e.columnSpan>0&&!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)),c=0+i.level;for(let t of d){if(t.level===r){let i;if(i=Wb.getExcelColumn(c)+this.rowIndex,l+=`<c r="${i}" s="3" t="s"><v>${e.dataDictionary.saveValue(t.header,!0)}</v></c>`,r!==n.maxLevel){if(this.mergeCellsCounter++,this.mergeCellStr+=` <mergeCell ref="${i}:`,t.headerType===RS.ColumnHeader)i=Wb.getExcelColumn(c)+(this.rowIndex+n.maxLevel-t.level);else for(let e=1;e<t.columnSpan;e++)i=Wb.getExcelColumn(c+e)+this.rowIndex,l+=`<c r="${i}" s="3" />`;this.mergeCellStr+=`${i}" />`}}c+=t.columnSpan}l+="</row>",t.push(l)}}processRow(e,t,i,n){let r=e.data[t],s=new Array(e.columnCount+2),o=r.level,a=o>0?` outlineLevel="${o}"`:"";this.maxOutlineLevel=this.maxOutlineLevel<o?o:this.maxOutlineLevel;let l=r.hidden?' hidden="1"':"";this.rowIndex++;let d=this.pivotGridRowHeadersMap.get(this.rowIndex)??"";s[0]=`<row r="${this.rowIndex}"${this.rowHeight}${a}${l}>${d}`;let c=e.isSpecialData?[r.data]:i,h=r.type===TS.HierarchicalGridRecord||r.type===TS.DataRecord||r.type===TS.GroupedRecord||r.type===TS.TreeGridRecord;(h||r.type===TS.SummaryRecord)&&e.hasSummaries&&this.resolveSummaryDimensions(r,h,e.isGroupedGrid);for(let i=0;i<c.length;i++){let r=i+(n?o:e.isPivotGrid?e.owner.maxRowLevel:0),a=this.getCellData(e,t,r,c[i]);s[i+1]=a}return s[c.length+1]="</row>",s.join("")}getCellData(e,t,i,n){let r=e.dataDictionary,s=Wb.getExcelColumn(i)+this.rowIndex,o=e.data[t],a=o.type===TS.HeaderRecord,l=o.type===TS.SummaryRecord,d=o.type===TS.GroupedRecord||o.type===TS.DataRecord||o.type===TS.HierarchicalGridRecord||o.type===TS.TreeGridRecord;this.firstDataRow=this.firstDataRow>this.rowIndex?this.rowIndex:this.firstDataRow;let c=e.isSpecialData?o.data:o.data[n];(c===FS||n===FS)&&(s=Wb.getExcelColumn(e.columnCount+1)+this.rowIndex),e.hasSummaries&&(d||e.isGroupedGrid&&l)&&this.setSummaryCoordinates(s,n,o.hierarchicalOwner,e.isGroupedGrid&&l),o.summaryKey&&o.summaryKey===OS&&n!==FS&&e.isGroupedGrid&&(this.setRootSummaryStartCoordinate(i,n),this.firstColumn>i&&(this.setRootSummaryStartCoordinate(e.columnCount+1,FS),this.firstColumn=i));let h=Array.from(e.owners.values()).map((e=>e.columns)).find((e=>e.some((e=>e.field===n)))),u=h?h.find((e=>e.field===n)):void 0;if(null==c&&!e.hasSummaries)return`<c r="${s}" s="1"/>`;if(e.hasSummaries&&(d||a)||!e.hasSummaries){let e=r.saveValue(c,a),t=-1!==e,i=!t&&c instanceof Date,n=t?e:c;if(i){let e=6e4*n.getTimezoneOffset(),t=new Date(n-e).toISOString();n=t.substring(0,t.indexOf("."))}let o=t?' t="s"':i?' t="d"':"",l="time"===u?.dataType,d="dateTime"===u?.dataType;return`<c r="${s}"${o}${"percent"===u?.dataType?' s="12"':d?' s="11"':l?' s="10"':a?' s="3"':t?"":i?' s="2"':"currency"===u?.dataType?` s="${this.currencyStyleMap.get(u.currencyCode)?.styleXf||0}"`:' s="1"'}><v>${n}</v></c>`}{let t=`"${c??""}"`;if(l&&c){let i=this.isValidGrid?o.hierarchicalOwner??PS:null,a=e.isGroupedGrid?e.maxLevel:o.level;if(t=this.getSummaryFunction(c.label,n,i,a,u),!t){let e,t=c.label?.toString(),i=c.value?.toString();t&&i?e=`${c.label}: ${c.value}`:t?e=c.label:i&&(e=c.value);let n=r.saveValue(e,!1),o=-1!==n,a=!o&&e instanceof Date;if(a){let t=6e4*e.getTimezoneOffset(),i=new Date(e-t).toISOString();e=i.substring(0,i.indexOf("."))}return`<c r="${s}" ${o?'t="s"':a?'t="d"':""} ${a?'s="2"':'s="1"'}><v>${o?n:e}</v></c>`}return`<c r="${s}"><f t="array" ref="${s}">${t}</f></c>`}return`<c r="${s}" s="1"><f>${t}</f></c>`}}resolveSummaryDimensions(e,t,i){this.isValidGrid&&""!==this.currentHierarchicalOwner&&this.currentHierarchicalOwner!==e.owner&&!this.hierarchicalDimensionMap.get(this.currentHierarchicalOwner)&&this.hierarchicalDimensionMap.set(this.currentHierarchicalOwner,new Map(this.dimensionMap)),t&&((this.currentSummaryOwner!==e.summaryKey||this.currentHierarchicalOwner!==e.hierarchicalOwner)&&this.dimensionMap.clear(),this.currentSummaryOwner=e.summaryKey,i&&""!==this.currentHierarchicalOwner&&e.hierarchicalOwner===PS&&this.hierarchicalDimensionMap.delete(PS),this.currentHierarchicalOwner=e.hierarchicalOwner)}setSummaryCoordinates(e,t,i,n){let r=this.hierarchicalDimensionMap.get(i)??this.dimensionMap;if(r.get(t))n?this.setEndCoordinates(r,!0):(r.get(t).endCoordinate=e,this.lastValidRow=r.get(t).endCoordinate.match(/[a-z]+|[^a-z]+/gi)[1]);else{let i={startCoordinate:e,endCoordinate:e};r.set(t,i)}if(this.isValidGrid&&!n&&i!==PS){let e=this.hierarchicalDimensionMap.get(PS);this.setEndCoordinates(e)}}setEndCoordinates(e,t=!1){for(let i of e.values()){let e=i.endCoordinate.match(/[a-z]+|[^a-z]+/gi)[0];i.endCoordinate=`${e}${t?this.lastValidRow:this.rowIndex}`}}getSummaryFunction(e,t,i,n,r){let s=i?this.hierarchicalDimensionMap.get(i):this.dimensionMap,o=s.get(t),a=s.get(FS),l="",d="",c="",h=this.currencyStyleMap.get(r.currencyCode);switch(e?.toString().toLowerCase()){case"count":return`"Count: "&amp;_xlfn.COUNTIF(${a.startCoordinate}:${a.endCoordinate}, ${n})`;case"min":return l=`_xlfn.MIN(_xlfn.IF(${a.startCoordinate}:${a.endCoordinate}=${n}, ${o.startCoordinate}:${o.endCoordinate}))`,d='"Min: "&amp;',c=d+("currency"===r.dataType&&h?`_xlfn.TEXT(${l}, "${h.symbol}#,##0.00")`:`${l}`),c;case"max":return l=`_xlfn.MAX(_xlfn.IF(${a.startCoordinate}:${a.endCoordinate}=${n}, ${o.startCoordinate}:${o.endCoordinate}))`,d='"Max: "&amp;',c=d+("currency"===r.dataType&&h?`_xlfn.TEXT(${l}, "${h.symbol}#,##0.00")`:`${l}`),c;case"sum":return l=`_xlfn.SUMIF(${a.startCoordinate}:${a.endCoordinate}, ${n}, ${o.startCoordinate}:${o.endCoordinate})`,d='"Sum: "&amp;',c=d+("currency"===r.dataType&&h?`_xlfn.TEXT(${l}, "${h.symbol}#,##0.00")`:`${l}`),c;case"avg":return l=`_xlfn.AVERAGEIF(${a.startCoordinate}:${a.endCoordinate}, ${n}, ${o.startCoordinate}:${o.endCoordinate})`,d='"Avg: "&amp;',c=d+("currency"===r.dataType&&h?`_xlfn.TEXT(${l}, "${h.symbol}#,##0.00")`:`${l}`),c;case"earliest":return`"Earliest: "&amp;_xlfn.TEXT(_xlfn.MIN(_xlfn.IF(${a.startCoordinate}:${a.endCoordinate}=${n}, ${o.startCoordinate}:${o.endCoordinate})), "m/d/yyyy")`;case"latest":return`"Latest: "&amp;_xlfn.TEXT(_xlfn.MAX(_xlfn.IF(${a.startCoordinate}:${a.endCoordinate}=${n}, ${o.startCoordinate}:${o.endCoordinate})), "m/d/yyyy")`}}setRootSummaryStartCoordinate(e,t){let i=Wb.getExcelColumn(e)+this.firstDataRow,n=this.hierarchicalDimensionMap.get(PS);n.get(t).startCoordinate!==i&&(n.get(t).startCoordinate=i)}printHeaders(e,t,i,n){let r=0,s="",o=e.isHierarchical?' s="3"':"",a=e.dataDictionary,l=e.owner,d=n?l.maxRowLevel:l.maxLevel;for(let c of t){let t=n?c.rowSpan:c.columnSpan;if(c.level===i&&c.headerType!==RS.PivotMergedHeader){let h,u=n?this.rowIndex:r+(l.maxRowLevel??0),g=n?r+l.maxLevel+2:this.rowIndex;c.headerType===RS.PivotRowHeader&&(g=r+1);let p=a.saveValue(c.header,!0,!1);if(h=(c.field===FS?Wb.getExcelColumn(e.columnCount+1):Wb.getExcelColumn(u))+g,o=n&&c.rowSpan>1?' s="4"':o,s=`<c r="${h}"${o} t="s"><v>${p}</v></c>`,n?this.pivotGridRowHeadersMap.has(g)?this.pivotGridRowHeadersMap.set(g,this.pivotGridRowHeadersMap.get(g)+s):this.pivotGridRowHeadersMap.set(g,s):this.sheetData+=s,i!==d){if(this.mergeCellsCounter++,this.mergeCellStr+=` <mergeCell ref="${h}:`,c.headerType===RS.ColumnHeader){let e=n?d:r+(l.maxRowLevel??0),t=n?g:l.maxLevel+1;h=Wb.getExcelColumn(e)+t}else for(let e=1;e<t;e++){let t=n?u:u+e,i=n?g+e:this.rowIndex;h=Wb.getExcelColumn(t)+i,s=`<c r="${h}"${o} />`,n?this.pivotGridRowHeadersMap.set(i,s):this.sheetData+=s}(c.headerType===RS.RowHeader||c.headerType===RS.MultiRowHeader)&&c.columnSpan&&c.columnSpan>1&&(h=Wb.getExcelColumn(u+c.columnSpan-1)+(g+t-1)),this.mergeCellStr+=`${h}" />`}}c.headerType!==RS.PivotRowHeader&&(r+=t)}}};return e.MIN_WIDTH=8.43,e})(),jb=class{static getExcelFolder(e){switch(e){case Gb.RootExcelFolder:return new class{get folderName(){return""}childFiles(){return[$b.ContentTypesFile]}childFolders(){return[Gb.RootRelsExcelFolder,Gb.DocPropsExcelFolder,Gb.XLExcelFolder]}};case Gb.RootRelsExcelFolder:return new class{get folderName(){return"_rels"}childFiles(){return[$b.RootRelsFile]}childFolders(){return[]}};case Gb.DocPropsExcelFolder:return new class{get folderName(){return"docProps"}childFiles(){return[$b.AppFile,$b.CoreFile]}childFolders(){return[]}};case Gb.XLExcelFolder:return new class{get folderName(){return"xl"}childFiles(e){let t=[$b.StyleFile,$b.WorkbookFile];return(!e.isEmpty||e.options.alwaysExportHeaders)&&t.push($b.SharedStringsFile),t}childFolders(e){let t=[Gb.XLRelsExcelFolder,Gb.ThemeExcelFolder,Gb.WorksheetsExcelFolder];return(!e.isEmpty||e.options.alwaysExportHeaders)&&e.options.exportAsTable&&t.push(Gb.TablesExcelFolder),t}};case Gb.XLRelsExcelFolder:return new class{get folderName(){return"_rels"}childFiles(){return[$b.WorkbookRelsFile]}childFolders(){return[]}};case Gb.ThemeExcelFolder:return new class{get folderName(){return"theme"}childFiles(){return[$b.ThemeFile]}childFolders(){return[]}};case Gb.WorksheetsExcelFolder:return new class{get folderName(){return"worksheets"}childFiles(){return[$b.WorksheetFile]}childFolders(e){return e.isEmpty&&!e.options.alwaysExportHeaders||!e.options.exportAsTable?[]:[Gb.WorksheetsRelsExcelFolder]}};case Gb.WorksheetsRelsExcelFolder:return new class{get folderName(){return"_rels"}childFiles(){return[$b.WorksheetRelsFile]}childFolders(){return[]}};case Gb.TablesExcelFolder:return new class{get folderName(){return"tables"}childFiles(){return[$b.TablesFile]}childFolders(){return[]}};default:throw new Error("Unknown excel folder type!")}}static getExcelFile(e){switch(e){case $b.RootRelsFile:return new class{writeElement(e){e[".rels"]=Lb(Wb.getRels())}};case $b.AppFile:return new class{writeElement(e,t){e["app.xml"]=Lb(Wb.getApp(t.options.worksheetName))}};case $b.CoreFile:return new class{writeElement(e){e["core.xml"]=Lb(Wb.getCore())}};case $b.WorkbookRelsFile:return new class{writeElement(e,t){let i=!t.isEmpty||t.options.alwaysExportHeaders;e["workbook.xml.rels"]=Lb(Wb.getWorkbookRels(i))}};case $b.ThemeFile:return new class{writeElement(e){e["theme1.xml"]=Lb(Wb.getTheme())}};case $b.WorksheetFile:return new Kb;case $b.StyleFile:return new class{writeElement(e){e["styles.xml"]=Lb(Wb.getStyles())}};case $b.WorkbookFile:return new class{writeElement(e,t){e["workbook.xml"]=Lb(Wb.getWorkbook(t.options.worksheetName))}};case $b.ContentTypesFile:return new class{writeElement(e,t){let i=!t.isEmpty||t.options.alwaysExportHeaders;e["[Content_Types].xml"]=Lb(Wb.getContentTypesXML(i,t.options.exportAsTable))}};case $b.SharedStringsFile:return new class{writeElement(e,t){let i=t.dataDictionary,n=i.getKeys(),r=new Array(n.length);for(let e of n)r[i.getSanitizedValue(e)]="<si><t>"+e+"</t></si>";e["sharedStrings.xml"]=Lb(Wb.getSharedStringXML(i.stringsCount,n.length,r.join("")))}};case $b.WorksheetRelsFile:return new class{writeElement(e){e["sheet1.xml.rels"]=Lb(Wb.getWorksheetRels())}};case $b.TablesFile:return new class{writeElement(e,t){let i=t.columnCount,n=Wb.getExcelColumn(i-1)+t.rowCount,r="A1:"+n,s=t.isEmpty?"A1:"+Wb.getExcelColumn(i-1)+(t.rowCount+1):r,o=t.owner.columns.some((e=>void 0!==e.exportIndex))?t.rootKeys:t.owner.columns.filter((e=>!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)).map((e=>e.header)),a="",l='<tableColumns count="'+i+'">';for(let e=0;e<i;e++)l+='<tableColumn id="'+(e+1)+'" name="'+o[e]+'"/>';if(l+="</tableColumns>",t.sort){let e=t.sort,i=Wb.getExcelColumn(o.indexOf(e.fieldName));a=`<sortState ref="A2:${n}"><sortCondition descending="${e.dir-1}" ref="${i}1:${i}15"/></sortState>`}e["table1.xml"]=Lb(Wb.getTablesXML(r,s,l,a))}};default:throw Error("Unknown excel file type!")}}},Ub=(()=>{let e=class e{constructor(e,t,i){this.hasNumberValues=!1,this.hasDateValues=!1,this._dictionary={},this._widthsDictionary={},this._counter=0,this.dirtyKeyCollections(),this._columnWidths=new Array(e),t?this._columnWidths.fill(t):this._columnWidths=i,this.stringsCount=0}get columnWidths(){return this._columnWidths}saveValue(e,t,i=!0){let n="",r=e instanceof Date,s=t||"number"!=typeof e&&e!==Number(e)&&!Number.isFinite(e)&&!r;return s?(n=i?eS.sanitizeValue(e):e,void 0===this._dictionary[n]&&(this._dictionary[n]=this._counter++,this.dirtyKeyCollections()),this.stringsCount++):r?this.hasDateValues=!0:this.hasNumberValues=!0,s?this.getSanitizedValue(n):-1}getValue(e){return this.getSanitizedValue(eS.sanitizeValue(e))}getSanitizedValue(e){return this._dictionary[e]}getKeys(){return this._keysAreValid||(this._keys=Object.keys(this._dictionary),this._keysAreValid=!0),this._keys}getTextWidth(t){if(void 0===this._widthsDictionary[t]){let i=this.getContext().measureText(t);this._widthsDictionary[t]=i.width+e.TEXT_PADDING}return this._widthsDictionary[t]}getContext(){if(!this._context){let t=document.createElement("canvas");this._context=t.getContext("2d"),this._context.font=e.DEFAULT_FONT}return this._context}dirtyKeyCollections(){this._keysAreValid=!1}};return e.DEFAULT_FONT="11pt Calibri",e.TEXT_PADDING=5,e})(),qb=(()=>{let e=class e extends NS{constructor(){super(...arguments),this.exportEnded=new yl}static populateZipFileConfig(t,i,n){return Ge(this,null,(function*(){for(let r of i.childFolders(n)){let i=jb.getExcelFolder(r),s=t[i.folderName]={};yield e.populateZipFileConfig(s,i,n)}for(let e of i.childFiles(n)){let i=jb.getExcelFile(e);i instanceof Kb?yield i.writeElementAsync(t,n):i.writeElement(t,n)}}))}exportDataImplementation(t,i,n){let r,s,o,a,l,d=t[0],c=d?.type===TS.HierarchicalGridRecord,h=d?.type===TS.PivotGridRecord,u=typeof d<"u"&&(c?t.some((e=>Object.keys(e.data).length>16384)):Object.keys(d.data).length>16384);if(t.length>1048576||u)throw Error("The Excel file can contain up to 1,048,576 rows and 16,384 columns.");if(typeof d<"u"){let e=0;if(t.forEach((t=>{e=Math.max(e,t.level)})),e>7)throw Error("Can create an outline of up to eight levels!");if(c)s=t.map((e=>this._ownersMap.get(e.owner).columns.filter((e=>!e.skip)).length+e.level)).sort(((e,t)=>t-e))[0],r=this._ownersMap.get(d.owner).columns.filter((e=>!e.skip)).map((e=>e.field)),l=this._ownersMap.get(d.owner);else{l=this._ownersMap.get(kS);let e=l.columns.filter((e=>e.field!==FS&&!e.skip&&e.headerType===RS.ColumnHeader));o=l.columnWidths,a=l.indexOfLastPinnedColumn,s=h?e.length+this.pivotGridFilterFieldsCount:e.length,r=e.map((e=>e.field))}}else{let e=Array.from(this._ownersMap.keys());l=this._ownersMap.get(e[0]),o=l.columnWidths,s=l.columns.filter((e=>e.field!==FS&&!e.skip&&e.headerType===RS.ColumnHeader)).length}let g=new class{constructor(e,t,i,n,r,s,o,a,l){this._data=e,this.options=t,this.sort=i,this.columnCount=n,this.rootKeys=r,this.indexOfLastPinnedColumn=s,this.columnWidths=o,this.owner=a,this.owners=l,this.initializeData()}get data(){return this._data}get rowCount(){return this._rowCount}get isEmpty(){return!this.rowCount||this.rowCount===this.owner.maxLevel+1||!this.columnCount||this.owner.columns.every((e=>e.skip))}get isSpecialData(){return this._isSpecialData}get dataDictionary(){return this._dataDictionary}get hasMultiColumnHeader(){return this._hasMultiColumnHeader}get hasSummaries(){return this._hasSummaries}get hasMultiRowHeader(){return this._hasMultiRowHeader}get isHierarchical(){return this._isHierarchical}get isTreeGrid(){return this._isTreeGrid}get isPivotGrid(){return this._isPivotGrid}get isGroupedGrid(){return this._data.some((e=>e.type===TS.GroupedRecord))}get maxLevel(){return[...new Set(this._data.map((e=>e.level)))].sort(((e,t)=>e>t?-1:1))[0]}get multiColumnHeaderRows(){return this.options.ignoreMultiColumnHeaders?0:Array.from(this.owners.values()).map((e=>e.maxLevel)).reduce(((e,t)=>e+t))}initializeData(){this._dataDictionary=new Ub(this.columnCount,this.options.columnWidth,this.columnWidths),this._hasMultiColumnHeader=Array.from(this.owners.values()).some((e=>e.columns.some((e=>!e.skip&&e.headerType===RS.MultiColumnHeader)))),this._hasMultiRowHeader=Array.from(this.owners.values()).some((e=>e.columns.some((e=>!e.skip&&e.headerType===RS.MultiRowHeader)))),this._isHierarchical=this.data[0]?.type===TS.HierarchicalGridRecord||"string"!=typeof Array.from(this.owners.keys())[0],this._hasSummaries=this._data.filter((e=>e.type===TS.SummaryRecord)).length>0,this._isTreeGrid=this._data.filter((e=>e.type===TS.TreeGridRecord)).length>0,this._isPivotGrid=this.data[0]?.type===TS.PivotGridRecord;let e=this._hasMultiColumnHeader&&!this.options.ignoreMultiColumnHeaders;(this._isHierarchical||e||this._isPivotGrid)&&(this.options.exportAsTable=!1),this._data&&0!==this._data.length?(this._isSpecialData=eS.isSpecialData(this._data[0].data),this._rowCount=this._data.length+this.multiColumnHeaderRows+1):this._isHierarchical||(this._rowCount=this.owner.maxLevel+1)}}(t,i,this._sort,s,r,a,o,l,this._ownersMap),p=jb.getExcelFolder(Gb.RootExcelFolder),m={};e.populateZipFileConfig(m,p,g).then((()=>{!function(e,t,i){i||(i=t,t={}),"function"!=typeof i&&gb(7);var n={};Vb(e,"",n,t);var r=Object.keys(n),s=r.length,o=0,a=0,l=s,d=new Array(s),c=[],h=function(){for(var e=0;e<c.length;++e)c[e]()},u=function(e,t){Bb((function(){i(e,t)}))};Bb((function(){u=i}));var g=function(){var e=new WS(a+22),t=o,i=a-o;a=0;for(var n=0;n<l;++n){var r=d[n];try{var s=r.c.length;zb(e,a,r,r.f,r.u,s);var c=30+r.f.length+Hb(r.extra),h=a+c;e.set(r.c,h),zb(e,o,r,r.f,r.u,s,a,r.m),o+=16+c+(r.m?r.m.length:0),a=h+s}catch(e){return u(e,null)}}(function(e,t,i,n,r){Pb(e,t,101010256),Pb(e,t+8,i),Pb(e,t+10,i),Pb(e,t+12,n),Pb(e,t+16,r)})(e,o,d.length,i,t),u(null,e)};s||g();for(var p=function(e){var t=r[e],i=n[t],l=i[0],p=i[1],m=function(){var e=-1;return{p:function(t){for(var i=e,n=0;n<t.length;++n)i=Db[255&i^t[n]]^i>>>8;e=i},d:function(){return~e}}}(),f=l.length;m.p(l);var v=Lb(t),y=v.length,x=p.comment,w=x&&Lb(x),_=w&&w.length,C=Hb(p.extra),S=0==p.level?0:8,b=function(i,n){if(i)h(),u(i,null);else{var r=n.length;d[e]=Eb(p,{size:f,crc:m.d(),c:n,f:v,m:w,u:y!=t.length||w&&x.length!=_,compression:S}),o+=30+y+C+r,a+=76+2*(y+C)+(_||0)+r,--s||g()}};if(y>65535&&b(gb(11,0,1),null),S)if(f<16e4)try{b(null,Fb(l,p))}catch(e){b(e,null)}else c.push(function(e,t,i){return i||(i=t,t={}),"function"!=typeof i&&gb(7),Ob(e,t,[Ab],(function(e){return kb(Fb(e.data[0],e.data[1]))}),0,i)}(l,p,b));else b(null,l)},m=0;m<l;++m)p(m)}(m,((e,t)=>{this.saveFile(t,i.fileName),this.exportEnded.emit({xlsx:m}),n()}))}))}saveFile(e,t){let i=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});eS.saveBlobToFile(i,t)}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Yb=class extends HS{constructor(e){super(e,".xlsx"),this.ignorePinning=!1,this.exportAsTable=!0}get columnWidth(){return this._columnWidth}set columnWidth(e){if(e<0)throw Error("Invalid value for column width!");this._columnWidth=e}get rowHeight(){return this._rowHeight}set rowHeight(e){if(e<0)throw Error("Invalid value for row height!");this._rowHeight=e}get worksheetName(){return void 0===this._worksheetName||null===this._worksheetName?"Sheet1":this._worksheetName}set worksheetName(e){this._worksheetName=e}},Xb=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(Xb||{}),Zb="*";function Qb(e,t=null){return{type:Xb.Animate,styles:t,timings:e}}function Jb(e,t=null){return{type:Xb.Sequence,steps:e,options:t}}function eD(e){return{type:Xb.Style,styles:e,offset:null}}function tD(e){return{type:Xb.Keyframes,steps:e}}function iD(e,t=null){return{type:Xb.Reference,animation:e,options:t}}function nD(e,t=null){return{type:Xb.AnimateRef,animation:e,options:t}}var rD=(()=>{let e=class{};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:()=>pr(oD),providedIn:"root"}),e})(),sD=class{},oD=(()=>{let e=class extends rD{constructor(e,t){super(),this.animationModuleType=pr(id,{optional:!0}),this._nextAnimationId=0;let i={id:"0",encapsulation:Vr.None,styles:[],data:{animation:[]}};if(this._renderer=e.createRenderer(t.body,i),null===this.animationModuleType&&!function(e){let t=e.ɵtype;return 0===t||1===t}(this._renderer))throw new wn(3600,!1)}build(e){let t=this._nextAnimationId;this._nextAnimationId++;let i=Array.isArray(e)?Jb(e):e;return dD(this._renderer,null,t,"register",[i]),new aD(t,this._renderer)}};return e.ɵfac=function(t){return new(t||e)(gr(Uh),gr(of))},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),aD=class extends sD{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new lD(this._id,e,t||{},this._renderer)}},lD=class{constructor(e,t,i,n){this.id=e,this.element=t,this._renderer=n,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){dD(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return function(e){let t=e.ɵtype;return 0===t?e:1===t?e.animationRenderer:null}(this._renderer)?.engine?.players[this.id]?.getPosition()??0}};function dD(e,t,i,n,r){e.setProperty(t,`@@${i}:${n}`,r)}var cD=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach((e=>e())),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask((()=>this._onFinish()))}_onStart(){this._onStartFns.forEach((e=>e())),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((e=>e())),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((e=>e())),t.length=0}},hD=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,n=0,r=this.players.length;0==r?queueMicrotask((()=>this._onFinish())):this.players.forEach((e=>{e.onDone((()=>{++t==r&&this._onFinish()})),e.onDestroy((()=>{++i==r&&this._onDestroy()})),e.onStart((()=>{++n==r&&this._onStart()}))})),this.totalTime=this.players.reduce(((e,t)=>Math.max(e,t.totalTime)),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach((e=>e())),this._onDoneFns=[])}init(){this.players.forEach((e=>e.init()))}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((e=>e())),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((e=>e.play()))}pause(){this.players.forEach((e=>e.pause()))}restart(){this.players.forEach((e=>e.restart()))}finish(){this._onFinish(),this.players.forEach((e=>e.finish()))}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((e=>e.destroy())),this._onDestroyFns.forEach((e=>e())),this._onDestroyFns=[])}reset(){this.players.forEach((e=>e.reset())),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach((e=>{let i=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(i)}))}getPosition(){let e=this.players.reduce(((e,t)=>null===e||t.totalTime>e.totalTime?t:e),null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach((e=>{e.beforeDestroy&&e.beforeDestroy()}))}triggerCallback(e){let t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((e=>e())),t.length=0}},uD=[eD({opacity:"{{startOpacity}}"}),Qb("{{duration}} {{delay}} {{easing}}",eD({opacity:"{{endOpacity}}"}))],gD=iD(uD,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:1,startOpacity:0}}),pD=iD(uD,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,startOpacity:1}}),mD=[eD({backfaceVisibility:"hidden",transformStyle:"preserve-3d"}),Qb("{{duration}} {{delay}} {{easing}}",tD([eD({offset:0,transform:"translateZ({{startDistance}})\n                rotate3d({{rotateX}}, {{rotateY}}, {{rotateZ}}, {{startAngle}}deg)"}),eD({offset:1,transform:"translateZ({{endDistance}})\n                rotate3d({{rotateX}}, {{rotateY}}, {{rotateZ}}, {{endAngle}}deg)"})]))],fD=iD(mD,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:180,endDistance:"0px",rotateX:1,rotateY:0,rotateZ:0,startAngle:0,startDistance:"0px"}}),vD=iD(mD,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endDistance:"0px",rotateX:1,rotateY:0,rotateZ:0,startAngle:0,startDistance:"0px",endAngle:-180}}),yD=iD(mD,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:180,endDistance:"0px",rotateZ:0,startAngle:0,startDistance:"0px",rotateX:0,rotateY:1}}),xD=iD(mD,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endDistance:"0px",rotateZ:0,startAngle:0,startDistance:"0px",endAngle:-180,rotateX:0,rotateY:1}}),wD=iD(mD,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:180,rotateX:1,rotateY:0,rotateZ:0,startAngle:0,startDistance:"0px",endDistance:"170px"}}),_D=iD(mD,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:180,rotateX:1,rotateY:0,rotateZ:0,startAngle:0,startDistance:"0px",endDistance:"-170px"}}),CD=iD(mD,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:180,rotateZ:0,startAngle:0,startDistance:"0px",endDistance:"170px",rotateX:0,rotateY:1}}),SD=iD(mD,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:180,rotateZ:0,startAngle:0,startDistance:"0px",endDistance:"-170px",rotateX:0,rotateY:1}}),bD=[eD({opacity:"{{ startOpacity }}",height:"{{ startHeight }}",paddingBlock:"{{ startPadding }}"}),Qb("{{duration}} {{delay}} {{easing}}",eD({opacity:"{{ endOpacity }}",height:"{{ endHeight }}",paddingBlock:"{{ endPadding }}"}))],DD=iD(bD,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",startOpacity:0,endOpacity:1,startHeight:"0px",endHeight:"*",startPadding:"0px",endPadding:"*"}}),ID=iD(bD,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",startOpacity:1,endOpacity:0,startHeight:"*",endHeight:"0px",startPadding:"*",endPadding:"0px"}}),ED=[Qb("{{duration}} {{delay}} {{easing}}",tD([eD({offset:0,transform:"rotate(0deg) translate{{direction}}(0)",transformOrigin:"{{xPos}} {{yPos}}"}),eD({offset:.1,transform:"rotate({{endAngle}}deg) translate{{direction}}(-{{startDistance}})"}),eD({offset:.2,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),eD({offset:.3,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),eD({offset:.4,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),eD({offset:.5,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),eD({offset:.6,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),eD({offset:.7,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),eD({offset:.8,transform:"rotate(-{{endAngle}}deg) translate{{direction}}({{endDistance}})"}),eD({offset:.9,transform:"rotate({{endAngle}}deg) translate{{direction}}(-{{endDistance}})"}),eD({offset:1,transform:"rotate(0deg) translate{{direction}}(0)",transformOrigin:"{{xPos}} {{yPos}}"})]))],TD=iD(ED,{params:{delay:"0s",direction:"X",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",endAngle:0,endDistance:"8px",startAngle:0,startDistance:"10px",xPos:"center",yPos:"center"}}),RD=iD(ED,{params:{delay:"0s",direction:"Y",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",endAngle:0,endDistance:"8px",startAngle:0,startDistance:"10px",xPos:"center",yPos:"center"}}),AD=iD(ED,{params:{delay:"0s",direction:"X",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",xPos:"center",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",yPos:"top"}}),kD=iD(ED,{params:{delay:"0s",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",xPos:"center",direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",yPos:"bottom"}}),OD=iD(ED,{params:{delay:"0s",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"center"}}),PD=iD(ED,{params:{delay:"0s",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"center"}}),FD=iD(ED,{params:{delay:"0s",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",direction:"Y",endAngle:8,endDistance:"0",startAngle:10,startDistance:"0",xPos:"center",yPos:"center"}}),VD=iD(ED,{params:{delay:"0s",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"top"}}),MD=iD(ED,{params:{delay:"0s",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"bottom"}}),ND=iD(ED,{params:{delay:"0s",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"bottom"}}),LD=iD(ED,{params:{delay:"0s",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"top"}}),HD=[eD({animationTimingFunction:"ease-out",transform:"scale(1)",transformOrigin:"center center"}),Qb("{{duration}} {{delay}} {{easing}}",tD([eD({animationTimingFunction:"ease-in",offset:.1,transform:"scale(0.91)"}),eD({animationTimingFunction:"ease-out",offset:.17,transform:"scale(0.98)"}),eD({animationTimingFunction:"ease-in",offset:.33,transform:"scale(0.87)"}),eD({animationTimingFunction:"ease-out",offset:.45,transform:"scale(1)"})]))],zD=[Qb("{{duration}} {{delay}} {{easing}}",tD([eD({offset:0,transform:"scale({{fromScale}})"}),eD({offset:.5,transform:"scale({{toScale}})"}),eD({offset:1,transform:"scale({{fromScale}})"})]))],BD=[Qb("{{duration}} {{delay}} {{easing}}",tD([eD({offset:0,opacity:.8,transform:"scale({{fromScale}})"}),eD({offset:.8,opacity:0,transform:"scale({{midScale}})"}),eD({offset:1,opacity:0,transform:"scale({{toScale}})"})]))],GD=iD(zD,{params:{delay:"0s",duration:".5s",easing:"ease-in-out",fromScale:1,toScale:1.1}}),$D=iD(zD,{params:{delay:"0s",duration:".5s",easing:"ease-in-out",fromScale:1,toScale:.9}}),WD=iD(HD,{params:{delay:"0s",duration:"1.5s",easing:"ease-in-out"}}),KD=iD(BD,{params:{delay:"0s",duration:".8s",easing:"ease-in-out",fromScale:.2,midScale:1.2,toScale:2.2}}),jD=[eD({opacity:"{{startOpacity}}",transform:"rotate3d({{rotateX}},{{rotateY}},{{rotateZ}},{{startAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}),Qb("{{duration}} {{delay}} {{easing}}",eD({offset:0,opacity:"{{endOpacity}}",transform:"rotate3d({{rotateX}},{{rotateY}},{{rotateZ}},{{endAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}))],UD=iD(jD,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,xPos:"center",yPos:"center"}}),qD=iD(jD,{params:{delay:"0s",duration:"600ms",endAngle:0,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,xPos:"center",yPos:"center",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1}}),YD=iD(jD,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,yPos:"center",xPos:"top"}}),XD=iD(jD,{params:{delay:"0s",duration:"600ms",endAngle:0,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,yPos:"center",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,xPos:"top"}}),ZD=iD(jD,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,yPos:"center",xPos:"right"}}),QD=iD(jD,{params:{delay:"0s",duration:"600ms",endAngle:0,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,yPos:"center",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,xPos:"right"}}),JD=iD(jD,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,yPos:"center",xPos:"bottom"}}),eI=iD(jD,{params:{delay:"0s",duration:"600ms",endAngle:0,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,yPos:"center",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,xPos:"bottom"}}),tI=iD(jD,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,yPos:"center",xPos:"left"}}),iI=iD(jD,{params:{delay:"0s",duration:"600ms",endAngle:0,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,yPos:"center",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,xPos:"left"}}),nI=iD(jD,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,xPos:"right",yPos:"top"}}),rI=iD(jD,{params:{delay:"0s",duration:"600ms",endAngle:0,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,xPos:"right",yPos:"top"}}),sI=iD(jD,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,xPos:"right",yPos:"bottom"}}),oI=iD(jD,{params:{delay:"0s",duration:"600ms",endAngle:0,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,xPos:"right",yPos:"bottom"}}),aI=iD(jD,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,xPos:"left",yPos:"bottom"}}),lI=iD(jD,{params:{delay:"0s",duration:"600ms",endAngle:0,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,xPos:"left",yPos:"bottom"}}),dI=iD(jD,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,xPos:"left",yPos:"top"}}),cI=iD(jD,{params:{delay:"0s",duration:"600ms",endAngle:0,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,xPos:"left",yPos:"top"}}),hI=iD(jD,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,startAngle:-360,startOpacity:0,xPos:"center",yPos:"center",rotateX:1,rotateY:1,rotateZ:0}}),uI=iD(jD,{params:{delay:"0s",duration:"600ms",endAngle:0,startAngle:-360,xPos:"center",yPos:"center",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,rotateX:1,rotateY:1,rotateZ:0}}),gI=iD(jD,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,startAngle:-360,startOpacity:0,xPos:"center",yPos:"center",rotateX:-1,rotateY:1,rotateZ:0}}),pI=iD(jD,{params:{delay:"0s",duration:"600ms",endAngle:0,startAngle:-360,xPos:"center",yPos:"center",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,rotateX:-1,rotateY:1,rotateZ:0}}),mI=iD(jD,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,startAngle:-360,startOpacity:0,xPos:"center",yPos:"center",rotateX:0,rotateY:1,rotateZ:0}}),fI=iD(jD,{params:{delay:"0s",duration:"600ms",endAngle:0,startAngle:-360,xPos:"center",yPos:"center",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,rotateX:0,rotateY:1,rotateZ:0}}),vI=iD(jD,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,startAngle:-360,startOpacity:0,xPos:"center",yPos:"center",rotateX:1,rotateY:0,rotateZ:0}}),yI=iD(jD,{params:{delay:"0s",duration:"600ms",endAngle:0,startAngle:-360,xPos:"center",yPos:"center",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,rotateX:1,rotateY:0,rotateZ:0}}),xI=[eD({opacity:"{{startOpacity}}",transform:"scale{{direction}}({{fromScale}})",transformOrigin:"{{xPos}} {{yPos}}"}),Qb("{{duration}} {{delay}} {{easing}}",eD({opacity:"{{endOpacity}}",transform:"scale{{direction}}({{toScale}})",transformOrigin:"{{xPos}} {{yPos}}"}))],wI=iD(xI,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"50%",yPos:"50%"}}),_I=iD(xI,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"0",yPos:"100%"}}),CI=iD(xI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,startOpacity:0,toScale:1,xPos:"50%",yPos:"50%",direction:"Y",fromScale:.4}}),SI=iD(xI,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"50%",yPos:"0"}}),bI=iD(xI,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"0",yPos:"50%"}}),DI=iD(xI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,startOpacity:0,toScale:1,direction:"Y",fromScale:.4,xPos:"100%",yPos:"0"}}),II=iD(xI,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"100%",yPos:"0"}}),EI=iD(xI,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"0",yPos:"0"}}),TI=iD(xI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,startOpacity:0,toScale:1,direction:"Y",fromScale:.4,xPos:"0",yPos:"100%"}}),RI=iD(xI,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"100%",yPos:"50%"}}),AI=iD(xI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,startOpacity:0,toScale:1,xPos:"50%",yPos:"50%",direction:"X",fromScale:.4}}),kI=iD(xI,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"100%",yPos:"100%"}}),OI=iD(xI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,startOpacity:0,toScale:1,direction:"X",fromScale:.4,xPos:"0",yPos:"0"}}),PI=iD(xI,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"50%",yPos:"100%"}}),FI=iD(xI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,startOpacity:0,toScale:1,direction:"X",fromScale:.4,xPos:"100%",yPos:"100%"}}),VI=iD(xI,{params:{delay:"0s",direction:"",duration:"350ms",xPos:"50%",yPos:"50%",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,toScale:.5}}),MI=iD(xI,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,toScale:.5,xPos:"0",yPos:"100%"}}),NI=iD(xI,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,toScale:.5,xPos:"100%",yPos:"100%"}}),LI=iD(xI,{params:{delay:"0s",duration:"350ms",xPos:"50%",yPos:"50%",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,direction:"Y",toScale:.3}}),HI=iD(xI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,direction:"Y",toScale:.3,xPos:"100%",yPos:"0"}}),zI=iD(xI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,direction:"Y",toScale:.3,xPos:"0",yPos:"100%"}}),BI=iD(xI,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,toScale:.5,xPos:"50%",yPos:"0"}}),GI=iD(xI,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,toScale:.5,xPos:"0",yPos:"50%"}}),$I=iD(xI,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,toScale:.5,xPos:"100%",yPos:"0"}}),WI=iD(xI,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,toScale:.5,xPos:"0",yPos:"0"}}),KI=iD(xI,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,toScale:.5,xPos:"100%",yPos:"50%"}}),jI=iD(xI,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,toScale:.5,xPos:"50%",yPos:"100%"}}),UI=iD(xI,{params:{delay:"0s",duration:"350ms",xPos:"50%",yPos:"50%",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,direction:"X",toScale:.3}}),qI=iD(xI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,direction:"X",toScale:.3,xPos:"0",yPos:"0"}}),YI=iD(xI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,direction:"X",toScale:.3,xPos:"100%",yPos:"100%"}}),XI=[eD({opacity:"{{startOpacity}}",transform:"{{fromPosition}}"}),Qb("{{duration}} {{delay}} {{easing}}",eD({opacity:"{{endOpacity}}",transform:"{{toPosition}}"}))],ZI=iD(XI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromPosition:"translateY(-500px)",startOpacity:0,toPosition:"translateY(0)"}}),QI=iD(XI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromPosition:"translateX(-500px)",startOpacity:0,toPosition:"translateY(0)"}}),JI=iD(XI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromPosition:"translateX(500px)",startOpacity:0,toPosition:"translateY(0)"}}),eE=iD(XI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromPosition:"translateY(500px)",startOpacity:0,toPosition:"translateY(0)"}}),tE=iD(XI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,startOpacity:0,fromPosition:"translateY(-500px) translateX(500px)",toPosition:"translateY(0) translateX(0)"}}),iE=iD(XI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,startOpacity:0,fromPosition:"translateY(-500px) translateX(-500px)",toPosition:"translateY(0) translateX(0)"}}),nE=iD(XI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,startOpacity:0,fromPosition:"translateY(500px) translateX(500px)",toPosition:"translateY(0) translateX(0)"}}),rE=iD(XI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,startOpacity:0,fromPosition:"translateY(500px) translateX(-500px)",toPosition:"translateY(0) translateX(0)"}}),sE=iD(XI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,fromPosition:"translateY(0)",startOpacity:1,toPosition:"translateY(-500px)"}}),oE=iD(XI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,fromPosition:"translateY(0)",startOpacity:1,toPosition:"translateX(500px)"}}),aE=iD(XI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,fromPosition:"translateY(0)",startOpacity:1,toPosition:"translateY(500px)"}}),lE=iD(XI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,fromPosition:"translateY(0)",startOpacity:1,toPosition:"translateX(-500px)"}}),dE=iD(XI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(-500px) translateX(500px)"}}),cE=iD(XI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(500px) translateX(500px)"}}),hE=iD(XI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(500px) translateX(-500px)"}}),uE=iD(XI,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(-500px) translateX(-500px)"}}),gE=[eD({opacity:"{{startOpacity}}",transform:"rotate{{direction}}({{startAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}),Qb("{{duration}} {{delay}} {{easing}}",eD({opacity:"{{endOpacity}}",transform:"rotate{{direction}}({{endAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}))],pE=iD(gE,{params:{delay:"0s",direction:"X",duration:".5s",easing:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",endAngle:0,endOpacity:1,startAngle:-100,startOpacity:0,xPos:"top",yPos:"center"}}),mE=iD(gE,{params:{delay:"0s",duration:".5s",easing:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",endAngle:0,endOpacity:1,startAngle:-100,startOpacity:0,direction:"Y",xPos:"center",yPos:"right"}}),fE=iD(gE,{params:{delay:"0s",direction:"X",duration:".5s",easing:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",endAngle:0,endOpacity:1,startOpacity:0,yPos:"center",startAngle:100,xPos:"bottom"}}),vE=iD(gE,{params:{delay:"0s",duration:".5s",easing:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",endAngle:0,endOpacity:1,startOpacity:0,direction:"Y",startAngle:100,xPos:"center",yPos:"left"}}),yE=iD(gE,{params:{delay:"0s",direction:"X",easing:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",endAngle:0,endOpacity:1,startOpacity:0,xPos:"top",yPos:"center",duration:".6s",startAngle:70}}),xE=iD(gE,{params:{delay:"0s",easing:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",endAngle:0,endOpacity:1,startOpacity:0,direction:"Y",duration:".6s",startAngle:70,xPos:"center",yPos:"right"}}),wE=iD(gE,{params:{delay:"0s",direction:"X",easing:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",endAngle:0,endOpacity:1,startOpacity:0,yPos:"center",duration:".6s",startAngle:-70,xPos:"bottom"}}),_E=iD(gE,{params:{delay:"0s",easing:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",endAngle:0,endOpacity:1,startOpacity:0,direction:"Y",duration:".6s",startAngle:-70,xPos:"center",yPos:"left"}}),CE=iD(gE,{params:{delay:"0s",direction:"X",xPos:"top",yPos:"center",duration:".55s",easing:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",endAngle:70,endOpacity:0,startAngle:0,startOpacity:1}}),SE=iD(gE,{params:{delay:"0s",duration:".55s",easing:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",endAngle:70,endOpacity:0,startAngle:0,startOpacity:1,direction:"Y",xPos:"center",yPos:"right"}}),bE=iD(gE,{params:{delay:"0s",direction:"X",yPos:"center",duration:".55s",easing:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",endOpacity:0,startAngle:0,startOpacity:1,endAngle:-70,xPos:"bottom"}}),DE=iD(gE,{params:{delay:"0s",duration:".55s",easing:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",endOpacity:0,startAngle:0,startOpacity:1,direction:"Y",endAngle:-70,xPos:"center",yPos:"left"}}),IE=iD(gE,{params:{delay:"0s",direction:"X",xPos:"top",yPos:"center",easing:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",endOpacity:0,startAngle:0,startOpacity:1,duration:".45s",endAngle:-100}}),EE=iD(gE,{params:{delay:"0s",easing:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",endOpacity:0,startAngle:0,startOpacity:1,direction:"Y",duration:".45s",endAngle:-100,xPos:"center",yPos:"right"}}),TE=iD(gE,{params:{delay:"0s",direction:"X",yPos:"center",easing:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",endOpacity:0,startAngle:0,startOpacity:1,duration:".45s",endAngle:100,xPos:"bottom"}}),RE=iD(gE,{params:{delay:"0s",easing:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",endOpacity:0,startAngle:0,startOpacity:1,direction:"Y",duration:".45s",endAngle:100,xPos:"center",yPos:"left"}}),AE=class{constructor(){this.oppositeAnimation=new Map([[gD,gD],[pD,pD],[fD,vD],[vD,fD],[xD,yD],[yD,xD],[wD,_D],[_D,wD],[CD,SD],[SD,CD],[DD,DD],[ID,ID],[WD,WD],[GD,$D],[$D,GD],[KD,KD],[TD,TD],[RD,RD],[AD,AD],[kD,kD],[OD,OD],[PD,PD],[FD,FD],[VD,VD],[MD,MD],[ND,ND],[LD,LD],[UD,UD],[qD,qD],[YD,JD],[XD,eI],[ZD,tI],[QD,iI],[tI,ZD],[iI,QD],[JD,YD],[eI,XD],[nI,aI],[rI,lI],[sI,dI],[oI,cI],[aI,nI],[lI,rI],[dI,sI],[cI,oI],[hI,hI],[uI,uI],[gI,gI],[pI,pI],[mI,mI],[fI,fI],[vI,vI],[yI,yI],[SI,PI],[BI,jI],[RI,bI],[KI,GI],[PI,SI],[jI,BI],[bI,RI],[GI,KI],[wI,wI],[VI,VI],[II,_I],[$I,MI],[kI,EI],[NI,WI],[_I,II],[MI,$I],[EI,kI],[WI,NI],[DI,TI],[HI,zI],[TI,DI],[zI,HI],[CI,CI],[LI,LI],[AI,AI],[UI,UI],[OI,FI],[qI,YI],[FI,OI],[YI,qI],[ZI,eE],[sE,aE],[JI,QI],[oE,lE],[eE,ZI],[aE,sE],[QI,JI],[lE,oE],[tE,rE],[dE,hE],[nE,iE],[cE,uE],[rE,tE],[hE,dE],[iE,nE],[uE,cE],[pE,fE],[CE,bE],[mE,vE],[SE,DE],[vE,mE],[DE,SE],[fE,pE],[bE,CE],[yE,wE],[IE,TE],[xE,_E],[EE,RE],[wE,yE],[TE,IE],[_E,xE],[RE,EE]]),this.horizontalAnimations=[xD,yD,CD,SD,ZD,QD,tI,iI,nI,rI,sI,oI,aI,lI,dI,cI,RI,KI,bI,GI,II,$I,kI,NI,_I,MI,EI,WI,OI,qI,FI,YI,JI,oE,QI,lE,tE,dE,nE,cE,rE,hE,iE,uE,mE,SE,vE,DE,xE,EE,_E,RE],this.verticalAnimations=[fD,vD,wD,_D,DD,ID,YD,XD,JD,eI,nI,rI,sI,oI,aI,lI,dI,cI,SI,BI,PI,jI,II,$I,kI,NI,_I,MI,EI,WI,DI,HI,TI,zI,ZI,sE,eE,aE,tE,dE,nE,cE,rE,hE,iE,uE,pE,CE,fE,bE,yE,IE,wE,TE]}static instance(){return this._instance||(this._instance=new this)}reverseAnimationResolver(e){return this.oppositeAnimation.get(e)??e}isHorizontalAnimation(e){return this.horizontalAnimations.includes(e)}isVerticalAnimation(e){return this.verticalAnimations.includes(e)}},kE=(()=>{let e=class{constructor(e){this.builder=e}buildAnimation(e,t){if(!e)return null;let i=this.builder.build(e);return new class{get position(){return this._innerPlayer.getPosition()}set position(e){this.internalPlayer.setPosition(e)}constructor(e){this.internalPlayer=e,this.animationStart=new yl,this.animationEnd=new yl,this.internalPlayer.onDone((()=>this.onDone()));let t=this.internalPlayer._renderer;this._innerPlayer=t.engine.players[t.engine.players.length-1]}init(){this.internalPlayer.init()}play(){this.animationStart.emit({owner:this}),this.internalPlayer.play()}finish(){this.internalPlayer.finish()}reset(){this.internalPlayer.reset(),this.internalPlayer._started=!1}destroy(){this.internalPlayer.destroy()}hasStarted(){return this.internalPlayer.hasStarted()}onDone(){this.animationEnd.emit({owner:this})}}(i.create(t))}};return e.ɵfac=function(t){return new(t||e)(gr(rD))},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),OE=function(e){return e[e.Left=-1]="Left",e[e.Center=-.5]="Center",e[e.Right=0]="Right",e}(OE||{}),PE=function(e){return e[e.Top=-1]="Top",e[e.Middle=-.5]="Middle",e[e.Bottom=0]="Bottom",e}(PE||{}),FE=function(e){return e.Connected="connected",e.Auto="auto",e.Elastic="elastic",e}(FE||{}),VE=function(e){return e.Above="above",e.Below="below",e.Before="before",e.After="after",e.Default="default",e}(VE||{}),ME=function(e){return e.Bottom="bottom",e.Top="top",e.Center="center",e}(ME||{}),NE=function(e){return e[e.Add=0]="Add",e[e.Set=1]="Set",e}(NE||{}),LE=class{constructor(e,t){this.x=e,this.y=t}},HE=class e{static getTargetRect(e){let t={bottom:0,height:0,left:0,right:0,top:0,width:0};if(e instanceof HTMLElement)t=e.getBoundingClientRect();else if(e instanceof LE){let i=e;t={bottom:i.y,height:0,left:i.x,right:i.x,top:i.y,width:0}}return t}static getViewportRect(t){let i=t.documentElement.clientWidth,n=t.documentElement.clientHeight,r=e.getViewportScrollPosition(t);return{top:r.y,left:r.x,right:r.x+i,bottom:r.y+n,width:i,height:n}}static getViewportScrollPosition(e){let t=e.documentElement,i=t.getBoundingClientRect(),n=-i.left||e.body.scrollLeft||window.scrollX||t.scrollLeft||0,r=-i.top||e.body.scrollTop||window.scrollY||t.scrollTop||0;return new LE(n,r)}static cloneInstance(e){let t=Object.assign(Object.create(Object.getPrototypeOf(e)),e);return t.settings=hC(t.settings),t}},zE=class{constructor(e){this._defaultSettings={horizontalDirection:OE.Right,verticalDirection:PE.Bottom,horizontalStartPoint:OE.Left,verticalStartPoint:PE.Bottom,openAnimation:DI,closeAnimation:HI,minSize:{width:0,height:0}},this.settings=Object.assign({},this._defaultSettings,e)}position(e,t,i,n,r){let s=this.calculateElementRectangles(e,r);this.setStyle(e,s.targetRect,s.elementRect,{})}clone(){return HE.cloneInstance(this)}calculateElementRectangles(e,t){return{targetRect:HE.getTargetRect(t),elementRect:e.getBoundingClientRect()}}setStyle(e,t,i,n){let r=n.horizontalOffset?n.horizontalOffset:0,s=n.verticalOffset?n.verticalOffset:0,o=t.right+t.width*this.settings.horizontalStartPoint+r,a=t.bottom+t.height*this.settings.verticalStartPoint+s,l=e.parentElement.getBoundingClientRect();switch(e.style.right="",e.style.left="",e.style.bottom="",e.style.top="",this.settings.horizontalDirection){case OE.Left:e.style.right=`${Math.round(l.right-o)}px`;break;case OE.Center:e.style.left=`${Math.round(o-l.left-i.width/2)}px`;break;case OE.Right:e.style.left=`${Math.round(o-l.left)}px`}switch(this.settings.verticalDirection){case PE.Top:e.style.bottom=`${Math.round(l.bottom-a)}px`;break;case PE.Middle:e.style.top=`${Math.round(a-l.top-i.height/2)}px`;break;case PE.Bottom:e.style.top=`${Math.round(a-l.top)}px`}}},BE=class extends zE{position(e,t,i,n,r){let s=super.calculateElementRectangles(e,r),o={};n&&(o.targetRect=s.targetRect,o.contentElementRect=s.elementRect,this._initialSettings=this._initialSettings||Object.assign({},this.settings),this.settings=Object.assign({},this._initialSettings),o.viewPortRect=HE.getViewportRect(i),this.updateViewPortFit(o),this.shouldFitInViewPort(o)&&this.fitInViewport(e,o)),this.setStyle(e,s.targetRect,s.elementRect,o)}updateViewPortFit(e){e.left=this.calculateLeft(e.targetRect,e.contentElementRect,this.settings.horizontalStartPoint,this.settings.horizontalDirection,e.horizontalOffset?e.horizontalOffset:0),e.right=e.left+e.contentElementRect.width,e.fitHorizontal={back:Math.round(e.left),forward:Math.round(e.viewPortRect.width-e.right)},e.top=this.calculateTop(e.targetRect,e.contentElementRect,this.settings.verticalStartPoint,this.settings.verticalDirection,e.verticalOffset?e.verticalOffset:0),e.bottom=e.top+e.contentElementRect.height,e.fitVertical={back:Math.round(e.top),forward:Math.round(e.viewPortRect.height-e.bottom)}}calculateLeft(e,t,i,n,r){return e.right+e.width*i+t.width*n+r}calculateTop(e,t,i,n,r){return e.bottom+e.height*i+t.height*n+r}shouldFitInViewPort(e){return e.fitHorizontal.back<0||e.fitHorizontal.forward<0||e.fitVertical.back<0||e.fitVertical.forward<0}},GE=class extends BE{fitInViewport(e,t){let i=[];if(t.fitHorizontal.back<0||t.fitHorizontal.forward<0)if(this.canFlipHorizontal(t))this.flipHorizontal(),this.flipAnimation($E.Horizontal);else{let e=this.horizontalPush(t);i.push(`translateX(${e}px)`)}if(t.fitVertical.back<0||t.fitVertical.forward<0)if(this.canFlipVertical(t))this.flipVertical(),this.flipAnimation($E.Vertical);else{let e=this.verticalPush(t);i.push(`translateY(${e}px)`)}e.style.transform=i.join(" ").trim()}canFlipHorizontal(e){let t=-1*(this.settings.horizontalStartPoint+1),i=-1*(this.settings.horizontalDirection+1),n=this.calculateLeft(e.targetRect,e.contentElementRect,t,i,0),r=n+e.contentElementRect.width;return 0<n&&r<e.viewPortRect.width}canFlipVertical(e){let t=-1*(this.settings.verticalStartPoint+1),i=-1*(this.settings.verticalDirection+1),n=this.calculateTop(e.targetRect,e.contentElementRect,t,i,0),r=n+e.contentElementRect.height;return 0<n&&r<e.viewPortRect.height}flipHorizontal(){switch(this.settings.horizontalDirection){case OE.Left:this.settings.horizontalDirection=OE.Right;break;case OE.Right:this.settings.horizontalDirection=OE.Left}switch(this.settings.horizontalStartPoint){case OE.Left:this.settings.horizontalStartPoint=OE.Right;break;case OE.Right:this.settings.horizontalStartPoint=OE.Left}}flipVertical(){switch(this.settings.verticalDirection){case PE.Top:this.settings.verticalDirection=PE.Bottom;break;case PE.Bottom:this.settings.verticalDirection=PE.Top}switch(this.settings.verticalStartPoint){case PE.Top:this.settings.verticalStartPoint=PE.Bottom;break;case PE.Bottom:this.settings.verticalStartPoint=PE.Top}}horizontalPush(e){let t=e.left,i=e.right-e.viewPortRect.width;return t<0?Math.abs(t):i>0?-Math.min(i,t):0}verticalPush(e){let t=e.top,i=e.bottom-e.viewPortRect.height;return t<0?Math.abs(t):i>0?-Math.min(i,t):0}flipAnimation(e){this.settings.openAnimation&&(this.settings.openAnimation=this.updateAnimation(this.settings.openAnimation,e)),this.settings.closeAnimation&&(this.settings.closeAnimation=this.updateAnimation(this.settings.closeAnimation,e))}updateAnimation(e,t){switch(t){case $E.Horizontal:if(AE.instance().isHorizontalAnimation(e))return AE.instance().reverseAnimationResolver(e);break;case $E.Vertical:if(AE.instance().isVerticalAnimation(e))return AE.instance().reverseAnimationResolver(e)}return e}},$E=function(e){return e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical",e}($E||{}),WE=class{constructor(e){this._defaultSettings={horizontalDirection:OE.Center,verticalDirection:PE.Middle,horizontalStartPoint:OE.Center,verticalStartPoint:PE.Middle,openAnimation:gD,closeAnimation:pD,minSize:{width:0,height:0}},this.settings=Object.assign({},this._defaultSettings,e)}position(e){e.classList.add("igx-overlay__content--relative"),e.parentElement.classList.add("igx-overlay__wrapper--flex"),this.setPosition(e)}clone(){return HE.cloneInstance(this)}setPosition(e){switch(this.settings.horizontalDirection){case OE.Left:e.parentElement.style.justifyContent="flex-start";break;case OE.Center:e.parentElement.style.justifyContent="center";break;case OE.Right:e.parentElement.style.justifyContent="flex-end"}switch(this.settings.verticalDirection){case PE.Top:e.parentElement.style.alignItems="flex-start";break;case PE.Middle:e.parentElement.style.alignItems="center";break;case PE.Bottom:e.parentElement.style.alignItems="flex-end"}}},KE=class extends WE{constructor(e){super(e)}position(e){e.classList.add("igx-overlay__content--relative"),e.parentElement.classList.add("igx-overlay__wrapper--flex-container"),this.setPosition(e)}},jE=class extends BE{fitInViewport(e,t){e.classList.add("igx-overlay__content--elastic");let i=[];if(t.fitHorizontal.back<0||t.fitHorizontal.forward<0){let n=Math.max(0,t.contentElementRect.width-this.settings.minSize.width),r=Math.max(0,-t.fitHorizontal.back),s=Math.max(0,-t.fitHorizontal.forward),o=Math.min(n,r+s);if(e.style.width=t.contentElementRect.width-o+"px",this.settings.horizontalDirection===OE.Center){let e=r*o/(r+s);e>0&&i.push(`translateX(${e}px)`)}}if(t.fitVertical.back<0||t.fitVertical.forward<0){let n=Math.max(0,t.contentElementRect.height-this.settings.minSize.height),r=Math.max(0,-t.fitVertical.back),s=Math.max(0,-t.fitVertical.forward),o=Math.min(n,r+s);if(e.style.height=t.contentElementRect.height-o+"px",this.settings.verticalDirection===PE.Middle){let e=r*o/(r+s);e>0&&i.push(`translateY(${e}px)`)}}e.style.transform=i.join(" ").trim()}},UE=class{constructor(){}},qE=class extends UE{constructor(){super()}initialize(){}attach(){}detach(){}},YE=(()=>{let e=class{constructor(e,t,i,n,r){this._appRef=e,this.document=t,this._zone=i,this.platformUtil=n,this.animationService=r,this.opening=new yl,this.opened=new yl,this.closing=new yl,this.closed=new yl,this.contentAppending=new yl,this.contentAppended=new yl,this.animationStarting=new yl,this._componentId=0,this._overlayInfos=[],this.destroy$=new ei,this._cursorStyleIsSet=!1,this._defaultSettings={excludeFromOutsideClick:[],positionStrategy:new WE,scrollStrategy:new qE,modal:!0,closeOnOutsideClick:!0,closeOnEscape:!1},this.repositionAll=()=>{for(let e=this._overlayInfos.length;e--;)this.reposition(this._overlayInfos[e].id)},this.documentClicked=e=>{for(let t=this._overlayInfos.length;t--;){let i=this._overlayInfos[t];if(i.settings.modal)return;if(i.settings.closeOnOutsideClick){let t=e.composed?e.composedPath()[0]:e.target,n=i.elementRef.nativeElement;if((i.settings.excludeFromOutsideClick?[...i.settings.excludeFromOutsideClick,n]:[n]).some((e=>e.contains(t))))return;i.closeAnimationPlayer?.hasStarted()||this._hide(i.id,e)}}},this._document=this.document}static createAbsoluteOverlaySettings(e,t){let i=this.createAbsolutePositionSettings(e);return{positionStrategy:t?new KE(i):new WE(i),scrollStrategy:new qE,modal:!1,closeOnOutsideClick:!0,outlet:t}}static createRelativeOverlaySettings(e,t,i){let n=this.createRelativePositionSettings(t);return{target:e,positionStrategy:this.createPositionStrategy(i,n),scrollStrategy:new qE,modal:!1,closeOnOutsideClick:!0}}static createAbsolutePositionSettings(e){let t;switch(e){case ME.Bottom:t={horizontalDirection:OE.Center,verticalDirection:PE.Bottom,openAnimation:eE,closeAnimation:aE};break;case ME.Top:t={horizontalDirection:OE.Center,verticalDirection:PE.Top,openAnimation:ZI,closeAnimation:sE};break;case ME.Center:default:t={horizontalDirection:OE.Center,verticalDirection:PE.Middle,openAnimation:gD,closeAnimation:pD}}return t}static createRelativePositionSettings(e){let t;switch(e){case VE.Above:t={horizontalStartPoint:OE.Center,verticalStartPoint:PE.Top,horizontalDirection:OE.Center,verticalDirection:PE.Top,openAnimation:TI,closeAnimation:zI};break;case VE.Below:t={horizontalStartPoint:OE.Center,verticalStartPoint:PE.Bottom,horizontalDirection:OE.Center,verticalDirection:PE.Bottom,openAnimation:DI,closeAnimation:HI};break;case VE.After:t={horizontalStartPoint:OE.Right,verticalStartPoint:PE.Middle,horizontalDirection:OE.Right,verticalDirection:PE.Middle,openAnimation:OI,closeAnimation:qI};break;case VE.Before:t={horizontalStartPoint:OE.Left,verticalStartPoint:PE.Middle,horizontalDirection:OE.Left,verticalDirection:PE.Middle,openAnimation:FI,closeAnimation:YI};break;case VE.Default:default:t={horizontalStartPoint:OE.Left,verticalStartPoint:PE.Bottom,horizontalDirection:OE.Right,verticalDirection:PE.Bottom,openAnimation:DI,closeAnimation:HI}}return t}static createPositionStrategy(e,t){switch(e){case FE.Connected:return new zE(t);case FE.Elastic:return new jE(t);case FE.Auto:default:return new GE(t)}}attach(e,t,i){let n=this.getOverlayInfo(e,t,i);if(!n)return console.warn("Overlay was not able to attach provided component!"),null;n.id=(this._componentId++).toString(),n.visible=!1;let r={id:n.id,elementRef:n.elementRef,componentRef:n.componentRef,settings:n.settings};this.contentAppending.emit(r),n.settings=r.settings,this._overlayInfos.push(n),n.hook=this.placeElementHook(n.elementRef.nativeElement);let s=n.elementRef.nativeElement.getBoundingClientRect();return n.initialSize={width:s.width,height:s.height},this.addComponentSize(n),this.moveElementToOverlay(n),this.contentAppended.emit({id:n.id,componentRef:n.componentRef}),n.settings.scrollStrategy.initialize(this._document,this,n.id),n.settings.scrollStrategy.attach(),this.addOutsideClickListener(n),this.addResizeHandler(),this.addCloseOnEscapeListener(n),this.buildAnimationPlayers(n),n.id}detach(e){let t=this.getOverlayById(e);t?(t.detached=!0,this.finishAnimations(t),t.settings.scrollStrategy.detach(),this.removeOutsideClickListener(t),this.removeResizeHandler(),this.cleanUp(t)):console.warn("igxOverlay.detach was called with wrong id: ",e)}detachAll(){for(let e=this._overlayInfos.length;e--;)this.detach(this._overlayInfos[e].id)}show(e,t){let i=this.getOverlayById(e);if(!i)return void console.warn("igxOverlay.show was called with wrong id: ",e);let n={id:e,componentRef:i.componentRef,cancel:!1};this.opening.emit(n),!n.cancel&&(this.updateSize(i),i.settings.positionStrategy.position(i.elementRef.nativeElement.parentElement,{width:i.initialSize.width,height:i.initialSize.height},this._document,!0,i.settings.target),this.addModalClasses(i),i.settings.positionStrategy.settings.openAnimation?this.playOpenAnimation(i):(i.wrapperElement.style.visibility="",i.visible=!0,this.opened.emit({id:i.id,componentRef:i.componentRef})))}hide(e,t){this._hide(e,t)}hideAll(){for(let e=this._overlayInfos.length;e--;)this.hide(this._overlayInfos[e].id)}reposition(e){let t=this.getOverlayById(e);if(!t||!t.settings)return void console.warn("Wrong id provided in overlay.reposition method. Id: ",e);if(!t.visible)return;let i=t.elementRef.nativeElement.parentElement,n=i.getBoundingClientRect();t.settings.positionStrategy.position(i,{width:n.width,height:n.height},this._document,!1,t.settings.target)}setOffset(e,t,i,n){let r=this.getOverlayById(e);if(!r)return;switch(n){case NE.Set:r.transformX=t,r.transformY=i;break;case NE.Add:default:r.transformX+=t,r.transformY+=i}let s=`translate(${r.transformX}px, ${r.transformY}px)`;r.elementRef.nativeElement.parentElement.style.transform=s}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}getOverlayById(e){return e?this._overlayInfos.find((t=>t.id===e)):null}_hide(e,t){let i=this.getOverlayById(e);if(!i)return void console.warn("igxOverlay.hide was called with wrong id: ",e);let n={id:e,componentRef:i.componentRef,cancel:!1,event:t};this.closing.emit(n),!n.cancel&&(this.removeModalClasses(i),i.settings.positionStrategy.settings.closeAnimation?this.playCloseAnimation(i,t):this.closeDone(i))}getOverlayInfo(e,t,i){var n;let r={ngZone:this._zone,transformX:0,transformY:0},s=i;if(e instanceof Nl)r.elementRef=e,s=t;else{let i;if(t instanceof iu)i=t.createComponent(e);else{let r,o=this._appRef.injector;t&&(n=t,({injector:r}=n),s=Pe(n,["injector"])),i=ef(e,{environmentInjector:o,elementInjector:r}),this._appRef.attachView(i.hostView)}i.onDestroy&&i.onDestroy((()=>{!r.detached&&-1!==this._overlayInfos.indexOf(r)&&this.detach(r.id)}));let o=i.location.nativeElement;r.elementRef={nativeElement:o},r.componentRef=i}return r.settings=Object.assign({},this._defaultSettings,s),r}placeElementHook(e){if(!e.parentElement)return null;let t=this._document.createElement("div");return t.style.display="none",e.parentElement.insertBefore(t,e),t}moveElementToOverlay(e){e.wrapperElement=this.getWrapperElement();let t=this.getContentElement(e.wrapperElement,e.settings.modal);this.getOverlayElement(e).appendChild(e.wrapperElement),t.appendChild(e.elementRef.nativeElement)}getWrapperElement(){let e=this._document.createElement("div");return e.classList.add("igx-overlay__wrapper"),e}getContentElement(e,t){let i=this._document.createElement("div");return t?(i.classList.add("igx-overlay__content--modal"),i.addEventListener("click",(e=>{e.stopPropagation()}))):i.classList.add("igx-overlay__content"),i.addEventListener("scroll",(e=>{e.stopPropagation()})),e.style.visibility="hidden",e.appendChild(i),i}getOverlayElement(e){return e.settings.outlet?e.settings.outlet.nativeElement||e.settings.outlet:(this._overlayElement||(this._overlayElement=this._document.createElement("div"),this._overlayElement.classList.add("igx-overlay"),this._document.body.appendChild(this._overlayElement)),this._overlayElement)}updateSize(e){e.size&&e.elementRef.nativeElement.parentElement.style.setProperty("--ig-size",e.size),e.componentRef&&(e.componentRef.changeDetectorRef.detectChanges(),e.initialSize=e.elementRef.nativeElement.getBoundingClientRect()),0!==e.initialSize.width&&(e.elementRef.nativeElement.parentElement.style.width=e.initialSize.width+"px")}closeDone(e){e.visible=!1,e.wrapperElement&&(e.wrapperElement.style.visibility="hidden"),e.closeAnimationDetaching||this.closed.emit({id:e.id,componentRef:e.componentRef,event:e.event}),delete e.event}cleanUp(e){let t=e.elementRef.nativeElement,i=this.getOverlayElement(e);i.contains(t)&&i.removeChild(t.parentNode.parentNode),e.componentRef&&(this._appRef.detachView(e.componentRef.hostView),e.componentRef.destroy(),delete e.componentRef),e.hook&&(e.hook.parentElement.insertBefore(e.elementRef.nativeElement,e.hook),e.hook.parentElement.removeChild(e.hook),delete e.hook);let n=this._overlayInfos.indexOf(e);this._overlayInfos.splice(n,1),0===this._overlayInfos.length&&(this._overlayElement&&this._overlayElement.parentElement&&(this._overlayElement.parentElement.removeChild(this._overlayElement),this._overlayElement=null),this.removeCloseOnEscapeListener()),delete e.elementRef,delete e.settings,delete e.initialSize,e.openAnimationDetaching=!0,e.openAnimationPlayer?.destroy(),delete e.openAnimationPlayer,e.closeAnimationDetaching=!0,e.closeAnimationPlayer?.destroy(),delete e.closeAnimationPlayer,delete e.ngZone,delete e.wrapperElement,e=null}playOpenAnimation(e){if(!e.openAnimationPlayer?.hasStarted()){if(e.closeAnimationPlayer?.hasStarted()){let t=e.closeAnimationPlayer.position;e.closeAnimationPlayer.reset(),e.openAnimationPlayer.init(),e.openAnimationPlayer.position=1-t}this.animationStarting.emit({id:e.id,animationPlayer:e.openAnimationPlayer,animationType:"open"}),e.wrapperElement.style.visibility="",e.visible=!0,e.openAnimationPlayer.play()}}playCloseAnimation(e,t){if(!e.closeAnimationPlayer?.hasStarted()){if(e.openAnimationPlayer?.hasStarted()){let t=e.openAnimationPlayer.position;e.openAnimationPlayer.reset(),e.closeAnimationPlayer.init(),e.closeAnimationPlayer.position=1-t}this.animationStarting.emit({id:e.id,animationPlayer:e.closeAnimationPlayer,animationType:"close"}),e.event=t,e.closeAnimationPlayer.play()}}applyAnimationParams(e,t){if(!t)return void(e.style.transitionDuration="0ms");if(!t.options||!t.options.params)return;let i=t.options.params;i.duration&&(e.style.transitionDuration=i.duration),i.easing&&(e.style.transitionTimingFunction=i.easing)}addOutsideClickListener(e){e.settings.closeOnOutsideClick&&(e.settings.modal?en(e.elementRef.nativeElement.parentElement.parentElement,"click").pipe(mn(this.destroy$)).subscribe((t=>this._hide(e.id,t))):this._overlayInfos.filter((e=>e.settings.closeOnOutsideClick&&!e.settings.modal)).length-this._overlayInfos.filter((e=>e.settings.closeOnOutsideClick&&!e.settings.modal&&e.closeAnimationPlayer?.hasStarted())).length==1&&(this.platformUtil.isIOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._document.addEventListener("click",this.documentClicked,!0)))}removeOutsideClickListener(e){if(!1===e.settings.modal){let t=!0;this._overlayInfos.forEach((i=>{!1===i.settings.modal&&i.id!==e.id&&(t=!1)})),t&&(this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorOriginalValue="",this._cursorStyleIsSet=!1),this._document.removeEventListener("click",this.documentClicked,!0))}}addResizeHandler(){let e=this._overlayInfos.filter((e=>e.closeAnimationPlayer?.hasStarted())).length;this._overlayInfos.length-e==1&&this._document.defaultView.addEventListener("resize",this.repositionAll)}removeResizeHandler(){let e=this._overlayInfos.filter((e=>e.closeAnimationPlayer?.hasStarted())).length;this._overlayInfos.length-e==1&&this._document.defaultView.removeEventListener("resize",this.repositionAll)}addCloseOnEscapeListener(e){e.settings.closeOnEscape&&!this._keyPressEventListener&&(this._keyPressEventListener=en(this._document,"keydown").pipe(on((e=>"Escape"===e.key||"Esc"===e.key))).subscribe((e=>{let t=this._overlayInfos.filter((e=>e.visible));if(t.length<1)return;let i=t[t.length-1];i.visible&&i.settings.closeOnEscape&&this.hide(i.id,e)})))}removeCloseOnEscapeListener(){this._keyPressEventListener&&(this._keyPressEventListener.unsubscribe(),this._keyPressEventListener=null)}addModalClasses(e){if(e.settings.modal){let t=e.elementRef.nativeElement.parentElement.parentElement;t.classList.remove("igx-overlay__wrapper"),this.applyAnimationParams(t,e.settings.positionStrategy.settings.openAnimation),requestAnimationFrame((()=>{t.classList.add("igx-overlay__wrapper--modal")}))}}removeModalClasses(e){if(e.settings.modal){let t=e.elementRef.nativeElement.parentElement.parentElement;this.applyAnimationParams(t,e.settings.positionStrategy.settings.closeAnimation),t.classList.remove("igx-overlay__wrapper--modal"),t.classList.add("igx-overlay__wrapper")}}buildAnimationPlayers(e){e.settings.positionStrategy.settings.openAnimation&&(e.openAnimationPlayer=this.animationService.buildAnimation(e.settings.positionStrategy.settings.openAnimation,e.elementRef.nativeElement),e.openAnimationPlayer.animationEnd.pipe(mn(this.destroy$)).subscribe((()=>this.openAnimationDone(e)))),e.settings.positionStrategy.settings.closeAnimation&&(e.closeAnimationPlayer=this.animationService.buildAnimation(e.settings.positionStrategy.settings.closeAnimation,e.elementRef.nativeElement),e.closeAnimationPlayer.animationEnd.pipe(mn(this.destroy$)).subscribe((()=>this.closeAnimationDone(e))))}openAnimationDone(e){e.openAnimationDetaching||this.opened.emit({id:e.id,componentRef:e.componentRef}),e.openAnimationPlayer&&e.openAnimationPlayer.reset(),e.closeAnimationPlayer?.hasStarted()&&e.closeAnimationPlayer.reset()}closeAnimationDone(e){e.closeAnimationPlayer&&e.closeAnimationPlayer.reset(),e.openAnimationPlayer?.hasStarted()&&e.openAnimationPlayer.reset(),this.closeDone(e)}finishAnimations(e){e.openAnimationPlayer?.hasStarted()&&e.openAnimationPlayer.finish(),e.closeAnimationPlayer?.hasStarted()&&e.closeAnimationPlayer.finish()}addComponentSize(e){if(e.elementRef?.nativeElement instanceof Element){let t=this._document.defaultView.getComputedStyle(e.elementRef.nativeElement),i=t.getPropertyValue("--component-size"),n=t.getPropertyValue("--ig-size"),r=i||n;e.size=r}}};return e.ɵfac=function(t){return new(t||e)(gr(fm),gr(of),gr(Dl),gr(fC),gr(kE))},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),XE=class extends UE{constructor(e){super(),this._initialized=!1,this.onScroll=e=>{let t=this._overlayService.getOverlayById(this._id);t&&(t.elementRef.nativeElement.contains(e.target)||this._overlayService.reposition(this._id))},this._scrollContainer=e}initialize(e,t,i){this._initialized||(this._overlayService=t,this._id=i,this._document=e,this._zone=t.getOverlayById(i).ngZone,this._initialized=!0)}attach(){this._zone?this._zone.runOutsideAngular((()=>{this.addScrollEventListener()})):this.addScrollEventListener()}detach(){this._scrollContainer?this._scrollContainer.removeEventListener("scroll",this.onScroll,!0):this._document?.removeEventListener("scroll",this.onScroll,!0),this._initialized=!1}addScrollEventListener(){this._scrollContainer?this._scrollContainer.addEventListener("scroll",this.onScroll,!0):this._document.addEventListener("scroll",this.onScroll,!0)}},ZE=class extends UE{constructor(e){super(),this._initialized=!1,this.onScroll=e=>{this._sourceElement||(this._sourceElement=e.target,this.initialScrollTop=this._sourceElement.scrollTop,this.initialScrollLeft=this._sourceElement.scrollLeft),!this._overlayInfo.elementRef.nativeElement.contains(this._sourceElement)&&(Math.abs(this._sourceElement.scrollTop-this.initialScrollTop)>this._threshold||Math.abs(this._sourceElement.scrollLeft-this.initialScrollLeft)>this._threshold)&&this._overlayService.hide(this._id)},this._scrollContainer=e,this._threshold=10}initialize(e,t,i){this._initialized||(this._overlayService=t,this._id=i,this._document=e,this._initialized=!0,this._overlayInfo=t.getOverlayById(i))}attach(){this._scrollContainer?(this._scrollContainer.addEventListener("scroll",this.onScroll),this._sourceElement=this._scrollContainer):this._document.addEventListener("scroll",this.onScroll,!0)}detach(){this._scrollContainer?this._scrollContainer.removeEventListener("scroll",this.onScroll):this._document.removeEventListener("scroll",this.onScroll,!0),this._sourceElement=null,this._initialized=!1}},QE=class{constructor(){this.onStateUpdate=new yl,this._isPending=!1,this._pendingTransactions=[],this._pendingStates=new Map,this._cloneStrategy=new XC}get cloneStrategy(){return this._cloneStrategy}set cloneStrategy(e){e&&(this._cloneStrategy=e)}get canRedo(){return!1}get canUndo(){return!1}get enabled(){return this._isPending}add(e,t){this._isPending&&(this.updateState(this._pendingStates,e,t),this._pendingTransactions.push(e))}getTransactionLog(e){return[]}undo(){}redo(){}getAggregatedChanges(e){let t=[];return this._pendingStates.forEach(((i,n)=>{let r=e?this.getAggregatedValue(n,e):i.value;t.push({id:n,newValue:r,type:i.type})})),t}getState(e){return this._pendingStates.get(e)}getAggregatedValue(e,t){let i=this._pendingStates.get(e);return i?t&&i.recordRef?this.updateValue(i):i.value:null}commit(e,t){}clear(e){this._pendingStates.clear(),this._pendingTransactions=[]}startPending(){this._isPending=!0}endPending(e){this._isPending=!1,this._pendingStates.clear(),this._pendingTransactions=[]}updateState(e,t,i){let n=e.get(t.id);n?gC(n.value)?cC(n.value,t.newValue):n.value=t.newValue:(n={value:this.cloneStrategy.clone(t.newValue),recordRef:i,type:t.type},e.set(t.id,n)),this.cleanState(t.id,e)}updateValue(e){return this.mergeValues(e.recordRef,e.value)}mergeValues(e,t){return gC(e)||gC(t)?cC(this.cloneStrategy.clone(e),t):t||e}cleanState(e,t){let i=t.get(e);if(i&&i.value&&i.recordRef)if(gC(i.recordRef)){for(let e of Object.keys(i.value))JSON.stringify(i.recordRef[e])===JSON.stringify(i.value[e])&&delete i.value[e];i.type!==MC.DELETE&&0===Object.keys(i.value).length&&t.delete(e)}else i.recordRef===i.value&&t.delete(e)}},JE=class extends QE{constructor(){super(...arguments),this._transactions=[],this._redoStack=[],this._undoStack=[],this._states=new Map}get canUndo(){return this._undoStack.length>0}get canRedo(){return this._redoStack.length>0}add(e,t){let i=this._isPending?this._pendingStates:this._states;this.verifyAddedTransaction(i,e,t),this.addTransaction(e,i,t)}getTransactionLog(e){return void 0!==e?this._transactions.filter((t=>t.id===e)):[...this._transactions]}getAggregatedChanges(e){let t=[];return this._states.forEach(((i,n)=>{let r=e?this.mergeValues(i.recordRef,i.value):i.value;t.push({id:n,newValue:r,type:i.type})})),t}getState(e,t=!1){return t?this._pendingStates.get(e):this._states.get(e)}get enabled(){return!0}getAggregatedValue(e,t){let i=this._states.get(e),n=super.getState(e);if(!i&&!n)return null;let r=super.getAggregatedValue(e,!1),s=i&&i.value,o=this.mergeValues(s,r);if(t){let e=i?i.recordRef:n.recordRef;o=this.mergeValues(e,o)}return o}endPending(e){if(this._isPending=!1,e){let e=[];for(let t of this._pendingTransactions){let i=this._pendingStates.get(t.id);this._transactions.push(t),this.updateState(this._states,t,i.recordRef),e.push({transaction:t,recordRef:i.recordRef})}this._undoStack.push(e),this._redoStack=[],this.onStateUpdate.emit({origin:NC.END,actions:e})}super.endPending(e)}commit(e,t){if(void 0!==t){let i=this.getState(t);i&&this.updateRecord(e,i)}else this._states.forEach((t=>{this.updateRecord(e,t)}));this.clear(t)}clear(e){void 0!==e?(this._transactions=this._transactions.filter((t=>t.id!==e)),this._states.delete(e),this._undoStack=this._undoStack.map((t=>t.filter((t=>t.transaction.id!==e)))).filter((e=>e.length>0))):(this._transactions=[],this._states.clear(),this._undoStack=[]),this._redoStack=[],this.onStateUpdate.emit({origin:NC.CLEAR,actions:[]})}undo(){if(this._undoStack.length<=0)return;let e=this._undoStack.pop();this._transactions.splice(this._transactions.length-e.length),this._redoStack.push(e),this._states.clear();for(let e of this._undoStack)for(let t of e)this.updateState(this._states,t.transaction,t.recordRef);this.onStateUpdate.emit({origin:NC.UNDO,actions:e})}redo(){if(this._redoStack.length>0){let e=this._redoStack.pop();for(let t of e)this.updateState(this._states,t.transaction,t.recordRef),this._transactions.push(t.transaction);this._undoStack.push(e),this.onStateUpdate.emit({origin:NC.REDO,actions:e})}}addTransaction(e,t,i){if(this.updateState(t,e,i),(this._isPending?this._pendingTransactions:this._transactions).push(e),!this._isPending){let t=[{transaction:e,recordRef:i}];this._undoStack.push(t),this._redoStack=[],this.onStateUpdate.emit({origin:NC.ADD,actions:t})}}verifyAddedTransaction(e,t,i){let n=e.get(t.id);switch(t.type){case MC.ADD:if(n)throw new Error(`Cannot add this transaction. Transaction with id: ${t.id} has been already added.`);break;case MC.DELETE:case MC.UPDATE:if(n&&n.type===MC.DELETE)throw new Error(`Cannot add this transaction. Transaction with id: ${t.id} has been already deleted.`);if(!n&&!i&&!this._isPending)throw new Error(`Cannot add this transaction. This is first transaction of type ${t.type} for id ${t.id}. For first transaction of this type recordRef is mandatory.`)}}updateState(e,t,i){let n=e.get(t.id);if(n)switch(t.type){case MC.DELETE:n.type===MC.ADD?e.delete(t.id):n.type===MC.UPDATE&&(n.value=t.newValue,n.type=MC.DELETE);break;case MC.UPDATE:gC(n.value)?(n.type===MC.ADD&&(n.value=this.mergeValues(n.value,t.newValue)),n.type===MC.UPDATE&&cC(n.value,t.newValue)):n.value=t.newValue}else n={value:this.cloneStrategy.clone(t.newValue),recordRef:i,type:t.type},e.set(t.id,n);this.cleanState(t.id,e)}updateRecord(e,t){let i=e.findIndex((e=>JSON.stringify(e)===JSON.stringify(t.recordRef||{})));switch(t.type){case MC.ADD:e.push(t.value);break;case MC.DELETE:0<=i&&i<e.length&&e.splice(i,1);break;case MC.UPDATE:0<=i&&i<e.length&&(e[i]=this.updateValue(t))}}},eT=class extends JE{getAggregatedChanges(e){let t=[];return this._states.forEach(((i,n)=>{let r=e?this.mergeValues(i.recordRef,i.value):this.cloneStrategy.clone(i.value);this.clearArraysFromObject(r),t.push({id:n,path:i.path,newValue:r,type:i.type})})),t}commit(e,t,i,n){if(void 0!==i){let r=this.getAggregatedChanges(!0);void 0!==n&&(r=r.filter((e=>e.id===n))),JC.mergeHierarchicalTransactions(e,r,i,t,this.cloneStrategy,!0),this.clear(n)}else super.commit(e,t)}updateState(e,t,i){if(super.updateState(e,t,i),!t.path)return;let n=e.get(t.id);n&&(n.path=t.path),t.type===MC.DELETE&&e.forEach(((i,n)=>{if(i.path&&-1!==i.path.indexOf(t.id))switch(i.type){case MC.ADD:e.delete(n);break;case MC.UPDATE:e.get(n).type=MC.DELETE,e.get(n).value=null}}))}clearArraysFromObject(e){if(e)for(let t of Object.keys(e))Array.isArray(e[t])&&delete e[t]}},tT=(()=>{let e=class{create(e){return"Base"===e?new JE:new QE}};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),iT=(()=>{let e=class extends tT{create(e){return"Base"===e?new eT:new QE}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),nT=function(e){return e[e.Up=-1]="Up",e[e.Down=1]="Down",e}(nT||{}),rT="escape",sT="enter",oT="space",aT=new Gn("IgxDropDownBaseToken"),lT=(()=>{let e=class{constructor(e){this.dropdown=e,this._target=null}get target(){return this._target}set target(e){this._target=e||this.dropdown}handleKeyDown(e){if(e){let t=e.key.toLowerCase();if(this.target.collapsed)return;if(-1===["esc","escape","enter","space","spacebar"," ","arrowup","up","arrowdown","down","home","end"].indexOf(t))return;switch(e.preventDefault(),e.stopPropagation(),t){case"esc":case"escape":this.target.onItemActionKey(rT,e);break;case"enter":this.target.onItemActionKey(sT,e);break;case"space":case"spacebar":case" ":this.target.onItemActionKey(oT,e);break;case"arrowup":case"up":this.onArrowUpKeyDown();break;case"arrowdown":case"down":this.onArrowDownKeyDown();break;case"home":this.onHomeKeyDown();break;case"end":this.onEndKeyDown();break;default:return}}}onArrowDownKeyDown(){this.target.navigateNext()}onArrowUpKeyDown(){this.target.navigatePrev()}onEndKeyDown(){this.target.navigateLast()}onHomeKeyDown(){this.target.navigateFirst()}};return e.ɵfac=function(t){return new(t||e)(Oc(aT,10))},e.ɵdir=ss({type:e,selectors:[["","igxDropDownItemNavigation",""]],hostBindings:function(e,t){1&e&&ep("keydown",(function(e){return t.handleKeyDown(e)}))},inputs:{target:[0,"igxDropDownItemNavigation","target"]},standalone:!0}),e})(),dT=function(e){return e[e.START=0]="START",e[e.END=1]="END",e}(dT||{}),cT=(()=>{let e=class{constructor(){this.isPositionStart=!1,this.isPositionEnd=!1,this._position=dT.START}set position(e){let t=dT[e.toUpperCase()];void 0!==t&&(this._position=t,this._applyPosition(this._position))}get position(){return this._position.toString()}ngOnInit(){this._applyPosition(this._position)}_applyPosition(e){switch(this.isPositionStart=this.isPositionEnd=!1,e){case dT.START:this.isPositionStart=!0;break;case dT.END:this.isPositionEnd=!0}}};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["igx-hint"],["","igxHint",""]],hostVars:4,hostBindings:function(e,t){2&e&&xg("igx-input-group__hint-item--start",t.isPositionStart)("igx-input-group__hint-item--end",t.isPositionEnd)},inputs:{position:"position"},standalone:!0}),e})(),hT=class{},uT=["required","pattern","minlength","maxlength","min","max","step"],gT=function(e){return e[e.INITIAL=0]="INITIAL",e[e.VALID=1]="VALID",e[e.INVALID=2]="INVALID",e}(gT||{}),pT=(()=>{let e=class{constructor(e,t,i,n,r,s){this.inputGroup=e,this.ngModel=t,this.formControl=i,this.element=n,this.cdr=r,this.renderer=s,this.isInput=!1,this.isTextArea=!1,this._valid=gT.INITIAL,this._disabled=!1}get ngControl(){return this.ngModel?this.ngModel:this.formControl}set value(e){this.nativeElement.value=e??"",this.updateValidityState()}get value(){return this.nativeElement.value}set disabled(e){this._disabled=this.inputGroup.disabled=e,this.focused&&this._disabled&&(this.inputGroup.isFocused=!1)}get disabled(){return this._disabled}set required(e){this.nativeElement.required=this.inputGroup.isRequired=e}get required(){let e;return this.ngControl&&(this.ngControl.control.validator||this.ngControl.control.asyncValidator)&&(e=this.ngControl.control.validator({})),e&&e.required||this.nativeElement.hasAttribute("required")}onFocus(){this.inputGroup.isFocused=!0}onBlur(){this.inputGroup.isFocused=!1,this.updateValidityState()}onInput(){this.checkNativeValidity()}change(e){if("file"===this.type){let t=e.target.files,i=[];if(t)for(let e of Array.from(t))i.push(e);this._fileNames=(i||[]).map((e=>e.name)).join(", "),this.required&&t?.length>0&&(this._valid=gT.INITIAL)}}get fileNames(){return this._fileNames}clear(){this.ngControl?.control?.setValue(""),this.nativeElement.value=null,this._fileNames=""}ngAfterViewInit(){this.inputGroup.hasPlaceholder=this.nativeElement.hasAttribute("placeholder"),this.ngControl&&null!==this.ngControl.disabled&&(this.disabled=this.ngControl.disabled),this.inputGroup.disabled=this.inputGroup.disabled||this.nativeElement.hasAttribute("disabled"),this.inputGroup.isRequired=this.nativeElement.hasAttribute("required"),this.ngControl||(this._valid=gT.INITIAL),this.required&&!this.inputGroup.isRequired&&(this.inputGroup.isRequired=this.required),this.renderer.setAttribute(this.nativeElement,"aria-required",this.required.toString()),"textarea"===this.nativeElement.tagName.toLowerCase()?this.isTextArea=!0:this.isInput=!0,this.ngControl&&(this._statusChanges$=this.ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this)),this._valueChanges$=this.ngControl.valueChanges.subscribe(this.onValueChanged.bind(this))),this.cdr.detectChanges()}ngOnDestroy(){this._statusChanges$&&this._statusChanges$.unsubscribe(),this._valueChanges$&&this._valueChanges$.unsubscribe()}focus(){this.nativeElement.focus()}get nativeElement(){return this.element.nativeElement}onStatusChanged(){this.disabled!==this.ngControl.disabled&&(this.disabled=this.ngControl.disabled),this.updateValidityState()}onValueChanged(){this._fileNames&&!this.value&&(this._fileNames="")}updateValidityState(){if(this.ngControl){if(!this.disabled&&this.isTouchedOrDirty)if(this.hasValidators){let e=this.ngControl.control.validator({});this.inputGroup.isRequired=e&&e.required,this.focused?this._valid=this.ngControl.valid?gT.VALID:gT.INVALID:this._valid=this.ngControl.valid?gT.INITIAL:gT.INVALID}else this.inputGroup.isRequired=!1,this._valid=this.ngControl.valid?gT.INITIAL:gT.INVALID;else this._valid=gT.INITIAL;this.renderer.setAttribute(this.nativeElement,"aria-required",this.required.toString());let e=this.valid===gT.INVALID;this.renderer.setAttribute(this.nativeElement,"aria-invalid",e.toString())}else this.checkNativeValidity()}get isTouchedOrDirty(){return this.ngControl.control.touched||this.ngControl.control.dirty}get hasValidators(){return!!this.ngControl.control.validator||!!this.ngControl.control.asyncValidator}get hasPlaceholder(){return this.nativeElement.hasAttribute("placeholder")}get placeholder(){return this.nativeElement.placeholder}_hasValidators(){for(let e of uT)if(this.nativeElement.hasAttribute(e))return!0;return!1}get focused(){return this.inputGroup.isFocused}get valid(){return this._valid}set valid(e){this._valid=e}get isValid(){return this.valid!==gT.INVALID}checkNativeValidity(){!this.disabled&&this._hasValidators()&&(this._valid=this.nativeElement.checkValidity()?this.focused?gT.VALID:gT.INITIAL:gT.INVALID)}get type(){return this.nativeElement.type}};return e.ɵfac=function(t){return new(t||e)(Oc(hT),Oc(Ux,10),Oc(ux,10),Oc(Nl),Oc(Pm),Oc(qh))},e.ɵdir=ss({type:e,selectors:[["","igxInput",""]],hostVars:5,hostBindings:function(e,t){1&e&&ep("focus",(function(){return t.onFocus()}))("blur",(function(){return t.onBlur()}))("input",(function(){return t.onInput()}))("change",(function(e){return t.change(e)})),2&e&&(Kg("disabled",t.disabled),xg("igx-input-group__input",t.isInput)("igx-input-group__textarea",t.isTextArea))},inputs:{value:"value",disabled:[2,"disabled","disabled",Zm],required:[2,"required","required",Zm]},exportAs:["igxInput"],standalone:!0,features:[Vu]}),e})(),mT=0,fT=(()=>{let e=class{constructor(){this.defaultClass=!0,this.id="igx-label-"+mT++}};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","igxLabel",""]],hostVars:3,hostBindings:function(e,t){2&e&&(tg("id",t.id),xg("igx-input-group__label",t.defaultClass))},inputs:{id:"id"},standalone:!0}),e})(),vT=(()=>{let e=class{};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["igx-prefix"],["","igxPrefix",""],["","igxStart",""]],standalone:!0}),e})(),yT=(()=>{let e=class{};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["igx-suffix"],["","igxSuffix",""],["","igxEnd",""]],standalone:!0}),e})(),xT={igx_input_upload_button:"Upload File",igx_input_file_placeholder:"No file chosen"},wT={Flat:"flat",Contained:"contained",Outlined:"outlined"},_T=(()=>{let e=class{onClick(e){this.buttonClick.emit(e),this.focused=!1}onBlur(){this.focused=!1}get disabledAttribute(){return this.disabled||null}constructor(e){this.element=e,this.buttonClick=new yl,this.role="button",this.focused=!1,this.disabled=!1}updateOnKeyUp(e){"Tab"===e.key&&(this.focused=!0)}get nativeElement(){return this.element.nativeElement}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl))},e.ɵdir=ss({type:e,hostVars:6,hostBindings:function(e,t){1&e&&ep("click",(function(e){return t.onClick(e)}))("blur",(function(){return t.onBlur()}))("keyup",(function(e){return t.updateOnKeyUp(e)})),2&e&&(tg("role",t.role)("disabled",t.disabledAttribute),xg("igx-button--focused",t.focused)("igx-button--disabled",t.disabled))},inputs:{disabled:[2,"disabled","disabled",Zm]},outputs:{buttonClick:"buttonClick"},features:[Vu]}),e})(),CT=Oe(ke({},wT),{FAB:"fab"}),ST=(()=>{let e=class extends _T{set selected(e){this._selected!==e&&(this._selected=e,this._renderer.setAttribute(this.nativeElement,"data-selected",e.toString()))}get selected(){return this._selected}constructor(e,t){super(e),this.element=e,this._renderer=t,this.buttonSelected=new yl,this._cssClass="igx-button",this._selected=!1}ngAfterContentInit(){this.nativeElement.addEventListener("click",(()=>{this.buttonSelected.emit({button:this})}))}set type(e){let t=e||CT.Flat;this._type!==t&&(this._type=t)}set label(e){this._label=e||this._label,this._renderer.setAttribute(this.nativeElement,"aria-label",this._label)}get flat(){return this._type===CT.Flat}get contained(){return this._type===CT.Contained}get outlined(){return this._type===CT.Outlined}get fab(){return this._type===CT.FAB}select(){this.selected=!0}deselect(){this.selected=!1,this.focused=!1}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(qh))},e.ɵdir=ss({type:e,selectors:[["","igxButton",""]],hostVars:10,hostBindings:function(e,t){2&e&&xg("igx-button",t._cssClass)("igx-button--flat",t.flat)("igx-button--contained",t.contained)("igx-button--outlined",t.outlined)("igx-button--fab",t.fab)},inputs:{selected:[2,"selected","selected",Zm],type:[0,"igxButton","type"],label:[0,"igxLabel","label"]},outputs:{buttonSelected:"buttonSelected"},standalone:!0,features:[Vu,Ru]}),e})(),bT=new Gn("InputGroupType"),DT=e=>new Map(Object.entries(e).map((e=>e))),IT=(e,t)=>({alias:{name:e,family:"default"},target:DT(t)}),ET=[IT("more_vert",{default:{name:"more_vert",family:"material"}}),IT("arrow_prev",{default:{name:"chevron_left",family:"material"},fluent:{name:"arrow_upward",family:"material"}}),IT("arrow_next",{default:{name:"chevron_right",family:"material"},fluent:{name:"arrow_downward",family:"material"}}),IT("expand",{default:{name:"expand_more",family:"material"}}),IT("collapse",{default:{name:"expand_less",family:"material"}}),IT("carousel_prev",{default:{name:"arrow_back",family:"material"},indigo:{name:"chevron_left",family:"material"}}),IT("carousel_next",{default:{name:"arrow_forward",family:"material"},indigo:{name:"chevron_right",family:"material"}}),IT("arrow_back",{default:{name:"arrow_back",family:"material"}}),IT("arrow_forward",{default:{name:"arrow_forward",family:"material"}}),IT("selected",{default:{name:"done",family:"material"}}),IT("remove",{default:{name:"cancel",family:"material"}}),IT("input_clear",{default:{name:"clear",family:"material"}}),IT("input_expand",{default:{name:"arrow_drop_down",family:"material"},material:{name:"expand_more",family:"material"}}),IT("input_collapse",{default:{name:"arrow_drop_up",family:"material"},material:{name:"expand_less",family:"material"}}),IT("arrow_drop_down",{default:{name:"arrow_drop_down",family:"material"}}),IT("case_sensitive",{default:{name:"case-sensitive",family:"imx-icons"}}),IT("today",{default:{name:"calendar_today",family:"material"}}),IT("clock",{default:{name:"access_time",family:"material"}}),IT("date_range",{default:{name:"date_range",family:"material"}}),IT("prev",{default:{name:"navigate_before",family:"material"}}),IT("next",{default:{name:"navigate_next",family:"material"}}),IT("first_page",{default:{name:"first_page",family:"material"}}),IT("last_page",{default:{name:"last_page",family:"material"}}),IT("add",{default:{name:"add",family:"material"}}),IT("close",{default:{name:"close",family:"material"}}),IT("error",{default:{name:"error",family:"material"}}),IT("confirm",{default:{name:"check",family:"material"}}),IT("cancel",{default:{name:"close",family:"material"}}),IT("edit",{default:{name:"edit",family:"material"}}),IT("delete",{default:{name:"delete",family:"material"}}),IT("pin",{default:{name:"pin-left",family:"imx-icons"}}),IT("unpin",{default:{name:"unpin-left",family:"imx-icons"}}),IT("show",{default:{name:"visibility",family:"material"}}),IT("hide",{default:{name:"visibility_off",family:"material"}}),IT("tree_expand",{default:{name:"chevron_right",family:"material"}}),IT("tree_collapse",{default:{name:"expand_more",family:"material"}}),IT("chevron_right",{default:{name:"chevron_right",family:"material"}}),IT("chevron_left",{default:{name:"chevron_left",family:"material"}}),IT("expand_more",{default:{name:"expand_more",family:"material"}}),IT("filter_list",{default:{name:"filter_list",family:"material"}}),IT("import_export",{default:{name:"import_export",family:"material"}}),IT("unfold_more",{default:{name:"unfold_more",family:"material"}}),IT("unfold_less",{default:{name:"unfold_less",family:"material"}}),IT("drag_indicator",{default:{name:"drag_indicator",family:"material"}}),IT("group_work",{default:{name:"group_work",family:"material"}}),IT("sort_asc",{default:{name:"arrow_upward",family:"material"}}),IT("sort_desc",{default:{name:"arrow_downward",family:"material"}}),IT("search",{default:{name:"search",family:"material"}}),IT("functions",{default:{name:"functions",family:"material"}}),IT("table_rows",{default:{name:"table_rows",family:"material"}}),IT("view_column",{default:{name:"view_column",family:"material"}}),IT("refresh",{default:{name:"refresh",family:"material"}}),IT("add_row",{default:{name:"add-row",family:"imx-icons"}}),IT("add_child",{default:{name:"add-child",family:"imx-icons"}}),IT("jump_up",{default:{name:"jump-up",family:"imx-icons"}}),IT("jump_down",{default:{name:"jump-down",family:"imx-icons"}}),IT("filter_null",{default:{name:"is-null",family:"imx-icons"}}),IT("filter_not_null",{default:{name:"is-not-null",family:"imx-icons"}}),IT("filter_in",{default:{name:"is-in",family:"imx-icons"}}),IT("filter_all",{default:{name:"select-all",family:"imx-icons"}}),IT("filter_true",{default:{name:"is-true",family:"imx-icons"}}),IT("filter_false",{default:{name:"is-false",family:"imx-icons"}}),IT("filter_empty",{default:{name:"is-empty",family:"imx-icons"}}),IT("filter_not_empty",{default:{name:"not-empty",family:"imx-icons"}}),IT("filter_equal",{default:{name:"equals",family:"imx-icons"}}),IT("filter_not_equal",{default:{name:"not-equal",family:"imx-icons"}}),IT("filter_before",{default:{name:"is-before",family:"imx-icons"}}),IT("filter_after",{default:{name:"is-after",family:"imx-icons"}}),IT("filter_today",{default:{name:"today",family:"imx-icons"}}),IT("filter_yesterday",{default:{name:"yesterday",family:"imx-icons"}}),IT("filter_this_month",{default:{name:"this-month",family:"imx-icons"}}),IT("filter_last_month",{default:{name:"last-month",family:"imx-icons"}}),IT("filter_next_month",{default:{name:"next-month",family:"imx-icons"}}),IT("filter_this_year",{default:{name:"this-year",family:"imx-icons"}}),IT("filter_last_year",{default:{name:"last-year",family:"imx-icons"}}),IT("filter_next_year",{default:{name:"next-year",family:"imx-icons"}}),IT("filter_greater_than",{default:{name:"greater-than",family:"imx-icons"}}),IT("filter_less_than",{default:{name:"less-than",family:"imx-icons"}}),IT("filter_greater_than_or_equal",{default:{name:"greater-than-or-equal",family:"imx-icons"}}),IT("filter_less_than_or_equal",{default:{name:"less-than-or-equal",family:"imx-icons"}}),IT("filter_contains",{default:{name:"contains",family:"imx-icons"}}),IT("filter_does_not_contain",{default:{name:"does-not-contain",family:"imx-icons"}}),IT("filter_starts_with",{default:{name:"starts-with",family:"imx-icons"}}),IT("filter_ends_with",{default:{name:"ends-with",family:"imx-icons"}}),IT("ungroup",{default:{name:"ungroup",family:"imx-icons"}}),IT("file_download",{default:{name:"file_download",family:"material"}})],TT=(()=>{let e=class{constructor(e,t,i,n){this._sanitizer=e,this._httpClient=t,this._platformUtil=i,this.document=n,this._defaultFamily={name:"material",meta:{className:"material-icons",type:"liga"}},this._iconRefs=new Map,this._families=new Map,this._cachedIcons=new Map,this._iconLoaded=new ei,this.iconLoaded=this._iconLoaded.asObservable(),this.setFamily(this._defaultFamily.name,this._defaultFamily.meta),this._platformUtil?.isBrowser&&(this._domParser=new DOMParser)}get defaultFamily(){return this._defaultFamily}set defaultFamily(e){this._defaultFamily=e,this.setFamily(this._defaultFamily.name,this._defaultFamily.meta)}registerFamilyAlias(e,t=e,i="font"){return this.setFamily(e,{className:t,type:i}),this}familyClassName(e){return this._families.get(e)?.className||e}familyType(e){return this._families.get(e)?.type}setRefsByTheme(e){if(this.theme!==e){this.theme=e;for(let{alias:t,target:i}of ET){let n=i.get(e)??i.get("default");this.addIconRef(t.name,t.family,n)}}}setFamily(e,t){this._families.set(e,t)}addIconRef(e,t,i){this._iconRefs.get(t)?.get(e)||this.setIconRef(e,t,i)}setIconRef(e,t,i){let n=this._iconRefs.get(t);n||(n=new Map,this._iconRefs.set(t,n));let r=this.familyType(i?.family);n.set(e,Oe(ke({},i),{type:i.type??r})),this._iconLoaded.next({name:e,family:t})}getIconRef(e,t){let i=this._iconRefs.get(t)?.get(e),n=i?.family??t,r=i?.name??e,s=this.familyClassName(n),o=this._families.get(n)?.prefix,a=r;return a&&o&&(a=r.includes(o)?r:`${o}${r}`),{className:s,type:this.isSvgIconCached(a,n)?"svg":i?.type??this.familyType(n),name:a,family:n}}getOrCreateSvgFamily(e){return this._families.has(e)||this._families.set(e,{className:e,type:"svg"}),this._families.get(e)}addSvgIcon(e,t,i=this._defaultFamily.name,n=!1){if(!e||!t)throw new Error("You should provide at least `name` and `url` to register an svg icon.");{let r=this._sanitizer.bypassSecurityTrustResourceUrl(t);if(!r)throw new Error(`The provided URL could not be processed as trusted resource URL by Angular's DomSanitizer: "${t}".`);if(!this._sanitizer.sanitize(qd.RESOURCE_URL,r))throw new Error(`The URL provided was not trusted as a resource URL: "${t}".`);this.isSvgIconCached(e,i)||(this.getOrCreateSvgFamily(i),this.fetchSvg(t).subscribe((t=>{this.cacheSvgIcon(e,t,i,n)})))}}addSvgIconFromText(e,t,i=this._defaultFamily.name,n=!1){if(!e||!t)throw new Error("You should provide at least `name` and `iconText` to register an svg icon.");this.isSvgIconCached(e,i)||(this.getOrCreateSvgFamily(i),this.cacheSvgIcon(e,t,i,n))}isSvgIconCached(e,t){return!!this._cachedIcons.has(t)&&this._cachedIcons.get(t).has(e)}getSvgIcon(e,t){return this._cachedIcons.get(t)?.get(e)}fetchSvg(e){return this._httpClient.get(e,{responseType:"text"})}cacheSvgIcon(e,t,i=this._defaultFamily.name,n){if(this._platformUtil?.isBrowser&&e&&t){let r=this._domParser.parseFromString(t,"image/svg+xml").querySelector("svg");if(this._cachedIcons.has(i)||this._cachedIcons.set(i,new Map),r){if(r.setAttribute("fit",""),r.setAttribute("preserveAspectRatio","xMidYMid meet"),n){let e=r.querySelector("title"),t=r.querySelector("desc");e&&r.removeChild(e),t&&r.removeChild(t)}let s=this._sanitizer.bypassSecurityTrustHtml(r.outerHTML);this._cachedIcons.get(i).set(e,s),this._iconLoaded.next({name:e,value:t,family:i})}}}};return e.ɵfac=function(t){return new(t||e)(gr(Oy,8),gr(Zv,8),gr(fC,8),gr(of,8))},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),RT=(()=>{let e=class{constructor(e){this.document=e,this.theme$=new ii("material"),this.theme$.asObservable().subscribe((e=>{this.globalTheme=e})),this.init()}init(){let e=globalThis.window?.getComputedStyle(this.document.body).getPropertyValue("--ig-theme").trim();""!==e&&this.theme$.next(e)}getComponentTheme(e){return globalThis.window?.getComputedStyle(e.nativeElement).getPropertyValue("--theme").trim()}};return e.ɵfac=function(t){return new(t||e)(gr(of))},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),AT=["*"];function kT(e,t){1&e&&ap(0)}function OT(e,t){1&e&&fp(0),2&e&&yp(rp().iconRef.name)}function PT(e,t){1&e&&Lg(0,"div",0),2&e&&fg("innerHTML",rp().getSvg,Yd)}var FT=(()=>{let e=class{get elementClasses(){return`igx-icon ${Array.from(this._iconClasses).join(" ")} ${Array.from(this._userClasses).join(" ")}`.trim()}addIconClass(e){this._iconClasses.add(e)}clearIconClasses(){this._iconClasses.clear()}get getInactive(){return!this.active}constructor(e,t,i,n){this.el=e,this.iconService=t,this.themeService=i,this.ref=n,this._destroy$=new ei,this._userClasses=new Set,this._iconClasses=new Set,this.ariaHidden=!0,this.active=!0,this.family=this.iconService.defaultFamily.name,this.iconService.setRefsByTheme(this.themeService.globalTheme),this.iconService.iconLoaded.pipe(on((e=>e.name===this.name&&e.family===this.family)),mn(this._destroy$)).subscribe((()=>{this.setIcon(),this.ref.detectChanges()}))}ngOnInit(){this.setIcon()}ngOnChanges(){this.setIcon()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}get iconRef(){return this._iconRef}set iconRef(e){this._iconRef=e}get getFamily(){return this.iconRef.family}get getActive(){return this.active}get getName(){return this.iconRef.name}get getSvg(){let{name:e,family:t}=this.iconRef;return this.iconService.isSvgIconCached(e,t)?this.iconService.getSvgIcon(e,t):null}setIcon(){this.iconRef=this.iconService.getIconRef(this.name,this.family),this.clearIconClasses();let{name:e,type:t,className:i}=this.iconRef;e&&"font"===t&&this.addIconClass(e),this.addIconClass(i)}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(TT),Oc(RT),Oc(Pm))},e.ɵcmp=es({type:e,selectors:[["igx-icon"]],hostVars:5,hostBindings:function(e,t){2&e&&(tg("aria-hidden",t.ariaHidden),wg(t.elementClasses),xg("igx-icon--inactive",t.getInactive))},inputs:{family:"family",name:"name",active:[2,"active","active",Zm]},standalone:!0,features:[Vu,yo,Pp],ngContentSelectors:AT,decls:3,vars:2,consts:[[3,"innerHTML"]],template:function(e,t){if(1&e&&(op(),Xu(0,kT,1,0)(1,OT,1,1)(2,PT,1,1,"div",0)),2&e){let e;Fg(t.iconRef.name?-1:0),Ac(),Fg("liga"===(e=t.iconRef.type)?1:"svg"===e?2:-1)}},encapsulation:2}),e})(),VT=class{constructor(){this._currentResourceStrings={}}static instance(){return this._instance||(this._instance=new this)}changei18n(e){for(let t of Object.keys(e))this._currentResourceStrings[t]=e[t]}getCurrentResourceStrings(e){for(let t of Object.keys(e))this._currentResourceStrings[t]||(this._currentResourceStrings[t]=e[t]);return this._currentResourceStrings}};function MT(e){return VT.instance().getCurrentResourceStrings(e)}var NT=[[["igx-hint"],["","igxHint",""]],[["","igxLabel",""]],[["","igxInput",""]],[["igx-prefix"],["","igxPrefix",""]],[["igx-suffix"],["","igxSuffix",""]]],LT=["igx-hint, [igxHint]","[igxLabel]","[igxInput]","igx-prefix, [igxPrefix]","igx-suffix, [igxSuffix]"],HT=e=>({"igx-input-group__upload-button":e});function zT(e,t){1&e&&Gg(0)}function BT(e,t){if(1&e&&(Mg(0,"div",13),Xu(1,zT,1,0,"ng-container",14),Ng()),2&e){rp();let e=mp(24);Ac(),fg("ngTemplateOutlet",e)}}function GT(e,t){1&e&&ap(0,1)}function $T(e,t){1&e&&ap(0,2)}function WT(e,t){1&e&&ap(0,3)}function KT(e,t){if(1&e){let e=Wg();Mg(0,"igx-prefix",16)(1,"button",17),ep("click",(function(){return Uo(e),qo(rp(2).uploadButtonHandler())})),fp(2),Ng()()}if(2&e){let e=rp(2);Ac(),fg("disabled",e.disabled)("ngClass",Vp(3,HT,e.isTypeLine)),Ac(),xp(" ",e.resourceStrings.igx_input_upload_button," ")}}function jT(e,t){1&e&&Xu(0,KT,3,5,"igx-prefix",15),2&e&&fg("ngIf",rp().isFileType)}function UT(e,t){if(1&e&&(Mg(0,"div",19)(1,"span"),fp(2),Ng()()),2&e){let e=rp(2);fg("title",e.fileNames),Ac(2),yp(e.fileNames)}}function qT(e,t){1&e&&Xu(0,UT,3,2,"div",18),2&e&&fg("ngIf",rp().isFileType)}function YT(e,t){if(1&e){let e=Wg();Mg(0,"igx-suffix",21),ep("click",(function(){return Uo(e),qo(rp(2).clearValueHandler())}))("keydown.Enter",(function(){return Uo(e),qo(rp(2).clearValueHandler())})),Lg(1,"igx-icon",22),Ng()}}function XT(e,t){if(1&e&&Xu(0,YT,2,0,"igx-suffix",20),2&e){let e=rp();fg("ngIf",e.isFileType&&e.isFilled)}}function ZT(e,t){1&e&&ap(0,4)}function QT(e,t){1&e&&Gg(0)}function JT(e,t){1&e&&Gg(0)}function eR(e,t){1&e&&Gg(0)}function tR(e,t){1&e&&Gg(0)}function iR(e,t){1&e&&Gg(0)}function nR(e,t){1&e&&Gg(0)}function rR(e,t){1&e&&Gg(0)}function sR(e,t){1&e&&Lg(0,"div",30)}function oR(e,t){if(1&e&&(Mg(0,"div",23)(1,"div",24),Xu(2,QT,1,0,"ng-container",14)(3,JT,1,0,"ng-container",14),Ng(),zg(4),Mg(5,"div",25),Xu(6,eR,1,0,"ng-container",14),Ng(),Bg(),Mg(7,"div",26),Xu(8,tR,1,0,"ng-container",14)(9,iR,1,0,"ng-container",14),Ng(),Lg(10,"div",27),Mg(11,"div",28),Xu(12,nR,1,0,"ng-container",14)(13,rR,1,0,"ng-container",14),Ng(),Xu(14,sR,1,0,"div",29),Ng()),2&e){let e=rp(),t=mp(4),i=mp(6),n=mp(8),r=mp(10),s=mp(12),o=mp(14),a=mp(16);Ac(2),fg("ngTemplateOutlet",n),Ac(),fg("ngTemplateOutlet",r),Ac(3),fg("ngTemplateOutlet",t),Ac(2),fg("ngTemplateOutlet",i),Ac(),fg("ngTemplateOutlet",s),Ac(3),fg("ngTemplateOutlet",o),Ac(),fg("ngTemplateOutlet",a),Ac(),fg("ngIf",e.hasBorder)}}function aR(e,t){1&e&&Gg(0)}function lR(e,t){1&e&&Gg(0)}function dR(e,t){1&e&&Gg(0)}function cR(e,t){1&e&&Gg(0)}function hR(e,t){1&e&&Gg(0)}function uR(e,t){1&e&&Gg(0)}function gR(e,t){1&e&&Gg(0)}function pR(e,t){1&e&&Lg(0,"div",30)}function mR(e,t){if(1&e&&(Xu(0,aR,1,0,"ng-container",14),Mg(1,"div",23)(2,"div",24),Xu(3,lR,1,0,"ng-container",14)(4,dR,1,0,"ng-container",14),Ng(),Mg(5,"div",26),Xu(6,cR,1,0,"ng-container",14)(7,hR,1,0,"ng-container",14),Ng(),Mg(8,"div",28),Xu(9,uR,1,0,"ng-container",14)(10,gR,1,0,"ng-container",14),Ng(),Xu(11,pR,1,0,"div",29),Ng()),2&e){let e=rp(),t=mp(4),i=mp(6),n=mp(8),r=mp(10),s=mp(12),o=mp(14),a=mp(16);fg("ngTemplateOutlet",t),Ac(3),fg("ngTemplateOutlet",n),Ac(),fg("ngTemplateOutlet",r),Ac(2),fg("ngTemplateOutlet",i),Ac(),fg("ngTemplateOutlet",s),Ac(2),fg("ngTemplateOutlet",o),Ac(),fg("ngTemplateOutlet",a),Ac(),fg("ngIf",e.hasBorder)}}function fR(e,t){1&e&&Gg(0)}function vR(e,t){1&e&&Gg(0)}function yR(e,t){1&e&&Gg(0)}function xR(e,t){1&e&&Gg(0)}function wR(e,t){1&e&&Gg(0)}function _R(e,t){1&e&&Gg(0)}function CR(e,t){1&e&&Gg(0)}function SR(e,t){if(1&e&&(Xu(0,fR,1,0,"ng-container",14),Mg(1,"div",23)(2,"div",24),Xu(3,vR,1,0,"ng-container",14)(4,yR,1,0,"ng-container",14),Ng(),Xu(5,xR,1,0,"ng-container",14)(6,wR,1,0,"ng-container",14),Mg(7,"div",28),Xu(8,_R,1,0,"ng-container",14)(9,CR,1,0,"ng-container",14),Ng()()),2&e){rp();let e=mp(4),t=mp(6),i=mp(8),n=mp(10),r=mp(12),s=mp(14),o=mp(16);fg("ngTemplateOutlet",e),Ac(3),fg("ngTemplateOutlet",i),Ac(),fg("ngTemplateOutlet",n),Ac(),fg("ngTemplateOutlet",t),Ac(),fg("ngTemplateOutlet",r),Ac(2),fg("ngTemplateOutlet",s),Ac(),fg("ngTemplateOutlet",o)}}function bR(e,t){1&e&&Gg(0)}function DR(e,t){if(1&e&&(zg(0),Xu(1,bR,1,0,"ng-container",14),Bg()),2&e){rp(2);let e=mp(22);Ac(),fg("ngTemplateOutlet",e)}}function IR(e,t){1&e&&Gg(0)}function ER(e,t){if(1&e&&(zg(0),Xu(1,IR,1,0,"ng-container",14),Bg()),2&e){rp(2);let e=mp(20);Ac(),fg("ngTemplateOutlet",e)}}function TR(e,t){1&e&&Gg(0)}function RR(e,t){if(1&e&&(zg(0),Xu(1,TR,1,0,"ng-container",14),Bg()),2&e){rp(2);let e=mp(20);Ac(),fg("ngTemplateOutlet",e)}}function AR(e,t){1&e&&Gg(0)}function kR(e,t){if(1&e&&(zg(0),Xu(1,AR,1,0,"ng-container",14),Bg()),2&e){rp(2);let e=mp(18);Ac(),fg("ngTemplateOutlet",e)}}function OR(e,t){1&e&&(zg(0,31),Xu(1,DR,2,1,"ng-container",32)(2,ER,2,1,"ng-container",32)(3,RR,2,1,"ng-container",32)(4,kR,2,1,"ng-container",33),Bg()),2&e&&(fg("ngSwitch",rp().theme),Ac(),fg("ngSwitchCase","bootstrap"),Ac(),fg("ngSwitchCase","fluent"),Ac(),fg("ngSwitchCase","indigo"))}var PR=(()=>{let e=class{set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}get validClass(){return this.input.valid===gT.VALID}get invalidClass(){return this.input.valid===gT.INVALID}get isFilled(){return this._filled||this.input&&this.input.value}get textAreaClass(){return this.input.isTextArea}set type(e){this._type=e}get type(){return this._type||this._inputGroupType||"line"}set theme(e){this._theme=e}get theme(){return this._theme}constructor(e,t,i,n,r,s){this.element=e,this._inputGroupType=t,this.document=i,this.platform=n,this.cdr=r,this.themeService=s,this.defaultClass=!0,this.hasPlaceholder=!1,this.isRequired=!1,this.isFocused=!1,this.disabled=!1,this.suppressInputAutofocus=!1,this.hasWarning=!1,this._type=null,this._filled=!1,this._theme$=new ei,this._resourceStrings=MT(xT),this._theme=this.themeService.globalTheme,this._subscription=this._theme$.asObservable().subscribe((e=>{this._theme=e,this.cdr.detectChanges()}))}onClick(e){!this.isFocused&&e.target!==this.input.nativeElement&&!this.suppressInputAutofocus&&this.input.focus()}onPointerDown(e){this.isFocused&&e.target!==this.input.nativeElement&&e.preventDefault()}hintClickHandler(e){e.stopPropagation()}get hasHints(){return this.hints.length>0}get hasPrefixes(){return this._prefixes.length>0||this.isFileType}set prefixes(e){this._prefixes=e}get hasSuffixes(){return this._suffixes.length>0||this.isFileType&&this.isFilled}set suffixes(e){this._suffixes=e}get hasBorder(){return("line"===this.type||"box"===this.type)&&"material"===this._theme}get isTypeLine(){return"line"===this.type&&"material"===this._theme}get isTypeBox(){return"box"===this.type&&"material"===this._theme}uploadButtonHandler(){this.input.nativeElement.click()}clearValueHandler(){this.input.clear()}get isFileType(){return"file"===this.input.type}get fileNames(){return this.input.fileNames||this._resourceStrings.igx_input_file_placeholder}get isTypeBorder(){return"border"===this.type&&"material"===this._theme}get isTypeFluent(){return"fluent"===this._theme}get isTypeBootstrap(){return"bootstrap"===this._theme}get isTypeIndigo(){return"indigo"===this._theme}get isTypeSearch(){return"search"===this.type}get filled(){return this._filled}set filled(e){this._filled=e}ngAfterViewChecked(){let e=this.themeService.getComponentTheme(this.element);e&&(this._theme$.next(e),this.cdr.markForCheck())}ngOnDestroy(){this._subscription.unsubscribe()}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(bT,8),Oc(of),Oc(fC),Oc(Pm),Oc(RT))},e.ɵcmp=es({type:e,selectors:[["igx-input-group"]],contentQueries:function(e,t,i){if(1&e&&(hp(i,pT,7,pT),hp(i,cT,4,cT),hp(i,vT,5,vT),hp(i,yT,5,yT)),2&e){let e;gp(e=pp())&&(t.input=e.first),gp(e=pp())&&(t.hints=e),gp(e=pp())&&(t._prefixes=e),gp(e=pp())&&(t._suffixes=e)}},hostVars:38,hostBindings:function(e,t){1&e&&ep("click",(function(e){return t.onClick(e)}))("pointerdown",(function(e){return t.onPointerDown(e)})),2&e&&xg("igx-input-group",t.defaultClass)("igx-input-group--placeholder",t.hasPlaceholder)("igx-input-group--required",t.isRequired)("igx-input-group--focused",t.isFocused)("igx-input-group--disabled",t.disabled)("igx-input-group--warning",t.hasWarning)("igx-input-group--valid",t.validClass)("igx-input-group--invalid",t.invalidClass)("igx-input-group--filled",t.isFilled)("igx-input-group--textarea-group",t.textAreaClass)("igx-input-group--prefixed",t.hasPrefixes)("igx-input-group--suffixed",t.hasSuffixes)("igx-input-group--box",t.isTypeBox)("igx-input-group--file",t.isFileType)("igx-input-group--border",t.isTypeBorder)("igx-input-group--fluent",t.isTypeFluent)("igx-input-group--bootstrap",t.isTypeBootstrap)("igx-input-group--indigo",t.isTypeIndigo)("igx-input-group--search",t.isTypeSearch)},inputs:{resourceStrings:"resourceStrings",suppressInputAutofocus:[2,"suppressInputAutofocus","suppressInputAutofocus",Zm],type:"type",theme:"theme"},standalone:!0,features:[kp([{provide:hT,useExisting:e}]),Vu,Pp],ngContentSelectors:LT,decls:25,vars:2,consts:[["label",""],["input",""],["prefix",""],["uploadButton",""],["files",""],["clear",""],["suffix",""],["materialBundle",""],["fluentBundle",""],["bootstrapBundle",""],["bundle",""],["class","igx-input-group__wrapper",4,"ngIf","ngIfElse"],[1,"igx-input-group__hint",3,"click"],[1,"igx-input-group__wrapper"],[4,"ngTemplateOutlet"],["class","igx-input-group__upload-button",4,"ngIf"],[1,"igx-input-group__upload-button"],["igxButton","contained","type","button",3,"click","disabled","ngClass"],["class","igx-input-group__file-input",3,"title",4,"ngIf"],[1,"igx-input-group__file-input",3,"title"],["class","igx-input-group__clear-icon","title","clear files","tabindex","0",3,"click","keydown.Enter",4,"ngIf"],["title","clear files","tabindex","0",1,"igx-input-group__clear-icon",3,"click","keydown.Enter"],["family","default","name","input_clear"],[1,"igx-input-group__bundle"],[1,"igx-input-group__bundle-start"],[1,"igx-input-group__notch"],[1,"igx-input-group__bundle-main"],[1,"igx-input-group__filler"],[1,"igx-input-group__bundle-end"],["class","igx-input-group__line",4,"ngIf"],[1,"igx-input-group__line"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(e,t){if(1&e){let e=Wg();op(NT),Xu(0,BT,2,1,"div",11),Mg(1,"div",12),ep("click",(function(i){return Uo(e),qo(t.hintClickHandler(i))})),ap(2),Ng(),Xu(3,GT,1,0,"ng-template",null,0,nm)(5,$T,1,0,"ng-template",null,1,nm)(7,WT,1,0,"ng-template",null,2,nm)(9,jT,1,1,"ng-template",null,3,nm)(11,qT,1,1,"ng-template",null,4,nm)(13,XT,1,1,"ng-template",null,5,nm)(15,ZT,1,0,"ng-template",null,6,nm)(17,oR,15,8,"ng-template",null,7,nm)(19,mR,12,8,"ng-template",null,8,nm)(21,SR,10,7,"ng-template",null,9,nm)(23,OR,5,4,"ng-template",null,10,nm)}if(2&e){let e=mp(24);fg("ngIf",t.isTypeBox)("ngIfElse",e)}},dependencies:[cv,yv,vT,ST,av,yT,FT,pv,mv,fv],encapsulation:2}),e})(),FR="solid",VR="dashed",MR=0,NR=(()=>{let e=class{constructor(){this.id="igx-divider-"+MR++,this.role="separator",this.type=FR,this.middle=!1,this.vertical=!1,this._inset="0"}get isDashed(){return this.type===VR}set inset(e){this._inset=e}get inset(){return this._inset}get isSolid(){return this.type===FR}};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["igx-divider"]],hostVars:12,hostBindings:function(e,t){2&e&&(tg("id",t.id)("role",t.role),yg("--inset",t.inset),xg("igx-divider",t.type)("igx-divider--dashed",t.isDashed)("igx-divider--inset",t.middle)("igx-divider--vertical",t.vertical))},inputs:{id:"id",role:"role",type:"type",middle:[2,"middle","middle",Zm],vertical:[2,"vertical","vertical",Zm],inset:"inset"},standalone:!0,features:[Vu]}),e})(),LR=function(e){return e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT",e}(LR||{}),HR=function(e){return e[e.VERTICAL=0]="VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL",e[e.BOTH=2]="BOTH",e}(HR||{}),zR=class{constructor(e,t){this._pageX=e,this._pageY=t,this.pageX=parseFloat(e),this.pageY=parseFloat(t)}},BR=(()=>{let e=class{constructor(e){this.element=e,this.baseClass=!0,this.parentDragElement=null}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl))},e.ɵdir=ss({type:e,selectors:[["","igxDragHandle",""]],hostVars:2,hostBindings:function(e,t){2&e&&xg("igx-drag__handle",t.baseClass)},standalone:!0}),e})(),GR=(()=>{let e=class{constructor(e){this.element=e,this.baseClass=!0}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl))},e.ɵdir=ss({type:e,selectors:[["","igxDragIgnore",""]],hostVars:2,hostBindings:function(e,t){2&e&&xg("igx-drag__ignore",t.baseClass)},standalone:!0}),e})(),$R=(()=>{let e=class{set data(e){this._data=e}get data(){return this._data}get location(){return new zR(this.pageX,this.pageY)}get originLocation(){return new zR(this.baseOriginLeft,this.baseOriginTop)}get pointerEventsEnabled(){return typeof PointerEvent<"u"}get touchEventsEnabled(){return"ontouchstart"in window}get pageX(){return this.ghost&&this.ghostElement?this.ghostLeft:this.baseLeft+this.windowScrollLeft}get pageY(){return this.ghost&&this.ghostElement?this.ghostTop:this.baseTop+this.windowScrollTop}get baseLeft(){return this.element.nativeElement.getBoundingClientRect().left}get baseTop(){return this.element.nativeElement.getBoundingClientRect().top}get baseOriginLeft(){return this.baseLeft-this.getTransformX(this.element.nativeElement)}get baseOriginTop(){return this.baseTop-this.getTransformY(this.element.nativeElement)}set ghostLeft(e){if(this.ghostElement){let t=parseInt(document.defaultView.getComputedStyle(this.ghostElement)["margin-left"],10);this.ghostElement.style.left=e-t-this._ghostHostX+"px"}}get ghostLeft(){if(this.ghostElement)return parseInt(this.ghostElement.style.left,10)+this._ghostHostX}set ghostTop(e){if(this.ghostElement){let t=parseInt(document.defaultView.getComputedStyle(this.ghostElement)["margin-top"],10);this.ghostElement.style.top=e-t-this._ghostHostY+"px"}}get ghostTop(){if(this.ghostElement)return parseInt(this.ghostElement.style.top,10)+this._ghostHostY}get windowScrollTop(){return document.documentElement.scrollTop||window.scrollY}get windowScrollLeft(){return document.documentElement.scrollLeft||window.scrollX}get windowScrollHeight(){return document.documentElement.scrollHeight}get windowScrollWidth(){return document.documentElement.scrollWidth}set ghostOffsetX(e){this._offsetX=parseInt(e,10)}get ghostOffsetX(){return void 0!==this._offsetX?this._offsetX:this._defaultOffsetX}set ghostOffsetY(e){this._offsetY=parseInt(e,10)}get ghostOffsetY(){return void 0!==this._offsetY?this._offsetY:this._defaultOffsetY}constructor(e,t,i,n,r,s){this.cdr=e,this.element=t,this.viewContainer=i,this.zone=n,this.renderer=r,this.platformUtil=s,this.dragTolerance=5,this.dragDirection=HR.BOTH,this.ghost=!0,this.ghostClass="",this.ghostStyle={},this.scrollContainer=null,this.dragStart=new yl,this.dragMove=new yl,this.dragEnd=new yl,this.dragClick=new yl,this.ghostCreate=new yl,this.ghostDestroy=new yl,this.transitioned=new yl,this.baseClass=!0,this.selectDisabled=!1,this.defaultReturnDuration="0.5s",this.animInProgress=!1,this.ghostContext=null,this._startX=0,this._startY=0,this._lastX=0,this._lastY=0,this._dragStarted=!1,this._ghostHostX=0,this._ghostHostY=0,this._pointerDownId=null,this._clicked=!1,this._lastDropArea=null,this._destroy=new ei,this._removeOnDestroy=!0,this._scrollContainer=null,this._originalScrollContainerWidth=0,this._originalScrollContainerHeight=0,this._scrollContainerStep=5,this._scrollContainerStepMs=10,this._scrollContainerThreshold=25,this._containerScrollIntervalId=null}ngAfterContentInit(){(!this.dragHandles||!this.dragHandles.length)&&(this.selectDisabled=!0),this.zone.runOutsideAngular((()=>{this.platformUtil.isBrowser&&((this.dragHandles&&this.dragHandles.length?this.dragHandles.filter((e=>null===e.parentDragElement)).map((e=>(e.parentDragElement=this.element.nativeElement,e.element.nativeElement))):[this.element.nativeElement]).forEach((e=>{this.pointerEventsEnabled?(en(e,"pointerdown").pipe(mn(this._destroy)).subscribe((e=>this.onPointerDown(e))),en(e,"pointermove").pipe(vn((()=>rn(0,ui))),mn(this._destroy)).subscribe((e=>this.onPointerMove(e))),en(e,"pointerup").pipe(mn(this._destroy)).subscribe((e=>this.onPointerUp(e))),this.ghost||en(e,"lostpointercapture").pipe(mn(this._destroy)).subscribe((e=>this.onPointerLost(e)))):this.touchEventsEnabled?en(e,"touchstart").pipe(mn(this._destroy)).subscribe((e=>this.onPointerDown(e))):en(e,"mousedown").pipe(mn(this._destroy)).subscribe((e=>this.onPointerDown(e)))})),!this.pointerEventsEnabled&&this.touchEventsEnabled?(en(document.defaultView,"touchmove").pipe(vn((()=>rn(0,ui))),mn(this._destroy)).subscribe((e=>this.onPointerMove(e))),en(document.defaultView,"touchend").pipe(mn(this._destroy)).subscribe((e=>this.onPointerUp(e)))):this.pointerEventsEnabled||(en(document.defaultView,"mousemove").pipe(vn((()=>rn(0,ui))),mn(this._destroy)).subscribe((e=>this.onPointerMove(e))),en(document.defaultView,"mouseup").pipe(mn(this._destroy)).subscribe((e=>this.onPointerUp(e)))),this.element.nativeElement.addEventListener("transitionend",(e=>{this.onTransitionEnd(e)})))})),this.element.nativeElement.style.transitionDuration="0.0s"}ngOnDestroy(){this._destroy.next(!0),this._destroy.complete(),this.ghost&&this.ghostElement&&this._removeOnDestroy&&(this.ghostElement.parentNode.removeChild(this.ghostElement),this.ghostElement=null,this._dynamicGhostRef&&(this._dynamicGhostRef.destroy(),this._dynamicGhostRef=null)),this._containerScrollIntervalId&&(clearInterval(this._containerScrollIntervalId),this._containerScrollIntervalId=null)}setLocation(e){if(this.ghost&&this.ghostElement)this.ghostLeft=e.pageX+this.windowScrollLeft,this.ghostTop=e.pageY+this.windowScrollTop;else if(!this.ghost){let t=e.pageX-this.pageX,i=e.pageY-this.pageY,n=this.getTransformX(this.element.nativeElement),r=this.getTransformY(this.element.nativeElement);this.setTransformXY(n+t,r+i)}this._startX=this.baseLeft,this._startY=this.baseTop}transitionToOrigin(e,t){t&&t.pageX===this.baseOriginLeft&&t.pageY===this.baseOriginLeft||!t&&this.ghost&&!this.ghostElement||(t&&t.pageX!==this.pageX&&t.pageY!==this.pageY&&(this.ghost&&!this.ghostElement&&(this._startX=t.pageX,this._startY=t.pageY,this._ghostStartX=this._startX,this._ghostStartY=this._startY,this.createGhost(this._startX,this._startY)),this.setLocation(t)),this.animInProgress=!0,setTimeout((()=>{this.ghost?(this.ghostElement.style.transitionProperty="top, left",this.ghostElement.style.transitionDuration=e&&e.duration?e.duration+"s":this.defaultReturnDuration,this.ghostElement.style.transitionTimingFunction=e&&e.timingFunction?e.timingFunction:"",this.ghostElement.style.transitionDelay=e&&e.delay?e.delay+"s":"",this.setLocation(new zR(this.baseLeft,this.baseTop))):this.ghost||(this.element.nativeElement.style.transitionProperty="transform",this.element.nativeElement.style.transitionDuration=e&&e.duration?e.duration+"s":this.defaultReturnDuration,this.element.nativeElement.style.transitionTimingFunction=e&&e.timingFunction?e.timingFunction:"",this.element.nativeElement.style.transitionDelay=e&&e.delay?e.delay+"s":"",this._startX=this.baseLeft,this._startY=this.baseTop,this.setTransformXY(0,0))}),0))}transitionTo(e,t,i){i&&this.ghost&&!this.ghostElement?(this._startX=i.pageX,this._startY=i.pageY,this._ghostStartX=this._startX,this._ghostStartY=this._startY):!i||this.ghost&&!this.ghostElement?this.ghost&&!this.ghostElement&&(this._startX=this.baseLeft,this._startY=this.baseTop,this._ghostStartX=this._startX+this.windowScrollLeft,this._ghostStartY=this._startY+this.windowScrollTop):this.setLocation(i),this.ghost&&!this.ghostElement&&this.createGhost(this._startX,this._startY),this.animInProgress=!0,setTimeout((()=>{let i=this.ghost?this.ghostElement:this.element.nativeElement;if(i.style.transitionProperty=this.ghost&&this.ghostElement?"left, top":"transform",i.style.transitionDuration=t&&t.duration?t.duration+"s":this.defaultReturnDuration,i.style.transitionTimingFunction=t&&t.timingFunction?t.timingFunction:"",i.style.transitionDelay=t&&t.delay?t.delay+"s":"",e instanceof zR)this.setLocation(new zR(e.pageX,e.pageY));else{let t=e.nativeElement.getBoundingClientRect();this.setLocation(new zR(t.left-this.windowScrollLeft,t.top-this.windowScrollTop))}}),0)}onPointerDown(e){if(this.dragIgnoredElems.find((t=>t.element.nativeElement===e.target)))return;let t=this.dragHandles.find((t=>t.element.nativeElement===e.target)),i=t?t.element.nativeElement:e.target||this.element.nativeElement;if(this.pointerEventsEnabled&&i.isConnected)this._pointerDownId=e.pointerId,i.setPointerCapture(this._pointerDownId);else{if(!i.isConnected)return;i.focus(),e.preventDefault()}this._clicked=!0,this.pointerEventsEnabled||!this.touchEventsEnabled?(this._startX=e.pageX,this._startY=e.pageY):this.touchEventsEnabled&&(this._startX=e.touches[0].pageX,this._startY=e.touches[0].pageY),this._defaultOffsetX=this.baseLeft-this._startX+this.windowScrollLeft,this._defaultOffsetY=this.baseTop-this._startY+this.windowScrollTop,this._ghostStartX=this._startX+this.ghostOffsetX,this._ghostStartY=this._startY+this.ghostOffsetY,this._lastX=this._startX,this._lastY=this._startY}onPointerMove(e){if(this._clicked){let t,i;this.pointerEventsEnabled||!this.touchEventsEnabled?(t=e.pageX,i=e.pageY):this.touchEventsEnabled&&(t=e.touches[0].pageX,i=e.touches[0].pageY,e.preventDefault());let n=t-this._startX,r=i-this._startY;if(!this._dragStarted&&(Math.abs(n)>this.dragTolerance||Math.abs(r)>this.dragTolerance)){let s={originalEvent:e,owner:this,startX:t-n,startY:i-r,pageX:t,pageY:i,cancel:!1};if(this.zone.run((()=>{this.dragStart.emit(s)})),s.cancel)return;if(this._dragStarted=!0,this.ghost)this.createGhost(t,i);else if(void 0!==this._offsetX||void 0!==this._offsetY){let e=(void 0!==this._offsetX?this._offsetX-this._defaultOffsetX:0)+this.getTransformX(this.element.nativeElement),t=(void 0!==this._offsetY?this._offsetY-this._defaultOffsetY:0)+this.getTransformY(this.element.nativeElement);this.setTransformXY(e,t)}}else if(!this._dragStarted)return;let s={originalEvent:e,owner:this,startX:this._startX,startY:this._startY,pageX:this._lastX,pageY:this._lastY,nextPageX:t,nextPageY:i,cancel:!1};this.dragMove.emit(s);let o=s.nextPageX,a=s.nextPageY;if(!s.cancel){if(this.onScrollContainer(),this.ghost){let e=this.dragDirection===HR.VERTICAL?0:o-this._startX,t=this.dragDirection===HR.HORIZONTAL?0:a-this._startY;this.ghostLeft=this._ghostStartX+e,this.ghostTop=this._ghostStartY+t}else{let e=this.dragDirection===HR.VERTICAL?0:o-this._lastX,t=this.dragDirection===HR.HORIZONTAL?0:a-this._lastY,i=this.getTransformX(this.element.nativeElement)+e,n=this.getTransformY(this.element.nativeElement)+t;this.setTransformXY(i,n)}this.dispatchDragEvents(t,i,e)}this._lastX=o,this._lastY=a}}onPointerUp(e){if(!this._clicked)return;let t,i;this.pointerEventsEnabled||!this.touchEventsEnabled?(t=e.pageX,i=e.pageY):this.touchEventsEnabled&&(t=e.touches[0].pageX,i=e.touches[0].pageY,e.preventDefault());let n={originalEvent:e,owner:this,startX:this._startX,startY:this._startY,pageX:t,pageY:i};this._pointerDownId=null,this._clicked=!1,this._dragStarted?(this._lastDropArea&&this._lastDropArea!==this.element.nativeElement&&this.dispatchDropEvent(e.pageX,e.pageY,e),this.zone.run((()=>{this.dragEnd.emit(n)})),this.animInProgress||this.onTransitionEnd(null)):this.zone.run((()=>{this.dragClick.emit(n)})),this._containerScrollIntervalId&&(clearInterval(this._containerScrollIntervalId),this._containerScrollIntervalId=null)}onPointerLost(e){if(!this._clicked)return;if(this._pointerDownId&&this.ghostElement&&this._dynamicGhostRef&&!this._dynamicGhostRef.destroyed){let e=!1;if(this.ghostHost&&!Array.from(this.ghostHost.children).includes(this.ghostElement)?(e=!0,this.ghostHost.appendChild(this.ghostElement)):!this.ghostHost&&!Array.from(document.body.children).includes(this.ghostElement)&&(e=!0,document.body.appendChild(this.ghostElement)),e)return void this.ghostElement.setPointerCapture(this._pointerDownId)}let t={originalEvent:e,owner:this,startX:this._startX,startY:this._startY,pageX:e.pageX,pageY:e.pageY};this._pointerDownId=null,this._clicked=!1,this._dragStarted&&(this.zone.run((()=>{this.dragEnd.emit(t)})),this.animInProgress||this.onTransitionEnd(null))}onTransitionEnd(e){if((this._dragStarted||this.animInProgress)&&!this._clicked){if(this.ghost&&this.ghostElement){this._ghostStartX=this.baseLeft+this.windowScrollLeft,this._ghostStartY=this.baseTop+this.windowScrollTop;let e={owner:this,ghostElement:this.ghostElement,cancel:!1};if(this.ghostDestroy.emit(e),e.cancel)return;this.ghostElement.remove(),this.ghostElement=null,this._dynamicGhostRef&&(this._dynamicGhostRef.destroy(),this._dynamicGhostRef=null)}else this.ghost||(this.element.nativeElement.style.transitionProperty="",this.element.nativeElement.style.transitionDuration="0.0s",this.element.nativeElement.style.transitionTimingFunction="",this.element.nativeElement.style.transitionDelay="");this.animInProgress=!1,this._dragStarted=!1,this.zone.run((()=>{this.transitioned.emit({originalEvent:e,owner:this,startX:this._startX,startY:this._startY,pageX:this._startX,pageY:this._startY})}))}}createGhost(e,t,i=null){if(!this.ghost)return;this.ghostTemplate?(this.zone.run((()=>{this._dynamicGhostRef=this.viewContainer.createEmbeddedView(this.ghostTemplate,this.ghostContext)})),"contents"===this._dynamicGhostRef.rootNodes[0].style.display&&(this._dynamicGhostRef.rootNodes[0].style.display="block"),this.ghostElement=this._dynamicGhostRef.rootNodes[0]):this.ghostElement=i?i.cloneNode(!0):this.element.nativeElement.cloneNode(!0);let n=e-this._startX,r=t-this._startY;this._ghostHostX=this.getGhostHostBaseOffsetX(),this._ghostHostY=this.getGhostHostBaseOffsetY(),this.ghostElement.style.transitionDuration="0.0s",this.ghostElement.style.position="absolute",this.ghostClass&&this.ghostElement.classList.add(this.ghostClass),this.ghostStyle&&Object.entries(this.ghostStyle).map((([e,t])=>{this.renderer.setStyle(this.ghostElement,e,t,ic.DashCase)}));let s={owner:this,ghostElement:this.ghostElement,cancel:!1};if(this.ghostCreate.emit(s),s.cancel)return this.ghostElement=null,void(this.ghostTemplate&&this._dynamicGhostRef&&this._dynamicGhostRef.destroy());this.ghostHost?this.ghostHost.appendChild(this.ghostElement):document.body.appendChild(this.ghostElement);let o=parseInt(document.defaultView.getComputedStyle(this.ghostElement)["margin-left"],10),a=parseInt(document.defaultView.getComputedStyle(this.ghostElement)["margin-top"],10);this.ghostElement.style.left=this._ghostStartX-o+n-this._ghostHostX+"px",this.ghostElement.style.top=this._ghostStartY-a+r-this._ghostHostY+"px",this.pointerEventsEnabled&&(null!==this._pointerDownId&&this.ghostElement.setPointerCapture(this._pointerDownId),this.ghostElement.addEventListener("pointermove",(e=>{this.onPointerMove(e)})),this.ghostElement.addEventListener("pointerup",(e=>{this.onPointerUp(e)})),this.ghostElement.addEventListener("lostpointercapture",(e=>{this.onPointerLost(e)}))),this.ghostElement.addEventListener("transitionend",(e=>{this.onTransitionEnd(e)})),this.cdr.detectChanges()}dispatchDragEvents(e,t,i){let n,r={startX:this._startX,startY:this._startY,pageX:e,pageY:t,owner:this,originalEvent:i},s=this.getElementsAtPoint(e,t),o=[];for(let i of s)i?.shadowRoot?o=o.concat(this.getFromShadowRoot(i,e,t,s)):-1===o.indexOf(i)&&o.push(i);for(let e of o)if("true"===e.getAttribute("droppable")&&e!==this.ghostElement&&e!==this.element.nativeElement){n=e;break}if(n&&(!this._lastDropArea||this._lastDropArea&&this._lastDropArea!==n))this._lastDropArea&&this.dispatchEvent(this._lastDropArea,"igxDragLeave",r),this._lastDropArea=n,this.dispatchEvent(this._lastDropArea,"igxDragEnter",r);else if(!n&&this._lastDropArea)return this.dispatchEvent(this._lastDropArea,"igxDragLeave",r),void(this._lastDropArea=null);n&&this.dispatchEvent(n,"igxDragOver",r)}getFromShadowRoot(e,t,i,n){let r=e.shadowRoot.elementsFromPoint(t,i),s=r.filter((e=>-1===n.indexOf(e))),o=[];for(let n of s)n?.shadowRoot&&n.shadowRoot!==e.shadowRoot&&(o=o.concat(this.getFromShadowRoot(n,t,i,r))),o.push(n);return o}dispatchDropEvent(e,t,i){let n={startX:this._startX,startY:this._startY,pageX:e,pageY:t,owner:this,originalEvent:i};this.dispatchEvent(this._lastDropArea,"igxDrop",n),this.dispatchEvent(this._lastDropArea,"igxDragLeave",n),this._lastDropArea=null}getElementsAtPoint(e,t){let i=e-window.pageXOffset,n=t-window.pageYOffset;if(document.msElementsFromPoint){let e=document.msElementsFromPoint(i,n);return null===e?[]:e}return document.elementsFromPoint(i,n)}dispatchEvent(e,t,i){e.dispatchEvent(new CustomEvent(t,{detail:i}))}getTransformX(e){let t=0;if(e.style.transform){let i=e.style.transform,n=i?i.match(/-?[\d\.]+/g):void 0;t=n?Number(n[1]):0}return t}getTransformY(e){let t=0;if(e.style.transform){let i=e.style.transform,n=i?i.match(/-?[\d\.]+/g):void 0;t=n?Number(n[2]):0}return t}setTransformXY(e,t){this.element.nativeElement.style.transform=0!==e||0!==t?"translate3d("+e+"px, "+t+"px, 0px)":""}getGhostHostBaseOffsetX(){if(!this.ghostHost)return 0;let e=document.defaultView.getComputedStyle(this.ghostHost).getPropertyValue("position");return"static"===e&&this.ghostHost.offsetParent&&this.ghostHost.offsetParent===document.body?0:"static"===e&&this.ghostHost.offsetParent?this.ghostHost.offsetParent.getBoundingClientRect().left+this.windowScrollLeft:this.ghostHost.getBoundingClientRect().left+this.windowScrollLeft}getGhostHostBaseOffsetY(){if(!this.ghostHost)return 0;let e=document.defaultView.getComputedStyle(this.ghostHost).getPropertyValue("position");return"static"===e&&this.ghostHost.offsetParent&&this.ghostHost.offsetParent===document.body?0:"static"===e&&this.ghostHost.offsetParent?this.ghostHost.offsetParent.getBoundingClientRect().top+this.windowScrollTop:this.ghostHost.getBoundingClientRect().top+this.windowScrollTop}getContainerScrollDirection(){let e=this.scrollContainer?this.scrollContainer.getBoundingClientRect():null,t=this.scrollContainer?this.scrollContainer.scrollLeft>0:this.windowScrollLeft>0,i=this.scrollContainer?this.scrollContainer.scrollTop>0:this.windowScrollTop>0,n=(this.scrollContainer?e.top:0)+this.windowScrollTop+this._scrollContainerThreshold,r=this.ghost&&this.ghostElement?this.ghostElement.offsetHeight:this.element.nativeElement.offsetHeight,s=(this.scrollContainer?e.bottom:window.innerHeight)+this.windowScrollTop-this._scrollContainerThreshold-r,o=(this.scrollContainer?e.left:0)+this.windowScrollLeft+this._scrollContainerThreshold,a=this.ghost&&this.ghostElement?this.ghostElement.offsetWidth:this.element.nativeElement.offsetWidth,l=(this.scrollContainer?e.right:window.innerWidth)+this.windowScrollLeft-this._scrollContainerThreshold-a;return this.pageY<=n&&i?LR.UP:this.pageY>s?LR.DOWN:this.pageX<o&&t?LR.LEFT:this.pageX>l?LR.RIGHT:null}onScrollContainerStep(e){ui.schedule((()=>{let t=e==LR.LEFT?-1:e==LR.RIGHT?1:0,i=e==LR.UP?-1:e==LR.DOWN?1:0;if(this.scrollContainer){let e=this._originalScrollContainerWidth-this.scrollContainer.clientWidth,n=this._originalScrollContainerHeight-this.scrollContainer.clientHeight;t=this.scrollContainer.scrollLeft<=0&&t<0||this.scrollContainer.scrollLeft>=e&&t>0?0:t,i=this.scrollContainer.scrollTop<=0&&i<0||this.scrollContainer.scrollTop>=n&&i>0?0:i}else{let e=this._originalScrollContainerWidth-document.documentElement.clientWidth,n=this._originalScrollContainerHeight-document.documentElement.clientHeight;t=this.windowScrollLeft<=0&&t<0||this.windowScrollLeft>=e&&t>0?0:t,i=this.windowScrollTop<=0&&i<0||this.windowScrollTop>=n&&i>0?0:i}let n=t*this._scrollContainerStep,r=i*this._scrollContainerStep;if(this.scrollContainer?(this.scrollContainer.scrollLeft+=n,this.scrollContainer.scrollTop+=r):window.scrollBy(n,r),this.ghost&&!this.scrollContainer)this.ghostLeft+=n,this.ghostTop+=r;else if(!this.ghost){let e=this.getTransformX(this.element.nativeElement)+n,t=this.getTransformY(this.element.nativeElement)+r;this.setTransformXY(e,t),this.scrollContainer||(this._lastX+=n,this._lastY+=r)}}))}onScrollContainer(){let e=this.getContainerScrollDirection();null==e||this._containerScrollIntervalId?null==e&&this._containerScrollIntervalId&&(clearInterval(this._containerScrollIntervalId),this._containerScrollIntervalId=null):(this._originalScrollContainerWidth=this.scrollContainer?this.scrollContainer.scrollWidth:this.windowScrollWidth,this._originalScrollContainerHeight=this.scrollContainer?this.scrollContainer.scrollHeight:this.windowScrollHeight,this._containerScrollIntervalId=setInterval((()=>this.onScrollContainerStep(e)),this._scrollContainerStepMs))}};return e.ɵfac=function(t){return new(t||e)(Oc(Pm),Oc(Nl),Oc(iu),Oc(Dl),Oc(qh),Oc(fC))},e.ɵdir=ss({type:e,selectors:[["","igxDrag",""]],contentQueries:function(e,t,i){if(1&e&&(hp(i,BR,5),hp(i,GR,5)),2&e){let e;gp(e=pp())&&(t.dragHandles=e),gp(e=pp())&&(t.dragIgnoredElems=e)}},hostVars:4,hostBindings:function(e,t){2&e&&xg("igx-drag",t.baseClass)("igx-drag--select-disabled",t.selectDisabled)},inputs:{data:[0,"igxDrag","data"],dragTolerance:"dragTolerance",dragDirection:"dragDirection",dragChannel:"dragChannel",ghost:[2,"ghost","ghost",Zm],ghostClass:"ghostClass",ghostStyle:"ghostStyle",ghostTemplate:"ghostTemplate",ghostHost:"ghostHost",scrollContainer:"scrollContainer",ghostOffsetX:"ghostOffsetX",ghostOffsetY:"ghostOffsetY"},outputs:{dragStart:"dragStart",dragMove:"dragMove",dragEnd:"dragEnd",dragClick:"dragClick",ghostCreate:"ghostCreate",ghostDestroy:"ghostDestroy",transitioned:"transitioned"},exportAs:["drag"],standalone:!0,features:[Vu]}),e})(),WR=(()=>{let e=class{set data(e){this._data=e}get data(){return this._data}set dropStrategy(e){this._dropStrategy=new e(this._renderer)}get dropStrategy(){return this._dropStrategy}constructor(e,t,i){this.element=e,this._renderer=t,this._zone=i,this.enter=new yl,this.over=new yl,this.leave=new yl,this.dropped=new yl,this.droppable=!0,this.dragover=!1,this._destroy=new ei,this._dropStrategy=new class{dropAction(e,t,i){}}}onDragDrop(e){if(!this.isDragLinked(e.detail.owner))return;let t=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),i=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),n=e.detail.pageX-t,r=e.detail.pageY-i,s={owner:this,originalEvent:e.detail.originalEvent,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:n,offsetY:r,cancel:!1};if(this._zone.run((()=>{this.dropped.emit(s)})),this._dropStrategy&&!s.cancel){let t=e.detail.owner.getElementsAtPoint(e.detail.pageX,e.detail.pageY),i=this.getInsertIndexAt(e.detail.owner,t);this._dropStrategy.dropAction(e.detail.owner,this,i)}}ngOnInit(){this._zone.runOutsideAngular((()=>{en(this.element.nativeElement,"igxDragEnter").pipe(mn(this._destroy)).subscribe((e=>this.onDragEnter(e))),en(this.element.nativeElement,"igxDragLeave").pipe(mn(this._destroy)).subscribe((e=>this.onDragLeave(e))),en(this.element.nativeElement,"igxDragOver").pipe(mn(this._destroy)).subscribe((e=>this.onDragOver(e)))}))}ngOnDestroy(){this._destroy.next(!0),this._destroy.complete()}onDragOver(e){let t=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),i=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),n=e.detail.pageX-t,r=e.detail.pageY-i,s={originalEvent:e.detail.originalEvent,owner:this,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:n,offsetY:r};this.over.emit(s)}onDragEnter(e){if(!this.isDragLinked(e.detail.owner))return;this.dragover=!0;let t=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),i=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),n=e.detail.pageX-t,r=e.detail.pageY-i,s={originalEvent:e.detail.originalEvent,owner:this,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:n,offsetY:r};this._zone.run((()=>{this.enter.emit(s)}))}onDragLeave(e){if(!this.isDragLinked(e.detail.owner))return;this.dragover=!1;let t=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),i=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),n=e.detail.pageX-t,r=e.detail.pageY-i,s={originalEvent:e.detail.originalEvent,owner:this,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:n,offsetY:r};this._zone.run((()=>{this.leave.emit(s)}))}getWindowScrollTop(){return window.scrollY?window.scrollY:window.pageYOffset?window.pageYOffset:0}getWindowScrollLeft(){return window.scrollX?window.scrollX:window.pageXOffset?window.pageXOffset:0}isDragLinked(e){let t=e.dragChannel instanceof Array,i=this.dropChannel instanceof Array;if(!t&&!i)return this.dropChannel===e.dragChannel;if(!t&&i){let t=this.dropChannel;for(let i of t)if(i===e.dragChannel)return!0}else if(t&&!i){let t=e.dragChannel;for(let e of t)if(e===this.dropChannel)return!0}else{let t=e.dragChannel,i=this.dropChannel;for(let e of t)for(let t of i)if(e===t)return!0}return!1}getInsertIndexAt(e,t){let i=-1,n=Array.prototype.slice.call(this.element.nativeElement.children);if(!n.length)return i;let r=0,s=null;for(;!s&&r<t.length;)t[r].parentElement===this.element.nativeElement&&(s=t[r]),r++;let o=n.indexOf(e.element.nativeElement);return i=n.indexOf(s),-1!==o&&o<i&&i++,i}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(qh),Oc(Dl))},e.ɵdir=ss({type:e,selectors:[["","igxDrop",""]],hostVars:3,hostBindings:function(e,t){1&e&&ep("igxDrop",(function(e){return t.onDragDrop(e)})),2&e&&(tg("droppable",t.droppable),xg("dragOver",t.dragover))},inputs:{data:[0,"igxDrop","data"],dropChannel:"dropChannel",dropStrategy:"dropStrategy"},outputs:{enter:"enter",over:"over",leave:"leave",dropped:"dropped"},exportAs:["drop"],standalone:!0}),e})(),KR=new Gn("EditorProvider"),jR=(()=>{let e=class{get focused(){return this.focusState}set focused(e){this.focusState=e,this.trigger()}get nativeElement(){return this.comp&&this.comp[0]&&this.comp[0].getEditElement?this.comp[0].getEditElement():this.control&&this.control[0]&&this.control[0].getEditElement?this.control[0].getEditElement():this.element.nativeElement}constructor(e,t,i){this.element=e,this.comp=t,this.control=i,this.focusState=!0}trigger(){this.focusState&&requestAnimationFrame((()=>this.nativeElement.focus({preventScroll:!0})))}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(Ny,10),Oc(KR,10))},e.ɵdir=ss({type:e,selectors:[["","igxFocus",""]],inputs:{focused:[2,"igxFocus","focused",Zm]},exportAs:["igxFocus"],standalone:!0,features:[Vu]}),e})(),UR=(()=>{let e=class{constructor(e,t){this.element=e,this._zone=t,this.wheelStep=50,this.inertiaStep=1.5,this.smoothingStep=1.5,this.smoothingDuration=.5,this.swipeToleranceX=20,this.inertiaDeltaY=3,this.inertiaDeltaX=2,this.inertiaDuration=.5,this._savedSpeedsX=[],this.baseDeltaMultiplier=1/120,this.firefoxDeltaMultiplier=1/30}ngOnInit(){this._zone.runOutsideAngular((()=>{if(this.parentElement=this.element.nativeElement.parentElement||this.element.nativeElement.parentNode,!this.parentElement)return;let e=this.parentElement;e.addEventListener("wheel",this.onWheel.bind(this)),e.addEventListener("touchstart",this.onTouchStart.bind(this)),e.addEventListener("touchmove",this.onTouchMove.bind(this)),e.addEventListener("touchend",this.onTouchEnd.bind(this))}))}ngOnDestroy(){this._zone.runOutsideAngular((()=>{let e=this.parentElement;e&&(e.removeEventListener("wheel",this.onWheel),e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("touchmove",this.onTouchMove),e.removeEventListener("touchend",this.onTouchEnd))}))}onWheel(e){if(!this.IgxScrollInertiaScrollContainer||e.ctrlKey)return;let t,i,n=this.wheelStep,r=1/this.wheelStep,s=0!==this.smoothingDuration;if(this._startX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._startY=this.IgxScrollInertiaScrollContainer.scrollTop,e.wheelDeltaX)t=-e.wheelDeltaX*this.baseDeltaMultiplier,-r<t&&t<r&&(t=Math.sign(t)*r);else if(e.deltaX){let i=e.deltaX*(0===e.deltaMode?this.firefoxDeltaMultiplier:1);t=this.calcAxisCoords(i,-1,1)}if(e.wheelDeltaY)i=-e.wheelDeltaY*this.baseDeltaMultiplier,-r<i&&i<r&&(i=Math.sign(i)*r);else if(e.deltaY){let t=e.deltaY*(0===e.deltaMode?this.firefoxDeltaMultiplier:1);i=this.calcAxisCoords(t,-1,1)}if(!e.composedPath||!this.didChildScroll(e,t,i))if(t&&"horizontal"===this.IgxScrollInertiaDirection){let i=this._startX+t*n;s?this._smoothWheelScroll(t):this._scrollToX(i);let r=parseInt(this.IgxScrollInertiaScrollContainer.children[0].style.width,10);0<i&&i<r&&e.preventDefault()}else if(e.shiftKey&&i&&"horizontal"===this.IgxScrollInertiaDirection)if(s)this._smoothWheelScroll(i);else{let e=this._startX+i*n;this._scrollToX(e)}else if(!e.shiftKey&&i&&"vertical"===this.IgxScrollInertiaDirection){let t=this._startY+i*n;s?this._smoothWheelScroll(i):this._scrollToY(t),this.preventParentScroll(e,!0,t)}}preventParentScroll(e,t,i=0){let n=0===i?this.IgxScrollInertiaScrollContainer.scrollTop:i,r=this.IgxScrollInertiaScrollContainer.children[0].scrollHeight-this.IgxScrollInertiaScrollContainer.offsetHeight;0<n&&n<r&&(t&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())}didChildScroll(e,t,i){let n=e.composedPath(),r=0;for(;r<n.length&&"igx-display-container"!==n[r].localName;){let e=n[r++];if(e.scrollHeight>e.clientHeight){let t=window.getComputedStyle(e)["overflow-y"];if(("auto"===t||"scroll"===t)&&(i>0&&e.scrollHeight-Math.abs(Math.round(e.scrollTop))!==e.clientHeight||i<0&&0!==e.scrollTop))return!0}if(e.scrollWidth>e.clientWidth){let i=window.getComputedStyle(e)["overflow-x"];if(("auto"===i||"scroll"===i)&&(t>0&&e.scrollWidth-Math.abs(Math.round(e.scrollLeft))!==e.clientWidth||t<0&&0!==e.scrollLeft))return!0}}return!1}onTouchStart(e){if(!this.IgxScrollInertiaScrollContainer)return!1;cancelAnimationFrame(this._touchInertiaAnimID);let t=e.touches[0];this._startX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._startY=this.IgxScrollInertiaScrollContainer.scrollTop,this._touchStartX=t.pageX,this._touchStartY=t.pageY,this._lastTouchEnd=(new Date).getTime(),this._lastTouchX=t.pageX,this._lastTouchY=t.pageY,this._savedSpeedsX=[],this._savedSpeedsY=[],this._totalMovedX=0,this._offsetRecorded=!1,this._offsetDirection=0,"vertical"===this.IgxScrollInertiaDirection&&this.preventParentScroll(e,!1)}onTouchMove(e){if(!this.IgxScrollInertiaScrollContainer)return;let t=e.touches[0],i=this._startX+(this._touchStartX-t.pageX)*Math.sign(this.inertiaStep),n=this._startY+(this._touchStartY-t.pageY)*Math.sign(this.inertiaStep),r=(new Date).getTime()-this._lastTouchEnd;if(0!==r&&r<100){let e=(this._lastTouchX-t.pageX)/r,i=(this._lastTouchY-t.pageY)/r;this._savedSpeedsX.length<5||this._savedSpeedsX.shift(),this._savedSpeedsX.push(e),this._savedSpeedsY.length<5||this._savedSpeedsY.shift(),this._savedSpeedsY.push(i)}this._lastTouchEnd=(new Date).getTime(),this._lastMovedX=this._lastTouchX-t.pageX,this._lastMovedY=this._lastTouchY-t.pageY,this._lastTouchX=t.pageX,this._lastTouchY=t.pageY,this._totalMovedX+=this._lastMovedX,Math.abs(this._totalMovedX)<this.swipeToleranceX&&!this._offsetRecorded?this._scrollTo(this._startX,n):(this._offsetRecorded||(this._offsetDirection=Math.sign(i-this._startX),this._offsetRecorded=!0),this._scrollTo(i-this._offsetDirection*this.swipeToleranceX,n)),"vertical"===this.IgxScrollInertiaDirection&&this.preventParentScroll(e,!0)}onTouchEnd(e){let t=0,i=0;for(let e=0;e<this._savedSpeedsX.length;e++)t+=this._savedSpeedsX[e],i+=this._savedSpeedsY[e];t=this._savedSpeedsX.length?t/this._savedSpeedsX.length:0,i=this._savedSpeedsX.length?i/this._savedSpeedsY.length:0,(Math.abs(t)>.1||Math.abs(i)>.1)&&(Math.abs(this._lastMovedX)>2||Math.abs(this._lastMovedY)>2)&&this._inertiaInit(t,i),"vertical"===this.IgxScrollInertiaDirection&&this.preventParentScroll(e,!1)}_smoothWheelScroll(e){this._nextY=this.IgxScrollInertiaScrollContainer.scrollTop,this._nextX=this.IgxScrollInertiaScrollContainer.scrollLeft;let t=-1,i=null,n=()=>{if(t>1)return void cancelAnimationFrame(i);let r=(-3*t*t+3)*e*2*this.smoothingStep;"vertical"===this.IgxScrollInertiaDirection?(this._nextY+=r,this._scrollToY(this._nextY)):(this._nextX+=r,this._scrollToX(this._nextX)),t+=1/this.smoothingDuration*.08,i=requestAnimationFrame(n)};i=requestAnimationFrame(n)}_inertiaInit(e,t){let i=this.inertiaStep,n=this.inertiaDuration,r=0;this._nextX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._nextY=this.IgxScrollInertiaScrollContainer.scrollTop;let s=()=>{r>6?cancelAnimationFrame(this._touchInertiaAnimID):(Math.abs(e),Math.abs(t),r+=.05/(1*n),r<=1?(Math.abs(t)<=Math.abs(e)*this.inertiaDeltaY&&(this._nextX+=1*e*15*i),Math.abs(t)>=Math.abs(e)*this.inertiaDeltaX&&(this._nextY+=1*t*15*i)):(Math.abs(t)<=Math.abs(e)*this.inertiaDeltaY&&(this._nextX+=Math.abs(2/(r+.55)-.3)*e*15*i),Math.abs(t)>=Math.abs(e)*this.inertiaDeltaX&&(this._nextY+=Math.abs(2/(r+.55)-.3)*t*15*i)),this._scrollTo(this._nextX,this._nextY),this._touchInertiaAnimID=requestAnimationFrame(s))};this._touchInertiaAnimID=requestAnimationFrame(s)}calcAxisCoords(e,t,i){return void 0===e||e<t?e=t:e>i&&(e=i),e}_scrollTo(e,t){return{x:this._scrollToX(e),y:this._scrollToY(t)}}_scrollToX(e){this.IgxScrollInertiaScrollContainer.scrollLeft=e}_scrollToY(e){this.IgxScrollInertiaScrollContainer.scrollTop=e}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(Dl))},e.ɵdir=ss({type:e,selectors:[["","igxScrollInertia",""]],inputs:{IgxScrollInertiaDirection:"IgxScrollInertiaDirection",IgxScrollInertiaScrollContainer:"IgxScrollInertiaScrollContainer",wheelStep:"wheelStep",inertiaStep:"inertiaStep",smoothingStep:"smoothingStep",smoothingDuration:"smoothingDuration",swipeToleranceX:"swipeToleranceX",inertiaDeltaY:"inertiaDeltaY",inertiaDeltaX:"inertiaDeltaX",inertiaDuration:"inertiaDuration"},standalone:!0}),e})(),qR=["display_container"];function YR(e,t){}var XR=(()=>{let e=class{constructor(e,t){this.cdr=e,this._viewContainer=t,this.cssClass="igx-display-container",this.notVirtual=!0}};return e.ɵfac=function(t){return new(t||e)(Oc(Pm),Oc(iu))},e.ɵcmp=es({type:e,selectors:[["igx-display-container"]],viewQuery:function(e,t){if(1&e&&(up(qR,7,iu),up(qR,7,UR)),2&e){let e;gp(e=pp())&&(t._vcr=e.first),gp(e=pp())&&(t._scrollInertia=e.first)}},hostVars:4,hostBindings:function(e,t){2&e&&(wg(t.cssClass),xg("igx-display-container--inactive",t.notVirtual))},standalone:!0,features:[Pp],decls:2,vars:2,consts:[["display_container",""],["igxScrollInertia","",3,"IgxScrollInertiaScrollContainer","IgxScrollInertiaDirection"]],template:function(e,t){1&e&&Xu(0,YR,0,0,"ng-template",1,0,nm),2&e&&fg("IgxScrollInertiaScrollContainer",t.scrollContainer)("IgxScrollInertiaDirection",t.scrollDirection)},dependencies:[UR],encapsulation:2}),e})(),ZR=(()=>{let e=class{constructor(e,t,i,n,r){this.elementRef=e,this.cdr=t,this._zone=i,this.document=n,this.platformUtil=r,this.scrollAmount=0,this._size=0,this.destroy$=new ei,this._afterViewInit=!1,this._detached=!1,this._scrollNativeSize=this.calculateScrollNativeSize()}onScroll(e){this.scrollAmount=e.target.scrollTop||e.target.scrollLeft}ngAfterViewInit(){this._afterViewInit=!0,this.platformUtil.isBrowser&&this._zone.runOutsideAngular((()=>{IC(this.nativeElement).pipe(yn(0),mn(this.destroy$)).subscribe((e=>this.handleMutations(e)))}))}get nativeElement(){return this.elementRef.nativeElement}ngOnDestroy(){this.destroyed=!0,this.destroy$.next(!0),this.destroy$.complete()}calculateScrollNativeSize(){let e=this.document.createElement("div"),t=e.style;t.width="100px",t.height="100px",t.position="absolute",t.top="-10000px",t.top="-10000px",t.overflow="scroll",this.document.body.appendChild(e);let i=e.offsetWidth-e.clientWidth;return this.document.body.removeChild(e),i?i+1:1}set size(e){this.destroyed||(this._size=e,this._afterViewInit&&this.cdr.detectChanges())}get size(){return this._size}get scrollNativeSize(){return this._scrollNativeSize}get isAttachedToDom(){return this.document.body.contains(this.nativeElement)}handleMutations(e){let t=!(0===e[0].contentRect.height&&0===e[0].contentRect.width);t||this.isAttachedToDom?this._detached&&t&&this.isAttachedToDom&&this.restoreScroll():this._detached=!0}restoreScroll(){}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(Pm),Oc(Dl),Oc(of),Oc(fC))},e.ɵdir=ss({type:e,selectors:[["","igxVirtualHelperBase",""]],hostBindings:function(e,t){1&e&&ep("scroll",(function(e){return t.onScroll(e)}))},standalone:!0}),e})(),QR=["horizontal_container"],JR=(()=>{let e=class extends ZR{constructor(e,t,i,n,r){super(e,t,i,n,r),this.cssClasses="igx-vhelper--horizontal"}restoreScroll(){this.nativeElement.scrollLeft=this.scrollAmount}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(Pm),Oc(Dl),Oc(of),Oc(fC))},e.ɵcmp=es({type:e,selectors:[["igx-horizontal-virtual-helper"]],viewQuery:function(e,t){if(1&e&&up(QR,7,iu),2&e){let e;gp(e=pp())&&(t._vcr=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&wg(t.cssClasses)},inputs:{width:"width"},standalone:!0,features:[Ru,Pp],decls:2,vars:2,consts:[["horizontal_container",""],[1,"igx-vhelper__placeholder-content"]],template:function(e,t){1&e&&Lg(0,"div",1,0),2&e&&yg("width",t.size,"px")},encapsulation:2}),e})(),eA=["container"],tA=(()=>{let e=class extends ZR{constructor(e,t,i,n,r){super(e,t,i,n,r),this.cssClasses="igx-vhelper--vertical"}ngOnInit(){this.scrollWidth=this.scrollNativeSize}restoreScroll(){this.nativeElement.scrollTop=this.scrollAmount}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(Pm),Oc(Dl),Oc(of),Oc(fC))},e.ɵcmp=es({type:e,selectors:[["igx-virtual-helper"]],viewQuery:function(e,t){if(1&e&&up(eA,7,iu),2&e){let e;gp(e=pp())&&(t._vcr=e.first)}},hostVars:5,hostBindings:function(e,t){2&e&&(Kg("scrollTop",t.scrollTop),wg(t.cssClasses),yg("width",t.scrollWidth,"px"))},inputs:{itemsLength:"itemsLength"},standalone:!0,features:[Ru,Pp],decls:2,vars:2,consts:[["container",""],[1,"igx-vhelper__placeholder-content"]],template:function(e,t){1&e&&Lg(0,"div",1,0),2&e&&yg("height",t.size,"px")},encapsulation:2}),e})(),iA=(()=>{let e=class{constructor(){this._master=new Map}isMaster(e){return this._master.get(e.igxForScrollOrientation)===e}setMaster(e,t=!1){let i=e.igxForScrollOrientation;this._master.get(i)?.dc?.instance?._viewContainer.element.nativeElement.isConnected||(t=!0),i&&(t||!this._master.has(i))&&this._master.set(i,e)}resetMaster(){this._master.clear()}sizesCache(e){return this._master.get(e).sizesCache}chunkSize(e){return this._master.get(e).state.chunkSize}};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),nA=(()=>{let e=class{constructor(){this._masterScroll=new Map}setScrollMaster(e,t){this._masterScroll.set(e,t)}getScrollMaster(e){return this._masterScroll.get(e)}};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),rA=class{constructor(e,t,i,n){this.$implicit=e,this.igxForOf=t,this.index=i,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}},sA=class{},oA=(()=>{let e=class extends sA{get igxForTotalItemCount(){return this.totalItemCount}set igxForTotalItemCount(e){this.totalItemCount=e}get totalItemCount(){return this._totalItemCount}set totalItemCount(e){if(this._totalItemCount!==e){this._totalItemCount=e;let t=this.initSizesCache(this.igxForOf),i=this.scrollComponent.size-t;this.scrollComponent.size=t,this.state.startIndex+this.state.chunkSize>e&&(this.state.startIndex=e-this.state.chunkSize),this._adjustScrollPositionAfterSizeChange(i)}}get displayContainer(){return this.dc?.instance?._viewContainer?.element?.nativeElement}get virtualHelper(){return this.scrollComponent.nativeElement}get isRemote(){return null!==this.totalItemCount}get scrollPosition(){return this.scrollComponent.scrollAmount}set scrollPosition(e){e!==this.scrollComponent.scrollAmount&&("horizontal"===this.igxForScrollOrientation&&this.scrollComponent?this.scrollComponent.nativeElement.scrollLeft=this.isRTL?-e:e:this.scrollComponent&&(this.scrollComponent.nativeElement.scrollTop=e))}get isRTL(){return"rtl"===window.getComputedStyle(this.dc.instance._viewContainer.element.nativeElement).getPropertyValue("direction")}get sizesCache(){return this._sizesCache}set sizesCache(e){this._sizesCache=e}get _isScrolledToBottom(){if(!this.getScroll())return!0;let e=this.getScroll().scrollHeight;return Math.round(this.getScroll().scrollTop+this.igxForContainerSize)===e}get _isAtBottomIndex(){return this.igxForOf&&this.state.startIndex+this.state.chunkSize>this.igxForOf.length}constructor(e,t,i,n,r,s,o,a){super(),this._viewContainer=e,this._template=t,this._differs=i,this.cdr=n,this._zone=r,this.syncScrollService=s,this.platformUtil=o,this.document=a,this.igxForScrollOrientation="vertical",this.chunkLoad=new yl,this.scrollbarVisibilityChanged=new yl,this.contentSizeChange=new yl,this.dataChanged=new yl,this.beforeViewDestroyed=new yl,this.chunkPreload=new yl,this.state={startIndex:0,chunkSize:0},this._sizesCache=[],this._differ=null,this.individualSizeCache=[],this._virtScrollPosition=0,this._bScrollInternal=!1,this._embeddedViews=[],this.contentResizeNotify=new ei,this._virtSize=0,this.destroy$=new ei,this._totalItemCount=null,this._virtRatio=1}verticalScrollHandler(e){this.onScroll(e)}isScrollable(){return this.scrollComponent.size>parseInt(this.igxForContainerSize,10)}ngOnInit(){let e=this.igxForScrollContainer?this.igxForScrollContainer._viewContainer:this._viewContainer;if(this.igxForSizePropName=this.igxForSizePropName||"width",this.dc=this._viewContainer.createComponent(XR,{index:0}),this.dc.instance.scrollDirection=this.igxForScrollOrientation,this.igxForOf&&this.igxForOf.length){this.scrollComponent=this.syncScrollService.getScrollMaster(this.igxForScrollOrientation),this.state.chunkSize=this._calculateChunkSize(),this.dc.instance.notVirtual=!(this.igxForContainerSize&&this.state.chunkSize<this.igxForOf.length),this.scrollComponent&&!this.scrollComponent.destroyed&&(this.state.startIndex=Math.min(this.getIndexAt(this.scrollPosition,this.sizesCache),this.igxForOf.length-this.state.chunkSize));for(let e=this.state.startIndex;e<this.state.startIndex+this.state.chunkSize&&void 0!==this.igxForOf[e];e++){let t=this.igxForOf[e],i=this.dc.instance._vcr.createEmbeddedView(this._template,new rA(t,this.igxForOf,this.getContextIndex(t),this.igxForOf.length));this._embeddedViews.push(i)}}if(this._maxSize=this._calcMaxBrowserSize(),"vertical"===this.igxForScrollOrientation){this.dc.instance._viewContainer.element.nativeElement.style.top="0px",this.scrollComponent=this.syncScrollService.getScrollMaster(this.igxForScrollOrientation),(!this.scrollComponent||this.scrollComponent.destroyed)&&(this.scrollComponent=e.createComponent(tA).instance),this.scrollComponent.size=this.igxForOf?this._calcSize():0,this.syncScrollService.setScrollMaster(this.igxForScrollOrientation,this.scrollComponent),this._zone.runOutsideAngular((()=>{this.verticalScrollHandler=this.verticalScrollHandler.bind(this),this.scrollComponent.nativeElement.addEventListener("scroll",this.verticalScrollHandler),this.dc.instance.scrollContainer=this.scrollComponent.nativeElement}));let t=mn(this.destroy$);this.contentResizeNotify.pipe(on((()=>this.igxForContainerSize&&this.igxForOf&&this.igxForOf.length>0)),yn(40,void 0,{leading:!1,trailing:!0}),t).subscribe((()=>this._zone.runTask((()=>this.updateSizes()))))}"horizontal"===this.igxForScrollOrientation&&(this.func=e=>this.onHScroll(e),this.scrollComponent=this.syncScrollService.getScrollMaster(this.igxForScrollOrientation),this.scrollComponent||(this.scrollComponent=e.createComponent(JR).instance,this.scrollComponent.size=this.igxForOf?this._calcSize():0,this.syncScrollService.setScrollMaster(this.igxForScrollOrientation,this.scrollComponent)),this._zone.runOutsideAngular((()=>{this.scrollComponent.nativeElement.addEventListener("scroll",this.func),this.dc.instance.scrollContainer=this.scrollComponent.nativeElement})),this._updateScrollOffset())}ngAfterViewInit(){"vertical"===this.igxForScrollOrientation&&this._zone.runOutsideAngular((()=>{this.contentObserver=new(aC())((()=>this.contentResizeNotify.next())),this.contentObserver.observe(this.dc.instance._viewContainer.element.nativeElement)}))}ngOnDestroy(){this.removeScrollEventListeners(),this.destroy$.next(!0),this.destroy$.complete(),this.contentObserver&&this.contentObserver.disconnect()}static ngTemplateContextGuard(e,t){return!0}ngOnChanges(e){let t="igxForOf";if(t in e){let i=e[t].currentValue;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.igxForTrackBy)}catch{throw new Error(`Cannot find a differ supporting object "${i}" of type "${aA(i)}".\n                     NgFor only supports binding to Iterables such as Arrays.`)}}let i="igxForItemSize";i in e&&!e[i].firstChange&&this.igxForOf&&(this.initSizesCache(this.igxForOf),this._applyChanges());let n="igxForContainerSize";if(n in e&&!e[n].firstChange&&this.igxForOf){let t=parseInt(e[n].previousValue,10),i=parseInt(e[n].currentValue,10);this._recalcOnContainerChange({prevSize:t,newSize:i})}}ngDoCheck(){this._differ&&this._differ.diff(this.igxForOf)&&(this.igxForOf||(this.igxForOf=[]),this._updateSizeCache(),this._zone.run((()=>{this._applyChanges(),this.cdr.markForCheck(),this._updateScrollOffset();let e={containerSize:this.igxForContainerSize,state:this.state};this.dataChanged.emit(e)})))}addScrollTop(e){return this.addScroll(e)}addScroll(e){if(0===e)return!1;let t=this._virtScrollPosition,i=parseInt(this.igxForContainerSize,10),n=this._virtSize-i;if(this._bScrollInternal=!0,this._virtScrollPosition+=e,this._virtScrollPosition=this._virtScrollPosition>0?this._virtScrollPosition<n?this._virtScrollPosition:n:0,this.scrollPosition+=e/this._virtRatio,Math.abs(e/this._virtRatio)<1){let e=this.fixedUpdateAllElements(this._virtScrollPosition);this.dc.instance._viewContainer.element.nativeElement.style.top=-e+"px"}let r=this.scrollComponent.nativeElement.scrollHeight-i;return this._virtScrollPosition>0&&0===this.scrollPosition||this._virtScrollPosition<n&&this.scrollPosition===r?this.scrollPosition=this._virtScrollPosition/this._virtRatio:0===this._virtScrollPosition&&this.scrollPosition>0?this.scrollPosition=0:this._virtScrollPosition===n&&this.scrollPosition<r&&(this.scrollPosition=r),this._virtScrollPosition!==t}scrollTo(e){if(e<0||e>(this.isRemote?this.totalItemCount:this.igxForOf.length)-1)return;let t=parseInt(this.igxForContainerSize,10),i=e<this.state.startIndex||this.scrollPosition>this.sizesCache[e],n=i?this.sizesCache[e]:this.sizesCache[e+1]-t;if(n<0)return;let r=this._virtSize-t;n>r&&(n=r),this._bScrollInternal=!0,this._virtScrollPosition=n,this.scrollPosition=this._virtScrollPosition/this._virtRatio,this._adjustToIndex=i?null:e}scrollNext(){let e=Math.abs(Math.ceil(this.scrollPosition)),t=this.getIndexAt(e+parseInt(this.igxForContainerSize,10),this.sizesCache);this.scrollTo(t)}scrollPrev(){this.scrollTo(this.state.startIndex-1)}scrollNextPage(){this.addScroll(parseInt(this.igxForContainerSize,10))}scrollPrevPage(){let e=parseInt(this.igxForContainerSize,10);this.addScroll(-e)}getColumnScrollLeft(e){return this.sizesCache[e]}getItemCountInView(){let e=this.getIndexAt(this.scrollPosition,this.sizesCache);return this.scrollPosition-this.sizesCache[e]>0&&e++,this.getIndexAt(this.scrollPosition+parseInt(this.igxForContainerSize,10),this.sizesCache)-e}getScroll(){return this.scrollComponent?.nativeElement}getSizeAt(e){return this.sizesCache[e+1]-this.sizesCache[e]}getScrollNativeSize(){return this.scrollComponent?this.scrollComponent.scrollNativeSize:0}getScrollForIndex(e,t){let i=parseInt(this.igxForContainerSize,10);return t?Math.max(0,this.sizesCache[e+1]-i):this.sizesCache[e]}getIndexAtScroll(e){return this.getIndexAt(e,this.sizesCache)}isIndexOutsideView(e){let t=e>=this.state.startIndex&&e<=this.state.startIndex+this.state.chunkSize?this._embeddedViews.map((e=>e.rootNodes.find((e=>e.nodeType===Node.ELEMENT_NODE))||e.rootNodes[0].nextElementSibling))[e-this.state.startIndex]:null,i=this.getSizeAt(e),n=parseInt(this.igxForContainerSize,10),r=-(this.scrollPosition-this.sizesCache[this.state.startIndex]),s=t?t.offsetTop+i+r:n+i;return!t||t.offsetTop<Math.abs(r)||n&&s-n>5}recalcUpdateSizes(){let e="horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height",t=[],i=0,n=this._embeddedViews.length,r=this._embeddedViews.map((e=>e.rootNodes.find((e=>e.nodeType===Node.ELEMENT_NODE))||e.rootNodes[0].nextElementSibling));for(let s=0;s<n;s++){let n=r[s];if(n){let r=window.getComputedStyle(n).getPropertyValue("height"),o=parseFloat(r)||parseInt(this.igxForItemSize,10),a=this.state.startIndex+s;if(!this.isRemote&&!this.igxForOf[a])continue;let l=this.getMargin(n,e),d=this.individualSizeCache[a],c=("height"===e?o:n.clientWidth)+l;this.individualSizeCache[a]=c;let h=c-d;t.push(h),i+=h,this.sizesCache[a+1]=(this.sizesCache[a]||0)+c}}if(Math.abs(i)>0){for(let e=this.state.startIndex+this.state.chunkSize+1;e<this.sizesCache.length;e++)this.sizesCache[e]=(this.sizesCache[e]||0)+i;let e=(e,t)=>e+t,n=this.individualSizeCache.reduce(e);if(n>this._maxSize&&(this._virtRatio=n/this._maxSize),this.scrollComponent.size=Math.min(this.scrollComponent.size+i,this._maxSize),this._virtSize=n,this.scrollComponent.destroyed||this.scrollComponent.cdr.detectChanges(),this._isScrolledToBottom&&!this.dc.instance.notVirtual&&!this._isAtBottomIndex){let e=parseInt(this.igxForContainerSize,10),t=this._virtSize-e;return this._bScrollInternal=!0,this._virtScrollPosition=t,void(this.scrollPosition=t)}if(this._adjustToIndex){let i=this._adjustToIndex-this.state.startIndex+1,n=t.slice(0,i).reduce(e);0!==n&&this.addScroll(n),this._adjustToIndex=null}}}resetScrollPosition(){this.scrollPosition=0,this.scrollComponent.scrollAmount=0}removeScrollEventListeners(){"horizontal"===this.igxForScrollOrientation?this._zone.runOutsideAngular((()=>this.scrollComponent?.nativeElement?.removeEventListener("scroll",this.func))):this._zone.runOutsideAngular((()=>this.scrollComponent?.nativeElement?.removeEventListener("scroll",this.verticalScrollHandler)))}onScroll(e){if(!parseInt(this.scrollComponent.nativeElement.style.height,10))return;this._bScrollInternal?this._bScrollInternal=!1:this._calcVirtualScrollPosition(e.target.scrollTop);let t=this.state.startIndex,i=this.fixedUpdateAllElements(this._virtScrollPosition);this.dc.instance._viewContainer.element.nativeElement.style.top=-i+"px",this._zone.onStable.pipe(un()).subscribe(this.recalcUpdateSizes.bind(this)),this.dc.changeDetectorRef.detectChanges(),t!==this.state.startIndex&&this.chunkLoad.emit(this.state)}updateScroll(){if("horizontal"===this.igxForScrollOrientation){let e=this.scrollComponent.nativeElement.scrollLeft;this.scrollComponent.scrollAmount=e,this._updateScrollOffset()}}updateSizes(){if(!this.scrollComponent.nativeElement.isConnected)return;let e=this.isScrollable();this.recalcUpdateSizes(),this._applyChanges(),this._updateScrollOffset(),e!==this.isScrollable()?this.scrollbarVisibilityChanged.emit():this.contentSizeChange.emit()}fixedUpdateAllElements(e){let t=this.isRemote?this.totalItemCount:this.igxForOf.length,i=this.getIndexAt(e,this.sizesCache);i+this.state.chunkSize>t&&(i=t-this.state.chunkSize);let n=this.state.startIndex,r=i-this.state.startIndex;return this.state.startIndex=i,r&&(this.chunkPreload.emit(this.state),this.isRemote||(r&&Math.abs(r)<=4?r>0?this.moveApplyScrollNext(n):this.moveApplyScrollPrev(n):this.fixedApplyScroll())),e-this.sizesCache[this.state.startIndex]}moveApplyScrollNext(e){let t=e+this.state.chunkSize,i=t+this.state.startIndex-e,n=this.dc.instance._vcr;for(let e=t;e<i&&void 0!==this.igxForOf[e];e++){let t=this._embeddedViews.shift();if(!t.destroyed){this.scrollFocus(t.rootNodes.find((e=>e.nodeType===Node.ELEMENT_NODE))||t.rootNodes[0].nextElementSibling);let i=n.detach(0);this.updateTemplateContext(t.context,e),n.insert(i),this._embeddedViews.push(t)}}}moveApplyScrollPrev(e){let t=this.dc.instance._vcr;for(let i=e-1;i>=this.state.startIndex&&void 0!==this.igxForOf[i];i--){let e=this._embeddedViews.pop();if(!e.destroyed){this.scrollFocus(e.rootNodes.find((e=>e.nodeType===Node.ELEMENT_NODE))||e.rootNodes[0].nextElementSibling);let n=t.detach(t.length-1);this.updateTemplateContext(e.context,i),t.insert(n,0),this._embeddedViews.unshift(e)}}}getContextIndex(e){return this.isRemote?this.state.startIndex+this.igxForOf.indexOf(e):this.igxForOf.indexOf(e)}updateTemplateContext(e,t=0){e.$implicit=this.igxForOf[t],e.index=this.getContextIndex(this.igxForOf[t]),e.count=this.igxForOf.length}fixedApplyScroll(){let e=0,t=this.state.startIndex+this.state.chunkSize;for(let i=this.state.startIndex;i<t&&void 0!==this.igxForOf[i];i++){let t=this._embeddedViews[e++];this.updateTemplateContext(t.context,i)}}scrollFocus(e){if(!e)return;let t=e.getRootNode().activeElement;e&&e.contains(t)&&t.blur()}onHScroll(e){let t=this.scrollComponent.nativeElement.children.item(0);if(!parseInt(t.style.width,10))return;this._bScrollInternal?this._bScrollInternal=!1:this._calcVirtualScrollPosition(e.target.scrollLeft);let i=this.state.startIndex,n=e.target.scrollLeft,r=this.fixedUpdateAllElements(Math.abs(this._virtScrollPosition));this.dc.instance._viewContainer.element.nativeElement.style.left=n<0?r+"px":-r+"px",this._zone.onStable.pipe(un()).subscribe(this.recalcUpdateSizes.bind(this)),this.dc.changeDetectorRef.detectChanges(),i!==this.state.startIndex&&this.chunkLoad.emit(this.state)}get igxForTrackBy(){return this._trackByFn}set igxForTrackBy(e){this._trackByFn=e}_applyChanges(){let e=this.state.chunkSize;if(this.applyChunkSizeChange(),this._recalcScrollBarSize(),this.igxForOf&&this.igxForOf.length&&this.dc){let t=Object.assign([],this._embeddedViews),i=this.state.startIndex,n=this.state.chunkSize+this.state.startIndex;this.isRemote&&(i=0,n=this.igxForOf.length);for(let e=i;e<n&&void 0!==this.igxForOf[e];e++){let i=t.shift();this.updateTemplateContext(i.context,e)}e!==this.state.chunkSize&&this.chunkLoad.emit(this.state)}}_calcMaxBrowserSize(){if(!this.platformUtil.isBrowser)return 0;let e=this.document.createElement("div"),t=e.style;t.position="absolute";let i="horizontal"===this.igxForScrollOrientation?"left":"top";t[i]="9999999999999999px",this.document.body.appendChild(e);let n=Math.abs(e.getBoundingClientRect()[i]);return this.document.body.removeChild(e),n}_calculateChunkSize(){let e=0;return null!==this.igxForContainerSize&&void 0!==this.igxForContainerSize?((!this.sizesCache||0===this.sizesCache.length)&&this.initSizesCache(this.igxForOf),e=this._calcMaxChunkSize(),this.igxForOf&&e>this.igxForOf.length&&(e=this.igxForOf.length)):this.igxForOf&&(e=this.igxForOf.length),e}getElement(e,t){let i=e.element.nativeElement.parentNode.getElementsByTagName(t);return i.length>0?i[0]:null}initSizesCache(e){let t=0,i=0,n=this.igxForSizePropName||"height",r=0;this.sizesCache=[],this.individualSizeCache=[],this.sizesCache.push(0);let s=this.isRemote?this.totalItemCount:e.length;for(;r<s;r++)i=this._getItemSize(e[r],n),this.individualSizeCache.push(i),t+=i,this.sizesCache.push(t);return t}_updateSizeCache(){if("horizontal"===this.igxForScrollOrientation)return void this.initSizesCache(this.igxForOf);let e=(this.individualSizeCache.length>0?this.individualSizeCache.reduce(((e,t)=>e+t)):0)-this.initSizesCache(this.igxForOf);this._adjustScrollPositionAfterSizeChange(e)}_calcMaxChunkSize(){let e=0,t=0,i=0,n=[],r=0,s=parseInt(this.igxForContainerSize,10);if(!s)return 0;let o="horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height",a=(e,t)=>e+this._getItemSize(t,o);for(;e<this.igxForOf.length;e++){let l=this.igxForOf[e];"height"===o&&(l={value:this.igxForOf[e],height:this.individualSizeCache[e]});let d="height"===o?this.individualSizeCache[e]:this._getItemSize(l,o);if(r=n.reduce(a,d),r<s){if(n.push(l),t=n.length,e===this.igxForOf.length-1){let e="height"===o?n[0].value:n[0],i=this.igxForOf.indexOf(e)-1;for(;i>=0&&r<=s;){e="height"===o?n[0].value:n[0],i=this.igxForOf.indexOf(e)-1;let s=this.igxForOf[i],l="height"===o?this.individualSizeCache[i]:parseInt(s[o],10);r=n.reduce(a,l),n.unshift(s),t=n.length}}}else n.push(l),t=n.length+1,n.shift();t>i&&(i=t)}return i}getIndexAt(e,t){let i=0,n=t.length-1;if(0===e)return 0;for(;i<=n;){let r=Math.floor((i+n)/2),s=e-t[r];if(s>0)i=r+1;else{if(!(s<0))return r;n=r-1}}return n}_recalcScrollBarSize(e=null){let t=this.isRemote?this.totalItemCount:this.igxForOf?this.igxForOf.length:0;this.dc.instance.notVirtual=!(this.igxForContainerSize&&this.dc&&this.state.chunkSize<t);let i=e?this.scrollComponent.size>e.prevSize:this.isScrollable();if("horizontal"===this.igxForScrollOrientation){let e=parseInt(this.igxForContainerSize,10)>0?this._calcSize():0;e<=parseInt(this.igxForContainerSize,10)&&this.resetScrollPosition(),this.scrollComponent.nativeElement.style.width=this.igxForContainerSize+"px",this.scrollComponent.size=e}if("vertical"===this.igxForScrollOrientation){let e=this._calcSize();e<=parseInt(this.igxForContainerSize,10)&&this.resetScrollPosition(),this.scrollComponent.nativeElement.style.height=parseInt(this.igxForContainerSize,10)+"px",this.scrollComponent.size=e}i!==this.isScrollable()&&this.scrollbarVisibilityChanged.emit()}_calcSize(){let e;return e=this.individualSizeCache&&this.individualSizeCache.length>0?this.individualSizeCache.reduce(((e,t)=>e+t),0):this.initSizesCache(this.igxForOf),this._virtSize=e,e>this._maxSize&&(this._virtRatio=e/this._maxSize,e=this._maxSize),e}_recalcOnContainerChange(e=null){let t=this.state.chunkSize;this.applyChunkSizeChange(),this._recalcScrollBarSize(e),t!==this.state.chunkSize&&this.chunkLoad.emit(this.state)}removeLastElem(){let e=this._embeddedViews.pop();this.beforeViewDestroyed.emit(e),this.dc.instance._vcr.detach(this.dc.instance._vcr.length-1),e.destroy(),this.state.chunkSize--}addLastElem(){let e=this.state.startIndex+this.state.chunkSize;if(!this.isRemote&&!this.igxForOf)return;e>=this.igxForOf.length&&(e=this.igxForOf.length-this.state.chunkSize);let t=this.igxForOf[e],i=this.dc.instance._vcr.createEmbeddedView(this._template,new rA(t,this.igxForOf,this.getContextIndex(t),this.igxForOf.length));this._embeddedViews.push(i),this.state.chunkSize++,this._zone.run((()=>this.cdr.markForCheck()))}applyChunkSizeChange(){let e=this.isRemote?this.igxForOf?this.igxForOf.length:0:this._calculateChunkSize();if(e>this.state.chunkSize){let t=e-this.state.chunkSize;for(let e=0;e<t;e++)this.addLastElem()}else if(e<this.state.chunkSize){let t=this.state.chunkSize-e;for(let e=0;e<t;e++)this.removeLastElem()}}_calcVirtualScrollPosition(e){let t=parseInt(this.igxForContainerSize,10),i=this.scrollComponent.size-t,n=0!==i?e/i:0,r=this._virtSize-t;this._virtScrollPosition=n*r}_getItemSize(e,t){let i=e?e[t]:null;return"number"==typeof i?i:parseInt(this.igxForItemSize,10)||0}_updateScrollOffset(){let e=0,t=this.scrollPosition;1!==this._virtRatio&&(this._calcVirtualScrollPosition(this.scrollPosition),t=this._virtScrollPosition),e=this.scrollComponent.nativeElement&&this.scrollComponent.size?t-this.sizesCache[this.state.startIndex]:0;let i="horizontal"===this.igxForScrollOrientation?"left":"top";this.dc.instance._viewContainer.element.nativeElement.style[i]=-e+"px"}_adjustScrollPositionAfterSizeChange(e){if(Math.abs(e)>0&&this.scrollPosition>0){this.recalcUpdateSizes();let e="horizontal"===this.igxForScrollOrientation?parseInt(this.dc.instance._viewContainer.element.nativeElement.style.left,10):parseInt(this.dc.instance._viewContainer.element.nativeElement.style.top,10),t=this.sizesCache[this.state.startIndex]-e;this.scrollPosition=t,this.scrollPosition!==t&&(this.scrollComponent.scrollAmount=t)}}getMargin(e,t){let i=window.getComputedStyle(e);return"height"===t?parseFloat(i.marginTop)+parseFloat(i.marginBottom)||0:parseFloat(i.marginLeft)+parseFloat(i.marginRight)||0}};return e.ɵfac=function(t){return new(t||e)(Oc(iu),Oc(Oh),Oc(Km),Oc(Pm),Oc(Dl),Oc(nA),Oc(fC),Oc(of))},e.ɵdir=ss({type:e,selectors:[["","igxFor","","igxForOf",""]],inputs:{igxForOf:"igxForOf",igxForSizePropName:"igxForSizePropName",igxForScrollOrientation:"igxForScrollOrientation",igxForScrollContainer:"igxForScrollContainer",igxForContainerSize:"igxForContainerSize",igxForItemSize:"igxForItemSize",igxForTotalItemCount:"igxForTotalItemCount",igxForTrackBy:"igxForTrackBy"},outputs:{chunkLoad:"chunkLoad",scrollbarVisibilityChanged:"scrollbarVisibilityChanged",contentSizeChange:"contentSizeChange",dataChanged:"dataChanged",beforeViewDestroyed:"beforeViewDestroyed",chunkPreload:"chunkPreload"},standalone:!0,features:[kp([nA,{provide:sA,useExisting:e}]),Ru,yo]}),e})(),aA=e=>e.name||typeof e,lA=class extends rA{constructor(e,t,i,n){super(e,t,i,n),this.igxGridForOf=t}},dA=(()=>{let e=class extends oA{set igxGridForOf(e){this.igxForOf=e}get igxGridForOf(){return this.igxForOf}get sizesCache(){return"horizontal"===this.igxForScrollOrientation?this.igxGridForOfUniqueSizeCache||this.syncService.isMaster(this)?this._sizesCache:this.syncService.sizesCache(this.igxForScrollOrientation):this._sizesCache}set sizesCache(e){this._sizesCache=e}get itemsDimension(){return this.igxForSizePropName||"height"}recalcUpdateSizes(){this.igxGridForOfVariableSizes&&"vertical"===this.igxForScrollOrientation&&super.recalcUpdateSizes()}constructor(e,t,i,n,r,s,o,a,l){super(e,t,i,n,r,a,s,o),this.syncService=l,this.igxGridForOfUniqueSizeCache=!1,this.igxGridForOfVariableSizes=!0,this.dataChanging=new yl}static ngTemplateContextGuard(e,t){return!0}ngOnInit(){this.syncService.setMaster(this),super.ngOnInit(),this.removeScrollEventListeners()}ngOnChanges(e){let t="igxGridForOf";if(this.syncService.setMaster(this),t in e){let i=e[t].currentValue;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.igxForTrackBy)}catch{throw new Error(`Cannot find a differ supporting object "${i}" of type "${aA(i)}".\n                     NgFor only supports binding to Iterables such as Arrays.`)}"horizontal"===this.igxForScrollOrientation&&this.syncService.setMaster(this,this.igxGridForOfUniqueSizeCache)}let i="igxForItemSize";i in e&&!e[i].firstChange&&"vertical"===this.igxForScrollOrientation&&this.igxForOf&&this.initSizesCache(this.igxForOf);let n="igxForContainerSize";if(n in e&&!e[n].firstChange&&this.igxForOf){let t=parseInt(e[n].previousValue,10),i=parseInt(e[n].currentValue,10);this._recalcOnContainerChange({prevSize:t,newSize:i})}}assumeMaster(){this._sizesCache=this.syncService.sizesCache(this.igxForScrollOrientation),this.syncService.setMaster(this,!0)}ngDoCheck(){if(this._differ){let e=this._differ.diff(this.igxForOf);if(e){let t={containerSize:this.igxForContainerSize,state:this.state};this.dataChanging.emit(t),this.igxForOf||(this.igxForOf=[]),!this.igxForOf.length&&"vertical"===this.igxForScrollOrientation&&this.syncService.resetMaster(),this.syncService.setMaster(this),this.igxForContainerSize=t.containerSize;let i=this._updateSizeCache(e);this._applyChanges(),i&&this._adjustScrollPositionAfterSizeChange(i),this._updateScrollOffset(),this.dataChanged.emit(t)}}}onScroll(e){if(!parseInt(this.scrollComponent.nativeElement.style.height,10))return;this._bScrollInternal?this._bScrollInternal=!1:this._calcVirtualScrollPosition(e.target.scrollTop);let t=this.fixedUpdateAllElements(this._virtScrollPosition);this.dc.instance._viewContainer.element.nativeElement.style.top=-t+"px",this._zone.onStable.pipe(un()).subscribe(this.recalcUpdateSizes.bind(this)),this.cdr.markForCheck()}onHScroll(e){let t=this.scrollComponent.nativeElement.children.item(0);if(!this.scrollComponent||!parseInt(t.style.width,10))return;let i=this.fixedUpdateAllElements(Math.abs(e));this.dc.instance._viewContainer.element.nativeElement.style.left=e<0?i+"px":-i+"px"}getItemSize(e){let t=0,i=this.igxForSizePropName||"height";return"vertical"===this.igxForScrollOrientation?(t=this._getItemSize(e,i),e&&e.summaries?t=e.max:e&&e.groups&&e.height&&(t=e.height)):t=parseInt(e[i],10)||0,t}initSizesCache(e){if(!this.syncService.isMaster(this)&&"horizontal"===this.igxForScrollOrientation){let e=this.syncService.sizesCache(this.igxForScrollOrientation);return e[e.length-1]}let t=0,i=0,n=0;this.sizesCache=[],this.individualSizeCache=[],this.sizesCache.push(0);let r=this.isRemote?this.totalItemCount:e.length;for(;n<r;n++)i=this.getItemSize(e[n]),this.individualSizeCache.push(i),t+=i,this.sizesCache.push(t);return t}_updateSizeCache(e=null){let t=this.individualSizeCache.length>0?this.individualSizeCache.reduce(((e,t)=>e+t)):0,i=t;if(e&&!this.isRemote)return i=this.handleCacheChanges(e),t-i}handleCacheChanges(e){let t=[],i=[],n=[];n.push(0);let r=0,s=0;return e.forEachRemovedItem((()=>s++)),e.forEachIdentityChange((e=>{e.currentIndex!==e.previousIndex&&(t[e.currentIndex]=e)})),e.forEachItem((e=>{null!==e.previousIndex&&(s<2||!t.length||t[e.currentIndex])&&"horizontal"!==this.igxForScrollOrientation?i[e.currentIndex]=this.individualSizeCache[e.previousIndex]:i[e.currentIndex]=this.getItemSize(e.item),n[e.currentIndex+1]=n[e.currentIndex]+i[e.currentIndex],r+=i[e.currentIndex]})),this.individualSizeCache=i,this.sizesCache=n,r}addLastElem(){let e=this.state.startIndex+this.state.chunkSize;if(!this.isRemote&&!this.igxForOf)return;e>=this.igxForOf.length&&(e=this.igxForOf.length-this.state.chunkSize);let t=this.igxForOf[e],i=this.dc.instance._vcr.createEmbeddedView(this._template,new lA(t,this.igxForOf,this.getContextIndex(t),this.igxForOf.length));this._embeddedViews.push(i),this.state.chunkSize++}_updateViews(e){if(this.igxForOf&&this.igxForOf.length&&this.dc){let t,i,n=Object.assign([],this._embeddedViews);this.isRemote?(t=0,i=this.igxForOf.length):(t=this.getIndexAt(this.scrollPosition,this.sizesCache),t+this.state.chunkSize>this.igxForOf.length&&(t=this.igxForOf.length-this.state.chunkSize),this.state.startIndex=t,i=this.state.chunkSize+this.state.startIndex);for(let e=t;e<i&&void 0!==this.igxForOf[e];e++){let t=n.shift();this.updateTemplateContext(t.context,e)}e!==this.state.chunkSize&&this.chunkLoad.emit(this.state)}}_applyChanges(){let e=this.state.chunkSize;this.applyChunkSizeChange(),this._recalcScrollBarSize(),this._updateViews(e)}_calcMaxChunkSize(){return"horizontal"===this.igxForScrollOrientation?this.syncService.isMaster(this)?super._calcMaxChunkSize():this.syncService.chunkSize(this.igxForScrollOrientation):super._calcMaxChunkSize()}};return e.ɵfac=function(t){return new(t||e)(Oc(iu),Oc(Oh),Oc(Km),Oc(Pm),Oc(Dl),Oc(fC),Oc(of),Oc(nA),Oc(iA))},e.ɵdir=ss({type:e,selectors:[["","igxGridFor","","igxGridForOf",""]],inputs:{igxGridForOf:"igxGridForOf",igxGridForOfUniqueSizeCache:[2,"igxGridForOfUniqueSizeCache","igxGridForOfUniqueSizeCache",Zm],igxGridForOfVariableSizes:[2,"igxGridForOfVariableSizes","igxGridForOfVariableSizes",Zm]},outputs:{dataChanging:"dataChanging"},standalone:!0,features:[Vu,Ru,yo]}),e})(),cA=(()=>{let e=class extends _T{constructor(){super(...arguments),this._cssClass="igx-icon-button"}set type(e){let t=e||wT.Contained;this._type!==t&&(this._type=t)}get flat(){return this._type===wT.Flat}get contained(){return this._type===wT.Contained}get outlined(){return this._type===wT.Outlined}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵdir=ss({type:e,selectors:[["","igxIconButton",""]],hostVars:8,hostBindings:function(e,t){2&e&&xg("igx-icon-button",t._cssClass)("igx-icon-button--flat",t.flat)("igx-icon-button--contained",t.contained)("igx-icon-button--outlined",t.outlined)},inputs:{type:[0,"igxIconButton","type"]},standalone:!0,features:[Ru]}),e})(),hA=new Set("aACL09#&?"),uA=new Map([["C",/(?!^$)/u],["&",/[^\p{Separator}]/u],["a",/[\p{Letter}\d\p{Separator}]/u],["A",/[\p{Letter}\d]/u],["?",/[\p{Letter}\p{Separator}]/u],["L",new RegExp("\\p{Letter}","u")],["0",/\d/],["9",/[\d\p{Separator}]/u],["#",/[\d\-+]/]]),gA=(e,t,i)=>`${e.substring(0,t)}${i}${e.substring(t+1)}`;function pA(e){let t=new Map,i=e;for(let n=0,r=0;n<e.length;n++,r++){let[s,o]=[e.charAt(n),e.charAt(n+1)];"\\"===s&&hA.has(o)?(i=gA(i,r,""),t.set(r,o),n++):hA.has(s)||t.set(r,s)}return{literals:t,mask:i}}var mA=(()=>{let e=class{applyMask(e,t,i=0){let n="",r="",{literals:s,mask:o}=pA(t.format),a=Array.from(s.keys()),l=this.getNonLiteralIndices(o,a),d=Array.from(s.values());null!=e&&(r=e.toString());for(let e of o)n+=t.promptChar;if(s.forEach(((e,t)=>{n=gA(n,t,e)})),!r)return n;let c=this.getNonLiteralValues(r,d);for(let e=0;e<c.length;e++){let i=c[e];!this.validateCharOnPosition(i,l[e],o)&&i!==t.promptChar&&(c[e]=t.promptChar)}c.length>l.length&&c.splice(l.length);for(let e of c){let t=e;n=gA(n,l[i++],t)}return n}parseValueFromMask(e,t){let i="",n=Array.from(pA(t.format).literals.values());for(let r of e)-1===n.indexOf(r)&&r!==t.promptChar&&(i+=r);return i}replaceInMask(e,t,i,n,r){let{literals:s,mask:o}=pA(i.format),a=Array.from(s.keys());t=this.replaceIMENumbers(t);let l=Array.from(t),d=n;r=Math.min(r,e.length);for(let s=n;s<r||l.length&&s<e.length;s++){if(-1!==a.indexOf(s)){(l[0]===e[s]||t.length<1)&&(d=s+1,l.shift());continue}if(l[0]&&!this.validateCharOnPosition(l[0],s,o)&&l[0]!==i.promptChar)break;let n=i.promptChar;l.length&&(d=s+1,n=l.shift()),t.length<1&&d++,e=gA(e,s,n)}return{value:e,end:d}}validateCharOnPosition(e,t,i){let n=uA.get(i.charAt(t));return!!n&&n.test(e)}getNonLiteralIndices(e,t){let i=[];for(let n=0;n<e.length;n++)-1===t.indexOf(n)&&i.push(n);return i}getNonLiteralValues(e,t){let i=[];for(let n of e)-1===t.indexOf(n)&&i.push(n);return i}replaceIMENumbers(e){return e.replace(/[０１２３４５６７８９]/g,(e=>({"１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","０":"0"}[e])))}};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),fA=(()=>{let e=class{get mask(){return this._mask||this.defaultMask}set mask(e){if(e!==this._mask){let t=this.maskParser.parseValueFromMask(this.inputValue,this.maskOptions);this.setPlaceholder(e),this._mask=e,this.updateInputValue(t)}}get nativeElement(){return this.elementRef.nativeElement}get inputValue(){return this.nativeElement.value}set inputValue(e){this.nativeElement.value=e}get maskOptions(){return{format:this.mask||this.defaultMask,promptChar:this.promptChar&&this.promptChar.substring(0,1)}}get selectionStart(){return this.nativeElement.selectionStart===this.nativeElement.selectionEnd&&this._hasDropAction?this.nativeElement.selectionEnd-this._droppedData.length:this.nativeElement.selectionStart}get selectionEnd(){return this.nativeElement.selectionEnd}get start(){return this._start}get end(){return this._end}constructor(e,t,i,n){this.elementRef=e,this.maskParser=t,this.renderer=i,this.platform=n,this.promptChar="_",this.valueChanged=new yl,this._focused=!1,this._end=0,this._start=0,this._oldText="",this._dataValue="",this.defaultMask="CCCCCCCCCC",this._onTouchedCallback=Ot,this._onChangeCallback=Ot}onKeyDown(e){let t=e.key;t&&(e.ctrlKey&&(t===this.platform.KEYMAP.Z||t===this.platform.KEYMAP.Y)&&e.preventDefault(),this._key=t,this._start=this.selectionStart,this._end=this.selectionEnd)}onCompositionStart(){this._composing||(this._compositionStartIndex=this._start,this._composing=!0)}onCompositionEnd(){this._start=this._compositionStartIndex;let e=this.selectionEnd,t=this.inputValue.substring(this._start,e);this.updateInput(t),this._end=this.selectionEnd,this._compositionValue=this.inputValue}onInputChanged(e){if(this._composing)return void(this.inputValue.length<this._oldText.length&&(this._key=this.platform.KEYMAP.BACKSPACE));if("deleteContentBackward"===e.inputType&&this._key!==this.platform.KEYMAP.BACKSPACE){let e=0===this._compositionStartIndex&&this._end===this.mask.length,t=0,i=pA(this.maskOptions.format).literals.keys();for(let e of i)e>=this._compositionStartIndex&&e<=this._end&&t++;this.inputValue=e?this.inputValue.substring(0,this.selectionEnd-t)+this.inputValue.substring(this.selectionEnd):this._compositionValue?.substring(0,this._compositionStartIndex)||this.inputValue,this._compositionValue&&(this._start=this.selectionStart,this._end=this.selectionEnd,this.nativeElement.selectionStart=e?this._start-t:this._compositionStartIndex,this.nativeElement.selectionEnd=this._end-t,this.nativeElement.selectionEnd=this._end,this._start=this.selectionStart,this._end=this.selectionEnd)}this._hasDropAction&&(this._start=this.selectionStart);let t="";switch(this._key){case this.platform.KEYMAP.DELETE:this._end=this._start===this._end?++this._end:this._end;break;case this.platform.KEYMAP.BACKSPACE:this._start=this.selectionStart;break;default:t=this.inputValue.substring(this._start,this.selectionEnd)}this.updateInput(t)}onPaste(){this._oldText=this.inputValue,this._start=this.selectionStart}onFocus(){this.nativeElement.readOnly||(this._focused=!0,this.showMask(this.inputValue))}onBlur(e){this._focused=!1,this.showDisplayValue(e),this._onTouchedCallback()}onDragEnter(){!this._focused&&!this._dataValue&&this.showMask(this._dataValue)}onDragLeave(){this._focused||this.showDisplayValue(this.inputValue)}onDrop(e){this._hasDropAction=!0,this._droppedData=e.dataTransfer.getData("text")}ngOnInit(){this.setPlaceholder(this.maskOptions.format)}ngAfterViewChecked(){this._composing||(this._oldText=this.inputValue)}writeValue(e){this.promptChar&&this.promptChar.length>1&&(this.maskOptions.promptChar=this.promptChar.substring(0,1)),this.inputValue=e?this.maskParser.applyMask(e,this.maskOptions):"",this.displayValuePipe&&(this.inputValue=this.displayValuePipe.transform(this.inputValue)),this._dataValue=this.includeLiterals?this.inputValue:e,this.valueChanged.emit({rawValue:e,formattedValue:this.inputValue})}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}showMask(e){this.focusedValuePipe?this.inputValue=this.focusedValuePipe.transform(e):this.inputValue=this.maskParser.applyMask(e,this.maskOptions),this._oldText=this.inputValue}setSelectionRange(e,t=e){this.nativeElement.setSelectionRange(e,t)}afterInput(){this._oldText=this.inputValue,this._hasDropAction=!1,this._start=0,this._end=0,this._key=null,this._composing=!1}setPlaceholder(e){let t=this.nativeElement.placeholder;(!t||t===this.mask)&&this.renderer.setAttribute(this.nativeElement,"placeholder",pA(e??"").mask||this.defaultMask)}updateInputValue(e){this._focused?this.showMask(e):this.displayValuePipe||(this.inputValue=this.inputValue?this.maskParser.applyMask(e,this.maskOptions):"")}updateInput(e){let t=this.maskParser.replaceInMask(this._oldText,e,this.maskOptions,this._start,this._end);this.inputValue=t.value,this._key===this.platform.KEYMAP.BACKSPACE&&(t.end=this._start),this.setSelectionRange(t.end);let i=this.maskParser.parseValueFromMask(this.inputValue,this.maskOptions);this._dataValue=this.includeLiterals?this.inputValue:i,this._onChangeCallback(this._dataValue),this.valueChanged.emit({rawValue:i,formattedValue:this.inputValue}),this.afterInput()}showDisplayValue(e){this.displayValuePipe?this.inputValue=this.displayValuePipe.transform(e):e===this.maskParser.applyMask(null,this.maskOptions)&&(this.inputValue="")}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(mA),Oc(qh),Oc(fC))},e.ɵdir=ss({type:e,selectors:[["","igxMask",""]],hostBindings:function(e,t){1&e&&ep("keydown",(function(e){return t.onKeyDown(e)}))("compositionstart",(function(){return t.onCompositionStart()}))("compositionend",(function(){return t.onCompositionEnd()}))("input",(function(e){return t.onInputChanged(e)}))("paste",(function(){return t.onPaste()}))("focus",(function(){return t.onFocus()}))("blur",(function(e){return t.onBlur(e.target.value)}))("dragenter",(function(){return t.onDragEnter()}))("dragleave",(function(){return t.onDragLeave()}))("drop",(function(e){return t.onDrop(e)}))},inputs:{mask:[0,"igxMask","mask"],promptChar:"promptChar",includeLiterals:[2,"includeLiterals","includeLiterals",Zm],displayValuePipe:"displayValuePipe",focusedValuePipe:"focusedValuePipe"},outputs:{valueChanged:"valueChanged"},exportAs:["igxMask"],standalone:!0,features:[kp([{provide:Ny,useExisting:e,multi:!0}]),Vu]}),e})(),vA=(()=>{let e=class{set centered(e){this._centered=e||this.centered}get nativeElement(){return this.elementRef.nativeElement}constructor(e,t,i,n){this.builder=e,this.elementRef=t,this.renderer=i,this.zone=n,this.rippleTarget="",this.rippleDuration=600,this.rippleDisabled=!1,this.rippleElementClass="igx-ripple__inner",this.rippleHostClass="igx-ripple",this._centered=!1,this.animationQueue=[]}onMouseDown(e){this.zone.runOutsideAngular((()=>this._ripple(e)))}setStyles(e,t){this.renderer.addClass(e,this.rippleElementClass),this.renderer.setStyle(e,"width",`${t.radius}px`),this.renderer.setStyle(e,"height",`${t.radius}px`),this.renderer.setStyle(e,"top",`${t.top}px`),this.renderer.setStyle(e,"left",`${t.left}px`),this.rippleColor&&this.renderer.setStyle(e,"background",this.rippleColor)}_ripple(e){if(this.rippleDisabled)return;let t=this.rippleTarget&&this.nativeElement.querySelector(this.rippleTarget)||this.nativeElement,i=t.getBoundingClientRect(),n=Math.max(i.width,i.height),r=Math.round(e.clientX-i.left-n/2),s=Math.round(e.clientY-i.top-n/2);this._centered&&(r=s=0);let o={radius:n,top:s,left:r},a=this.renderer.createElement("span");this.setStyles(a,o),this.renderer.addClass(t,this.rippleHostClass),this.renderer.appendChild(t,a);let l=this.builder.build([eD({opacity:.5,transform:"scale(.3)"}),Qb(this.rippleDuration,eD({opacity:0,transform:"scale(2)"}))]).create(a);this.animationQueue.push(l),l.onDone((()=>{this.animationQueue.splice(this.animationQueue.indexOf(l),1),t.removeChild(a),this.animationQueue.length<1&&this.renderer.removeClass(t,this.rippleHostClass)})),l.play()}};return e.ɵfac=function(t){return new(t||e)(Oc(rD),Oc(Nl),Oc(qh),Oc(Dl))},e.ɵdir=ss({type:e,selectors:[["","igxRipple",""]],hostBindings:function(e,t){1&e&&ep("mousedown",(function(e){return t.onMouseDown(e)}))},inputs:{rippleTarget:[0,"igxRippleTarget","rippleTarget"],rippleColor:[0,"igxRipple","rippleColor"],rippleDuration:[0,"igxRippleDuration","rippleDuration"],centered:[2,"igxRippleCentered","centered",Zm],rippleDisabled:[2,"igxRippleDisabled","rippleDisabled",Zm]},standalone:!0,features:[Vu]}),e})(),yA=["checkbox"],xA=["label"],wA=["placeholderLabel"],_A=["*"],CA="before",SA="after",bA=0,DA=(()=>{let e=class{get nativeElement(){return this.nativeInput.nativeElement}get required(){return this._required||this.nativeElement.hasAttribute("required")}set required(e){this._required=e}get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,this._onChangeCallback(this._checked))}constructor(e,t,i){this.cdr=e,this.renderer=t,this.ngControl=i,this.change=new yl,this.destroy$=new ei,this.id="igx-checkbox-"+bA++,this.labelId=`${this.id}-label`,this.tabindex=null,this.labelPosition=SA,this.disableRipple=!1,this.ariaLabelledBy=this.labelId,this.ariaLabel=null,this.cssClass="igx-checkbox",this.focused=!1,this.indeterminate=!1,this.disabled=!1,this.invalid=!1,this.readonly=!1,this.disableTransitions=!1,this.inputId=`${this.id}-input`,this._onChangeCallback=Ot,this._onTouchedCallback=Ot,this._checked=!1,this._required=!1,null!==this.ngControl&&(this.ngControl.valueAccessor=this)}ngAfterViewInit(){this.ngControl&&(this.ngControl.statusChanges.pipe(mn(this.destroy$)).subscribe(this.updateValidityState.bind(this)),(this.ngControl.control.validator||this.ngControl.control.asyncValidator)&&(this._required=this.ngControl?.control?.hasValidator(jy.required),this.cdr.detectChanges()))}onKeyUp(e){e.stopPropagation(),this.focused=!0}_onCheckboxClick(e){this.disabled||this.readonly?e.preventDefault():(this.nativeInput.nativeElement.focus(),this.indeterminate=!1,this.checked=!this.checked,this.updateValidityState(),this.change.emit({checked:this.checked,value:this.value,owner:this}))}get ariaChecked(){return this.indeterminate?"mixed":this.checked}_onCheckboxChange(e){e.stopPropagation()}onBlur(){this.focused=!1,this._onTouchedCallback(),this.updateValidityState()}writeValue(e){this._checked=e}get labelClass(){return this.labelPosition===CA?`${this.cssClass}__label--before`:`${this.cssClass}__label`}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}setDisabledState(e){this.disabled=e}getEditElement(){return this.nativeInput.nativeElement}updateValidityState(){this.ngControl?this.disabled||this.readonly||!this.ngControl.control.touched&&!this.ngControl.control.dirty?this.invalid=!1:this.invalid=this.ngControl.invalid:this.checkNativeValidity()}checkNativeValidity(){this.disabled||!this._required||this.checked||this.readonly?this.invalid=!1:this.invalid=!0}};return e.ɵfac=function(t){return new(t||e)(Oc(Pm),Oc(qh),Oc(ux,10))},e.ɵcmp=es({type:e,selectors:[["igx-checkbox"]],viewQuery:function(e,t){if(1&e&&(up(yA,7),up(xA,7),up(wA,7)),2&e){let e;gp(e=pp())&&(t.nativeInput=e.first),gp(e=pp())&&(t.nativeLabel=e.first),gp(e=pp())&&(t.placeholderLabel=e.first)}},hostVars:15,hostBindings:function(e,t){1&e&&ep("keyup",(function(e){return t.onKeyUp(e)}))("click",(function(e){return t._onCheckboxClick(e)}))("blur",(function(){return t.onBlur()})),2&e&&(tg("id",t.id),xg("igx-checkbox",t.cssClass)("igx-checkbox--focused",t.focused)("igx-checkbox--indeterminate",t.indeterminate)("igx-checkbox--checked",t.checked)("igx-checkbox--disabled",t.disabled)("igx-checkbox--invalid",t.invalid)("igx-checkbox--plain",t.disableTransitions))},inputs:{id:"id",labelId:"labelId",value:"value",name:"name",tabindex:"tabindex",labelPosition:"labelPosition",disableRipple:[2,"disableRipple","disableRipple",Zm],required:[2,"required","required",Zm],ariaLabelledBy:[0,"aria-labelledby","ariaLabelledBy"],ariaLabel:[0,"aria-label","ariaLabel"],indeterminate:[2,"indeterminate","indeterminate",Zm],checked:[2,"checked","checked",Zm],disabled:[2,"disabled","disabled",Zm],invalid:[2,"invalid","invalid",Zm],readonly:[2,"readonly","readonly",Zm],disableTransitions:[2,"disableTransitions","disableTransitions",Zm]},outputs:{change:"change"},standalone:!0,features:[kp([{provide:KR,useExisting:e,multi:!0}]),Vu,Pp],ngContentSelectors:_A,decls:11,vars:19,consts:[["checkbox",""],["label",""],["placeholderLabel",""],["type","checkbox",1,"igx-checkbox__input",3,"change","blur","id","name","value","tabindex","disabled","indeterminate","checked","required"],["igxRipple","","igxRippleTarget",".igx-checkbox__ripple",1,"igx-checkbox__composite-wrapper",3,"igxRippleDisabled","igxRippleCentered","igxRippleDuration"],[1,"igx-checkbox__composite"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"igx-checkbox__composite-mark"],["d","M4.1,12.7 9,17.6 20.3,6.3"],[1,"igx-checkbox__ripple"],[3,"id"]],template:function(e,t){if(1&e){let e=Wg();op(),Mg(0,"input",3,0),ep("change",(function(i){return Uo(e),qo(t._onCheckboxChange(i))}))("blur",(function(){return Uo(e),qo(t.onBlur())})),Ng(),Mg(2,"div",4)(3,"span",5,1),wa(),Mg(5,"svg",6),Lg(6,"path",7),Ng()(),Bo.lFrame.currentNamespace=null,Lg(7,"div",8),Ng(),Mg(8,"span",9,2),ap(10),Ng()}2&e&&(fg("id",t.inputId)("name",t.name)("value",t.value)("tabindex",t.tabindex)("disabled",t.disabled)("indeterminate",t.indeterminate)("checked",t.checked)("required",t.required),tg("aria-required",t.required)("aria-invalid",t.invalid)("aria-checked",t.ariaChecked)("aria-labelledby",t.ariaLabel?null:t.ariaLabelledBy)("aria-label",t.ariaLabel),Ac(2),fg("igxRippleDisabled",t.disableRipple)("igxRippleCentered",!0)("igxRippleDuration",300),Ac(6),wg(t.labelClass),fg("id",t.labelId))},dependencies:[vA],encapsulation:2}),e})(),IA=new Gn("dir-doc",{providedIn:"root",factory:function(){return pr(of)}}),EA=(()=>{let e=class{get value(){return this._dir}get document(){return this._document}get rtl(){return"rtl"===this._dir}constructor(e){this._document=e;let t=this._document.body?this._document.body.dir:null,i=this._document.documentElement?this._document.documentElement.dir:null,n=t||i;this._dir="ltr"===n||"rtl"===n?n:"ltr"}};return e.ɵfac=function(t){return new(t||e)(gr(IA))},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),TA=(()=>{let e=class{get value(){return this._value}set value(e){this._value=null==e?"":e}get lastSearchInfo(){return this._lastSearchInfo}constructor(e,t,i){this.element=e,this.service=t,this.renderer=i,this.groupName="",this.destroy$=new ei,this._value="",this._div=null,this._observer=null,this._nodeWasRemoved=!1,this._forceEvaluation=!1,this._activeElementIndex=-1,this._defaultCssClass="igx-highlight",this._defaultActiveCssClass="igx-highlight--active",this.service.onActiveElementChanged.pipe(mn(this.destroy$)).subscribe((e=>{this.groupName===e&&(-1!==this._activeElementIndex&&this.deactivate(),this.activateIfNecessary())}))}ngOnDestroy(){this.clearHighlight(),null!==this._observer&&this._observer.disconnect(),this.destroy$.next(!0),this.destroy$.complete()}ngOnChanges(e){e.value&&!e.value.firstChange?this._valueChanged=!0:(void 0!==e.row&&!e.row.firstChange||void 0!==e.column&&!e.column.firstChange||void 0!==e.page&&!e.page.firstChange)&&(-1!==this._activeElementIndex&&this.deactivate(),this.activateIfNecessary())}ngAfterViewInit(){this.parentElement=this.renderer.parentNode(this.element.nativeElement),!1===this.service.highlightGroupsMap.has(this.groupName)&&this.service.highlightGroupsMap.set(this.groupName,{index:-1}),this._lastSearchInfo={searchText:"",content:this.value,matchCount:0,caseSensitive:!1,exactMatch:!1},this._container=this.parentElement.firstElementChild}ngAfterViewChecked(){this._valueChanged&&(this.highlight(this._lastSearchInfo.searchText,this._lastSearchInfo.caseSensitive,this._lastSearchInfo.exactMatch),this.activateIfNecessary(),this._valueChanged=!1)}highlight(e,t,i){let n=!!t,r=!!i;return this.searchNeedsEvaluation(e,n,r)?(this._lastSearchInfo.searchText=e,this._lastSearchInfo.caseSensitive=n,this._lastSearchInfo.exactMatch=r,this._lastSearchInfo.content=this.value,""===e||null==e?this.clearHighlight():(this.clearChildElements(!0),this._lastSearchInfo.matchCount=this.getHighlightedText(e,t,i))):this._nodeWasRemoved&&(this._lastSearchInfo.searchText=e,this._lastSearchInfo.caseSensitive=n,this._lastSearchInfo.exactMatch=r),this._lastSearchInfo.matchCount}clearHighlight(){this.clearChildElements(!1),this._lastSearchInfo.searchText="",this._lastSearchInfo.matchCount=0}activateIfNecessary(){let e=this.service.highlightGroupsMap.get(this.groupName);e.index>=0&&e.column===this.column&&e.row===this.row&&EC(this.metadata,e.metadata)&&this.activate(e.index)}observe(){if(null===this._observer){let e=e=>{e.forEach((e=>{Array.from(e.removedNodes).forEach((e=>{e===this._container&&(this._nodeWasRemoved=!0,this.clearChildElements(!1))})),Array.from(e.addedNodes).forEach((e=>{e===this.parentElement.firstElementChild&&this._nodeWasRemoved&&(this._container=this.parentElement.firstElementChild,this._nodeWasRemoved=!1,this._forceEvaluation=!0,this.highlight(this._lastSearchInfo.searchText,this._lastSearchInfo.caseSensitive,this._lastSearchInfo.exactMatch),this._forceEvaluation=!1,this.activateIfNecessary(),this._observer.disconnect(),this._observer=null)}))}))};this._observer=new MutationObserver(e),this._observer.observe(this.parentElement,{childList:!0})}}activate(e){if(this.deactivate(),null!==this._div){let t=this._div.querySelectorAll("span");if(this._activeElementIndex=e,t.length<=e)return;let i=t[e];this.renderer.addClass(i,this._defaultActiveCssClass),this.renderer.addClass(i,this.activeCssClass)}}deactivate(){if(-1===this._activeElementIndex)return;let e=this._div.querySelectorAll("span");if(e.length<=this._activeElementIndex)return void(this._activeElementIndex=-1);let t=e[this._activeElementIndex];this.renderer.removeClass(t,this._defaultActiveCssClass),this.renderer.removeClass(t,this.activeCssClass),this._activeElementIndex=-1}clearChildElements(e){this.renderer.setProperty(this.element.nativeElement,"hidden",e),null!==this._div&&(this.renderer.removeChild(this.parentElement,this._div),this._div=null,this._activeElementIndex=-1)}getHighlightedText(e,t,i){this.appendDiv();let n=String(this.value),r=t?n:n.toLowerCase(),s=t?e:e.toLowerCase(),o=0;if(i)r===s?(this.appendSpan(`<span class="${this._defaultCssClass} ${this.cssClass?this.cssClass:""}">${n}</span>`),o++):this.appendText(n);else{let e=r.indexOf(s,0),t=0;for(;-1!==e;){let i=e,a=e+s.length;this.appendText(n.substring(t,i)),this.appendSpan(`<span class="${this._defaultCssClass} ${this.cssClass?this.cssClass:""}">${n.substring(i,a)}</span>`),t=a,o++,e=r.indexOf(s,a)}this.appendText(n.substring(t,n.length))}return o}appendText(e){let t=this.renderer.createText(e);this.renderer.appendChild(this._div,t)}appendSpan(e){let t=this.renderer.createElement("span");this.renderer.appendChild(this._div,t),this.renderer.setProperty(t,"outerHTML",e)}appendDiv(){this._div=this.renderer.createElement("div"),this.containerClass&&this.renderer.addClass(this._div,this.containerClass),this.renderer.appendChild(this.parentElement,this._div)}searchNeedsEvaluation(e,t,i){let n=this._lastSearchInfo.searchText;return!this._nodeWasRemoved&&(null===n||n!==e||this._lastSearchInfo.content!==this.value||this._lastSearchInfo.caseSensitive!==t||this._lastSearchInfo.exactMatch!==i||this._forceEvaluation)}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(rw),Oc(qh))},e.ɵdir=ss({type:e,selectors:[["","igxTextHighlight",""]],inputs:{cssClass:"cssClass",activeCssClass:"activeCssClass",containerClass:"containerClass",groupName:"groupName",value:"value",row:"row",column:"column",metadata:"metadata"},standalone:!0,features:[yo]}),e})(),RA=(()=>{let e=class{get nativeElement(){return this.element.nativeElement}constructor(e){this.element=e,this.selected=!0}onFocus(){this.trigger()}trigger(){this.selected&&this.nativeElement.value.length&&requestAnimationFrame((()=>this.nativeElement.select()))}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl))},e.ɵdir=ss({type:e,selectors:[["","igxTextSelection",""]],hostBindings:function(e,t){1&e&&ep("focus",(function(){return t.onFocus()}))},inputs:{selected:[2,"igxTextSelection","selected",Zm]},exportAs:["igxTextSelection"],standalone:!0,features:[Vu]}),e})(),AA=(()=>{let e=class{constructor(e,t,i){this._viewContainerRef=e,this._zone=t,this.cdr=i,this.viewCreated=new yl,this.viewMoved=new yl,this.cachedViewLoaded=new yl,this.beforeViewDetach=new yl,this._embeddedViewsMap=new Map}ngOnChanges(e){switch(this._getActionType(e)){case kA.CreateView:this._recreateView();break;case kA.MoveView:this._moveView();break;case kA.UseCachedView:this._useCachedView();break;case kA.UpdateViewContext:this._updateExistingContext(this.igxTemplateOutletContext)}}cleanCache(){this._embeddedViewsMap.forEach((e=>{e.forEach((e=>{e.destroyed||e.destroy()})),e.clear()})),this._embeddedViewsMap.clear()}cleanView(e){let t=this._embeddedViewsMap.get(e.type)?.get(e.id);t&&(t.destroy(),this._embeddedViewsMap.get(e.type).delete(e.id))}_recreateView(){let e=this._viewRef?this._viewContainerRef.indexOf(this._viewRef):-1;-1!==e&&(this.beforeViewDetach.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),this._viewContainerRef.detach(e)),this.igxTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.igxTemplateOutlet,this.igxTemplateOutletContext),this.viewCreated.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),this.igxTemplateOutletContext.templateID&&(this._embeddedViewsMap.get(this.igxTemplateOutletContext.templateID.type)?.get(this.igxTemplateOutletContext.templateID.id)||this._embeddedViewsMap.set(this.igxTemplateOutletContext.templateID.type,new Map([[this.igxTemplateOutletContext.templateID.id,this._viewRef]]))))}_moveView(){let e=this.igxTemplateOutletContext.moveView,t=this.igxTemplateOutletContext.owner;e!==this._viewRef?(-1!==t._viewContainerRef.indexOf(e)&&(this.beforeViewDetach.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),t._viewContainerRef.detach(t._viewContainerRef.indexOf(e))),this._viewRef&&-1!==this._viewContainerRef.indexOf(this._viewRef)&&(this.beforeViewDetach.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),this._viewContainerRef.detach(this._viewContainerRef.indexOf(this._viewRef))),this._viewRef=e,this._viewContainerRef.insert(e,0),this._updateExistingContext(this.igxTemplateOutletContext),this.viewMoved.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext})):this._updateExistingContext(this.igxTemplateOutletContext)}_useCachedView(){let e=this.igxTemplateOutletContext.templateID,t=e?this._embeddedViewsMap.get(e.type)?.get(e.id):null;this._viewContainerRef.length>0&&(this.beforeViewDetach.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),this._viewContainerRef.detach(this._viewContainerRef.indexOf(this._viewRef))),this._viewRef=t;let i=this._cloneContext(t.context);this._viewContainerRef.insert(this._viewRef,0),this._updateExistingContext(this.igxTemplateOutletContext),this.cachedViewLoaded.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext,oldContext:i})}_shouldRecreateView(e){let t=e.igxTemplateOutletContext;return!!e.igxTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){let t=Object.keys(e.previousValue||{}),i=Object.keys(e.currentValue||{});if(t.length===i.length){for(let e of i)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.igxTemplateOutletContext[t]}_cloneContext(e){let t={};for(let i of Object.keys(e))t[i]=e[i];return t}_getActionType(e){let t=this.igxTemplateOutletContext.moveView,i=this.igxTemplateOutletContext.templateID,n=i?this._embeddedViewsMap.get(i.type)?.get(i.id):null,r=this._shouldRecreateView(e);return t?kA.MoveView:r&&n?kA.UseCachedView:!this._viewRef||r?kA.CreateView:this.igxTemplateOutletContext?kA.UpdateViewContext:void 0}};return e.ɵfac=function(t){return new(t||e)(Oc(iu),Oc(Dl),Oc(Pm))},e.ɵdir=ss({type:e,selectors:[["","igxTemplateOutlet",""]],inputs:{igxTemplateOutletContext:"igxTemplateOutletContext",igxTemplateOutlet:"igxTemplateOutlet"},outputs:{viewCreated:"viewCreated",viewMoved:"viewMoved",cachedViewLoaded:"cachedViewLoaded",beforeViewDetach:"beforeViewDetach"},standalone:!0,features:[yo]}),e})(),kA=function(e){return e[e.CreateView=0]="CreateView",e[e.MoveView=1]="MoveView",e[e.UseCachedView=2]="UseCachedView",e[e.UpdateViewContext=3]="UpdateViewContext",e}(kA||{}),OA=(()=>{let e=class{get collapsed(){return this._collapsed}get element(){return this.elementRef.nativeElement}get hiddenClass(){return this.collapsed}get hiddenWebkitClass(){let e=this.platform?.isSafari,t=this.platform?.browserVersion;return this.collapsed&&e&&!!t&&t<17.5}get defaultClass(){return!this.collapsed}constructor(e,t,i,n,r){this.elementRef=e,this.cdr=t,this.overlayService=i,this.navigationService=n,this.platform=r,this.opened=new yl,this.opening=new yl,this.closed=new yl,this.closing=new yl,this.appended=new yl,this._collapsed=!0,this.destroy$=new ei,this._overlaySubFilter=[on((e=>e.id===this._overlayId)),mn(this.destroy$)],this.overlayClosed=e=>{this._collapsed=!0,this.cdr.detectChanges(),this.unsubscribe(),this.overlayService.detach(this.overlayId);let t={owner:this,id:this._overlayId,event:e.event};delete this._overlayId,this.closed.emit(t),this.cdr.markForCheck()}}open(e){let t=this.overlayService.getOverlayById(this._overlayId),i=t?.openAnimationPlayer?.hasStarted()??!1,n=t?.closeAnimationPlayer?.hasStarted()??!1;if(i||!this._collapsed&&!n)return;this._collapsed=!1,this.cdr.detectChanges(),t||(this.unsubscribe(),this.subscribe(),this._overlayId=this.overlayService.attach(this.elementRef,e));let r={cancel:!1,owner:this,id:this._overlayId};if(this.opening.emit(r),r.cancel)return this.unsubscribe(),this.overlayService.detach(this._overlayId),this._collapsed=!0,delete this._overlayId,void this.cdr.detectChanges();this.overlayService.show(this._overlayId,e)}close(e){let t=this.overlayService.getOverlayById(this._overlayId)?.closeAnimationPlayer?.hasStarted()||!1;this._collapsed||t||this.overlayService.hide(this._overlayId,e)}toggle(e){this.collapsed||this.isClosing?this.open(e):this.close()}get isClosing(){let e=this.overlayService.getOverlayById(this._overlayId);return!!e&&e.closeAnimationPlayer?.hasStarted()}get overlayId(){return this._overlayId}reposition(){this.overlayService.reposition(this._overlayId)}setOffset(e,t,i){this.overlayService.setOffset(this._overlayId,e,t,i)}ngOnInit(){this.navigationService&&this.id&&this.navigationService.add(this.id,this)}ngOnDestroy(){this.navigationService&&this.id&&this.navigationService.remove(this.id),this._overlayId&&this.overlayService.detach(this._overlayId),this.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete()}subscribe(){this._overlayContentAppendedSub=this.overlayService.contentAppended.pipe(un(),mn(this.destroy$)).subscribe((()=>{let e={owner:this,id:this._overlayId};this.appended.emit(e)})),this._overlayOpenedSub=this.overlayService.opened.pipe(...this._overlaySubFilter).subscribe((()=>{let e={owner:this,id:this._overlayId};this.opened.emit(e)})),this._overlayClosingSub=this.overlayService.closing.pipe(...this._overlaySubFilter).subscribe((e=>{let t={cancel:!1,event:e.event,owner:this,id:this._overlayId};this.closing.emit(t),e.cancel=t.cancel,e.cancel||this.clearSubscription(this._overlayClosingSub)})),this._overlayClosedSub=this.overlayService.closed.pipe(...this._overlaySubFilter).subscribe(this.overlayClosed)}unsubscribe(){this.clearSubscription(this._overlayOpenedSub),this.clearSubscription(this._overlayClosingSub),this.clearSubscription(this._overlayClosedSub),this.clearSubscription(this._overlayContentAppendedSub)}clearSubscription(e){e&&!e.closed&&e.unsubscribe()}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(Pm),Oc(YE),Oc(Fy,8),Oc(fC,8))},e.ɵdir=ss({type:e,selectors:[["","igxToggle",""]],hostVars:7,hostBindings:function(e,t){2&e&&(tg("aria-hidden",t.hiddenClass),xg("igx-toggle--hidden",t.hiddenClass)("igx-toggle--hidden-webkit",t.hiddenWebkitClass)("igx-toggle",t.defaultClass))},inputs:{id:"id"},outputs:{opened:"opened",opening:"opening",closed:"closed",closing:"closing",appended:"appended"},exportAs:["toggle"],standalone:!0}),e})(),PA=(()=>{let e=class{set target(e){null!==e&&""!==e&&(this._target=e)}get target(){return"string"==typeof this._target?this.navigationService.get(this._target):this._target}constructor(e,t){this.element=e,this.navigationService=t}onClick(){this.outlet&&(this._overlayDefaults.outlet=this.outlet);let e=Object.assign({},this._overlayDefaults,this.overlaySettings);this.updateOverlaySettings(e),this.target.toggle(e)}ngOnInit(){let e=this.element.nativeElement;this._overlayDefaults={target:e,positionStrategy:new zE,scrollStrategy:new XE,closeOnOutsideClick:!0,modal:!1,excludeFromOutsideClick:[e]}}updateOverlaySettings(e){if(e&&e.positionStrategy){let t=e.positionStrategy.clone();e.target=this.element.nativeElement,e.positionStrategy=t}return e}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(Fy,8))},e.ɵdir=ss({type:e,selectors:[["","igxToggleAction",""]],hostBindings:function(e,t){1&e&&ep("click",(function(){return t.onClick()}))},inputs:{overlaySettings:"overlaySettings",outlet:[0,"igxToggleOutlet","outlet"],target:[0,"igxToggleAction","target"]},exportAs:["toggle-action"],standalone:!0}),e})(),FA=(()=>{let e=class{constructor(e){this.element=e}get nativeElement(){return this.element.nativeElement}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl))},e.ɵdir=ss({type:e,selectors:[["","igxOverlayOutlet",""]],exportAs:["overlay-outlet"],standalone:!0}),e})(),VA=0,MA=(()=>{let e=class extends OA{get hiddenClass(){return this.collapsed}get defaultClass(){return!this.collapsed}get role(){return"tooltip"}constructor(e,t,i,n){super(e,t,i,n),this.id="igx-tooltip-"+VA++,this.toBeHidden=!1,this.toBeShown=!1}forceOpen(e){let t=this.overlayService.getOverlayById(this._overlayId);if(t&&t.openAnimationPlayer)t.openAnimationPlayer.finish(),t.openAnimationPlayer.reset(),t.openAnimationPlayer=null;else if(this.collapsed){let t=e.positionStrategy.settings.openAnimation;e.positionStrategy.settings.openAnimation=null,this.open(e),e.positionStrategy.settings.openAnimation=t}}forceClose(e){let t=this.overlayService.getOverlayById(this._overlayId);if(t&&t.closeAnimationPlayer)t.closeAnimationPlayer.finish(),t.closeAnimationPlayer.reset(),t.closeAnimationPlayer=null;else if(!this.collapsed){let t=e.positionStrategy.settings.closeAnimation;e.positionStrategy.settings.closeAnimation=null,this.close(),e.positionStrategy.settings.closeAnimation=t}}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(Pm),Oc(YE),Oc(Fy,8))},e.ɵdir=ss({type:e,selectors:[["","igxTooltip",""]],hostVars:6,hostBindings:function(e,t){2&e&&(tg("id",t.id)("role",t.role),xg("igx-tooltip--hidden",t.hiddenClass)("igx-tooltip",t.defaultClass))},inputs:{context:"context",id:"id"},exportAs:["tooltip"],standalone:!0,features:[Ru]}),e})(),NA=(()=>{let e=class{};return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=es({type:e,selectors:[["igx-tooltip"]],viewQuery:function(e,t){if(1&e&&up(MA,7),2&e){let e;gp(e=pp())&&(t.tooltip=e.first)}},standalone:!0,features:[Pp],decls:2,vars:1,consts:[["igxTooltip",""]],template:function(e,t){1&e&&(Mg(0,"span",0),fp(1),Ng()),2&e&&(Ac(),yp(t.content))},dependencies:[MA],encapsulation:2}),e})(),LA=(()=>{let e=class extends PA{set target(e){e instanceof MA&&(this._target=e)}get target(){return"string"==typeof this._target?this._navigationService.get(this._target):this._target}set tooltip(e){if(!this.target&&("string"==typeof e||e instanceof String)){let t=this._viewContainerRef.createComponent(NA);t.instance.content=e,this._target=t.instance.tooltip}}get nativeElement(){return this._element.nativeElement}get tooltipHidden(){return!this.target||this.target.collapsed}constructor(e,t,i){super(e,t),this._element=e,this._navigationService=t,this._viewContainerRef=i,this.showDelay=500,this.hideDelay=500,this.tooltipDisabled=!1,this.tooltipShow=new yl,this.tooltipHide=new yl,this.destroy$=new ei}onClick(){this.target.collapsed||this.target.forceClose(this.mergedOverlaySettings)}onMouseEnter(){if(this.tooltipDisabled||(this.checkOutletAndOutsideClick(),this.preMouseEnterCheck()))return;let e={target:this,tooltip:this.target,cancel:!1};this.tooltipShow.emit(e),!e.cancel&&(this.target.toBeShown=!0,this.target.timeoutId=setTimeout((()=>{this.target.open(this.mergedOverlaySettings),this.target.toBeShown=!1}),this.showDelay))}onMouseLeave(){this.tooltipDisabled||(this.checkOutletAndOutsideClick(),this.preMouseLeaveCheck()||this.target.collapsed)||(this.target.toBeHidden=!0,this.target.timeoutId=setTimeout((()=>{this.target.close(),this.target.toBeHidden=!1}),this.hideDelay))}onTouchStart(){this.tooltipDisabled||this.showTooltip()}onDocumentTouchStart(e){this.tooltipDisabled||this.nativeElement!==e.target&&!this.nativeElement.contains(e.target)&&this.hideTooltip()}ngOnInit(){super.ngOnInit();let e={horizontalDirection:OE.Center,horizontalStartPoint:OE.Center,openAnimation:nD(wI,{params:{duration:"150ms"}}),closeAnimation:nD(pD,{params:{duration:"75ms"}})};this._overlayDefaults.positionStrategy=new GE(e),this._overlayDefaults.closeOnOutsideClick=!1,this._overlayDefaults.closeOnEscape=!0,this.target.closing.pipe(mn(this.destroy$)).subscribe((e=>{let t={target:this,tooltip:this.target,cancel:!1};this.tooltipHide.emit(t),t.cancel&&(e.cancel=!0)}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}showTooltip(){clearTimeout(this.target.timeoutId),this.target.collapsed||(this.target.forceClose(this.mergedOverlaySettings),this.target.toBeHidden=!1);let e={target:this,tooltip:this.target,cancel:!1};this.tooltipShow.emit(e),!e.cancel&&(this.target.toBeShown=!0,this.target.timeoutId=setTimeout((()=>{this.target.open(this.mergedOverlaySettings),this.target.toBeShown=!1}),this.showDelay))}hideTooltip(){this.target.collapsed&&this.target.toBeShown&&clearTimeout(this.target.timeoutId),!this.target.collapsed&&!this.target.toBeHidden&&(this.target.toBeHidden=!0,this.target.timeoutId=setTimeout((()=>{this.target.close(),this.target.toBeHidden=!1}),this.hideDelay))}checkOutletAndOutsideClick(){this.outlet&&(this._overlayDefaults.outlet=this.outlet)}get mergedOverlaySettings(){return Object.assign({},this._overlayDefaults,this.overlaySettings)}preMouseEnterCheck(){return this.target.toBeShown&&(clearTimeout(this.target.timeoutId),this.target.toBeShown=!1),(!this.target.collapsed||this.target.toBeHidden)&&(clearTimeout(this.target.timeoutId),this.target.forceClose(this.mergedOverlaySettings),this.target.toBeHidden=!1),!1}preMouseLeaveCheck(){return clearTimeout(this.target.timeoutId),!!this.target.toBeShown&&(this.target.toBeShown=!1,this.target.toBeHidden=!1,!0)}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(Fy,8),Oc(iu))},e.ɵdir=ss({type:e,selectors:[["","igxTooltipTarget",""]],hostBindings:function(e,t){1&e&&ep("click",(function(){return t.onClick()}))("mouseenter",(function(){return t.onMouseEnter()}))("mouseleave",(function(){return t.onMouseLeave()}))("touchstart",(function(){return t.onTouchStart()}))("touchstart",(function(e){return t.onDocumentTouchStart(e)}),!1,ec)},inputs:{showDelay:"showDelay",hideDelay:"hideDelay",tooltipDisabled:[2,"tooltipDisabled","tooltipDisabled",Zm],target:[0,"igxTooltipTarget","target"],tooltip:"tooltip"},outputs:{tooltipShow:"tooltipShow",tooltipHide:"tooltipHide"},exportAs:["tooltipTarget"],standalone:!0,features:[Vu,Ru]}),e})(),HA=function(e){return e.Date="date",e.Month="month",e.Year="year",e.Hours="hours",e.Minutes="minutes",e.Seconds="seconds",e.FractionalSeconds="fractionalSeconds",e.AmPm="ampm",e.Literal="literal",e}(HA||{}),zA=["h","H","m","s","S","t","T","a"],BA=["d","D","M","y","Y"],GA=(()=>{let e=class e{static parseValueFromMask(t,i,n){let r={};if(i.forEach((i=>{let s=parseInt(e.getCleanVal(t,i,n),10);s||(s=i.type===HA.Date||i.type===HA.Month?1:0),r[i.type]=s})),r[HA.Month]-=1,r[HA.Month]<0||11<r[HA.Month]||(r[HA.Year]<50&&(r[HA.Year]+=2e3),r[HA.Date]>e.daysInMonth(r[HA.Year],r[HA.Month]))||r[HA.Hours]>23||r[HA.Minutes]>59||r[HA.Seconds]>59||r[HA.FractionalSeconds]>999)return null;let s=i.find((e=>e.type===HA.AmPm));if(s&&(r[HA.Hours]%=12),s){let i=e.getCleanVal(t,s,n);e.isPm(i)&&(r[HA.Hours]+=12)}return new Date(r[HA.Year]||2e3,r[HA.Month]||0,r[HA.Date]||1,r[HA.Hours]||0,r[HA.Minutes]||0,r[HA.Seconds]||0,r[HA.FractionalSeconds]||0)}static parseDateTimeFormat(t,i){let n=t||e.getDefaultInputFormat(i),r=[],s=Array.from(n),o=null,a=0,l=!1;for(let t=0;t<s.length;t++,a++){let i=e.determineDatePart(s[t]);if(o){if(o.type===i&&(o.format+=s[t],t<s.length-1))continue;o.type===HA.AmPm&&-1!==o.format.indexOf("a")&&(o=e.simplifyAmPmFormat(o)),e.addCurrentPart(o,r),l=!0,a=o.end,t===s.length-1&&o.type!==i&&(l=!1)}o={start:a,end:a+s[t].length,type:i,format:s[t]}}l||(o.type===HA.AmPm&&(o=e.simplifyAmPmFormat(o)),e.addCurrentPart(o,r));let d=r.filter((e=>e.type===HA.Year))[0];return d&&"yy"!==d.format&&(d.end+=4-d.format.length,d.format="yyyy"),r}static simplifyAmPmFormat(e){return e.format=5===e.format.length?"a":"aa",e.end=e.start+e.format.length,ke({},e)}static getPartValue(t,i,n){let r;switch(i.type){case HA.Date:r=t.getDate();break;case HA.Month:r=t.getMonth()+1;break;case HA.Year:r=2===n?this.prependValue(parseInt(t.getFullYear().toString().slice(-2),10),n,"0"):t.getFullYear();break;case HA.Hours:r=-1!==i.format.indexOf("h")?this.prependValue(this.toTwelveHourFormat(t.getHours().toString()),n,"0"):t.getHours();break;case HA.Minutes:r=t.getMinutes();break;case HA.Seconds:r=t.getSeconds();break;case HA.FractionalSeconds:r=t.getMilliseconds();break;case HA.AmPm:r=e.getAmPmValue(n,t.getHours()<12)}return i.type!==HA.AmPm?this.prependValue(r,n,"0"):r}static getAmPmValue(e,t){return t?1===e?"a":"AM":1===e?"p":"PM"}static isAm(e){return(e=e.toLowerCase())==="AM".toLowerCase()||e==="a".toLowerCase()}static isPm(e){return(e=e.toLowerCase())==="PM".toLowerCase()||e==="p".toLowerCase()}static getDefaultInputFormat(t){if(t=t||e.DEFAULT_LOCALE,!Intl||!Intl.DateTimeFormat||!Intl.DateTimeFormat.prototype.formatToParts)return e.DEFAULT_INPUT_FORMAT;let i=e.getDefaultLocaleMask(t);return i.forEach((t=>{t.type!==HA.Year&&t.type!==e.SEPARATOR&&(t.formatType="2-digit")})),e.getMask(i)}static formatDate(t,i,n,r){let s;try{s=Af(t,i,n,r)}catch{e.logMissingLocaleSettings(n),s=new Intl.DateTimeFormat(n).format(t)}return s}static getLocaleDateFormat(t,i){let n,r=Object.keys(hf).find((e=>e.toLowerCase()===i?.toLowerCase().replace("date","")));if(!r)return i;try{n=pf(t,hf[r])}catch{e.logMissingLocaleSettings(t),n=e.getDefaultInputFormat(t)}return n}static isDateOrTimeChar(e){return-1!==BA.indexOf(e)||-1!==zA.indexOf(e)}static spinDate(t,i,n){let r=e.daysInMonth(i.getFullYear(),i.getMonth()),s=i.getDate()+t;s>r?s=n?s%r:r:s<1&&(s=n?r+s%r:1),i.setDate(s)}static spinMonth(t,i,n){let r=e.daysInMonth(i.getFullYear(),i.getMonth()+t);i.getDate()>r&&i.setDate(r);let s=i.getMonth()+t;s>11?s=n?s%11-1:11:s<0&&(s=n?11+s%11+1:0),i.setMonth(s)}static spinYear(t,i){let n=e.daysInMonth(i.getFullYear()+t,i.getMonth());i.getDate()>n&&i.setDate(n),i.setFullYear(i.getFullYear()+t)}static spinHours(e,t,i){let n=t.getHours()+e;n>23?n=i?n%23-1:23:n<0&&(n=i?23+n%23+1:0),t.setHours(n)}static spinMinutes(e,t,i){let n=t.getMinutes()+e;n>59?n=i?n%59-1:59:n<0&&(n=i?59+n%59+1:0),t.setMinutes(n)}static spinSeconds(e,t,i){let n=t.getSeconds()+e;n>59?n=i?n%59-1:59:n<0&&(n=i?59+n%59+1:0),t.setSeconds(n)}static spinFractionalSeconds(e,t,i){let n=t.getMilliseconds()+e;n>999?n=i?n%999-1:999:n<0&&(n=i?999+n%999+1:0),t.setMilliseconds(n)}static spinAmPm(t,i,n){return e.isAm(n)?t=new Date(t.setHours(t.getHours()+12)):e.isPm(n)&&(t=new Date(t.setHours(t.getHours()-12))),t.getDate()!==i.getDate()?i:t}static greaterThanMaxValue(e,t,i=!0,n=!0){if(i&&n)return e.getTime()>t.getTime();let r=new Date(e.getTime()),s=new Date(t.getTime());return i||(r.setHours(0,0,0,0),s.setHours(0,0,0,0)),n||(r.setFullYear(0,0,0),s.setFullYear(0,0,0)),r.getTime()>s.getTime()}static lessThanMinValue(e,t,i=!0,n=!0){if(i&&n)return e.getTime()<t.getTime();let r=new Date(e.getTime()),s=new Date(t.getTime());return i||(r.setHours(0,0,0,0),s.setHours(0,0,0,0)),n||(r.setFullYear(0,0,0),s.setFullYear(0,0,0)),r.getTime()<s.getTime()}static validateMinMax(t,i,n,r=!0,s=!0){if(!t)return null;let o={},a=e.isValidDate(i)?i:e.parseIsoDate(i),l=e.isValidDate(n)?n:e.parseIsoDate(n);return a&&t&&e.lessThanMinValue(t,a,r,s)&&Object.assign(o,{minValue:!0}),l&&t&&e.greaterThanMaxValue(t,l,r,s)&&Object.assign(o,{maxValue:!0}),o}static parseIsoDate(e){let t=/^\d{4}/g;if(t.test(e))return new Date(e+""+(-1===e.indexOf("T")?"T00:00:00":""));if(t=/^\d{2}/g,t.test(e)){let t=(new Date).toISOString(),[i,n]=t.split("T");return new Date(`${i}T${e}`)}return null}static isValidDate(e){return!!pC(e)&&!isNaN(e.getTime())}static addCurrentPart(t,i){e.ensureLeadingZero(t),t.end=t.start+t.format.length,i.push(t)}static daysInMonth(e,t){return new Date(e,t+1,0).getDate()}static trimEmptyPlaceholders(e,t){return e.replace(new RegExp(t||"_","g"),"")}static getMask(t){let i=[];for(let n of t){switch(n.formatType){case"numeric":"day"===n.type?i.push("d"):"month"===n.type?i.push("M"):i.push("yyyy");break;case"2-digit":"day"===n.type?i.push("dd"):"month"===n.type?i.push("MM"):i.push("yy")}n.type===e.SEPARATOR&&i.push(n.value)}return i.join("")}static logMissingLocaleSettings(e){console.warn(`Missing locale data for the locale ${e}. Please refer to https://angular.io/guide/i18n#i18n-pipes`),console.warn("Using default browser locale settings.")}static prependValue(e,t,i){return(i+e.toString()).slice(-t)}static toTwelveHourFormat(e,t="_"){let i=parseInt(e.replace(new RegExp(t,"g"),"0"),10);return i>12?i-=12:0===i&&(i=12),i}static ensureLeadingZero(e){switch(e.type){case HA.Date:case HA.Month:case HA.Hours:case HA.Minutes:case HA.Seconds:1===e.format.length&&(e.format=e.format.repeat(2));break;case HA.FractionalSeconds:e.format=e.format[0].repeat(3)}}static getCleanVal(t,i,n){return e.trimEmptyPlaceholders(t.substring(i.start,i.end),n)}static determineDatePart(e){switch(e){case"d":case"D":return HA.Date;case"M":return HA.Month;case"y":case"Y":return HA.Year;case"h":case"H":return HA.Hours;case"m":return HA.Minutes;case"s":return HA.Seconds;case"S":return HA.FractionalSeconds;case"a":case"t":case"T":return HA.AmPm;default:return HA.Literal}}static getDefaultLocaleMask(t){let i=[],n=new Intl.DateTimeFormat(t),r=n.formatToParts(new Date);for(let t of r)t.type===e.SEPARATOR?i.push({type:e.SEPARATOR,value:t.value}):i.push({type:t.type});let s=n.resolvedOptions();for(let e of i)switch(e.type){case"day":e.formatType=s.day;break;case"month":e.formatType=s.month;break;case"year":e.formatType=s.year}return e.fillDatePartsPositions(i),i}static fillDatePartsPositions(t){let i=0;for(let n of t)if("day"===n.type||"month"===n.type)n.position=[i,i+2],i+=2;else if("year"===n.type)switch(n.formatType){case"numeric":n.position=[i,i+4],i+=4;break;case"2-digit":n.position=[i,i+2],i+=2}else n.type===e.SEPARATOR&&(n.position=[i,i+1],i++)}};return e.DEFAULT_INPUT_FORMAT="MM/dd/yyyy",e.DEFAULT_TIME_INPUT_FORMAT="hh:mm tt",e.SEPARATOR="literal",e.DEFAULT_LOCALE="en",e})(),$A=(()=>{let e=class extends fA{get minValue(){return this._minValue}set minValue(e){this._minValue=e,this._onValidatorChange()}get maxValue(){return this._maxValue}set maxValue(e){this._maxValue=e,this._onValidatorChange()}set inputFormat(e){e&&(this.setMask(e),this._inputFormat=e)}get inputFormat(){return this._inputFormat||this._defaultInputFormat}set value(e){this._value=e,this.setDateValue(e),this.onChangeCallback(e),this.updateMask()}get value(){return this._value}get datePartDeltas(){return Object.assign({},this._datePartDeltas,this.spinDelta)}get emptyMask(){return this.maskParser.applyMask(null,this.maskOptions)}get targetDatePart(){return this.document.activeElement===this.nativeElement||this.document.activeElement?.shadowRoot?.activeElement===this.nativeElement?this._inputDateParts.find((e=>e.start<=this.selectionStart&&this.selectionStart<=e.end&&e.type!==HA.Literal))?.type:this._inputDateParts.some((e=>e.type===HA.Date))?HA.Date:this._inputDateParts.some((e=>e.type===HA.Hours))?HA.Hours:void 0}get hasDateParts(){return this._inputDateParts.some((e=>e.type===HA.Date||e.type===HA.Month||e.type===HA.Year))}get hasTimeParts(){return this._inputDateParts.some((e=>e.type===HA.Hours||e.type===HA.Minutes||e.type===HA.Seconds||e.type===HA.FractionalSeconds))}get dateValue(){return this._dateValue}constructor(e,t,i,n,r,s){super(t,i,e,n),this._document=r,this._locale=s,this.spinLoop=!0,this.valueChange=new yl,this.validationFailed=new yl,this._datePartDeltas={date:1,month:1,year:1,hours:1,minutes:1,seconds:1,fractionalSeconds:1},this.onChangeCallback=Ot,this._onValidatorChange=Ot,this.document=this._document,this.locale=this.locale||this._locale}onWheel(e){this._focused&&(e.preventDefault(),e.stopPropagation(),e.deltaY>0?this.decrement():this.increment())}ngOnInit(){this.updateDefaultFormat(),this.setMask(this.inputFormat),this.updateMask()}ngOnChanges(e){e.locale&&!e.locale.firstChange&&(this.updateDefaultFormat(),this._inputFormat||(this.setMask(this.inputFormat),this.updateMask())),e.inputFormat&&!e.inputFormat.firstChange&&this.updateMask()}clear(){this._onClear=!0,this.updateValue(null),this.setSelectionRange(0,this.inputValue.length),this._onClear=!1}increment(e,t){let i=e||this.targetDatePart;if(!i)return;let n=this.trySpinValue(i,t);this.updateValue(n)}decrement(e,t){let i=e||this.targetDatePart;if(!i)return;let n=this.trySpinValue(i,t,!0);this.updateValue(n)}writeValue(e){this._value=e,this.setDateValue(e),this.updateMask()}validate(e){if(!e.value)return null;if(pC(e.value)&&!GA.isValidDate(e.value))return{value:!0};let t={},i=GA.isValidDate(e.value)?e.value:GA.parseIsoDate(e.value),n=GA.isValidDate(this.minValue)?this.minValue:this.parseDate(this.minValue),r=GA.isValidDate(this.maxValue)?this.maxValue:this.parseDate(this.maxValue);return(n||r)&&(t=GA.validateMinMax(i,n,r,this.hasTimeParts,this.hasDateParts)),Object.keys(t).length>0?t:null}registerOnValidatorChange(e){this._onValidatorChange=e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}setDisabledState(e){}onCompositionEnd(){super.onCompositionEnd(),this.updateValue(this.parseDate(this.inputValue)),this.updateMask()}onInputChanged(e){if(super.onInputChanged(e),!this._composing)if(this.inputIsComplete()){let e=this.parseDate(this.inputValue);if(GA.isValidDate(e))this.updateValue(e);else{let t={oldValue:this.value&&new Date(this.dateValue.getTime()),newValue:e,userInput:this.inputValue};this.validationFailed.emit(t),GA.isValidDate(t.newValue)?this.updateValue(t.newValue):this.updateValue(null)}}else this.updateValue(null)}onKeyDown(e){if(this.nativeElement.readOnly)return;super.onKeyDown(e);let t=e.key;if(!e.altKey){if(t===this.platform.KEYMAP.ARROW_DOWN||t===this.platform.KEYMAP.ARROW_UP)return void this.spin(e);e.ctrlKey&&t===this.platform.KEYMAP.SEMICOLON&&this.updateValue(new Date),this.moveCursor(e)}}onFocus(){this.nativeElement.readOnly||(this._focused=!0,this._onTouchedCallback(),this.updateMask(),super.onFocus(),this.nativeElement.select())}onBlur(e){this._focused=!1,this.inputIsComplete()||this.inputValue===this.emptyMask?this.updateMask():this.updateValue(this.parseDate(this.inputValue)),!this.displayValuePipe&&super.onBlur(e)}setPlaceholder(e){}updateDefaultFormat(){this._defaultInputFormat=GA.getDefaultInputFormat(this.locale)}updateMask(){if(this._focused){let e=this.selectionEnd;this.inputValue=this.getMaskedValue(),this.setSelectionRange(e)}else{if(!this.dateValue||!GA.isValidDate(this.dateValue))return void(this.inputValue="");if(this.displayValuePipe)return void(this.inputValue=this.displayValuePipe.transform(this.value));let e=this.displayFormat||this.inputFormat;this.inputValue=e?GA.formatDate(this.dateValue,e.replace("tt","aa"),this.locale):this.dateValue.toLocaleString()}}setMask(e){let t=this._inputDateParts?.map((e=>e.format)).join("");this._inputDateParts=GA.parseDateTimeFormat(e);let i=((e=this._inputDateParts.map((e=>e.format)).join(""))||GA.DEFAULT_INPUT_FORMAT).replace(new RegExp(/(?=[^at])[\w]/,"g"),"0");this.mask=i.replaceAll(/(a{1,2})|tt/g,(e=>"L".repeat(1===e.length?1:2)));let n=this.nativeElement.placeholder;(!n||t===n)&&this.renderer.setAttribute(this.nativeElement,"placeholder",e)}parseDate(e){return e?GA.parseValueFromMask(e,this._inputDateParts,this.promptChar):null}getMaskedValue(){let e=this.emptyMask;if(GA.isValidDate(this.value)||GA.parseIsoDate(this.value)){for(let t of this._inputDateParts){if(t.type===HA.Literal)continue;let i=this.getPartValue(t,t.format.length);e=this.maskParser.replaceInMask(e,i,this.maskOptions,t.start,t.end).value}return e}return this.inputIsComplete()&&this._onClear?e:this.inputValue}valueInRange(e){if(!e)return!1;let t={},i=GA.isValidDate(this.minValue)?this.minValue:this.parseDate(this.minValue),n=GA.isValidDate(this.maxValue)?this.maxValue:this.parseDate(this.maxValue);return(i||n)&&(t=GA.validateMinMax(e,this.minValue,this.maxValue,this.hasTimeParts,this.hasDateParts)),0===Object.keys(t).length}spinValue(e,t){if(!this.dateValue||!GA.isValidDate(this.dateValue))return null;let i=new Date(this.dateValue.getTime());switch(e){case HA.Date:GA.spinDate(t,i,this.spinLoop);break;case HA.Month:GA.spinMonth(t,i,this.spinLoop);break;case HA.Year:GA.spinYear(t,i);break;case HA.Hours:GA.spinHours(t,i,this.spinLoop);break;case HA.Minutes:GA.spinMinutes(t,i,this.spinLoop);break;case HA.Seconds:GA.spinSeconds(t,i,this.spinLoop);break;case HA.FractionalSeconds:GA.spinFractionalSeconds(t,i,this.spinLoop);break;case HA.AmPm:let e=this._inputDateParts.find((e=>e.type===HA.AmPm)),n=this.inputValue.substring(e.start,e.end);return GA.spinAmPm(i,this.dateValue,n)}return i}trySpinValue(e,t,i=!1){t||(t=this.datePartDeltas[e]||1);let n=i?-Math.abs(t):Math.abs(t);return this.spinValue(e,n)||new Date}setDateValue(e){this._dateValue=GA.isValidDate(e)?e:GA.parseIsoDate(e)}updateValue(e){this._oldValue=this.dateValue,this.value=e,(this.inputIsComplete()||this.inputValue===this.emptyMask)&&this.valueChange.emit(this.dateValue),this.dateValue&&!this.valueInRange(this.dateValue)&&this.validationFailed.emit({oldValue:this._oldValue,newValue:this.dateValue,userInput:this.inputValue})}toTwelveHourFormat(e){let t=parseInt(e.replace(new RegExp(this.promptChar,"g"),"0"),10);return t>12?t-=12:0===t&&(t=12),t}getPartValue(e,t){let i;switch(e.type){case HA.Date:i=this.dateValue.getDate();break;case HA.Month:i=this.dateValue.getMonth()+1;break;case HA.Year:i=2===t?this.prependValue(parseInt(this.dateValue.getFullYear().toString().slice(-2),10),t,"0"):this.dateValue.getFullYear();break;case HA.Hours:i=-1!==e.format.indexOf("h")?this.prependValue(this.toTwelveHourFormat(this.dateValue.getHours().toString()),t,"0"):this.dateValue.getHours();break;case HA.Minutes:i=this.dateValue.getMinutes();break;case HA.Seconds:i=this.dateValue.getSeconds();break;case HA.FractionalSeconds:t=3,i=this.prependValue(this.dateValue.getMilliseconds(),3,"00");break;case HA.AmPm:i=GA.getAmPmValue(t,this.dateValue.getHours()<12)}return e.type!==HA.AmPm?this.prependValue(i,t,"0"):i}prependValue(e,t,i){return(i+e.toString()).slice(-t)}spin(e){switch(e.preventDefault(),e.key){case this.platform.KEYMAP.ARROW_UP:this.increment();break;case this.platform.KEYMAP.ARROW_DOWN:this.decrement()}}inputIsComplete(){return-1===this.inputValue.indexOf(this.promptChar)}moveCursor(e){let t=e.target.value;switch(e.key){case this.platform.KEYMAP.ARROW_LEFT:e.ctrlKey&&(e.preventDefault(),this.setSelectionRange(this.getNewPosition(t)));break;case this.platform.KEYMAP.ARROW_RIGHT:e.ctrlKey&&(e.preventDefault(),this.setSelectionRange(this.getNewPosition(t,1)))}}getNewPosition(e,t=0){let i=this._inputDateParts.filter((e=>e.type===HA.Literal)),n=this.selectionStart;if(t){do{n++}while(!i.some((e=>e.start===n))&&n<e.length);return n}do{n=n>0?--n:n}while(!i.some((e=>e.end===n))&&n>0);return n}};return e.ɵfac=function(t){return new(t||e)(Oc(qh),Oc(Nl),Oc(mA),Oc(fC),Oc(of),Oc(bm))},e.ɵdir=ss({type:e,selectors:[["","igxDateTimeEditor",""]],hostBindings:function(e,t){1&e&&ep("wheel",(function(e){return t.onWheel(e)}))},inputs:{locale:"locale",minValue:"minValue",maxValue:"maxValue",spinLoop:[2,"spinLoop","spinLoop",Zm],displayFormat:"displayFormat",inputFormat:[0,"igxDateTimeEditor","inputFormat"],value:"value",spinDelta:"spinDelta"},outputs:{valueChange:"valueChange",validationFailed:"validationFailed"},exportAs:["igxDateTimeEditor"],standalone:!0,features:[kp([{provide:Ny,useExisting:e,multi:!0},{provide:$y,useExisting:e,multi:!0}]),Vu,Ru,yo]}),e})(),WA=(()=>{let e=class{constructor(){this.operations=[{name:"null",isUnary:!0,iconName:"filter_null",logic:e=>null===e},{name:"notNull",isUnary:!0,iconName:"filter_not_null",logic:e=>null!==e},{name:"in",isUnary:!1,iconName:"filter_in",hidden:!0,logic:(e,t)=>this.findValueInSet(e,t)}]}static instance(){return this._instance||(this._instance=new this)}conditionList(){return this.operations.filter((e=>!e.hidden)).map((e=>e.name))}condition(e){return this.operations.find((t=>t.name===e))}append(e){this.operations.push(e)}findValueInSet(e,t){return t.has(e)}};return e._instance=null,e})(),KA=class extends WA{constructor(){super(),this.operations=[{name:"all",isUnary:!0,iconName:"filter_all",logic:e=>!0},{name:"true",isUnary:!0,iconName:"filter_true",logic:e=>!(!e||null==e)},{name:"false",isUnary:!0,iconName:"filter_false",logic:e=>!e&&null!=e},{name:"empty",isUnary:!0,iconName:"filter_empty",logic:e=>null==e},{name:"notEmpty",isUnary:!0,iconName:"filter_not_empty",logic:e=>null!=e}].concat(this.operations)}},jA=class extends WA{constructor(){super(),this.operations=[{name:"empty",isUnary:!0,iconName:"filter_empty",logic:e=>null==e},{name:"notEmpty",isUnary:!0,iconName:"filter_not_empty",logic:e=>null!=e}].concat(this.operations)}static getDateParts(e,t){let i={day:null,hours:null,milliseconds:null,minutes:null,month:null,seconds:null,year:null};return!e||!t||(t.indexOf("y")>=0&&(i.year=e.getFullYear()),t.indexOf("M")>=0&&(i.month=e.getMonth()),t.indexOf("d")>=0&&(i.day=e.getDate()),t.indexOf("h")>=0&&(i.hours=e.getHours()),t.indexOf("m")>=0&&(i.minutes=e.getMinutes()),t.indexOf("s")>=0&&(i.seconds=e.getSeconds()),t.indexOf("f")>=0&&(i.milliseconds=e.getMilliseconds())),i}findValueInSet(e,t){return!!e&&t.has(e instanceof Date?e.toISOString():e)}validateInputData(e){if(!(e instanceof Date))throw new Error("Could not perform filtering on 'date' column because the datasource object type is not 'Date'.")}},UA=class e extends jA{constructor(){super(),this.operations=[{name:"equals",isUnary:!1,iconName:"filter_equal",logic:(t,i)=>{if(!t)return!1;this.validateInputData(t);let n=e.getDateParts(t,"yMd"),r=e.getDateParts(i,"yMd");return n.year===r.year&&n.month===r.month&&n.day===r.day}},{name:"doesNotEqual",isUnary:!1,iconName:"filter_not_equal",logic:(t,i)=>{if(!t)return!0;this.validateInputData(t);let n=e.getDateParts(t,"yMd"),r=e.getDateParts(i,"yMd");return n.year!==r.year||n.month!==r.month||n.day!==r.day}},{name:"before",isUnary:!1,iconName:"filter_before",logic:(e,t)=>!!e&&(this.validateInputData(e),e<t)},{name:"after",isUnary:!1,iconName:"filter_after",logic:(e,t)=>!!e&&(this.validateInputData(e),e>t)},{name:"today",isUnary:!0,iconName:"filter_today",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yMd"),n=e.getDateParts(new Date,"yMd");return i.year===n.year&&i.month===n.month&&i.day===n.day}},{name:"yesterday",isUnary:!0,iconName:"filter_yesterday",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yMd"),n=(s=new Date,new Date(s.setDate(s.getDate()-1))),r=e.getDateParts(n,"yMd");var s;return i.year===r.year&&i.month===r.month&&i.day===r.day}},{name:"thisMonth",isUnary:!0,iconName:"filter_this_month",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yM"),n=e.getDateParts(new Date,"yM");return i.year===n.year&&i.month===n.month}},{name:"lastMonth",isUnary:!0,iconName:"filter_last_month",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yM"),n=e.getDateParts(new Date,"yM");return n.month?n.month--:(n.month=11,n.year-=1),i.year===n.year&&i.month===n.month}},{name:"nextMonth",isUnary:!0,iconName:"filter_next_month",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yM"),n=e.getDateParts(new Date,"yM");return 11===n.month?(n.month=0,n.year+=1):n.month++,i.year===n.year&&i.month===n.month}},{name:"thisYear",isUnary:!0,iconName:"filter_this_year",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"y"),n=e.getDateParts(new Date,"y");return i.year===n.year}},{name:"lastYear",isUnary:!0,iconName:"filter_last_year",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"y"),n=e.getDateParts(new Date,"y");return i.year===n.year-1}},{name:"nextYear",isUnary:!0,iconName:"filter_next_year",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"y"),n=e.getDateParts(new Date,"y");return i.year===n.year+1}}].concat(this.operations)}},qA=class e extends jA{constructor(){super(),this.operations=[{name:"equals",isUnary:!1,iconName:"filter_equal",logic:(t,i)=>{if(!t)return!1;this.validateInputData(t);let n=e.getDateParts(t,"yMdhms"),r=e.getDateParts(i,"yMdhms");return n.year===r.year&&n.month===r.month&&n.day===r.day&&n.hours===r.hours&&n.minutes===r.minutes&&n.seconds===r.seconds}},{name:"doesNotEqual",isUnary:!1,iconName:"filter_not_equal",logic:(t,i)=>{if(!t)return!0;this.validateInputData(t);let n=e.getDateParts(t,"yMdhms"),r=e.getDateParts(i,"yMdhms");return n.year!==r.year||n.month!==r.month||n.day!==r.day||n.hours!==r.hours||n.minutes!==r.minutes||n.seconds!==r.seconds}},{name:"before",isUnary:!1,iconName:"filter_before",logic:(e,t)=>!!e&&(this.validateInputData(e),e<t)},{name:"after",isUnary:!1,iconName:"filter_after",logic:(e,t)=>!!e&&(this.validateInputData(e),e>t)},{name:"today",isUnary:!0,iconName:"filter_today",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yMd"),n=e.getDateParts(new Date,"yMd");return i.year===n.year&&i.month===n.month&&i.day===n.day}},{name:"yesterday",isUnary:!0,iconName:"filter_yesterday",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yMd"),n=(s=new Date,new Date(s.setDate(s.getDate()-1))),r=e.getDateParts(n,"yMd");var s;return i.year===r.year&&i.month===r.month&&i.day===r.day}},{name:"thisMonth",isUnary:!0,iconName:"filter_this_month",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yM"),n=e.getDateParts(new Date,"yM");return i.year===n.year&&i.month===n.month}},{name:"lastMonth",isUnary:!0,iconName:"filter_last_month",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yM"),n=e.getDateParts(new Date,"yM");return n.month?n.month--:(n.month=11,n.year-=1),i.year===n.year&&i.month===n.month}},{name:"nextMonth",isUnary:!0,iconName:"filter_next_month",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yM"),n=e.getDateParts(new Date,"yM");return 11===n.month?(n.month=0,n.year+=1):n.month++,i.year===n.year&&i.month===n.month}},{name:"thisYear",isUnary:!0,iconName:"filter_this_year",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"y"),n=e.getDateParts(new Date,"y");return i.year===n.year}},{name:"lastYear",isUnary:!0,iconName:"filter_last_year",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"y"),n=e.getDateParts(new Date,"y");return i.year===n.year-1}},{name:"nextYear",isUnary:!0,iconName:"filter_next_year",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"y"),n=e.getDateParts(new Date,"y");return i.year===n.year+1}}].concat(this.operations)}},YA=class e extends jA{constructor(){super(),this.operations=[{name:"at",isUnary:!1,iconName:"filter_equal",logic:(t,i)=>{if(!t)return!1;this.validateInputData(t);let n=e.getDateParts(t,"hms"),r=e.getDateParts(i,"hms");return n.hours===r.hours&&n.minutes===r.minutes&&n.seconds===r.seconds}},{name:"not_at",isUnary:!1,iconName:"filter_not_equal",logic:(t,i)=>{if(!t)return!0;this.validateInputData(t);let n=e.getDateParts(t,"hms"),r=e.getDateParts(i,"hms");return n.hours!==r.hours||n.minutes!==r.minutes||n.seconds!==r.seconds}},{name:"before",isUnary:!1,iconName:"filter_before",logic:(t,i)=>{if(!t)return!1;this.validateInputData(t);let n=e.getDateParts(t,"hms"),r=e.getDateParts(i,"hms");return n.hours<r.hours||n.hours===r.hours&&n.minutes<r.minutes||n.hours===r.hours&&n.minutes===r.minutes&&n.seconds<r.seconds}},{name:"after",isUnary:!1,iconName:"filter_after",logic:(t,i)=>{if(!t)return!1;this.validateInputData(t);let n=e.getDateParts(t,"hms"),r=e.getDateParts(i,"hms");return n.hours>r.hours||n.hours===r.hours&&n.minutes>r.minutes||n.hours===r.hours&&n.minutes===r.minutes&&n.seconds>r.seconds}},{name:"at_before",isUnary:!1,iconName:"filter_before",logic:(t,i)=>{if(!t)return!1;this.validateInputData(t);let n=e.getDateParts(t,"hms"),r=e.getDateParts(i,"hms");return n.hours===r.hours&&n.minutes===r.minutes&&n.seconds===r.seconds||n.hours<r.hours||n.hours===r.hours&&n.minutes<r.minutes||n.hours===r.hours&&n.minutes===r.minutes&&n.seconds<r.seconds}},{name:"at_after",isUnary:!1,iconName:"filter_after",logic:(t,i)=>{if(!t)return!1;this.validateInputData(t);let n=e.getDateParts(t,"hms"),r=e.getDateParts(i,"hms");return n.hours===r.hours&&n.minutes===r.minutes&&n.seconds===r.seconds||n.hours>r.hours||n.hours===r.hours&&n.minutes>r.minutes||n.hours===r.hours&&n.minutes===r.minutes&&n.seconds>r.seconds}}].concat(this.operations)}findValueInSet(e,t){return!!e&&t.has(e.toLocaleTimeString())}},XA=class extends WA{constructor(){super(),this.operations=[{name:"equals",isUnary:!1,iconName:"filter_equal",logic:(e,t)=>e===t},{name:"doesNotEqual",isUnary:!1,iconName:"filter_not_equal",logic:(e,t)=>e!==t},{name:"greaterThan",isUnary:!1,iconName:"filter_greater_than",logic:(e,t)=>e>t},{name:"lessThan",isUnary:!1,iconName:"filter_less_than",logic:(e,t)=>e<t},{name:"greaterThanOrEqualTo",isUnary:!1,iconName:"filter_greater_than_or_equal",logic:(e,t)=>e>=t},{name:"lessThanOrEqualTo",isUnary:!1,iconName:"filter_less_than_or_equal",logic:(e,t)=>e<=t},{name:"empty",isUnary:!0,iconName:"filter_empty",logic:e=>null==e||isNaN(e)},{name:"notEmpty",isUnary:!0,iconName:"filter_not_empty",logic:e=>null!=e&&!isNaN(e)}].concat(this.operations)}},ZA=class e extends WA{constructor(){super(),this.operations=[{name:"contains",isUnary:!1,iconName:"filter_contains",logic:(t,i,n)=>{let r=e.applyIgnoreCase(i,n);return-1!==(t=e.applyIgnoreCase(t,n)).indexOf(r)}},{name:"doesNotContain",isUnary:!1,iconName:"filter_does_not_contain",logic:(t,i,n)=>{let r=e.applyIgnoreCase(i,n);return-1===(t=e.applyIgnoreCase(t,n)).indexOf(r)}},{name:"startsWith",isUnary:!1,iconName:"filter_starts_with",logic:(t,i,n)=>{let r=e.applyIgnoreCase(i,n);return(t=e.applyIgnoreCase(t,n)).startsWith(r)}},{name:"endsWith",isUnary:!1,iconName:"filter_ends_with",logic:(t,i,n)=>{let r=e.applyIgnoreCase(i,n);return(t=e.applyIgnoreCase(t,n)).endsWith(r)}},{name:"equals",isUnary:!1,iconName:"filter_equal",logic:(t,i,n)=>{let r=e.applyIgnoreCase(i,n);return(t=e.applyIgnoreCase(t,n))===r}},{name:"doesNotEqual",isUnary:!1,iconName:"filter_not_equal",logic:(t,i,n)=>{let r=e.applyIgnoreCase(i,n);return(t=e.applyIgnoreCase(t,n))!==r}},{name:"empty",isUnary:!0,iconName:"filter_empty",logic:e=>null==e||0===e.length},{name:"notEmpty",isUnary:!0,iconName:"filter_not_empty",logic:e=>null!=e&&e.length>0}].concat(this.operations)}static applyIgnoreCase(e,t){return e=e??"",t?(""+e).toLowerCase():e}},QA=new Gn("IgxExpansionPanelToken"),JA=(()=>{let e=class{constructor(e){this.element=e,this.getTooltipContent=e=>e.nativeElement.title?e.nativeElement.title:e.nativeElement.textContent?e.nativeElement.textContent.trim():null}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl))},e.ɵdir=ss({type:e}),e})(),ek=["*"],tk=(()=>{let e=class{constructor(e,t,i){this.panel=e,this.element=t,this.cdr=i,this.cssClass="igx-expansion-panel__body",this.role="region",this._labelledBy="",this._label=""}get label(){return this._label||this.panel.id+"-region"}set label(e){this._label=e}get labelledBy(){return this._labelledBy}set labelledBy(e){this._labelledBy=e}};return e.ɵfac=function(t){return new(t||e)(Oc(QA),Oc(Nl),Oc(Pm))},e.ɵcmp=es({type:e,selectors:[["igx-expansion-panel-body"]],hostVars:5,hostBindings:function(e,t){2&e&&(tg("role",t.role)("aria-label",t.label)("aria-labelledby",t.labelledBy),xg("igx-expansion-panel__body",t.cssClass))},inputs:{role:"role",label:"label",labelledBy:"labelledBy"},standalone:!0,features:[Pp],ngContentSelectors:ek,decls:1,vars:0,template:function(e,t){1&e&&(op(),ap(0))},encapsulation:2}),e})(),ik=(()=>{let e=class extends JA{constructor(){super(...arguments),this.cssClass="igx-expansion-panel__header-title"}get title(){return this.getTooltipContent(this.element)}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵdir=ss({type:e,selectors:[["igx-expansion-panel-title"]],hostVars:3,hostBindings:function(e,t){2&e&&(tg("title",t.title),xg("igx-expansion-panel__header-title",t.cssClass))},standalone:!0,features:[Ru]}),e})(),nk=(()=>{let e=class{};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["igx-expansion-panel-icon"]],standalone:!0}),e})(),rk=[[["igx-expansion-panel-title"]],[["igx-expansion-panel-description"]],"*",[["igx-expansion-panel-icon"]]],sk=["igx-expansion-panel-title","igx-expansion-panel-description","*","igx-expansion-panel-icon"];function ok(e,t){1&e&&ap(0,3,["*ngIf","iconTemplate"])}function ak(e,t){1&e&&Lg(0,"igx-icon",4),2&e&&fg("name",rp().panel.collapsed?"expand":"collapse")}var lk="left",dk="none",ck="right",hk=(()=>{let e=class{get iconRef(){let e=this.customIconRef??this.defaultIconRef;return this.iconPosition!==dk?e:null}set iconTemplate(e){this._iconTemplate=e}get iconTemplate(){return this._iconTemplate}get controls(){return this.panel.id}get innerElement(){return this.elementRef.nativeElement.children[0]}get isExpanded(){return!this.panel.collapsed}get disabled(){return this._disabled}set disabled(e){this._disabled=e,e?delete this.tabIndex:this.tabIndex=0}constructor(e,t,i){this.panel=e,this.cdr=t,this.elementRef=i,this.lv="3",this.role="heading",this.iconPosition=lk,this.interaction=new yl,this.cssClass="igx-expansion-panel__header",this.id="",this.tabIndex=0,this._iconTemplate=!1,this._disabled=!1,this.id=`${this.panel.id}-header`}onAction(e){if(this.disabled)return void e.stopPropagation();let t={event:e,owner:this.panel,cancel:!1};this.interaction.emit(t),!0!==t.cancel&&(this.panel.toggle(e),e.preventDefault())}openPanel(e){if(e.altKey){let t={event:e,owner:this.panel,cancel:!1};if(this.interaction.emit(t),!0===t.cancel)return;this.panel.expand(e)}}closePanel(e){if(e.altKey){let t={event:e,owner:this.panel,cancel:!1};if(this.interaction.emit(t),!0===t.cancel)return;this.panel.collapse(e)}}get iconPositionClass(){switch(this.iconPosition){case lk:return"igx-expansion-panel__header-icon--start";case ck:return"igx-expansion-panel__header-icon--end";case dk:return"igx-expansion-panel__header-icon--none";default:return""}}};return e.ɵfac=function(t){return new(t||e)(Oc(QA,1),Oc(Pm),Oc(Nl))},e.ɵcmp=es({type:e,selectors:[["igx-expansion-panel-header"]],contentQueries:function(e,t,i){if(1&e&&(hp(i,nk,5),hp(i,nk,5,Nl)),2&e){let e;gp(e=pp())&&(t.iconTemplate=e.first),gp(e=pp())&&(t.customIconRef=e.first)}},viewQuery:function(e,t){if(1&e&&up(FT,5,Nl),2&e){let e;gp(e=pp())&&(t.defaultIconRef=e.first)}},hostVars:8,hostBindings:function(e,t){1&e&&ep("keydown.Enter",(function(e){return t.onAction(e)}))("keydown.Space",(function(e){return t.onAction(e)}))("keydown.Spacebar",(function(e){return t.onAction(e)}))("click",(function(e){return t.onAction(e)}))("keydown.Alt.ArrowDown",(function(e){return t.openPanel(e)}))("keydown.Alt.ArrowUp",(function(e){return t.closePanel(e)})),2&e&&(tg("aria-level",t.lv)("role",t.role),xg("igx-expansion-panel__header",t.cssClass)("igx-expansion-panel__header--expanded",t.isExpanded)("igx-expansion-panel--disabled",t.disabled))},inputs:{lv:"lv",role:"role",iconPosition:"iconPosition",disabled:[2,"disabled","disabled",Zm]},outputs:{interaction:"interaction"},standalone:!0,features:[Vu,Pp],ngContentSelectors:sk,decls:8,vars:9,consts:[["role","button",1,"igx-expansion-panel__header-inner"],[1,"igx-expansion-panel__title-wrapper"],[4,"ngIf"],["family","default",3,"name",4,"ngIf"],["family","default",3,"name"]],template:function(e,t){1&e&&(op(rk),Mg(0,"div",0)(1,"div",1),ap(2),ap(3,1),Ng(),ap(4,2),Mg(5,"div"),Xu(6,ok,1,0,"ng-content",2)(7,ak,1,1,"igx-icon",3),Ng()()),2&e&&(tg("tabindex",t.tabIndex)("id",t.id)("aria-disabled",t.disabled)("aria-expanded",t.isExpanded)("aria-controls",t.controls),Ac(5),wg(t.iconPositionClass),Ac(),fg("ngIf",t.iconTemplate),Ac(),fg("ngIf",!t.iconTemplate))},dependencies:[cv,FT],encapsulation:2}),e})(),uk=function(e){return e.OPEN="open",e.CLOSE="close",e}(uk||{}),gk=(()=>{let e=class{get animationSettings(){return this._animationSettings}set animationSettings(e){this._animationSettings=e}constructor(e){this.animationService=e,this.openAnimationDone=new yl,this.closeAnimationDone=new yl,this.openAnimationStart=new yl,this.closeAnimationStart=new yl,this.openAnimationPlayer=null,this.closeAnimationPlayer=null,this.destroy$=new ei,this.players=new Map,this._animationSettings={openAnimation:DD,closeAnimation:ID},this.closeInterrupted=!1,this.openInterrupted=!1,this._defaultClosedCallback=Ot,this._defaultOpenedCallback=Ot,this.onClosedCallback=this._defaultClosedCallback,this.onOpenedCallback=this._defaultOpenedCallback}playOpenAnimation(e,t){this.startPlayer(uk.OPEN,e,t||this._defaultOpenedCallback)}playCloseAnimation(e,t){this.startPlayer(uk.CLOSE,e,t||this._defaultClosedCallback)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}startPlayer(e,t,i){if(!t)return;let n=this.getPlayer(e);n||(n=this.initializePlayer(e,t,i)),n&&!n.hasStarted()&&((e===uk.OPEN?this.openAnimationStart:this.closeAnimationStart).emit(),n&&n.play())}initializePlayer(e,t,i){let n=e===uk.OPEN?uk.CLOSE:uk.OPEN,r=this.animationSettings||{closeAnimation:null,openAnimation:null},s=e===uk.OPEN?r.openAnimation:r.closeAnimation;if(!s)return this.setCallback(e,i),(e===uk.OPEN?this.openAnimationStart:this.closeAnimationStart).emit(),void this.onDoneHandler(e);let o=this.getPlayer(n),a=1;o&&(a=o.position,this.cleanUpPlayer(n)),e===uk.OPEN?this.openAnimationPlayer=this.animationService.buildAnimation(s,t.nativeElement):e===uk.CLOSE&&(this.closeAnimationPlayer=this.animationService.buildAnimation(s,t.nativeElement));let l=this.getPlayer(e);return l.init(),this.getPlayer(e).position=1-a,this.setCallback(e,i),l.animationEnd.pipe(mn(this.destroy$)).subscribe((()=>{this.onDoneHandler(e)})),l}onDoneHandler(e){let t=e===uk.OPEN?this.openAnimationDone:this.closeAnimationDone;(e===uk.OPEN?this.onOpenedCallback:this.onClosedCallback)(),(e===uk.OPEN?this.openInterrupted:this.closeInterrupted)||t.emit(),this.cleanUpPlayer(e)}setCallback(e,t){e===uk.OPEN?(this.onOpenedCallback=t,this.openInterrupted=!1):e===uk.CLOSE&&(this.onClosedCallback=t,this.closeInterrupted=!1)}cleanUpPlayer(e){switch(e){case uk.CLOSE:null!=this.closeAnimationPlayer&&(this.closeAnimationPlayer.reset(),this.closeAnimationPlayer.destroy(),this.closeAnimationPlayer=null),this.closeInterrupted=!0,this.onClosedCallback=this._defaultClosedCallback;break;case uk.OPEN:null!=this.openAnimationPlayer&&(this.openAnimationPlayer.reset(),this.openAnimationPlayer.destroy(),this.openAnimationPlayer=null),this.openInterrupted=!0,this.onOpenedCallback=this._defaultOpenedCallback}}getPlayer(e){switch(e){case uk.OPEN:return this.openAnimationPlayer;case uk.CLOSE:return this.closeAnimationPlayer;default:return null}}};return e.ɵfac=function(t){return new(t||e)(Oc(kE))},e.ɵdir=ss({type:e}),e})(),pk=[[["igx-expansion-panel-header"]],[["igx-expansion-panel-body"]]],mk=["igx-expansion-panel-header","igx-expansion-panel-body"];function fk(e,t){1&e&&ap(0,1,["*ngIf","!collapsed"])}var vk=0,yk=(()=>{let e=class extends gk{get animationSettings(){return this._animationSettings}set animationSettings(e){this._animationSettings=e}get panelExpanded(){return!this.collapsed}get headerId(){return this.header?`${this.id}-header`:""}get nativeElement(){return this.elementRef.nativeElement}constructor(e,t,i){super(e),this.cdr=t,this.elementRef=i,this.id="igx-expansion-panel-"+vk++,this.cssClass="igx-expansion-panel",this.opened=!1,this.collapsed=!0,this.collapsedChange=new yl,this.contentCollapsing=new yl,this.contentCollapsed=new yl,this.contentExpanding=new yl,this.contentExpanded=new yl}ngAfterContentInit(){this.body&&this.header&&Promise.resolve().then((()=>{this.body.labelledBy=this.body.labelledBy||this.headerId,this.body.label=this.body.label||this.id+"-region"}))}collapse(e){if(this.collapsed||this.closeAnimationPlayer)return;let t={event:e,panel:this,owner:this,cancel:!1};this.contentCollapsing.emit(t),!0!==t.cancel&&(this.opened=!1,this.playCloseAnimation(this.body?.element,(()=>{this.contentCollapsed.emit({event:e,owner:this}),this.collapsed=!0,this.collapsedChange.emit(!0),this.cdr.markForCheck()})))}expand(e){if(!this.collapsed)return;let t={event:e,panel:this,owner:this,cancel:!1};this.contentExpanding.emit(t),!0!==t.cancel&&(this.collapsed=!1,this.opened=!0,this.collapsedChange.emit(!1),this.cdr.detectChanges(),this.playOpenAnimation(this.body?.element,(()=>{this.contentExpanded.emit({event:e,owner:this})})))}toggle(e){this.collapsed?this.open(e):this.close(e)}open(e){this.expand(e)}close(e){this.collapse(e)}};return e.ɵfac=function(t){return new(t||e)(Oc(kE),Oc(Pm),Oc(Nl))},e.ɵcmp=es({type:e,selectors:[["igx-expansion-panel"]],contentQueries:function(e,t,i){if(1&e&&(hp(i,tk,5,tk),hp(i,hk,5,hk)),2&e){let e;gp(e=pp())&&(t.body=e.first),gp(e=pp())&&(t.header=e.first)}},hostVars:6,hostBindings:function(e,t){2&e&&(tg("id",t.id)("aria-expanded",t.panelExpanded),xg("igx-expansion-panel",t.cssClass)("igx-expansion-panel--expanded",t.opened))},inputs:{animationSettings:"animationSettings",id:"id",collapsed:[2,"collapsed","collapsed",Zm]},outputs:{collapsedChange:"collapsedChange",contentCollapsing:"contentCollapsing",contentCollapsed:"contentCollapsed",contentExpanding:"contentExpanding",contentExpanded:"contentExpanded"},standalone:!0,features:[kp([{provide:QA,useExisting:e}]),Vu,Ru,Pp],ngContentSelectors:mk,decls:2,vars:1,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(op(pk),ap(0),Xu(1,fk,1,0,"ng-content",0)),2&e&&(Ac(),fg("ngIf",!t.collapsed))},dependencies:[cv],encapsulation:2}),e})(),xk=[[["igx-expansion-panel"]]],wk=["igx-expansion-panel"],_k=0,Ck=(()=>{let e=class{get animationSettings(){return this._animationSettings}set animationSettings(e){this._animationSettings=e,this.updatePanelsAnimation()}get singleBranchExpand(){return this._singleBranchExpand}set singleBranchExpand(e){this._singleBranchExpand=e,e&&this.collapseAllExceptLast()}get panels(){return this._panels?.toArray()}constructor(e){this.cdr=e,this.id="igx-accordion-"+_k++,this.cssClass="igx-accordion",this.displayStyle="block",this.panelExpanding=new yl,this.panelExpanded=new yl,this.panelCollapsing=new yl,this.panelCollapsed=new yl,this._destroy$=new ei,this._unsubChildren$=new ei,this._singleBranchExpand=!1}ngAfterContentInit(){this.updatePanelsAnimation(),this.singleBranchExpand&&this.collapseAllExceptLast()}ngAfterViewInit(){this._expandedPanels=new Set(this._panels.filter((e=>!e.collapsed))),this._expandingPanels=new Set,this._panels.changes.pipe(mn(this._destroy$)).subscribe((()=>{this.subToChanges()})),this.subToChanges()}ngOnDestroy(){this._unsubChildren$.next(),this._unsubChildren$.complete(),this._destroy$.next(),this._destroy$.complete()}expandAll(){if(this.singleBranchExpand){for(let e=0;e<this.panels.length-1;e++)this.panels[e].collapse();this._panels.last.expand()}else this.panels.forEach((e=>e.expand()))}collapseAll(){this.panels.forEach((e=>e.collapse()))}collapseAllExceptLast(){let e=this.panels?.filter((e=>!e.collapsed&&!e.header.disabled)).pop();this.panels?.forEach((t=>{t!==e&&!t.header.disabled&&(t.collapsed=!0)})),this.cdr.markForCheck()}handleKeydown(e,t){let i=e.key.toLowerCase();wC.has(i)&&(this._enabledPanels=this._panels.filter((e=>!e.header.disabled)),e.preventDefault(),this.handleNavigation(e,t))}handleNavigation(e,t){switch(e.key.toLowerCase()){case"home":this._enabledPanels[0].header.innerElement.focus();break;case"end":this._enabledPanels[this._enabledPanels.length-1].header.innerElement.focus();break;case"arrowup":case"up":this.handleUpDownArrow(!0,e,t);break;case"arrowdown":case"down":this.handleUpDownArrow(!1,e,t)}}handleUpDownArrow(e,t,i){if(!t.altKey){let t=i,n=this.getNextPanel(t,e?-1:1);if(n===t)return;n.header.innerElement.focus()}if(t.altKey&&t.shiftKey)if(e)this._enabledPanels.forEach((e=>e.collapse()));else{if(this.singleBranchExpand){for(let e=0;e<this._enabledPanels.length-1;e++)this._enabledPanels[e].collapse();return void this._enabledPanels[this._enabledPanels.length-1].expand()}this._enabledPanels.forEach((e=>e.expand()))}}getNextPanel(e,t=1){let i=this._enabledPanels.indexOf(e);return this._enabledPanels[i+t]||e}subToChanges(){this._unsubChildren$.next(),this._panels.forEach((e=>{e.contentExpanded.pipe(mn(this._unsubChildren$)).subscribe((e=>{this._expandedPanels.add(e.owner),this._expandingPanels.delete(e.owner);let t=Oe(ke({},e),{owner:this,panel:e.owner});this.panelExpanded.emit(t)})),e.contentExpanding.pipe(mn(this._unsubChildren$)).subscribe((e=>{if(e.cancel)return;let t=Oe(ke({},e),{owner:this,panel:e.owner});this.panelExpanding.emit(t),t.cancel?e.cancel=!0:this.singleBranchExpand&&(this._expandedPanels.forEach((e=>{e.header.disabled||e.collapse()})),this._expandingPanels.forEach((e=>{e.header.disabled||(e.animationSettings.closeAnimation||e.openAnimationPlayer?.reset(),e.animationSettings.openAnimation||e.closeAnimationPlayer?.reset(),e.collapse())})),this._expandingPanels.add(e.owner))})),e.contentCollapsed.pipe(mn(this._unsubChildren$)).subscribe((e=>{this._expandedPanels.delete(e.owner),this._expandingPanels.delete(e.owner);let t=Oe(ke({},e),{owner:this,panel:e.owner});this.panelCollapsed.emit(t)})),e.contentCollapsing.pipe(mn(this._unsubChildren$)).subscribe((e=>{let t=Oe(ke({},e),{owner:this,panel:e.owner});this.panelCollapsing.emit(t),t.cancel&&(e.cancel=!0)})),en(e.header.innerElement,"keydown").pipe(mn(this._unsubChildren$)).subscribe((t=>{this.handleKeydown(t,e)}))}))}updatePanelsAnimation(){void 0!==this.animationSettings&&this.panels?.forEach((e=>e.animationSettings=this.animationSettings))}};return e.ɵfac=function(t){return new(t||e)(Oc(Pm))},e.ɵcmp=es({type:e,selectors:[["igx-accordion"]],contentQueries:function(e,t,i){if(1&e&&hp(i,yk,4),2&e){let e;gp(e=pp())&&(t._panels=e)}},hostVars:5,hostBindings:function(e,t){2&e&&(tg("id",t.id),yg("display",t.displayStyle),xg("igx-accordion",t.cssClass))},inputs:{id:"id",animationSettings:"animationSettings",singleBranchExpand:[2,"singleBranchExpand","singleBranchExpand",Zm]},outputs:{panelExpanding:"panelExpanding",panelExpanded:"panelExpanded",panelCollapsing:"panelCollapsing",panelCollapsed:"panelCollapsed"},standalone:!0,features:[Vu,Pp],ngContentSelectors:wk,decls:1,vars:0,template:function(e,t){1&e&&(op(xk),ap(0))},encapsulation:2}),e})(),Sk={igx_action_strip_button_more_title:"More"},bk=(()=>{let e=class{constructor(){this.selection=new Map}get(e){return this.selection.get(e)}set(e,t){if(!e)throw Error("Invalid value for component id!");this.selection.set(e,t)}clear(e){this.selection.set(e,this.get_empty())}delete(e){this.selection.delete(e)}size(e){let t=this.get(e);return t?t.size:0}add_item(e,t,i){return i||(i=new Set(this.get(e))),void 0===i&&(i=this.get_empty()),i.add(t),i}add_items(e,t,i){let n;return i?n=this.get_empty():t&&0===t.length&&(n=new Set(this.get(e))),t.forEach((t=>n=this.add_item(e,t,n))),n}select_item(e,t,i){this.set(e,this.add_item(e,t,i))}select_items(e,t,i){this.set(e,this.add_items(e,t,i))}delete_item(e,t,i){if(i||(i=new Set(this.get(e))),void 0!==i)return i.delete(t),i}delete_items(e,t){let i;return t.forEach((t=>i=this.delete_item(e,t,i))),i}deselect_item(e,t,i){this.set(e,this.delete_item(e,t,i))}deselect_items(e,t,i){this.set(e,this.delete_items(e,t))}is_item_selected(e,t){let i=this.get(e);return!!i&&i.has(t)}first_item(e){let t=this.get(e);if(t&&t.size>0)return t.values().next().value}are_all_selected(e,t){return t>0&&t===this.size(e)}are_none_selected(e){return 0===this.size(e)}get_all_ids(e,t){return null!=t?e.map((e=>e[t])):e}get_empty(){return new Set}};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),Dk=[[["igx-drop-down-item"]]],Ik=["igx-drop-down-item"],Ek=0,Tk=(()=>{let e=class{constructor(){this.role="group",this.groupClass=!0,this.disabled=!1,this._id=Ek++}get labelId(){return`igx-item-group-label-${this._id}`}get labelledBy(){return this.labelId}};return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=es({type:e,selectors:[["igx-drop-down-item-group"]],hostVars:7,hostBindings:function(e,t){2&e&&(tg("aria-labelledby",t.labelledBy)("role",t.role)("aria-disabled",t.disabled),xg("igx-drop-down__group",t.groupClass)("igx-drop-down__group--disabled",t.disabled))},inputs:{disabled:[2,"disabled","disabled",Zm],label:"label"},standalone:!0,features:[Vu,Pp],ngContentSelectors:Ik,decls:3,vars:2,consts:[[3,"id"]],template:function(e,t){1&e&&(op(Dk),Mg(0,"label",0),fp(1),Ng(),ap(2)),2&e&&(lp("id",t.labelId),Ac(),yp(t.label))},encapsulation:2}),e})(),Rk=0,Ak=(()=>{let e=class{get ariaLabel(){return this._label?this._label:this.value?this.value:this.id}set ariaLabel(e){this._label=e}get itemID(){return this}get index(){return null===this._index?this.itemIndex:this._index}set index(e){this._index=e}get itemStyle(){return!this.isHeader}get selected(){return this._selected}set selected(e){this.isHeader||(this._selected=e,this.selectedChange.emit(this._selected))}get focused(){return this.isSelectable&&this._focused}set focused(e){this._focused=e}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get itemIndex(){return this.dropDown.items.indexOf(this)}get elementHeight(){return this.elementRef.nativeElement.clientHeight}get element(){return this.elementRef}get hasIndex(){return null!==this._index&&void 0!==this._index}constructor(e,t,i,n){this.dropDown=e,this.elementRef=t,this.group=i,this.selection=n,this.id="igx-drop-down-item-"+Rk++,this.selectedChange=new yl,this.role="option",this._focused=!1,this._selected=!1,this._index=null,this._disabled=!1,this._label=null}clicked(e){}handleMousedown(e){this.dropDown.allowItemsFocus||e.preventDefault()}ngDoCheck(){if(this._selected){let e=this.dropDown.selectedItem;e?(this.hasIndex?this._index!==e.index||this.value!==e.value:this!==e)&&this.dropDown.selectItem(this,void 0,!1):this.dropDown.selectItem(this,void 0,!1)}}get isSelectable(){return!(this.disabled||this.isHeader)}ensureItemFocus(){if(this.dropDown.allowItemsFocus){let e=this.dropDown.items.find((e=>e.focused));if(!e)return;e.element.nativeElement.focus({preventScroll:!0})}}};return e.ɵfac=function(t){return new(t||e)(Oc(aT),Oc(Nl),Oc(Tk,8),Oc(bk,8))},e.ɵdir=ss({type:e,selectors:[["","igxDropDownItemBase",""]],hostVars:15,hostBindings:function(e,t){1&e&&ep("click",(function(e){return t.clicked(e)}))("mousedown",(function(e){return t.handleMousedown(e)})),2&e&&(tg("id",t.id)("aria-label",t.ariaLabel)("aria-selected",t.selected)("aria-disabled",t.disabled)("role",t.role),xg("igx-drop-down__item",t.itemStyle)("igx-drop-down__item--selected",t.selected)("igx-drop-down__item--focused",t.focused)("igx-drop-down__header",t.isHeader)("igx-drop-down__item--disabled",t.disabled))},inputs:{id:"id",ariaLabel:"ariaLabel",index:"index",value:"value",selected:[2,"selected","selected",Zm],isHeader:[2,"isHeader","isHeader",Zm],disabled:[2,"disabled","disabled",Zm],role:"role"},outputs:{selectedChange:"selectedChange"},standalone:!0,features:[Vu]}),e})(),kk=[[["igx-prefix"],["","igxPrefix",""]],"*",[["igx-suffix"],["","igxSuffix",""]],[["igx-divider"]]],Ok=["igx-prefix, [igxPrefix]","*","igx-suffix, [igxSuffix]","igx-divider"],Pk=(()=>{let e=class extends Ak{get focused(){let e=this._focused;if(this.hasIndex){let t=this.selection.first_item(`${this.dropDown.id}-active`),i=t?t.index:-1;e=this._index===i}return this.isSelectable&&e}set focused(e){this._focused=e}get selected(){if(this.hasIndex){let e=this.selection.first_item(`${this.dropDown.id}`);return!!e&&e.index===this._index&&e.value===this.value}return this._selected}set selected(e){this.isHeader||(this._selected=e,this.selectedChange.emit(this._selected))}get setTabIndex(){return this.dropDown.allowItemsFocus&&this.isSelectable?0:null}clicked(e){this.isSelectable?this.selection&&this.dropDown.selectItem(this,e):this.ensureItemFocus()}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵcmp=es({type:e,selectors:[["igx-drop-down-item"]],hostVars:1,hostBindings:function(e,t){2&e&&tg("tabindex",t.setTabIndex)},standalone:!0,features:[Ru,Pp],ngContentSelectors:Ok,decls:6,vars:0,consts:[[1,"igx-drop-down__content"],[1,"igx-drop-down__inner"]],template:function(e,t){1&e&&(op(kk),Mg(0,"span",0),ap(1),Mg(2,"span",1),ap(3,1),Ng(),ap(4,2),ap(5,3),Ng())},encapsulation:2}),e})(),Fk=0,Vk=(()=>{let e=class{get id(){return this._id}set id(e){this._id=e}get items(){let e=[];if(void 0!==this.children)for(let t of this.children.toArray())t.isHeader||e.push(t);return e}get headers(){let e=[];if(void 0!==this.children)for(let t of this.children.toArray())t.isHeader&&e.push(t);return e}get element(){return this.elementRef.nativeElement}get scrollContainer(){return this.element}constructor(e,t,i){this.elementRef=e,this.cdr=t,this.document=i,this.selectionChanging=new yl,this.maxHeight=null,this.cssClass=!0,this._focusedItem=null,this._id="igx-drop-down-"+Fk++}ngOnInit(){this.computedStyles=this.document.defaultView.getComputedStyle(this.elementRef.nativeElement)}onItemActionKey(e,t){switch(e){case sT:case oT:this.selectItem(this.focusedItem,t)}}selectItem(e,t,i=!0){this.selectionChanging.emit({newSelection:e,oldSelection:null,cancel:!1})}get focusedItem(){return this._focusedItem}set focusedItem(e){this._focusedItem=e}navigateItem(e){if(-1!==e){let t=this._focusedItem,i=this.items[e];t&&(t.focused=!1),this.focusedItem=i,this.scrollToHiddenItem(i),this.focusedItem.focused=!0}}navigateFirst(){this.navigate(nT.Down,-1)}navigateLast(){this.navigate(nT.Up,this.items.length)}navigateNext(){this.navigate(nT.Down)}navigatePrev(){this.navigate(nT.Up)}scrollToHiddenItem(e){let t=e.element.nativeElement.getBoundingClientRect(),i=this.scrollContainer.getBoundingClientRect();i.top>t.top&&(this.scrollContainer.scrollTop-=i.top-t.top),i.bottom<t.bottom&&(this.scrollContainer.scrollTop+=t.bottom-i.bottom)}navigate(e,t){let i=-1;this._focusedItem&&(i=t||this.focusedItem.itemIndex);let n=this.getNearestSiblingFocusableItemIndex(i,e);this.navigateItem(n)}getNearestSiblingFocusableItemIndex(e,t){let i=e,n=this.items;for(;n[i+t]&&n[i+t].disabled;)i+=t;return i+=t,i>=0&&i<n.length?i:-1}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(Pm),Oc(of))},e.ɵdir=ss({type:e,hostVars:5,hostBindings:function(e,t){2&e&&(tg("id",t.id),yg("max-height",t.maxHeight),xg("igx-drop-down",t.cssClass))},inputs:{width:"width",height:"height",id:"id",maxHeight:"maxHeight"},outputs:{selectionChanging:"selectionChanging"}}),e})(),Mk=["scrollContainer"],Nk=["*"];function Lk(e,t){1&e&&(zg(0),ap(1),Bg())}var Hk=(()=>{let e=class extends Vk{get focusedItem(){return this.virtDir?this._focusedItem&&-1!==this._focusedItem.index&&this.children.find((e=>e.index===this._focusedItem.index))||null:this._focusedItem}set focusedItem(e){if(!e)return this.selection.clear(`${this.id}-active`),void(this._focusedItem=null);this._focusedItem=e,this.virtDir&&(this._focusedItem={value:e.value,index:e.index}),this.selection.set(`${this.id}-active`,new Set([this._focusedItem]))}get id(){return this._id}set id(e){this.selection.set(e,this.selection.get(this.id)),this.selection.clear(this.id),this.selection.set(e,this.selection.get(`${this.id}-active`)),this.selection.clear(`${this.id}-active`),this._id=e}get listId(){return this.id+"-list"}get selectedItem(){return this.selection.first_item(this.id)||null}get collapsed(){return this.toggleDirective.collapsed}get scrollContainer(){return this.scrollContainerRef.nativeElement}get collectionLength(){if(this.virtDir)return this.virtDir.totalItemCount||this.virtDir.igxForOf.length}constructor(e,t,i,n){super(e,t,i),this.selection=n,this.opening=new yl,this.opened=new yl,this.closing=new yl,this.closed=new yl,this.allowItemsFocus=!1,this.destroy$=new ei}open(e){let t=e||this.getDefaultOverlaySettings();this.toggleDirective.open(t),this.updateScrollPosition()}getDefaultOverlaySettings(){return{closeOnOutsideClick:!0,modal:!1,positionStrategy:new zE}}close(e){this.toggleDirective.close(e)}toggle(e){this.collapsed||this.toggleDirective.isClosing?this.open(e):this.close()}setSelectedItem(e){if(e<0||e>=this.items.length)return;let t;t=this.virtDir?{value:this.virtDir.igxForOf[e],index:e}:this.items[e],this.selectItem(t)}navigateItem(e){if(this.virtDir){if(-1===e||e>=this.collectionLength)return;let t=e>(this.focusedItem?this.focusedItem.index:-1)?nT.Down:nT.Up,i=this.isIndexOutOfBounds(e,t);this.focusedItem={value:this.virtDir.igxForOf[e],index:e},i&&this.virtDir.scrollTo(e),i?this.virtDir.chunkLoad.pipe(dn(1)).subscribe((()=>{this.skipHeader(t)})):this.skipHeader(t)}else super.navigateItem(e);this.allowItemsFocus&&this.focusedItem&&(this.focusedItem.element.nativeElement.focus(),this.cdr.markForCheck())}updateScrollPosition(){if(!this.virtDir)return;if(!this.selectedItem)return void this.virtDir.scrollTo(0);let e=this.virtDir.getScrollForIndex(this.selectedItem.index);e-=(this.virtDir.igxForContainerSize/this.virtDir.igxForItemSize/2-1)*this.virtDir.igxForItemSize,this.virtDir.getScroll().scrollTop=e}onToggleOpening(e){let t={owner:this,event:e.event,cancel:!1};this.opening.emit(t),e.cancel=t.cancel,!e.cancel&&this.virtDir&&(this.virtDir.scrollPosition=this._scrollPosition)}onToggleContentAppended(e){!this.virtDir&&this.selectedItem&&this.scrollToItem(this.selectedItem)}onToggleOpened(){this.updateItemFocus(),this.opened.emit({owner:this})}onToggleClosing(e){let t={owner:this,event:e.event,cancel:!1};this.closing.emit(t),e.cancel=t.cancel,!e.cancel&&this.virtDir&&(this._scrollPosition=this.virtDir.scrollPosition)}onToggleClosed(){this.focusItem(!1),this.closed.emit({owner:this})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.selection.delete(this.id),this.selection.delete(`${this.id}-active`)}calculateScrollPosition(e){if(!e)return 0;let t=e.element.nativeElement.getBoundingClientRect(),i=this.scrollContainer.getBoundingClientRect().top-t.top,n=this.scrollContainer.scrollTop-i;return n-=this.scrollContainer.clientHeight/2,n+=e.elementHeight/2,Math.floor(n)}ngOnChanges(e){e.id&&(this.toggleDirective.id=e.id.currentValue)}ngAfterViewInit(){this.virtDir&&(this.virtDir.igxForItemSize=28)}onItemActionKey(e,t){super.onItemActionKey(e,t),this.close(t)}navigateFirst(){this.virtDir?this.navigateItem(0):super.navigateFirst()}navigateLast(){this.virtDir?this.navigateItem(this.virtDir.totalItemCount?this.virtDir.totalItemCount-1:this.virtDir.igxForOf.length-1):super.navigateLast()}navigateNext(){this.virtDir?this.navigateItem(this._focusedItem?this._focusedItem.index+1:0):super.navigateNext()}navigatePrev(){this.virtDir?this.navigateItem(this._focusedItem?this._focusedItem.index-1:0):super.navigatePrev()}selectItem(e,t,i=!0){let n=this.selectedItem;if(e||(e=this.focusedItem),null===e||e instanceof Ak&&e.isHeader)return;this.virtDir&&(e={value:e.value,index:e.index});let r={oldSelection:n,newSelection:e,cancel:!1,owner:this};if(i&&this.selectionChanging.emit(r),!r.cancel){if(!this.isSelectionValid(r.newSelection))throw new Error("Please provide a valid drop-down item for the selection!");this.selection.set(this.id,new Set([r.newSelection])),this.virtDir||(n&&(n.selected=!1),r.newSelection&&(r.newSelection.selected=!0)),t&&this.toggleDirective.close(t)}}clearSelection(){let e={oldSelection:this.selectedItem,newSelection:null,cancel:!1,owner:this};this.selectionChanging.emit(e),this.selectedItem&&!e.cancel&&(this.selectedItem.selected=!1,this.selection.clear(this.id))}isSelectionValid(e){return null===e||this.virtDir&&e.hasOwnProperty("value")&&e.hasOwnProperty("index")||e instanceof Pk&&!e.isHeader}scrollToItem(e){this.scrollContainer.scrollTop=this.calculateScrollPosition(e)}focusItem(e){(e||this._focusedItem)&&(this._focusedItem.focused=e)}updateItemFocus(){this.selectedItem?(this.focusedItem=this.selectedItem,this.focusItem(!0)):this.allowItemsFocus&&this.navigateFirst()}skipHeader(e){this.focusedItem&&(this.focusedItem.isHeader||this.focusedItem.disabled)&&(e===nT.Up?this.navigatePrev():this.navigateNext())}isIndexOutOfBounds(e,t){let i=this.virtDir.state,n=this.virtDir.getScroll().scrollTop,r=this.virtDir.getScrollForIndex(e,t===nT.Down),s=e<i.startIndex||e>i.chunkSize+i.startIndex,o=t===nT.Down?n<r:n>r;return s||o}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(Pm),Oc(of),Oc(bk))},e.ɵcmp=es({type:e,selectors:[["igx-drop-down"]],contentQueries:function(e,t,i){if(1&e&&(hp(i,sA,5),hp(i,Pk,5)),2&e){let e;gp(e=pp())&&(t.virtDir=e.first),gp(e=pp())&&(t.children=e)}},viewQuery:function(e,t){if(1&e&&(up(OA,7),up(Mk,7)),2&e){let e;gp(e=pp())&&(t.toggleDirective=e.first),gp(e=pp())&&(t.scrollContainerRef=e.first)}},inputs:{allowItemsFocus:[2,"allowItemsFocus","allowItemsFocus",Zm],labelledBy:"labelledBy"},outputs:{opening:"opening",opened:"opened",closing:"closing",closed:"closed"},standalone:!0,features:[kp([{provide:aT,useExisting:e}]),Vu,Ru,yo,Pp],ngContentSelectors:Nk,decls:4,vars:9,consts:[["scrollContainer",""],["igxToggle","",1,"igx-drop-down__list",3,"appended","opening","opened","closing","closed"],["role","listbox",1,"igx-drop-down__list-scroll"],[4,"ngIf"]],template:function(e,t){if(1&e){let e=Wg();op(),Mg(0,"div",1),ep("appended",(function(i){return Uo(e),qo(t.onToggleContentAppended(i))}))("opening",(function(i){return Uo(e),qo(t.onToggleOpening(i))}))("opened",(function(){return Uo(e),qo(t.onToggleOpened())}))("closing",(function(i){return Uo(e),qo(t.onToggleClosing(i))}))("closed",(function(){return Uo(e),qo(t.onToggleClosed())})),Mg(1,"div",2,0),Xu(3,Lk,2,0,"ng-container",3),Ng()()}2&e&&(yg("width",t.width),Ac(),yg("height",t.height)("max-height",t.maxHeight),tg("id",t.listId)("aria-labelledby",t.labelledBy),Ac(2),fg("ngIf",!t.collapsed))},dependencies:[OA,cv],encapsulation:2}),e})(),zk=["container"],Bk=["menuItemTemplate"];function Gk(e,t){if(1&e&&(Mg(0,"igx-icon",5),fp(1),Ng()),2&e){let e=rp(2);fg("family",e.iconSet)("name",e.iconName),Ac(),yp(e.iconName)}}function $k(e,t){if(1&e&&(Mg(0,"igx-icon"),fp(1),Ng()),2&e){let e=rp(2);Ac(),yp(e.iconName)}}function Wk(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"button",3),ep("click",(function(t){return Uo(e),qo(rp().handleClick(t))}))("mousedown",(function(t){return Uo(e),qo(rp().preventEvent(t))})),Xu(2,Gk,2,3,"igx-icon",4)(3,$k,2,1,"igx-icon",2),Ng(),Bg()}if(2&e){let e=rp();Ac(),fg("title",e.labelText),Ac(),fg("ngIf",e.iconSet),Ac(),fg("ngIf",!e.iconSet)}}function Kk(e,t){if(1&e&&(Mg(0,"igx-icon",5),fp(1),Ng()),2&e){let e=rp(3);fg("family",e.iconSet)("name",e.iconName),Ac(),yp(e.iconName)}}function jk(e,t){if(1&e&&(Mg(0,"igx-icon"),fp(1),Ng()),2&e){let e=rp(3);Ac(),yp(e.iconName)}}function Uk(e,t){if(1&e&&(zg(0),Mg(1,"div",6,1),Xu(3,Kk,2,3,"igx-icon",4)(4,jk,2,1,"igx-icon",2),Mg(5,"label",7),fp(6),Ng()(),Bg()),2&e){let e=rp(2);Ac(),fg("className",e.containerClass),Ac(2),fg("ngIf",e.iconSet),Ac(),fg("ngIf",!e.iconSet),Ac(2),yp(e.labelText)}}function qk(e,t){1&e&&Xu(0,Uk,7,4,"ng-container",2),2&e&&fg("ngIf",rp().asMenuItem)}var Yk=(()=>{let e=class{constructor(){this.actionClick=new yl,this.asMenuItem=!1}get containerClass(){return"igx-action-strip__menu-button "+(this.classNames||"")}handleClick(e){this.actionClick.emit(e)}preventEvent(e){e&&(e.stopPropagation(),e.preventDefault())}};return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=es({type:e,selectors:[["igx-grid-action-button"]],viewQuery:function(e,t){if(1&e&&(up(zk,5),up(Bk,5)),2&e){let e;gp(e=pp())&&(t.container=e.first),gp(e=pp())&&(t.templateRef=e.first)}},inputs:{asMenuItem:[2,"asMenuItem","asMenuItem",Zm],iconName:"iconName",classNames:"classNames",iconSet:"iconSet",labelText:"labelText"},outputs:{actionClick:"actionClick"},standalone:!0,features:[Vu,Pp],decls:3,vars:1,consts:[["menuItemTemplate",""],["container",""],[4,"ngIf"],["type","button","igxIconButton","flat","igxRipple","",3,"click","mousedown","title"],[3,"family","name",4,"ngIf"],[3,"family","name"],[3,"className"],["igxLabel",""]],template:function(e,t){1&e&&Xu(0,Wk,4,3,"ng-container",2)(1,qk,1,1,"ng-template",null,0,nm),2&e&&fg("ngIf",!t.asMenuItem)},dependencies:[cv,vA,FT,cA],encapsulation:2}),e})(),Xk=class{constructor(e,t,i,n){this.id=e,this.index=t,this.data=i,this.grid=n,this.rowFormGroup=new kx({}),this.rowFormGroup=this.grid.validation.create(e,i)}createRowEditEventArgs(e=!0,t){let i={primaryKey:this.id,rowID:this.id,rowKey:this.id,rowData:this.data,oldValue:this.data,cancel:!1,owner:this.grid,isAddRow:!1,valid:this.rowFormGroup.valid,event:t};return e&&(i.newValue=this.newData??this.data),i}createRowDataEventArgs(e){return{rowID:this.id,primaryKey:this.id,rowKey:this.id,rowData:this.newData??this.data,data:this.newData??this.data,oldValue:this.data,cancel:!1,owner:this.grid,isAddRow:!0,valid:this.rowFormGroup.valid,event:e}}createRowEditDoneEventArgs(e,t){let i=this.grid.transactions.enabled?this.grid.transactions.getAggregatedValue(this.id,!0):this.grid.gridAPI.getRowData(this.id),n=i??this.grid.gridAPI.getRowData(this.id);return{primaryKey:this.id,rowID:this.id,rowKey:this.id,rowData:n,oldValue:e,newValue:i,owner:this.grid,isAddRow:!1,valid:!0,event:t}}getClassName(){return this.constructor.name}},Zk=class extends Xk{constructor(e,t,i,n,r){super(e,t,i,r),this.recordRef=n,this.isAddRow=!0}createRowEditEventArgs(e=!0,t){let i=super.createRowEditEventArgs(e,t);return i.oldValue=null,i.isAddRow=!0,i.rowData=this.newData??this.data,i}createRowEditDoneEventArgs(e,t){let i=super.createRowEditDoneEventArgs(null,t);return i.isAddRow=!0,i}},Qk=class{constructor(e,t,i,n,r,s,o){this.id=e,this.rowIndex=t,this.column=i,this.value=n,this._editValue=r,this.rowData=s,this.grid=o,this.grid.validation.create(e.rowID,s)}get editValue(){let e=this.grid.validation.getFormControl(this.id.rowID,this.column.field);if(e)return e.value}set editValue(e){let t=this.grid.validation.getFormControl(this.id.rowID,this.column.field);"change"===this.grid.validationTrigger?(t.setValue(e),t.markAsTouched()):this.pendingValue=e}castToNumber(e){if("number"===this.column.dataType&&!this.column.inlineEditorTemplate){let t=parseFloat(e);return!isNaN(t)&&isFinite(t)?t:0}return e}createCellEditEventArgs(e=!0,t){let i=this.grid.validation.getFormControl(this.id.rowID,this.column.field),n={primaryKey:this.id.rowID,rowID:this.id.rowID,rowKey:this.id.rowID,cellID:this.id,rowData:this.rowData,oldValue:this.value,cancel:!1,column:this.column,owner:this.grid,valid:!i||i.valid,event:t};return e&&(n.newValue=this.castToNumber(this.editValue)),n}createCellEditDoneEventArgs(e,t){let i=this.grid.transactions.enabled?this.grid.transactions.getAggregatedValue(this.id.rowID,!0):this.rowData,n=null===i?this.grid.gridAPI.getRowData(this.id.rowID):i,r=this.grid.validation.getFormControl(this.id.rowID,this.column.field);return{primaryKey:this.id.rowID,rowID:this.id.rowID,rowKey:this.id.rowID,cellID:this.id,rowData:n,oldValue:this.value,valid:!r||r.valid,newValue:e,column:this.column,owner:this.grid,event:t}}},Jk=class{constructor(){this.cell=null,this.row=null,this.isInCompositionMode=!1}createCell(e){return this.cell=new Qk(e.cellID||e.id,e.row.index,e.column,e.value,e.value,e.row.data,e.grid)}createRow(e){return this.row=new Xk(e.id.rowID,e.rowIndex,e.rowData,e.grid)}sameRow(e){return this.row&&this.row.id===e}sameCell(e){return this.cell.id.rowID===e.id.rowID&&this.cell.id.columnID===e.id.columnID}get cellInEditMode(){return!!this.cell}beginCellEdit(e){let t=this.cell.createCellEditEventArgs(!1,e);this.grid.cellEditEnter.emit(t),t.cancel&&this.endCellEdit()}cellEdit(e){let t=this.cell.createCellEditEventArgs(!0,e);return this.grid.cellEdit.emit(t),t}updateCell(e,t){if(!this.cell)return;let i,n=this.grid.gridAPI.get_cell_by_index(this.cell.id.rowIndex,this.cell.column.field)?.nativeElement;n&&(i=n.getRootNode().activeElement,i.blur());let r,s=this.grid.validation.getFormControl(this.cell.id.rowID,this.cell.column.field);if("blur"===this.grid.validationTrigger&&void 0!==this.cell.pendingValue&&(s.setValue(this.cell.pendingValue),s.markAsTouched()),"blur"===this.grid.validationTrigger&&this.grid.tbody.nativeElement.focus({preventScroll:!0}),"date"===this.cell.column.dataType&&!pC(this.cell.value)&&mC(GA.parseIsoDate(this.cell.value),this.cell.editValue))return r=this.exitCellEdit(t),r;if(mC(this.cell.value,this.cell.editValue))return r=this.exitCellEdit(t),r;let o=this.cellEdit(t);return o.cancel?(i?.focus(),o):(this.grid.gridAPI.update_cell(this.cell),r=this.cellEditDone(t,!1),e&&(r=this.exitCellEdit(t)),ke(ke({},o),r))}cellEditDone(e,t){let i=this.cell.castToNumber(this.cell.editValue),n=this.cell.createCellEditDoneEventArgs(i,e);return this.grid.cellEditDone.emit(n),t&&(n.rowData=this.row.data),n}exitCellEdit(e){if(!this.cell)return;let t=this.cell.castToNumber(this.cell.editValue),i=this.cell?.createCellEditDoneEventArgs(t,e);return this.cell.value=t,this.grid.cellEditExit.emit(i),this.endCellEdit(),i}endCellEdit(){this.cell=null}targetInEdit(e,t){return!!this.cell&&this.cell.column.index===t&&this.cell.rowIndex===e}},eO=class extends Jk{constructor(){super(...arguments),this.closeRowEditingOverlay=new ei,this._rowEditingBlocked=!1,this._rowEditingStarted=!1}get primaryKey(){return this.grid.primaryKey}get rowInEditMode(){let e=this.row;return null!==e?this.grid.rowList.find((t=>t.key===e.id)):null}get rowEditing(){return this.grid.rowEditable}get nonEditable(){return this.grid.rowEditable&&(void 0===this.grid.primaryKey||null===this.grid.primaryKey)}get rowEditingBlocked(){return this._rowEditingBlocked}set rowEditingBlocked(e){this._rowEditingBlocked=e}beginRowEdit(e){if(!this.row||this.row.getClassName()!==Xk.name){if(this.row||this.createRow(this.cell),!this._rowEditingStarted){let t=this.row.createRowEditEventArgs(!1,e);if(this.grid.rowEditEnter.emit(t),t.cancel)return this.endEditMode(),!0;this._rowEditingStarted=!0}this.row.transactionState=this.grid.transactions.getAggregatedValue(this.row.id,!0),this.grid.transactions.startPending(),this.grid.openRowOverlay(this.row.id)}}rowEdit(e){let t=this.row.createRowEditEventArgs(!0,e);return this.grid.rowEdit.emit(t),t}updateRow(e,t){if(!this.grid.rowEditable||this.grid.rowEditingOverlay&&this.grid.rowEditingOverlay.collapsed||!this.row)return{};let i;return e&&(this.row.newData=this.grid.transactions.getAggregatedValue(this.row.id,!0),this.updateRowEditData(this.row,this.row.newData),i=this.rowEdit(t),i.cancel)||(i=this.endRowTransaction(e,t)),i}endRowTransaction(e,t){this.row.newData=this.grid.transactions.getAggregatedValue(this.row.id,!0);let i,n=this.row.createRowEditEventArgs(!0,t);if(e)if(this.row.getClassName()===Xk.name)n=this.grid.gridAPI.update_row(this.row,this.row.newData,t),i=this.rowEditDone(n.oldValue,t);else{let e=this.row.createRowDataEventArgs(t);if(this.grid.rowAdd.emit(e),e.cancel)return e;this.grid.transactions.endPending(!1);let n=this.getParentRowId();this.grid.gridAPI.addRowToData(this.row.newData??this.row.data,n),this.grid.triggerPipes(),i=this.rowEditDone(null,t)}else{this.grid.transactions.endPending(!1);let e=this.row&&this.row.getClassName()===Zk.name,t=this.row?this.row.id:this.cell.id.rowID;e?this.grid.validation.clear(t):this.grid.validation.update(t,n.oldValue)}return i=this.exitRowEdit(n.oldValue,t),ke(ke({},i),n)}rowEditDone(e,t){let i=this.row.createRowEditDoneEventArgs(e,t);return this.grid.rowEditDone.emit(i),i}exitRowEdit(e,t){let i=this.row.createRowEditDoneEventArgs(e,t);return this.grid.rowEditExit.emit(i),this.grid.closeRowEditingOverlay(),this.endRowEdit(),i}endRowEdit(){this.row=null,this.rowEditingBlocked=!1,this._rowEditingStarted=!1}endEditMode(){this.endCellEdit(),this.grid.rowEditable&&(this.endRowEdit(),this.grid.closeRowEditingOverlay())}updateRowEditData(e,t){let i=this.grid,n=i.gridAPI.crudService.row;if(e.newData=t??n.transactionState,n&&e.id===n.id)e.data=Object.assign((e=>{if(e)return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))})(e.data),e.data,n.transactionState);else if(this.grid.transactions.enabled){let t=i.transactions.getState(e.id);e.data=t?Object.assign({},e.data,t.value):e.data}}getParentRowId(){return null}},tO=class extends eO{constructor(){super(...arguments),this.addRowParent=null}createAddRow(e,t){this.createAddRowParent(e,t);let i=this.grid.getEmptyRecordObjectFor(e),n=this.addRowParent.index+1;return this.row=new Zk(i.rowID,n,i.data,i.recordRef,this.grid)}createAddRowParent(e,t){let i=e?e.index:-1,n=e?e.key:i>=0?this.grid.rowList.last.key:null,r=this.grid.isRecordPinnedByViewIndex(i),s=this.grid.pinnedRecords.findIndex((e=>e[this.primaryKey]===n)),o=this.grid.getUnpinnedIndexById(n);this.addRowParent={rowID:n,rowKey:n,index:r?s:o,asChild:t,isPinned:r}}endRowTransaction(e,t){let i=this.row&&this.row.getClassName()===Zk.name;i&&this.grid.rowAdded.pipe(un()).subscribe((e=>{let t=e.data,i=this.grid.pinnedRecords.findIndex((e=>e[this.primaryKey]===t[this.primaryKey])),n=-1!==i?i:this._findRecordIndexInView(t),r=this.grid.filteredSortedData.findIndex((e=>e[this.primaryKey]===t[this.primaryKey])),s=-1===n||this.grid.navigation.shouldPerformVerticalScroll(n,0)?r:-1;this.grid.showSnackbarFor(s)}));let n=super.endRowTransaction(e,t);if(n.cancel)return n;if(i&&(this.endAddRow(),e)){let e={data:n.rowData,rowData:n.rowData,owner:this.grid,primaryKey:n.rowData[this.grid.primaryKey],rowKey:n.rowData[this.grid.primaryKey]};this.grid.rowAddedNotifier.next(e),this.grid.rowAdded.emit(e)}return n}endAddRow(){this.addRowParent=null,this.grid.triggerPipes()}_findRecordIndexInView(e){return this.grid.dataView.findIndex((t=>t[this.primaryKey]===e[this.primaryKey]))}getParentRowId(){return this.addRowParent.asChild?this.addRowParent.asChild?this.addRowParent.rowID:void 0:null!==this.addRowParent.rowID&&void 0!==this.addRowParent.rowID?this.grid.gridAPI.get_rec_by_id(this.addRowParent.rowID)?.parent?.rowID:void 0}},iO=(()=>{let e=class extends tO{enterEditMode(e,t){if(!this.isInCompositionMode){if(this.nonEditable)return void console.warn("The grid must have a `primaryKey` specified when using `rowEditable`!");if(this.cellInEditMode)(!this.endEdit(!0,t)||!this.cell)&&this.grid.tbody.nativeElement.focus();else if(this.rowEditing){if(this.row&&!this.sameRow(e?.cellID?.rowID)){if(this.rowEditingBlocked=this.endEdit(!0,t),this.rowEditingBlocked)return!0;this.rowEditingBlocked=!1,this.endRowEdit()}this.createCell(e),this.beginRowEdit(t)||this.beginCellEdit(t)}else this.createCell(e),this.beginCellEdit(t)}}enterAddRowMode(e,t,i){if(!this.rowEditing&&(void 0===this.grid.primaryKey||null===this.grid.primaryKey))return void console.warn("The grid must use row edit mode to perform row adding! Please set rowEditable to true.");this.endEdit(!0,i),null!=e&&this.grid.expansionStates.get(e.key)&&this.grid.collapseRow(e.key),this.createAddRow(e,t),this.grid.transactions.startPending(),this.addRowParent.isPinned&&this.grid._pinnedRecordIDs.splice(this.row.index,0,this.row.id),this.grid.triggerPipes(),this.grid.notifyChanges(!0),this.grid.navigateTo(this.row.index,-1);let n=this.grid.isRowPinningToTop?this.addRowParent.isPinned?0:this.grid.pinnedRows.length:this.addRowParent.isPinned?this.grid.unpinnedRecords.length:0,r=this.grid.gridAPI.get_row_by_index(this.row.index+n);r.triggerAddAnimation(),r.cdr.detectChanges(),r.addAnimationEnd.pipe(un()).subscribe((()=>{let e=r.cells.find((e=>e.editable));e&&(this.grid.gridAPI.update_cell(this.cell),this.enterEditMode(e,i),e.activate())}))}endEdit(e=!0,t){if(!this.row&&!this.cell)return;let i;if(e){if(i=this.updateCell(!0,t),i&&i.cancel)return i.cancel}else{let e=this.cell;if(this.exitCellEdit(t),!this.grid.rowEditable&&e){let t=this.grid.transactions.getAggregatedValue(e.id.rowID,!0)||e.rowData;this.grid.validation.update(e.id.rowID,t)}}if(i=this.updateRow(e,t),this.rowEditingBlocked=i.cancel,i.cancel)return!0;let n=this.grid.selectionService.activeElement;if(t&&n){let e=n.row,t=n.layout?n.layout.columnVisibleIndex:n.column;this.grid.navigateTo(e,t)}return!1}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),nO=new Gn("IgxGridBaseToken"),rO=new Gn("IgxGridServiceBaseToken"),sO=e=>0===e||!!e,oO=e=>e[0],aO=e=>e[e.length-1],lO=class e{static count(e){return e.length}operate(t=[],i=[],n,r){return[{key:"count",label:"Count",defaultFormatting:!1,summaryResult:e.count(t)}]}},dO=class e extends lO{static min(e){return e.length&&e.filter(sO).length?e.filter(sO).reduce(((e,t)=>Math.min(e,t))):0}static max(e){return e.length&&e.filter(sO).length?e.filter(sO).reduce(((e,t)=>Math.max(e,t))):0}static sum(e){return e.length&&e.filter(sO).length?e.filter(sO).reduce(((e,t)=>+e+ +t)):0}static average(e){return e.length&&e.filter(sO).length?this.sum(e)/this.count(e):0}operate(t=[],i=[],n,r){let s=super.operate(t,i,n,r);return s.push({key:"min",label:"Min",defaultFormatting:!0,summaryResult:e.min(t)}),s.push({key:"max",label:"Max",defaultFormatting:!0,summaryResult:e.max(t)}),s.push({key:"sum",label:"Sum",defaultFormatting:!0,summaryResult:e.sum(t)}),s.push({key:"average",label:"Avg",defaultFormatting:!0,summaryResult:e.average(t)}),s}},cO=class e extends lO{static latest(e){return e.length&&e.filter(sO).length?oO(e.filter(sO).sort(((e,t)=>new Date(t).valueOf()-new Date(e).valueOf()))):void 0}static earliest(e){return e.length&&e.filter(sO).length?aO(e.filter(sO).sort(((e,t)=>new Date(t).valueOf()-new Date(e).valueOf()))):void 0}operate(t=[],i=[],n,r){let s=super.operate(t,i,n,r);return s.push({key:"earliest",label:"Earliest",defaultFormatting:!0,summaryResult:e.earliest(t)}),s.push({key:"latest",label:"Latest",defaultFormatting:!0,summaryResult:e.latest(t)}),s}},hO=class e extends lO{static latestTime(e){return e.length&&e.filter(sO).length?oO(e.filter(sO).map((e=>new Date(e))).sort(((e,t)=>(new Date).setHours(t.getHours(),t.getMinutes(),t.getSeconds())-(new Date).setHours(e.getHours(),e.getMinutes(),e.getSeconds())))):void 0}static earliestTime(e){return e.length&&e.filter(sO).length?aO(e.filter(sO).map((e=>new Date(e))).sort(((e,t)=>(new Date).setHours(t.getHours(),t.getMinutes(),t.getSeconds())-(new Date).setHours(e.getHours(),e.getMinutes(),e.getSeconds())))):void 0}operate(t=[],i=[],n,r){let s=super.operate(t,i,n,r);return s.push({key:"earliest",label:"Earliest",defaultFormatting:!0,summaryResult:e.earliestTime(t)}),s.push({key:"latest",label:"Latest",defaultFormatting:!0,summaryResult:e.latestTime(t)}),s}},uO=class e{static aggregators(){return[{key:"COUNT",label:"Count",aggregator:e.count}]}static count(e){return e.length}},gO=class e extends uO{static aggregators(){let t=[];return t=t.concat(super.aggregators()),t.push({key:"MIN",label:"Minimum",aggregator:e.min}),t.push({key:"MAX",label:"Maximum",aggregator:e.max}),t.push({key:"SUM",label:"Sum",aggregator:e.sum}),t.push({key:"AVG",label:"Average",aggregator:e.average}),t}static min(e){return dO.min(e)}static max(e){return dO.max(e)}static sum(e){return dO.sum(e)}static average(e){return dO.average(e)}},pO=class e extends uO{static aggregators(){let t=[];return t=t.concat(super.aggregators()),t.push({key:"LATEST",label:"Latest Date",aggregator:e.latest}),t.push({key:"EARLIEST",label:"Earliest Date",aggregator:e.earliest}),t}static latest(e){return cO.latest(e)}static earliest(e){return cO.earliest(e)}},mO=class e extends uO{static aggregators(){let t=[];return t=t.concat(super.aggregators()),t.push({key:"LATEST",label:"Latest Time",aggregator:e.latestTime}),t.push({key:"EARLIEST",label:"Earliest Time",aggregator:e.earliestTime}),t}static latestTime(e){return hO.latestTime(e)}static earliestTime(e){return hO.earliestTime(e)}},fO={aggregations:"aggregations",records:"records",children:"children",level:"level",rowDimensionSeparator:"_",columnDimensionSeparator:"-"},vO=function(e){return e[e.Row=0]="Row",e[e.Column=1]="Column",e[e.Filter=2]="Filter",e}(vO||{}),yO=function(e){return e.Vertical="vertical",e.Horizontal="horizontal",e}(yO||{}),xO=function(e){return e.Top="top",e.Bottom="bottom",e}(xO||{}),wO=class e{static processGroups(t,i,n,r){for(let s of t){s.children&&s.children.size>0&&s.children.forEach((e=>{this.processGroups(e,i,n,r)}));let t=e.getFieldsHierarchy(s.records,[i],vO.Row,n,r),o=e.processHierarchy(t,n,0);s.children.set(i.memberName,o)}}static flattenGroups(t,i,n,r,s,o){for(let a=0;a<t.length;a++){let l=t[a],d=i.memberName;if(!d)continue;let c=l.children.get(d);!c&&s&&(c=l.children.get(s.memberName),c&&(i=s)),o&&o.dimensionValues.forEach(((e,t)=>{if(s.memberName!==t){l.dimensionValues.set(t,e);let i=o.dimensions.find((e=>e.memberName===t));l.dimensions.unshift(i)}}));let h=e.getRecordKey(l,i);((void 0===n.get(h)?r:n.get(h))||!i.childLevel||!l.dimensionValues.get(i.memberName))&&c&&(i.childLevel?this.flattenGroups(c,i.childLevel,n,r,i,l):c.forEach((e=>{l.dimensionValues.forEach(((t,n)=>{if(i.memberName!==n){e.dimensionValues.set(n,t);let i=l.dimensions.find((e=>e.memberName===n));e.dimensions.unshift(i)}}))})),t.splice(a+1,0,...c),a+=c.length)}}static flattenGroupsHorizontally(t,i,n,r,s,o,a,l){for(let d=0;d<t.length;d++){let c=t[d],h=i.memberName;if(!h)continue;s.find((e=>e.memberName===c.dimensions[0].memberName))||s.push(c.dimensions[0]);let u=c.children.get(h);!u&&a&&(u=c.children.get(a.memberName),u&&(i=a)),l&&l.dimensionValues.forEach(((e,t)=>{c.dimensionValues.set(t,e);let i=l.dimensions.find((e=>e.memberName===t));c.dimensions.unshift(i)}));let g=e.getRecordKey(c,i);if(((void 0===n.get(g)?r:n.get(g))||!i.childLevel||!c.dimensionValues.get(i.memberName))&&u&&!c.totalRecordDimensionName){i.childLevel?this.flattenGroupsHorizontally(u,i.childLevel,n,r,s,o,i,c):u.forEach((e=>{c.dimensionValues.forEach(((t,n)=>{if(i.memberName!==n){e.dimensionValues.set(n,t);let i=c.dimensions.find((e=>e.memberName===n));e.dimensions.unshift(i)}}))})),u.forEach((e=>{1===e.dimensions.length&&c.dimensionValues.forEach(((t,i)=>{e.dimensionValues.set(i,t)})),e.dimensions.forEach((e=>{s.find((t=>t.memberName===e.memberName))||s.push(e)}))}));let e=c.dimensionValues.get(i.memberName);i.horizontalSummary&&e&&(c.totalRecordDimensionName=i.memberName,c.dimensionValues.set(i.memberName,`${e} Total`),o===xO.Top?u.unshift(c):u.push(c)),t.splice(d,1,...u),d+=u.length-1}}}static assignLevels(e){for(let t of e){let e=t,i=0;for(;e.childLevel;)e.level=i,e=e.childLevel,i++;e.level=i}}static getFieldsHierarchy(e,t,i,n,r){let s=new Map;for(let o of e){let e=i===vO.Column?this.extractValuesForColumn(t,o,n):this.extractValuesForRow(t,o,n,r);for(let[t,i]of e)null!=s.get(i.value)||s.set(i.value,r.clone(i)),this.applyHierarchyChildren(s,i,o,n)}return s}static sort(e,t,i=new jC){return e.forEach((e=>{let n=e.children;n&&n.forEach((e=>{this.sort(e,t,i)}))})),JC.sort(e,t,i)}static extractValueFromDimension(e,t){return e.memberFunction?e.memberFunction.call(null,t):t[e.memberName]}static getDimensionDepth(e){let t=0;for(;e.childLevel;)t++,e=e.childLevel;return t}static extractValuesForRow(e,t,i,n){let r=new Map;for(let s of e){if(t[i.level]&&t[i.level]>0){let e=t[i.records];return this.getFieldsHierarchy(e,[s],vO.Row,i,n)}let e=this.extractValueFromDimension(s,t),o={};if(o.value=e,o.dimension=s,s.childLevel){let e=this.extractValuesForRow([s.childLevel],t,i,n);o[i.children]=e}r.set(e,o)}return r}static extractValuesForColumn(e,t,i,n=[]){let r=new Map,s=r,o=this.flatten(e);for(let e of o){let r=this.extractValueFromDimension(e,t);n.push(r);let o=n.join(i.columnDimensionSeparator),a={value:o,expandable:e.expandable,children:null,dimension:e};a.children||(a.children=new Map),s.set(o,a),s=a.children}return r}static flatten(e,t=0){return e.reduce(((e,i)=>(i&&(i.level=t,e.push(i),i.childLevel&&(i.expandable=!0,e=e.concat(this.flatten([i.childLevel],t+1)))),e)),[])}static applyAggregations(e,t,i,n){if(0!==t.size)t.forEach((t=>{let r=t[n.children];if(r&&r.size>0){this.applyAggregations(e,r,i,n);let s=this.collectRecords(r,n);t[n.aggregations]=this.aggregate(s,i),this.applyAggregationRecordData(t[n.aggregations],t.value,e,n)}else t[n.records]&&(t[n.aggregations]=this.aggregate(t[n.records],i),this.applyAggregationRecordData(t[n.aggregations],t.value,e,n))}));else{let t=this.aggregate(e.records,i);this.applyAggregationRecordData(t,void 0,e,n)}}static applyAggregationRecordData(e,t,i,n){let r=Object.keys(e);if(r.length>1)r.forEach((r=>{let s=t?t+n.columnDimensionSeparator+r:r;i.aggregationValues.set(s,e[r])}));else if(1===r.length){let n=r[0];i.aggregationValues.set(t||n,e[n])}}static aggregate(t,i){let n={};for(let r of i){let i=e.getAggregatorForType(r.aggregate,r.dataType);if(!i)throw`No valid aggregator found for ${r.member}. Please set either a valid aggregatorName or aggregator`;n[r.member]=i(t.map((e=>e[r.member])),t)}return n}static getAggregatorForType(e,t){let i=e.aggregator;if(e.aggregatorName){let n=gO.aggregators();t&&"date"!==t&&"dateTime"!==t?"time"===t&&(n=n.concat(mO.aggregators())):n=n.concat(pO.aggregators()),i=n.find((t=>t.key.toLocaleLowerCase()===e.aggregatorName.toLocaleLowerCase()))?.aggregator}return i}static processHierarchy(e,t,i=0,n=!1){let r=[];return e.forEach(((e,s)=>{let o=e.dimension.memberName,a={dimensionValues:new Map,aggregationValues:new Map,children:new Map,dimensions:[e.dimension]};if(a.dimensionValues.set(o,s),e[t.records]&&(a.records=this.getDirectLeafs(e[t.records])),a.level=i,r.push(a),e[t.children]&&e[t.children].size>0){let r=this.processHierarchy(e[t.children],t,i+1,n);a.records=this.getDirectLeafs(r),a.children.set(o,r)}})),r}static getDirectLeafs(e){let t=[];for(let i of e)if(i.records){let e=i.records.filter((e=>!e.records&&-1===t.indexOf(e)));t=t.concat(e)}else t.push(i);return t}static getRecordKey(e,t){let i=[],n=e.dimensions.findIndex((e=>e.memberName===t.memberName))+1,r=e.dimensions.slice(0,n);for(let t of r){let n=e.dimensionValues.get(t.memberName);i.push(n)}return i.join("-")}static buildExpressionTree(t){let i=(t?.rows||[]).concat(t?.columns||[]).concat(t?.filters||[]).filter((e=>null!=e)).filter((e=>e&&e.enabled)),n=new iS(nS.And);return e.flatten(i).forEach((e=>{e.filter&&e.filter.filteringOperands&&n.filteringOperands.push(...e.filter.filteringOperands)})),n}static collectRecords(e,t){let i=[];return e.forEach((e=>i=i.concat(e[t.records]))),i}static applyHierarchyChildren(e,t,i,n){let r=n.records,s=n.children,o=t[s],a=e.get(t.value);if(Array.isArray(a[s])&&(a[s]=new Map),o&&0!==o.size){let e=a[s];for(let[t,a]of o){let t=e.get(a.value);if(t||(e.set(a.value,a),t=a),t[r]){let e=Object.assign({},i);if(i[r]){let n=t.value,s=t.dimension,o=i[r].filter((e=>this.extractValueFromDimension(s,e)===n));e[r]=o}t[r].push(e)}else t[r]=[i];a[s]&&a[s].size>0&&this.applyHierarchyChildren(e,a,i,n)}}else{let e=a.dimension;this.extractValueFromDimension(e,i)===t.value&&(a[r]?a[r].push(i):a[r]=[i])}}static getAggregateList(e,t){if(!e.aggregateList){let i=this.getAggregatorsForValue(e,t),n=i.find((t=>t.key===e.aggregate.key));n||void 0===t.data[0][e.member]?n||(i=[e.aggregate]):i.unshift(e.aggregate),e.aggregateList=i}return e.aggregateList}static getAggregatorsForValue(e,t){switch(e.dataType||t.resolveDataTypes(t.data[0][e.member])){case QC.Number:case QC.Currency:return gO.aggregators();case QC.Date:case QC.DateTime:return pO.aggregators();case QC.Time:return mO.aggregators();default:return uO.aggregators()}}},_O=(()=>{let e=class{get ranges(){this.addKeyboardRange();let e=Array.from(this._ranges).map((e=>JSON.parse(e)));return!e.length&&this.activeElement&&this.grid.isCellSelectable&&e.push(this.generateRange(this.activeElement)),e}get primaryButton(){return this.pointerState.primaryButton}set primaryButton(e){this.pointerState.primaryButton=e}constructor(e,t){this.zone=e,this.platform=t,this.dragMode=!1,this.keyboardState={},this.pointerState={},this.columnsState={},this.selection=new Map,this.temp=new Map,this.rowSelection=new Set,this.indeterminateRows=new Set,this.columnSelection=new Set,this.selectedRowsChange=new ei,this.pointerEventInGridBody=!1,this._ranges=new Set,this.pointerOriginHandler=e=>{this.pointerEventInGridBody=!1,document.body.removeEventListener("pointerup",this.pointerOriginHandler);let t=e.target.tagName.toLowerCase();"igx-grid-cell"!==t&&"igx-tree-grid-cell"!==t&&this.pointerUp(this._lastSelectedNode,this.grid.rangeSelected,!0)},this.initPointerState(),this.initKeyboardState(),this.initColumnsState()}initKeyboardState(){this.keyboardState.node=null,this.keyboardState.shift=!1,this.keyboardState.range=null,this.keyboardState.active=!1}initPointerState(){this.pointerState.node=null,this.pointerState.ctrl=!1,this.pointerState.shift=!1,this.pointerState.range=null,this.pointerState.primaryButton=!0}initColumnsState(){this.columnsState.field=null,this.columnsState.range=[]}add(e,t=!0){this.selection.has(e.row)?this.selection.get(e.row).add(e.column):this.selection.set(e.row,new Set).get(e.row).add(e.column),t&&this._ranges.add(JSON.stringify(this.generateRange(e)))}addKeyboardRange(){this.keyboardState.range&&this._ranges.add(JSON.stringify(this.keyboardState.range))}remove(e){this.selection.has(e.row)&&this.selection.get(e.row).delete(e.column),this.isActiveNode(e)&&(this.activeElement=null),this._ranges.delete(JSON.stringify(this.generateRange(e)))}isInMap(e){return this.selection.has(e.row)&&this.selection.get(e.row).has(e.column)||this.temp.has(e.row)&&this.temp.get(e.row).has(e.column)}selected(e){return this.isActiveNode(e)&&this.grid.isCellSelectable||this.isInMap(e)}isActiveNode(e){if(this.activeElement){let t=this.activeElement.column===e.column&&this.activeElement.row===e.row;if(this.grid.hasColumnLayouts){let i=this.activeElement.layout;return t&&this.isActiveLayout(i,e.layout)}return t}return!1}isActiveLayout(e,t){return e.columnVisibleIndex===t.columnVisibleIndex}addRangeMeta(e,t){this._ranges.add(JSON.stringify(this.generateRange(e,t)))}removeRangeMeta(e,t){this._ranges.delete(JSON.stringify(this.generateRange(e,t)))}generateRange(e,t){if(this._lastSelectedNode=e,!t)return{rowStart:e.row,rowEnd:e.row,columnStart:e.column,columnEnd:e.column};let{row:i,column:n}=t.node;return{rowStart:Math.min(e.row,i),rowEnd:Math.max(e.row,i),columnStart:Math.min(e.column,n),columnEnd:Math.max(e.column,n)}}keyboardStateOnKeydown(e,t,i){this.keyboardState.active=!0,this.initPointerState(),this.keyboardState.shift=t&&!i,this.grid.navigation.isDataRow(e.row)&&this.keyboardState.shift&&!this.keyboardState.node&&(this.clear(),this.keyboardState.node=Object.assign({},e))}keyboardStateOnFocus(e,t,i){let n=this.keyboardState;if(n.active){if(this.platform.isChromium&&this._moveSelectionChrome(i),n.shift)return this.dragSelect(e,n),n.range=this.generateRange(e,n),void t.emit(this.generateRange(e,n));this.initKeyboardState(),this.clear(),this.add(e)}}pointerDown(e,t,i){if(this.addKeyboardRange(),this.initKeyboardState(),this.pointerState.ctrl=i,this.pointerState.shift=t,this.pointerEventInGridBody=!0,document.body.addEventListener("pointerup",this.pointerOriginHandler),i||this.clear(),t)return this.pointerState.node||(this.pointerState.node=this.activeElement||e),this.pointerDownShiftKey(e),void this.clearTextSelection();this.removeRangeMeta(e),this.pointerState.node=e}pointerDownShiftKey(e){this.clear(),this.selectRange(e,this.pointerState)}mergeMap(e,t){let i,n,r=t.entries(),s=r.next();for(;!s.done;){if([i,n]=s.value,e.has(i)){let t=e.get(i);n.forEach((e=>t.add(e))),e.set(i,t)}else e.set(i,n);s=r.next()}}pointerEnter(e,t){return this.dragMode=1===t.buttons&&(-1===t.button||0===t.button)&&this.pointerEventInGridBody,!!this.dragMode&&(this.clearTextSelection(),this.pointerState.node||(this.pointerState.node=e),this.pointerState.ctrl?this.selectRange(e,this.pointerState,this.temp):this.dragSelect(e,this.pointerState),!0)}pointerUp(e,t,i){return this.dragMode||i?(this.restoreTextSelection(),this.addRangeMeta(e,this.pointerState),this.mergeMap(this.selection,this.temp),this.zone.runTask((()=>t.emit(this.generateRange(e,this.pointerState)))),this.temp.clear(),this.dragMode=!1,!0):this.pointerState.shift?(this.clearTextSelection(),this.restoreTextSelection(),this.addRangeMeta(e,this.pointerState),t.emit(this.generateRange(e,this.pointerState)),!0):(this.pointerEventInGridBody&&this.isActiveNode(e)&&this.add(e),!1)}selectRange(e,t,i=this.selection){i===this.temp&&i.clear();let{rowStart:n,rowEnd:r,columnStart:s,columnEnd:o}=this.generateRange(e,t);for(let e=n;e<=r;e++)for(let t=s;t<=o;t++)i.has(e)?i.get(e).add(t):i.set(e,new Set).get(e).add(t)}dragSelect(e,t){this.pointerState.ctrl||this.selection.clear(),this.selectRange(e,t)}clear(e=!1){e&&(this.activeElement=null),this.selection.clear(),this.temp.clear(),this._ranges.clear()}clearTextSelection(){let e=window.getSelection();e.rangeCount&&(this._selectionRange=e.getRangeAt(0),this._selectionRange.collapse(!0),e.removeAllRanges())}restoreTextSelection(){let e=window.getSelection();e.rangeCount||e.addRange(this._selectionRange||document.createRange())}getSelectedRowsData(){if("pivot"===this.grid.type)return this.grid.dataView.filter((e=>e.dimensions.map((t=>wO.getRecordKey(e,t))).some((e=>this.isPivotRowSelected(e)))));if(!this.grid.primaryKey)return Array.from(this.rowSelection);let e=[],t={};return this.grid.gridAPI.get_all_data(!0).forEach((e=>t[this.getRecordKey(e)]=e)),this.rowSelection.forEach((i=>{let n=t[i],r={};r[this.grid.primaryKey]=i,e.push(n||r)})),e}getSelectedRows(){return this.rowSelection.size?Array.from(this.rowSelection.keys()):[]}getIndeterminateRows(){return this.indeterminateRows.size?Array.from(this.indeterminateRows.keys()):[]}clearRowSelection(e){let t,i=this.getSelectedRowsData(),n=this.isFilteringApplied()?this.allData.filter((e=>this.isRowSelected(this.getRecordKey(e)))):i;t=this.grid.primaryKey?this.isFilteringApplied()?i.filter((e=>!n.some((t=>t[this.grid.primaryKey]===e[this.grid.primaryKey])))):[]:this.isFilteringApplied()?i.filter((e=>!n.includes(e))):[],this.emitRowSelectionEvent(t,[],n,e,i)}selectAllRows(e){let t=this.allData.filter((e=>!this.isRowSelected(this.getRecordKey(e)))),i=this.getSelectedRowsData(),n=this.rowSelection.size?i.concat(t):t;this.indeterminateRows.clear(),this.emitRowSelectionEvent(n,t,[],e,i)}selectRowById(e,t,i){if(!this.grid.isRowSelectable&&"pivot"!==this.grid.type||this.isRowDeleted(e))return;if(t=!this.grid.isMultiRowSelectionEnabled||t,"pivot"===this.grid.type)return void this.selectPivotRowById(e,t,i);let n=this.getSelectedRowsData(),r=t?[this.getRowDataById(e)]:this.rowSelection.has(e)?n:[...n,this.getRowDataById(e)],s=t?n:[];this.emitRowSelectionEvent(r,[this.getRowDataById(e)],s,i,n)}selectPivotRowById(e,t,i){let n=this.getSelectedRows(),r=t?[e]:this.rowSelection.has(e)?n:[...n,e],s=this.getPivotRowsByIds([e]),o=this.getPivotRowsByIds(t?n:[]);this.emitRowSelectionEventPivotGrid(n,r,s,o,i)}deselectRow(e,t){if(!this.isRowSelected(e))return;if("pivot"===this.grid.type)return void this.deselectPivotRowByID(e,t);let i=this.getSelectedRowsData(),n=i.filter((t=>this.getRecordKey(t)!==e));this.rowSelection.size&&this.rowSelection.has(e)&&this.emitRowSelectionEvent(n,[],[this.getRowDataById(e)],t,i)}deselectPivotRowByID(e,t){if(this.rowSelection.size&&this.rowSelection.has(e)){let i=this.getSelectedRows(),n=i.filter((t=>t!==e)),r=this.getPivotRowsByIds([e]);this.emitRowSelectionEventPivotGrid(i,n,[],r,t)}}emitRowSelectionEventPivotGrid(e,t,i,n,r){if(this.areEqualCollections(e,t))return;let s=this.getSelectedRowsData(),o={owner:this.grid,oldSelection:s,newSelection:this.getPivotRowsByIds(t),added:i,removed:n,event:r,cancel:!1,allRowsSelected:this.areAllRowSelected(t)};this.grid.rowSelectionChanging.emit(o),o.cancel?this.clearHeaderCBState():this.selectRowsWithNoEvent(t,!0)}selectRows(e,t,i){if(!this.grid.isMultiRowSelectionEnabled)return;let n=e.filter((e=>!this.isRowDeleted(e)&&!this.rowSelection.has(e)));if(!n.length&&!t)return;let r=this.getSelectedRowsData();n=this.grid.primaryKey?n.map((e=>this.getRowDataById(e))):n;let s=t?n:[...r,...n],o=new Set(n),a=t?r.filter((e=>!o.has(e))):[];this.emitRowSelectionEvent(s,n,a,i,r)}deselectRows(e,t){if(!this.rowSelection.size)return;let i=e.filter((e=>this.rowSelection.has(e)));if(!i.length)return;let n=this.getSelectedRowsData();i=this.grid.primaryKey?i.map((e=>this.getRowDataById(e))):i;let r=new Set(i),s=n.filter((e=>!r.has(e)));this.emitRowSelectionEvent(s,[],i,t,n)}selectRowsWithNoEvent(e,t){t&&this.rowSelection.clear(),e.forEach((e=>this.rowSelection.add(e))),this.clearHeaderCBState(),this.selectedRowsChange.next()}deselectRowsWithNoEvent(e){this.clearHeaderCBState(),e.forEach((e=>this.rowSelection.delete(e))),this.selectedRowsChange.next()}isRowSelected(e){return this.rowSelection.size>0&&this.rowSelection.has(e)}isPivotRowSelected(e){let t=!1;return this.rowSelection.forEach((i=>{let n=e.replace(i,"");!e.includes(i)||""!==n&&!n.startsWith("_")||(t=!0)})),this.rowSelection.size>0&&t}isRowInIndeterminateState(e){return this.indeterminateRows.size>0&&this.indeterminateRows.has(e)}selectMultipleRows(e,t,i){if(this.clearHeaderCBState(),!this.rowSelection.size||this.isRowDeleted(e))return void this.selectRowById(e);let n=this.allData,r=this.getSelectedRows()[this.rowSelection.size-1],s=n.indexOf(this.getRowDataById(r)),o=n.indexOf(t),a=n.slice(Math.min(s,o),Math.max(s,o)+1),l=this.getSelectedRowsData(),d=a.filter((e=>!this.isRowSelected(this.getRecordKey(e)))),c=l.concat(d);this.emitRowSelectionEvent(c,d,[],i,l)}areAllRowSelected(e){if(!this.grid.data&&!e)return!1;if(void 0!==this.allRowsSelected&&!e)return this.allRowsSelected;let t=new Set(e||[...this.rowSelection]),i=this.getRowIDs(this.allData).filter((e=>!t.has(e)));return this.allRowsSelected=this.allData.length>0&&0===i.length}hasSomeRowSelected(){let e=!this.isFilteringApplied()||this.getRowIDs(this.grid.filteredData).some((e=>this.isRowSelected(e)));return this.rowSelection.size>0&&e&&!this.areAllRowSelected()}get filteredSelectedRowIds(){return this.isFilteringApplied()?this.getRowIDs(this.allData).filter((e=>this.isRowSelected(e))):this.getSelectedRows().filter((e=>!this.isRowDeleted(e)))}emitRowSelectionEvent(e,t,i,n,r){if(r=r??this.getSelectedRowsData(),this.areEqualCollections(r,e))return;let s={owner:this.grid,oldSelection:r,newSelection:e,added:t,removed:i,event:n,cancel:!1,allRowsSelected:this.areAllRowSelected(e.map((e=>this.getRecordKey(e))))};this.grid.rowSelectionChanging.emit(s),s.cancel?this.clearHeaderCBState():this.selectRowsWithNoEvent(s.newSelection.map((e=>this.getRecordKey(e))),!0)}getPivotRowsByIds(e){return this.grid.dataView.filter((t=>{let i=t.dimensions.map((e=>wO.getRecordKey(t,e)));return new Set(e.concat(i)).size<e.length+i.length}))}getRowDataById(e){if(!this.grid.primaryKey)return e;let t=this.getRowIDs(this.grid.gridAPI.get_all_data(!0)).indexOf(e);return t<0?e:this.grid.gridAPI.get_all_data(!0)[t]}clearHeaderCBState(){this.allRowsSelected=void 0}getRowIDs(e){return this.grid.primaryKey&&e.length?e.map((e=>e[this.grid.primaryKey])):e}getRecordKey(e){return this.grid.primaryKey?e[this.grid.primaryKey]:e}clearAllSelectedRows(){this.rowSelection.clear(),this.indeterminateRows.clear(),this.clearHeaderCBState(),this.selectedRowsChange.next()}get allData(){let e;return e=this.isFilteringApplied()||this.grid.sortingExpressions.length||this.grid.groupingExpressions?.length?this.grid.pinnedRecordsCount?this.grid._filteredSortedUnpinnedData:this.grid.filteredSortedData:this.grid.gridAPI.get_all_data(!0),e.filter((e=>!this.isRowDeleted(this.grid.gridAPI.get_row_id(e))))}getSelectedColumns(){return this.columnSelection.size?Array.from(this.columnSelection.keys()):[]}isColumnSelected(e){return this.columnSelection.size>0&&this.columnSelection.has(e)}selectColumn(e,t,i,n){let r=this.columnsState.field?this.grid.getColumnByName(this.columnsState.field):null;if(!n||!r||r.visibleIndex<0||!i){this.columnsState.field=e,this.columnsState.range=[];let i=t?[e]:-1!==this.getSelectedColumns().indexOf(e)?this.getSelectedColumns():[...this.getSelectedColumns(),e],r=t?this.getSelectedColumns().filter((t=>t!==e)):[],s=this.isColumnSelected(e)?[]:[e];this.emitColumnSelectionEvent(i,s,r,n)}else i&&this.selectColumnsRange(e,n)}selectColumns(e,t,i,n){let r=e.map((e=>this.grid.getColumnByName(e))).sort(((e,t)=>e.visibleIndex-t.visibleIndex)),s=this.columnsState.field?this.grid.getColumnByName(this.columnsState.field):null;if(!s||s.visibleIndex<0||!i){this.columnsState.field=r[0]?r[0].field:null,this.columnsState.range=[];let i=e.filter((e=>!this.isColumnSelected(e))),s=t?this.getSelectedColumns().filter((t=>-1===e.indexOf(t))):[],o=t?e:this.getSelectedColumns().concat(i);this.emitColumnSelectionEvent(o,i,s,n)}else{let e=s.visibleIndex>r[r.length-1].visibleIndex?r[0].field:r[r.length-1].field;this.selectColumnsRange(e,n)}}selectColumnsRange(e,t){let i=this.grid.getColumnByName(this.columnsState.field).visibleIndex,n=this.grid.columnToVisibleIndex(e),r=this.grid.visibleColumns.filter((e=>!e.columnGroup)).sort(((e,t)=>e.visibleIndex-t.visibleIndex)).slice(Math.min(i,n),Math.max(i,n)+1).filter((e=>e.selectable)).map((e=>e.field)),s=[],o=[],a=r.filter((e=>!this.isColumnSelected(e)));this.columnsState.range.forEach((e=>{-1===r.indexOf(e)?s.push(e):o.push(e)})),this.columnsState.range=r.filter((e=>!this.isColumnSelected(e)||o.indexOf(e)>-1));let l=this.getSelectedColumns().concat(a).filter((e=>-1===s.indexOf(e)));this.emitColumnSelectionEvent(l,a,s,t)}selectColumnsWithNoEvent(e,t){t&&this.columnSelection.clear(),e.forEach((e=>{this.columnSelection.add(e)}))}deselectColumn(e,t){this.initColumnsState();let i=this.getSelectedColumns().filter((t=>t!==e));this.emitColumnSelectionEvent(i,[],[e],t)}deselectColumnsWithNoEvent(e){e.forEach((e=>this.columnSelection.delete(e)))}deselectColumns(e,t){let i=this.getSelectedColumns().filter((t=>e.indexOf(t)>-1)),n=this.getSelectedColumns().filter((t=>-1===e.indexOf(t)));this.emitColumnSelectionEvent(n,[],i,t)}emitColumnSelectionEvent(e,t,i,n){let r=this.getSelectedColumns();if(this.areEqualCollections(r,e))return;let s={oldSelection:r,newSelection:e,added:t,removed:i,event:n,cancel:!1};this.grid.columnSelectionChanging.emit(s),!s.cancel&&this.selectColumnsWithNoEvent(s.newSelection,!0)}clearAllSelectedColumns(){this.columnSelection.clear()}areEqualCollections(e,t){return e.length===t.length&&new Set(e.concat(t)).size===e.length}_moveSelectionChrome(e){let t=window.getSelection();t.removeAllRanges();let i=new Range;i.selectNode(e),i.collapse(!0),t.addRange(i)}isFilteringApplied(){return!iS.empty(this.grid.filteringExpressionsTree)||!iS.empty(this.grid.advancedFilteringExpressionsTree)}isRowDeleted(e){return this.grid.gridAPI.row_deleted_transaction(e)}};return e.ɵfac=function(t){return new(t||e)(gr(Dl),gr(fC))},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),CO=["igxDirRef"],SO=["cell"],bO=(()=>{let e=class{get data(){return this.inEditMode?tC(this.grid.dataCloneStrategy.clone(this._data),this.grid.transactions.getAggregatedValue(this.key,!1),((e,t)=>{if(Array.isArray(t))return t})):this._data}set data(e){this._data=e}set pinned(e){e?this.grid.pinRow(this.key):this.grid.unpinRow(this.key)}get pinned(){return this.grid.isRecordPinned(this.data)}get expanded(){return this.grid.gridAPI.get_row_expansion_state(this.data)}set expanded(e){this.grid.gridAPI.set_row_expansion_state(this.key,e)}get addRowUI(){return!!this.grid.crudService.row&&this.grid.crudService.row.getClassName()===Zk.name&&this.grid.crudService.row.id===this.key}get rowHeight(){let e=this.grid.rowHeight||32;return this.grid.hasColumnLayouts&&(e*=this.grid.multiRowLayoutRowSize),this.addRowUI?e:null}get virtDirRow(){return this._virtDirRow?this._virtDirRow.first:null}get cells(){let e=new zl;if(!this._cells)return e;let t=this._cells.filter((e=>null!==e.nativeElement.parentElement)).sort(((e,t)=>e.column.visibleIndex-t.column.visibleIndex));return e.reset(t),e}get dataRowIndex(){return this.index}get selected(){return this.selectionService.isRowSelected(this.key)}set selected(e){e?this.selectionService.selectRowsWithNoEvent([this.key]):this.selectionService.deselectRowsWithNoEvent([this.key]),this.grid.cdr.markForCheck()}get columns(){return this.grid.visibleColumns}get viewIndex(){return this.grid.groupingExpressions.length?this.grid.filteredSortedData.indexOf(this.data):this.index+this.grid.page*this.grid.perPage}get pinnedColumns(){return this.grid.pinnedColumns}get isRoot(){return!0}get hasChildren(){return!1}get unpinnedColumns(){return this.grid.unpinnedColumns}get showRowSelectors(){return this.grid.showRowSelectors}get dirty(){let e=this.grid.transactions.getState(this.key);return!!e&&(e.type===MC.ADD||e.type===MC.UPDATE)}get rowDraggable(){return this.grid.rowDraggable}get added(){let e=this.grid.transactions.getState(this.key);return!!e&&e.type===MC.ADD}get deleted(){return this.grid.gridAPI.row_deleted_transaction(this.key)}get dragging(){return this.grid.dragRowID===this.key}get inEditMode(){if(this.grid.rowEditable){let e=this.grid.crudService.row;return e&&e.id===this.key||!1}return!1}get key(){let e=this.grid.primaryKey;if(this._data)return e?this._data[e]:this._data}get nativeElement(){return this.element.nativeElement}constructor(e,t,i,n){this.grid=e,this.selectionService=t,this.element=i,this.cdr=n,this.addAnimationEnd=new yl,this.role="row",this.disabled=!1,this.focused=!1,this.defaultCssClass="igx-grid__tr",this.triggerAddAnimationClass=!1,this.destroy$=new ei}onClick(e){if(this.grid.rowClick.emit({row:this,event:e}),"none"===this.grid.rowSelection||this.deleted||!this.grid.selectRowOnClick)return;if(e.shiftKey&&this.grid.isMultiRowSelectionEnabled)return void this.selectionService.selectMultipleRows(this.key,this.data,e);let t=!(+e.ctrlKey^+e.metaKey);this.selected&&!t?this.selectionService.deselectRow(this.key,e):this.selectionService.selectRowById(this.key,t,e)}onContextMenu(e){let t=e.target.closest(".igx-grid__td");this.grid.contextMenu.emit({row:this,cell:this.cells.find((e=>e.nativeElement===t)),event:e})}showActionStrip(){this.grid.actionStrip&&this.grid.actionStrip.show(this)}hideActionStrip(){this.grid.actionStrip&&this.grid.actionStrip.hideOnRowLeave&&this.grid.actionStrip.hide()}ngAfterViewInit(){this._virtDirRow.changes.pipe(mn(this.destroy$)).subscribe((()=>this.grid.resetHorizontalVirtualization()))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onRowSelectorClick(e){e.stopPropagation(),e.shiftKey&&this.grid.isMultiRowSelectionEnabled?this.selectionService.selectMultipleRows(this.key,this.data,e):this.selected?this.selectionService.deselectRow(this.key,e):this.selectionService.selectRowById(this.key,!1,e)}update(e){let t=this.grid.crudService;t.cellInEditMode&&t.cell.id.key===this.key&&this.grid.transactions.endPending(!1);let i=new Xk(this.key,this.index,this.data,this.grid);this.grid.gridAPI.update_row(i,e),this.cdr.markForCheck()}delete(){this.grid.deleteRowById(this.key)}isCellActive(e){let t=this.grid.navigation.activeNode;return!!t&&t.row===this.index&&t.column===e}pin(){return this.grid.pinRow(this.key)}unpin(){return this.grid.unpinRow(this.key)}get rowCheckboxAriaLabel(){return this.grid.primaryKey?this.selected?"Deselect row with key "+this.key:"Select row with key "+this.key:this.selected?"Deselect row":"Select row"}ngDoCheck(){this.cdr.markForCheck()}shouldDisplayPinnedChip(e){return this.pinned&&this.disabled&&0===e}beginAddRow(){this.grid.crudService.enterAddRowMode(this)}triggerAddAnimation(){this.triggerAddAnimationClass=!0}animationEndHandler(){this.triggerAddAnimationClass=!1,this.addAnimationEnd.emit(this)}get resolveDragIndicatorClasses(){return"igx-grid__drag-indicator "+(this.grid.rowDragging&&!this.dragging?"igx-grid__drag-indicator--off":"")}};return e.ɵfac=function(t){return new(t||e)(Oc(nO),Oc(_O),Oc(Nl),Oc(Pm))},e.ɵdir=ss({type:e,selectors:[["","igxRowBaseComponent",""]],viewQuery:function(e,t){if(1&e&&(up(DA,5,DA),up(CO,5,dA),up(SO,5)),2&e){let e;gp(e=pp())&&(t.checkboxElement=e.first),gp(e=pp())&&(t._virtDirRow=e),gp(e=pp())&&(t._cells=e)}},hostVars:8,hostBindings:function(e,t){1&e&&ep("click",(function(e){return t.onClick(e)}))("contextmenu",(function(e){return t.onContextMenu(e)}))("mouseenter",(function(){return t.showActionStrip()}))("mouseleave",(function(){return t.hideActionStrip()})),2&e&&(tg("role",t.role)("aria-disabled",t.disabled)("data-rowIndex",t.dataRowIndex)("aria-selected",t.selected),yg("min-height",t.rowHeight,"px"),xg("igx-grid__tr--disabled",t.disabled))},inputs:{data:"data",index:"index",disabled:[2,"disabled","disabled",Zm],gridID:"gridID",selected:"selected"},outputs:{addAnimationEnd:"addAnimationEnd"},standalone:!0,features:[Vu]}),e})(),DO=(()=>{let e=class{get grid(){return this.strip.context.grid}get isRowContext(){return this.isRow(this.strip?.context)&&!this.strip.context.inEditMode}constructor(e,t){this.iconService=e,this.differs=t,this.asMenuItems=!1}ngAfterViewInit(){this.asMenuItems&&this.buttons.changes.subscribe((()=>{this.strip.cdr.detectChanges()}))}isRow(e){return e&&e instanceof bO}};return e.ɵfac=function(t){return new(t||e)(Oc(TT),Oc(Km))},e.ɵdir=ss({type:e,selectors:[["","igxGridActionsBase",""]],viewQuery:function(e,t){if(1&e&&up(Yk,5),2&e){let e;gp(e=pp())&&(t.buttons=e)}},inputs:{asMenuItems:[2,"asMenuItems","asMenuItems",Zm]},standalone:!0,features:[Vu]}),e})(),IO=class{},EO=["dropdown"],TO=["*"],RO=e=>({$implicit:e});function AO(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"button",4),ep("click",(function(t){return Uo(e),qo(t.stopPropagation())})),Lg(2,"igx-icon",5),Ng(),Bg()}if(2&e){let e=rp(),t=mp(4);Ac(),fg("igxToggleAction",t)("overlaySettings",e.menuOverlaySettings)("title",e.resourceStrings.igx_action_strip_button_more_title)("igxDropDownItemNavigation",t)}}function kO(e,t){1&e&&Gg(0)}function OO(e,t){if(1&e&&(Mg(0,"igx-drop-down-item",6)(1,"div",7),Xu(2,kO,1,0,"ng-container",8),Ng()()),2&e){let e=t.$implicit;Ac(2),fg("ngTemplateOutlet",e.templateRef)("ngTemplateOutletContext",Vp(2,RO,e))}}var PO=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxActionStripMenuItem",""]],standalone:!0}),e})(),FO=(()=>{let e=class{set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}get hideOnRowLeave(){return 0===this.menu.items.length||(this.menu.items.length>0?!!this.menu.collapsed:void 0)}constructor(e,t,i,n){this._viewContainer=e,this.renderer=t,this.el=i,this.cdr=n,this.hidden=!1,this.menuOverlaySettings={scrollStrategy:new ZE},this._hidden=!1,this._resourceStrings=MT(Sk),this.hostClass="igx-action-strip"}get menuItems(){let e=[];return this.actionButtons.forEach((t=>{if(t.asMenuItems){let i=t.buttons;i&&i.toArray().forEach((t=>e.push(t)))}})),[...this._menuItems.toArray(),...e]}get display(){return this.hidden?"none":"flex"}ngAfterContentInit(){this.actionButtons.forEach((e=>{e.strip=this})),this.actionButtons.changes.subscribe((()=>{this.actionButtons.forEach((e=>{e.strip=this}))}))}ngAfterViewInit(){this.menu.selectionChanging.subscribe((e=>{let t=e.newSelection.elementRef.nativeElement,i=[];this.actionButtons.forEach((e=>{e.asMenuItems&&(i=[...i,...e.buttons.toArray()])}));let n=i.find((e=>t.contains(e.container.nativeElement)));n&&n.actionClick.emit()})),this._originalParent=this._viewContainer.element.nativeElement?.parentElement}show(e){this.hidden=!1,e&&(this.context!==e&&this.closeMenu(),this.context=e,this.context&&this.context.element&&this.renderer.appendChild(e.element.nativeElement,this._viewContainer.element.nativeElement),this.cdr.detectChanges())}hide(){this.hidden=!0,this.closeMenu(),this._originalParent?this.renderer.appendChild(this._originalParent,this._viewContainer.element.nativeElement):this.context&&this.context.element&&this.renderer.removeChild(this.context.element.nativeElement,this._viewContainer.element.nativeElement)}closeMenu(){this.menu&&!this.menu.collapsed&&this.menu.close()}};return e.ɵfac=function(t){return new(t||e)(Oc(iu),Oc(qh),Oc(Nl),Oc(Pm))},e.ɵcmp=es({type:e,selectors:[["igx-action-strip"]],contentQueries:function(e,t,i){if(1&e&&(hp(i,PO,4),hp(i,DO,4)),2&e){let e;gp(e=pp())&&(t._menuItems=e),gp(e=pp())&&(t.actionButtons=e)}},viewQuery:function(e,t){if(1&e&&up(EO,5),2&e){let e;gp(e=pp())&&(t.menu=e.first)}},hostVars:4,hostBindings:function(e,t){2&e&&(yg("display",t.display),xg("igx-action-strip",t.hostClass))},inputs:{context:"context",hidden:[2,"hidden","hidden",Zm],resourceStrings:"resourceStrings"},standalone:!0,features:[kp([{provide:IO,useExisting:e}]),Vu,Pp],ngContentSelectors:TO,decls:6,vars:2,consts:[["dropdown",""],[1,"igx-action-strip__actions"],[4,"ngIf"],["class","igx-action-strip__menu-item",4,"ngFor","ngForOf"],["type","button","igxIconButton","flat","igxRipple","",3,"click","igxToggleAction","overlaySettings","title","igxDropDownItemNavigation"],["family","default","name","more_vert"],[1,"igx-action-strip__menu-item"],[1,"igx-drop-down__item-template"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(op(),Mg(0,"div",1),ap(1,0,["#content",""]),Xu(2,AO,3,4,"ng-container",2),Mg(3,"igx-drop-down",null,0),Xu(5,OO,3,4,"igx-drop-down-item",3),Ng()()),2&e&&(Ac(2),fg("ngIf",t.menuItems.length>0),Ac(3),fg("ngForOf",t.menuItems))},dependencies:[cv,lv,yv,cA,vA,PA,lT,FT,Hk,Pk],encapsulation:2}),e})(),VO={name:"add-child",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Add Item Icon</title><desc>A picture showing an item with a plus sign being added to container.</desc><path d="M22 12H7c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h15c1.1 0 2-.9 2-2v-6c0-1.1-.9-2-2-2zm-8 6h-2v2h-2v-2H8v-2h2v-2h2v2h2v2zm7-14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H3c-.6 0-1-.4-1-1V5c0-.6.4-1 1-1h19m0-2H2C.9 2 0 2.9 0 4v4c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/></svg>',categories:["content"],keywords:["add","insert","row","child","new","below","under"]},MO={name:"add-row",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Add Row Icon</title><desc>A picture showing a rectangle with a plus sign.</desc><path d="M22 7H2a2 2 0 00-2 2v6a2 2 0 002 2h20a2 2 0 002-2V9a2 2 0 00-2-2zM9 13H7v2H5v-2H3v-2h2V9h2v2h2z"/></svg>',categories:["content"],keywords:["add","insert","row","new"]},NO={name:"jump-down",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Jump Down Icon</title><desc>A picture showing a bent arrow pointing down towards a line.</desc><path d="M21.5 18.5v2h-16v-2h16zm-8-15c1.6 0 3 .5 4.3 1.2l-1.5 1.5c-.8-.4-1.8-.7-2.8-.7-3.3 0-6 2.7-6 6h3l-4 4-4-4h3c0-1.5.4-2.9 1.2-4.2.6-1 1.4-1.8 2.4-2.5 1.2-.8 2.8-1.3 4.4-1.3z"/></svg>',categories:["content"],keywords:["jump","down","arrow","below","under"]},LO={name:"jump-up",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Jump Up Icon</title><desc>A picture showing a bent arrow pointing up towards a line.</desc><path d="M6.5 8.5l4 4h-3c0 3.3 2.7 6 6 6 1 0 2-.2 2.8-.7l1.5 1.5c-1.2.8-2.7 1.2-4.3 1.2-4.4 0-8-3.6-8-8h-3l4-4zm15-5v2h-16v-2h16z"/></svg>',categories:["content"],keywords:["jump","up","arrow","above"]},HO={name:"pin-left",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Pin Left Icon</title><desc>A picture depicting a pin pointed to the left.</desc><path d="M15.18 2.25l7.07 7.07-2.83-.01-3.54 3.55.01 4.24-3.53-3.54-5.66 5.66H5.28V17.8l5.66-5.66L7.4 8.61l4.24.01 3.55-3.54-.01-2.83z"/></svg>',categories:["content"],keywords:["pin","freeze","left","pushpin","nail","marker","attach","tack","thumbtack"]},zO={name:"unpin-left",value:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Unpin Left Icon</title><desc>A picture depicting a crossed-out left-pointed pin.</desc><path d="M11.8 14.1l-5.1 5.1H5.3v-1.4l5.1-5.1L2 4.3 3.3 3l18 18-1.3 1.2-8.2-8.1zm4-.5l-5-5h.7L15.1 5V2.2l7.1 7.1h-2.8l-3.5 3.5-.1.8z"/></svg>',categories:["content"],keywords:["unpin","unfreeze","left","pushpin","nail","marker","detach","tack","thumbtack"]},BO={name:"ends-with",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Ends With Icon</title><desc>A picture showing three dots followed by lowercase a.</desc><path d="M3 14.5h2v2H3zm8 0h2v2h-2zm-4 0h2v2H7zm13.8.3v-3A2.1 2.1 0 0020 10a3 3 0 00-2-.6 3 3 0 00-2 .6 1.7 1.7 0 00-.7 1.5h1.5a.8.8 0 01.3-.7 1.3 1.3 0 01.9-.3 1.3 1.3 0 01.9.4 1.1 1.1 0 01.3.8v.6H18a3.8 3.8 0 00-2.2.6 1.8 1.8 0 00-.8 1.5 2 2 0 00.6 1.6 2.3 2.3 0 001.6.6 2.1 2.1 0 001.2-.4 2.8 2.8 0 00.8-.8 4.3 4.3 0 00.1.5l.1.5H21a4.1 4.1 0 01-.2-.7 5.4 5.4 0 010-1zm-1.6-.5a1.5 1.5 0 01-.6.7 2 2 0 01-1 .2 1.1 1.1 0 01-.8-.2.8.8 0 01-.2-.6 1 1 0 01.3-.8 1.5 1.5 0 011.1-.3h1.2z"/></svg>',categories:["editor"],keywords:["end","character","compare","filter"]},GO={name:"equals",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Equals Icon</title><desc>A picture showing the equals sign.</desc><path d="M5 13.5h14v2H5zm0-5h14v2H5z"/></svg>',categories:["editor"],keywords:["equal","equals","compare","filter","equality","calculation","math"]},$O={name:"is-empty",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Is Empty Icon</title><desc>A picture showing a dotted square.</desc><path d="M5 17h2v2H5zm8 0h2v2h-2zm-8-4h2v2H5zm12 4h2v2h-2zM13 5h2v2h-2zM9 17h2v2H9zm8-8h2v2h-2zm0 4h2v2h-2zm0-8h2v2h-2zM5 9h2v2H5zm0-4h2v2H5zm4 0h2v2H9z"/></svg>',categories:["editor"],keywords:["empty","box","nothing"]},WO=[{name:"bottom-percentile-records",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Bottom records</title><desc>Shows percentile records positioned at the bottom.</desc><path d="M12 10L8 6h3V2h2v4h3zm-4 8h4v-2H8zm0-4h8v-2H8zm10-1a5.976 5.976 0 012 .35V4a2 2 0 00-2-2h-3v2h3zm-5.91 7H6V4h3V2H6a2 2 0 00-2 2v16a2 2 0 002 2h6.812a5.945 5.945 0 01-.722-2zm4.872-2.435a.157.157 0 00-.058-.1.213.213 0 00-.2 0 .158.158 0 00-.059.1 1.008 1.008 0 00-.028.189c-.005.08-.008.185-.008.314s0 .23.008.312a1.046 1.046 0 00.028.192.155.155 0 00.059.094.213.213 0 00.2 0 .154.154 0 00.058-.094.966.966 0 00.028-.192c.01-.08.01-.186.01-.312s0-.234-.008-.314a.931.931 0 00-.03-.189zm2.393 1.88a.166.166 0 00-.059-.095.22.22 0 00-.2 0 .156.156 0 00-.058.095.954.954 0 00-.028.189q-.009.12-.009.315c0 .126 0 .23.009.311a.943.943 0 00.028.192.156.156 0 00.058.095.213.213 0 00.2 0 .166.166 0 00.059-.095 1.019 1.019 0 00.028-.192c.005-.081.008-.185.008-.311s0-.235-.008-.315a1.035 1.035 0 00-.028-.189zM22 19a4 4 0 11-4-4 4 4 0 014 4zm-5.2.136a1.252 1.252 0 00.411-.058.582.582 0 00.27-.186.8.8 0 00.148-.331 2.778 2.778 0 000-.985.784.784 0 00-.148-.331.583.583 0 00-.27-.187 1.489 1.489 0 00-.823 0 .594.594 0 00-.27.187.8.8 0 00-.147.331 2.778 2.778 0 000 .985.808.808 0 00.147.331.592.592 0 00.27.186 1.258 1.258 0 00.412.058zM19.185 17h-.612l-1.764 4h.612zm.884 2.949a2.328 2.328 0 00-.044-.493.808.808 0 00-.147-.331.592.592 0 00-.27-.186 1.465 1.465 0 00-.823 0 .582.582 0 00-.27.186.8.8 0 00-.148.331 2.778 2.778 0 000 .985.79.79 0 00.148.331.534.534 0 00.27.178 1.718 1.718 0 00.823 0 .543.543 0 00.27-.178.8.8 0 00.147-.331 2.311 2.311 0 00.044-.492z"/></svg>',categories:["editor"]},{name:"bottom-records",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Bottom records</title><desc>Shows records positioned at the bottom.</desc><path d="M12 10L8 6h3V2h2v4h3zm4 2H8v2h8zm-4 4H8v2h4zm-6 6h12a2 2 0 002-2V4a2 2 0 00-2-2h-3v2h3v16H6V4h3V2H6a2 2 0 00-2 2v16a2 2 0 002 2z"/></svg>',categories:["editor"]},{name:"case-sensitive",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Case Sensitive Icon</title><desc>A picture showing the letter A written in both upper and lower case.</desc><path d="M21.2 16.5c0-.2-.1-.5-.1-.7v-4.4c0-.4-.1-.8-.3-1.2-.2-.3-.5-.6-.8-.7-.3-.2-.7-.3-1.1-.3-.4-.1-.8-.1-1.2-.1-.5 0-.9 0-1.4.1-.4.1-.8.3-1.2.5-.3.2-.6.5-.8.9s-.3.9-.3 1.3h1.4c0-.5.2-1 .7-1.3.5-.2 1-.4 1.5-.3.2 0 .5 0 .7.1.2 0 .4.1.6.2.2.1.3.2.5.4.1.2.2.5.2.7s-.1.4-.2.6c-.2.2-.4.3-.6.3-.3.1-.6.1-.9.2-.4 0-.7.1-1.1.2-.4.1-.7.1-1.1.2-.3.1-.7.2-1 .4s-.5.5-.7.8c-.2.4-.3.8-.3 1.2s.1.8.2 1.1c.1.3.4.5.6.7.3.2.6.3.9.4.9.2 1.9.2 2.8-.2.5-.2 1-.6 1.4-1 0 .4.1.7.3 1 .2.2.6.3.9.3.4 0 .7-.1 1-.2v-1.1c-.1 0-.3.1-.4.1-.1.1-.2 0-.2-.2zm-1.5-1.7c0 .2-.1.4-.2.6-.1.2-.3.5-.5.6-.2.2-.5.4-.8.5-.4.1-.8.2-1.2.2-.2 0-.4 0-.6-.1-.2 0-.4-.1-.5-.2-.2-.1-.3-.2-.4-.4-.1-.2-.2-.4-.1-.6 0-.3.1-.6.2-.8.2-.2.4-.4.6-.5.3-.1.6-.2.9-.2s.7-.1 1-.1.6-.1.9-.1.5-.1.7-.3v1.4zm-9.6-.4l1.3 3.6h1.8L8.5 6H6.7L2 18h1.7L5 14.4h5.1zm-2.5-7l2.1 5.5H5.5l2.1-5.5z"/></svg>',categories:["editor"],keywords:["case","sensitive","character","text","mode","sentence","style","change","compare","filter"]},{name:"check",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Check Icon</title><desc>A picture depicting a check mark.</desc><path d="M19.4 5.3l1.4 1.4-12 12-5.6-5.6 1.4-1.4 4.2 4.2z"/></svg>',categories:["editor"],keywords:["check","checked","mark","tick","ok","success"]},{name:"contains",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Contains Icon</title><desc>A picture showing the lowercase letter A in a square box.</desc><path d="M3 3v18h18V3zm16 16H5V5h14z"/><path d="M12 11.3a4.39 4.39 0 00-2.54.63 2.07 2.07 0 00-.9 1.78 2.29 2.29 0 00.66 1.74 2.63 2.63 0 001.89.63 2.39 2.39 0 001.32-.37 3.05 3.05 0 001-.93 3.72 3.72 0 00.08.57c0 .19.1.38.16.58h1.79a4.51 4.51 0 01-.21-.88 5.57 5.57 0 01-.07-.93v-3.5a2.44 2.44 0 00-.84-2 3.34 3.34 0 00-2.22-.7 3.54 3.54 0 00-2.3.72A1.93 1.93 0 009 10.29h1.71a.93.93 0 01.29-.71 1.5 1.5 0 011-.29 1.45 1.45 0 011 .35 1.3 1.3 0 01.37 1v.69zm1.4 1.08v1.17a1.61 1.61 0 01-.71.77 2.27 2.27 0 01-1.21.34 1.18 1.18 0 01-.84-.27.92.92 0 01-.3-.72 1.16 1.16 0 01.44-.9 1.76 1.76 0 011.22-.39z"/></svg>',categories:["editor"],keywords:["contains","letter","contain","compare","filter"]},{name:"custom-filter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Custom Filter Icon</title><desc>An icon showing that custom filter is applied.</desc><path d="M12.138 21H8.2a1.171 1.171 0 01-1.152-1.188v-5.937L2.123 4.719A1.187 1.187 0 013.153 3h14.694a1.187 1.187 0 011.03 1.719l-3.763 7a2.2 2.2 0 00-.437.642h-.3a2.206 2.206 0 00-1.922 1.11l-.9 1.553-.058.109a2.246 2.246 0 00.212 2.366 2.185 2.185 0 00-.168 2.462zm9.775-2.319a.21.21 0 01.056.281l-.9 1.564a.226.226 0 01-.27.1l-1.113-.449a3.415 3.415 0 01-.754.438l-.18 1.193a.221.221 0 01-.225.191h-1.8a.228.228 0 01-.225-.191l-.169-1.193a3.233 3.233 0 01-.765-.438l-1.114.449a.236.236 0 01-.281-.1l-.9-1.564a.213.213 0 01.056-.281l.945-.742a5.864 5.864 0 01-.022-.439 2.709 2.709 0 01.045-.439l-.956-.742a.224.224 0 01-.057-.293l.9-1.552a.222.222 0 01.27-.1l1.125.45a3.581 3.581 0 01.754-.438l.169-1.193a.228.228 0 01.225-.193h1.8a.23.23 0 01.225.191l.169 1.193a3.348 3.348 0 01.753.438l1.125-.45a.217.217 0 01.27.1l.9 1.552a.225.225 0 01-.056.293l-.956.742A1.8 1.8 0 0121 17.5c0 .146-.011.293-.023.439zM19.236 17.5a1.609 1.609 0 10-1.609 1.609 1.609 1.609 0 001.609-1.609z"/></svg>',categories:["editor"],keywords:["custom","filter"]},{name:"does-not-contain",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Does-Not-Contain Icon</title><desc>A picture showing the lowercase letter A in a crossed-out square box.</desc><path d="M21 19.74V3H4.26L2.89 1.63 1.63 2.92 3 4.29V21h16.73l1.37 1.37 1.27-1.26zM5 19V6.28l5.28 5.27a3.19 3.19 0 00-.81.38 2.07 2.07 0 00-.9 1.78 2.29 2.29 0 00.66 1.74 2.63 2.63 0 001.89.63 2.39 2.39 0 001.32-.37 3.05 3.05 0 001-.93 3.72 3.72 0 00.08.57c0 .19.1.38.16.58h1L17.73 19zm5.79-6.23a1.31 1.31 0 01.45-.25l1.37 1.36.28.29a1.57 1.57 0 01-.19.15 2.27 2.27 0 01-1.21.34 1.18 1.18 0 01-.84-.27.92.92 0 01-.3-.72 1.16 1.16 0 01.44-.9zm2.6-1.47h-.83l-1.62-1.62.08-.1a1.5 1.5 0 011-.29 1.45 1.45 0 011 .35 1.3 1.3 0 01.37 1zM19 17.74l-3.85-3.85v-3.27a2.44 2.44 0 00-.84-2 3.34 3.34 0 00-2.22-.7 3.64 3.64 0 00-2.24.67L6.26 5H19z"/></svg>',categories:["editor"],keywords:["contains","character","contain","compare","filter"]},{name:"does-not-end-with",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Does-Not-End-With Icon</title><desc>A picture showing crossed-out lines at the end of a square box.</desc><path d="M20.293 2.293l1.414 1.414-18 18-1.414-1.414zM18 13h-2.757l-2 2H18zm2 8H7.243l-2 2H20a2 2 0 002-2V6.242l-2 2zm-2-4h-6.757l-2 2H18zM4 3h12.757l2-2H4a2 2 0 00-2 2v14.757l2-2z"/></svg>',categories:["editor"]},{name:"does-not-start-with",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Does-Not-Start-With Icon</title><desc>A picture showing crossed-out lines at the beginning of a square box.</desc><path d="M3.707 21.707l-1.414-1.414 18-18 1.414 1.414zM6 11h2.757l2-2H6zM4 3h12.757l2-2H4a2 2 0 00-2 2v14.757l2-2zm2 4h6.757l2-2H6zm14 14H7.243l-2 2H20a2 2 0 002-2V6.243l-2 2z"/></svg>',categories:["editor"]},{name:"end-expression",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>End Expression Icon</title><desc>A picture showing three dots followed by a right-pointed chevron.</desc><path d="M13.14 6.76L17.49 12l-4.35 5.24 1.54 1.28L20.09 12l-5.41-6.52-1.54 1.28z"/><path d="M11.91 11h2v2h-2zm-4 0h2v2h-2zm-4 0h2v2h-2z"/></svg>',categories:["editor"],keywords:["end","expression","arrow","right"]},BO,GO,{name:"exact-match",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Exact Match Icon</title><desc>A picture depicting an arrow hitting bulls-eye.</desc><path d="M5.683 9a7 7 0 110 6h2.342a5 5 0 100-6zM3.79 7.047a9.6 9.6 0 110 9.906l-1.735 1.735a12 12 0 100-13.376zM0 14.914l1.432 1.414L4.8 13h6.161v2L14 12l-3.037-3v2H4.8L1.432 7.672 0 9.086 2.95 12z"/></svg>',categories:["editor"],keywords:["exact","match","arrow","target","goal","aim","business","dart","bullseye"]},{name:"greater-than",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Greater Than Icon</title><desc>A picture showing the greater-than symbol.</desc><path d="M6 7.11L15.09 12 6 16.89V19l12-6.46v-1.08L6 5v2.11z"/></svg>',categories:["editor"],keywords:["greater","more","compare","next","forward","chevron","math","inequalty","arrow"]},{name:"greater-than-or-equal",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Greater Than or Equal Icon</title><desc>A picture showing the grater-than or equal symbol.</desc><path d="M5.99 19h12.02v2H5.99zM18 9.47L6 3v2.11L15.09 10 6 14.9v2.11l12-6.47V9.47z"/></svg>',categories:["editor"],keywords:["greater","more","equal","equals","compare","math"]},{name:"is-after",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Is After Icon</title><desc>A picture showing a square bracket drawn after a vertical line.</desc><path d="M15 7h4v10h-4v2h6V5h-6v2zm-4-4h2v18h-2zM7 5h2v2H7zM3 5h2v2H3zm0 12h2v2H3zm0-4h2v2H3zm0-4h2v2H3zm4 8h2v2H7z"/></svg>',categories:["editor"],keywords:["after","comparison","before","convert","decode","render","scan"]},{name:"is-before",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Is Before Icon</title><desc>A picture showing a square bracket drawn before a vertical line.</desc><path d="M3 19h6v-2H5V7h4V5H3v14zm8-16h2v18h-2zm4 2h2v2h-2zm4 0h2v2h-2zm0 8h2v2h-2zm-4 4h2v2h-2zm4 0h2v2h-2zm0-8h2v2h-2z"/></svg>',categories:["editor"],keywords:["after","comparison","before","convert","decode","render","scan"]},$O,{name:"is-false",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Is False Icon</title><desc>A picture showing an encircled X symbol.</desc><path d="M8 5a7 7 0 107 7 7 7 0 00-7-7zm4.31 9.79l-1.52 1.52L8 13.52l-2.79 2.79-1.52-1.52L6.48 12 3.69 9.21l1.52-1.52L8 10.48l2.79-2.79 1.52 1.52L9.52 12zM18 7a5 5 0 00-3 1.06 7.48 7.48 0 01.49 1 3.89 3.89 0 110 5.82 8.08 8.08 0 01-.49 1A5 5 0 1018 7z"/><path d="M17.52 13.85l2.91-2.92-.78-.78-2.13 2.12-1.17-1.15-.38.37-.41.41.42.42L17 13.34l.52.51z"/></svg>',categories:["editor"],keywords:["false","true","choice","options","yes","no","check","tick","cross"]},{name:"is-not-null",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Is Not Null Icon</title><desc>A picture showing a crossed-out circle.</desc><path d="M16.58 6.07l.79-1.36-1.74-1-.78 1.35a7.5 7.5 0 00-7.43 12.87l-.79 1.36 1.74 1 .78-1.35a7.5 7.5 0 007.43-12.87zM6.5 12A5.5 5.5 0 0112 6.5a5.65 5.65 0 011.84.32l-5.41 9.36A5.49 5.49 0 016.5 12zm5.5 5.5a5.65 5.65 0 01-1.84-.32l5.41-9.36A5.5 5.5 0 0112 17.5z"/></svg>',categories:["editor"],keywords:["empty","null","void","problem","number","invalid","inoperative","none","nothing"]},{name:"is-null",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Is Null Icon</title><desc>A picture showing an empty circle.</desc><path d="M12 4.5a7.5 7.5 0 107.5 7.5A7.5 7.5 0 0012 4.5zm0 13a5.5 5.5 0 115.5-5.5 5.5 5.5 0 01-5.5 5.5z"/></svg>',categories:["editor"],keywords:["null","circle","zero","o"]},{name:"is-true",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>is True Icon</title><desc>A picture showing an encircled check mark symbol.</desc><path d="M19.44 14.22zm-2.88 0zm0 0L18 12.79l1.44 1.43.78-.78L18.79 12l1.43-1.44-.78-.78L18 11.21l-1.44-1.43-.78.78L17.21 12l-1.43 1.44.78.78z"/><path d="M18 7a5 5 0 00-3 1.06 7.48 7.48 0 01.49 1 3.89 3.89 0 110 5.82 8.08 8.08 0 01-.49 1A5 5 0 1018 7zM8 5a7 7 0 107 7 7 7 0 00-7-7zm-.93 10.18l-3.38-3.37 1.13-1.12 2.25 2.25 4.11-4.12 1.13 1.12z"/></svg>',categories:["editor"],keywords:["true","false","choice","options","yes","no","check","tick","cross"]},{name:"last-month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Last Month Icon</title><desc>A picture depicting a calendar with a back-arrow at the end.</desc><path d="M17.5 14a4.48 4.48 0 104.5 4.5 4.47 4.47 0 00-4.5-4.5zm3.5 5.5h-4v2l-3-3 3-3v2h4zM5 9h2v2H5zm0 4h2v2H5zm5 0h2v2h-2zm-5 4h2v2H5zm5 0h2v2h-2zm0-8h2v2h-2zm5 0h2v2h-2z"/><path d="M4 8h14v4h2V5a2 2 0 00-2-2h-1V1h-2v2H7V1H5v2H4a2 2 0 00-2 2v15a2 2 0 002 2h7v-2H4z"/></svg>',categories:["editor"],keywords:["last","calendar","month","date","day","previous","schedule","arrow","left","page"]},{name:"last-quarter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Last Quarter Icon</title><desc>A picture depicting a quarter of a circle with an arrow pointing right.</desc><path d="M4 9.253A8.03 8.03 0 019.747 15H4V9.253M2 7v10h10A10 10 0 002 7zm18 9h2V8h-2zm-4-8v3h-3v2h3v3l4-4z"/></svg>',categories:["editor"]},{name:"last-week",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Last Week Icon</title><desc>A picture depicting a square with an arrow pointing down.</desc><path d="M2 20V4a2 2 0 012-2h5v2H4v16h16V4h-5V2h5a2 2 0 012 2v16a2 2 0 01-2 2H4a2 2 0 01-2-2zm4-2h12v-3H6zm10-9h-3V2h-2v7H8l4 4z"/></svg>',categories:["editor"]},{name:"last-year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Last Year Icon</title><desc>A picture depicting a calendar with an back-arrow in the middle.</desc><path d="M21 10v11H7v2h14a2 2 0 002-2V10z"/><path d="M19 17V5a2 2 0 00-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 00-2 2v12a2 2 0 002 2h14a2 2 0 002-2zM3 17V7h14v10H3z"/><path d="M8.87 9l-2.99 3 2.99 3v-2.25h5.26v-1.5H8.87V9z"/></svg>',categories:["editor"],keywords:["last","calendar","month","date","previous","schedule","arrow","left"]},{name:"less-than",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Less Than Icon</title><desc>A picture showing the less-than symbol.</desc><path d="M6 12.54L18 19v-2.11L8.91 12 18 7.11V5L6 11.46v1.08z"/></svg>',categories:["editor"],keywords:["less","smaller","compare","previous","back","chevron","math","inequalty","arrow"]},{name:"less-than-or-equal",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Less Than or Equal Icon</title><desc>A picture showing the lass-than or equal symbol.</desc><path d="M5.99 19h12.02v2H5.99zM18 14.9L8.91 10 18 5.11V3L6 9.47v1.07l12 6.47V14.9z"/></svg>',categories:["editor"],keywords:["less","smaller","equal","equals","compare","math"]},{name:"match",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Match Icon</title><desc>A picture depicting two puzzle pieces fitting together.</desc><path d="M10 8a3.909 3.909 0 011 .13V6H0v12h3.779a3 3 0 104.442 0H11v-2.13a3.909 3.909 0 01-1 .13 4 4 0 010-8z"/><path d="M24 6h-3.779a3 3 0 10-4.442 0H12v3.779a3 3 0 100 4.442V18h3.779a3 3 0 104.442 0H24z"/></svg>',categories:["editor"],keywords:["match","fit","puzzle","pieces","jigsaw","combination","play","game","toy"]},{name:"month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Month Icon</title><desc>A picture depicting a month calendar.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zM11 9H9V7h2zm4 0h-2V7h2zm-8 4H5v-2h2zm4 0H9v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zM7 17H5v-2h2zm4 0H9v-2h2zm4 0h-2v-2h2zm4-8h-2V7h2z"/></svg>',categories:["editor"]},{name:"next-month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Next Month icon</title><desc>A picture depicting a calendar with a forward-arrow at the end.</desc><path d="M20 14.76a4.5 4.5 0 102 3.74 4.47 4.47 0 00-2-3.74zm-2 6.74v-2h-4v-2h4v-2l3 3zM5 9h2v2H5zm0 4h2v2H5zm5 0h2v2h-2zm-5 4h2v2H5zm5 0h2v2h-2zm0-8h2v2h-2zm5 0h2v2h-2z"/><path d="M4 8h14v4h2V5a2 2 0 00-2-2h-1V1h-2v2H7V1H5v2H4a2 2 0 00-2 2v15a2 2 0 002 2h7v-2H4z"/></svg>',categories:["editor"],keywords:["next","calendar","month","date","day","following","schedule","arrow","right","page"]},{name:"next-quarter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Next Quarter Icon</title><desc>A picture depicting a quarter circle with an arrow pointing right.</desc><path d="M4 9.253A8.03 8.03 0 019.747 15H4V9.253M2 7v10h10A10 10 0 002 7zm16 1v3h-4v2h4v3l4-4z"/></svg>',categories:["editor"]},{name:"next-week",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Next Week Icon</title><desc>A picture depicting a square with an arrow pointing right.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zM18 9H6V6h12zm0 5l-4 4v-3H6v-2h8v-3z"/></svg>',categories:["editor"]},{name:"next-year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Next Year icon</title><desc>A picture depicting a calendar with a forward-arrow in the middle.</desc><path d="M21 21H7v2h14a2 2 0 002-2V10h-2z"/><path d="M19 17V5a2 2 0 00-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 00-2 2v12a2 2 0 002 2h14a2 2 0 002-2zM3 17V7h14v10H3z"/><path d="M11.13 11.25H5.88v1.5h5.25V15l3-3-3-3v2.25z"/></svg>',categories:["editor"],keywords:["next","calendar","month","date","following","schedule","arrow","right"]},{name:"not-empty",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Not Empty Icon</title><desc>A picture showing a crossed-out dotted square.</desc><path d="M5 9h2v2H5zm4 8h2v2H9zm4 0h2v2h-2zm4-8h2v2h-2zm0-4h2v2h-2zM5 17h2v2H5zm8-12h2v2h-2zm-8 8h2v2H5zm14 2v-2h-2v.47L18.53 15H19zm-8-8V5H9v.46L10.54 7H11zM2.76 1.76L1.5 3.06 20.97 22.5l1.26-1.26-8.89-8.89L2.76 1.76z"/></svg>',categories:["editor"],keywords:["empty","full"]},{name:"not-equal",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Not Equal Icon</title><desc>A picture showing a crossed-out equals symbol.</desc><path d="M17.37 4.71l-1.74-1-2.76 4.79H5v2h6.71l-1.73 3H5v2h3.82l-2.19 3.79 1.74 1 2.76-4.79H19v-2h-6.71l1.73-3H19v-2h-3.82l2.19-3.79z"/></svg>',categories:["editor"],keywords:["equal","equals","different","compare","filter","equality","calculation","math"]},{name:"previous-quarter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Previous Quarter Icon</title><desc>A picture depicting a quarter circle with an arrow pointing left.</desc><path d="M12 7v10h10A10 10 0 0012 7zM2 12l4 4v-3h4v-2H6V8z"/></svg>',categories:["editor"]},{name:"previous-week",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Next Week Icon</title><desc>A picture depicting a square with an arrow pointing left.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zm-2-2H6v-3h12zM10 6v3h8v2h-8v3l-4-4z"/></svg>',categories:["editor"]},{name:"quarter-four",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Quarter Four Icon</title><desc>A picture depicting a quarter of a circle next to a three-thirds circle.</desc><path d="M22 15.5a6.5 6.5 0 01-13 0v-.65h5.85V9h.65a6.508 6.508 0 016.5 6.5zm-11.66.65a5.2 5.2 0 105.81-5.81v5.81zM2 13h11V2A11 11 0 002 13zm5-2H6V7h1zm3 0L8 7h1l1 2 1-2h1z"/></svg>',categories:["editor"]},{name:"quarter-one",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Quarter One Icon</title><desc>A picture depicting a quarter of a circle next to a three-thirds circle.</desc><path d="M8.5 22a6.5 6.5 0 010-13h.65v5.85H15v.65A6.508 6.508 0 018.5 22zm-.65-11.66a5.2 5.2 0 105.81 5.81H7.85zM11 2v11h11A11 11 0 0011 2zm5 8h-1V6h1z"/></svg>',categories:["editor"]},{name:"quarter-three",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Quarter Three Icon</title><desc>A picture depicting a quarter of a circle next to a three-thirds circle.</desc><path d="M15.5 2a6.5 6.5 0 010 13h-.65V9.15H9V8.5A6.508 6.508 0 0115.5 2zm.65 11.66a5.2 5.2 0 10-5.81-5.81h5.81zM2 11a11 11 0 0011 11V11zm5 6H6v-4h1zm2 0H8v-4h1zm2 0h-1v-4h1z"/></svg>',categories:["editor"]},{name:"quarter-two",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Quarter Two Icon</title><desc>A picture depicting a quarter of a circle next to a three-thirds circle.</desc><path d="M2 8.5a6.5 6.5 0 0113 0v.65H9.15V15H8.5A6.508 6.508 0 012 8.5zm11.66-.65a5.2 5.2 0 10-5.81 5.81V7.85zM11 11v11a11 11 0 0011-11zm4 6h-1v-4h1zm2 0h-1v-4h1z"/></svg>',categories:["editor"]},BO,GO,$O,{name:"select-all",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Select All Icon</title><desc>A picture showing tree lines and a check mark.</desc><path d="M2 14h8v2H2zm0-8h12v2H2zm14 11l-3-3-1.5 1.5L16 20l7-7-1.5-1.5L16 17zM2 10h12v2H2z"/></svg>',categories:["editor"],keywords:["all","select","check","multiple"]},{name:"start-expression",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Start Expression Icon</title><desc>A picture showing a left chevron followed by three dots.</desc><path d="M18.1 11h2v2h-2zm-8 0h2v2h-2z"/><path d="M10.9 6.8L9.3 5.5 4 12l5.4 6.5 1.6-1.3L6.5 12 11 6.8zm3.2 4.2h2v2h-2z"/></svg>',categories:["editor"],keywords:["start","expression","arrow","left"]},{name:"starts-with",value:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Starts With Icon</title><desc>A picture showing the uppercase letter A followed by three dots.</desc><path d="M5.9 7.5l-3.9 9h1.7l.7-1.8h4.1l.7 1.8H11l-3.9-9H5.9zM5 13.2l1.5-4.1L8 13.2H5zm7 1.3h2v2h-2v-2zm8 0h2v2h-2v-2zm-4 0h2v2h-2v-2z"/></svg>',categories:["editor"],keywords:["start","character","compare","filter"]},{name:"this-month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>This Month Icon</title><desc>A picture depicting a calendar with an encircled check mark at the end.</desc><path d="M6 9h2v2H6zm0 4h2v2H6zm5 0h2v2h-2zm-5 4h2v2H6zm5 0h2v2h-2zm0-8h2v2h-2zm5 0h2v2h-2zm5 5.76a4.5 4.5 0 102 3.74 4.47 4.47 0 00-2-3.74zm-2.94 5.41l-1.75-1.76.69-.71 1.05 1L20 16.83l.71.71z"/><path d="M5 8h14v4h2V5a2 2 0 00-2-2h-1V1h-2v2H8V1H6v2H5a2 2 0 00-2 2v15a2 2 0 002 2h7v-2H5z"/></svg>',categories:["editor"],keywords:["this","calendar","month","date","day","current","schedule","check","page","now"]},{name:"this-quarter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>This Quarter Icon</title><desc>A picture depicting an arrow pointing right to a quarter of a circle.</desc><path d="M12 7v10h10A10 10 0 0012 7zm-2 5l-4 4v-3H2v-2h4V8z"/></svg>',categories:["editor"]},{name:"this-week",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>This Quarter Icon</title><desc>A picture depicting a square with an arrow pointing up.</desc><path d="M22 4v16a2 2 0 01-2 2h-5v-2h5V4H4v16h5v2H4a2 2 0 01-2-2V4a2 2 0 012-2h16a2 2 0 012 2zm-4 2H6v3h12zM8 15h3v7h2v-7h3l-4-4z"/></svg>',categories:["editor"]},{name:"this-year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>This Year Icon</title><desc>A picture depicting a stacked calendar with a check mark in the middle.</desc><path d="M21 21H7v2h14a2 2 0 002-2V10h-2z"/><path d="M19 17V5a2 2 0 00-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 00-2 2v12a2 2 0 002 2h14a2 2 0 002-2zM3 17V7h14v10H3z"/><path d="M8.85 13.15l-1.77-1.77-.88.89 2.65 2.65 4.95-4.96-.88-.88-4.07 4.07z"/></svg>',categories:["editor"],keywords:["this","calendar","month","date","current","schedule","check","now"]},{name:"today",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Today Icon</title><desc>A picture depicting a calendar with a check mark in the middle.</desc><path d="M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V6a2 2 0 00-2-2zm0 16H5V9h14z"/><path d="M16.53 12.06L15.47 11l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 18l5.94-5.94z"/></svg>',categories:["editor"],keywords:["today","now","check","date","day","calendar","current","schedule","event"]},{name:"top-percentile-records",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Top Percentile Records Icon</title><desc>Shows percentile records positioned at the top.</desc><path d="M12 14l4 4h-3v4h-2v-4H8zm0-8H8v2h4zm4 4H8v2h8zm2 1v9h-3v2h3a2 2 0 002-2v-9.35a5.976 5.976 0 01-2 .35zM6 4h6.09a5.966 5.966 0 01.722-2H6a2 2 0 00-2 2v16a2 2 0 002 2h3v-2H6zm13.355 1.445a.166.166 0 00-.059-.1.22.22 0 00-.2 0 .156.156 0 00-.058.1.954.954 0 00-.028.189q-.01.12-.01.315c0 .126 0 .23.009.311a.943.943 0 00.028.192.156.156 0 00.058.095.213.213 0 00.2 0 .166.166 0 00.059-.095 1.019 1.019 0 00.028-.192c.005-.081.008-.185.008-.311s0-.235-.008-.315a1.035 1.035 0 00-.027-.189zm-2.393-1.88a.157.157 0 00-.062-.095.213.213 0 00-.2 0 .158.158 0 00-.059.095 1.008 1.008 0 00-.028.189c-.005.08-.008.185-.008.314s0 .23.008.312a1.046 1.046 0 00.028.192.155.155 0 00.059.094.213.213 0 00.2 0 .154.154 0 00.058-.094.966.966 0 00.028-.192C17 4.3 17 4.194 17 4.068s0-.234-.008-.314a.931.931 0 00-.03-.189zM22 5a4 4 0 11-4-4 4 4 0 014 4zm-5.2.136a1.252 1.252 0 00.411-.058.582.582 0 00.27-.186.8.8 0 00.148-.331 2.4 2.4 0 00.044-.493 2.378 2.378 0 00-.044-.492.784.784 0 00-.148-.331.583.583 0 00-.27-.187 1.489 1.489 0 00-.823 0 .594.594 0 00-.27.187.8.8 0 00-.147.331 2.311 2.311 0 00-.044.492 2.328 2.328 0 00.044.493.808.808 0 00.147.331.592.592 0 00.27.186 1.258 1.258 0 00.412.058zM19.185 3h-.612l-1.764 4h.612zm.884 2.949a2.328 2.328 0 00-.044-.493.808.808 0 00-.147-.331.592.592 0 00-.27-.186 1.465 1.465 0 00-.823 0 .582.582 0 00-.27.186.8.8 0 00-.148.331 2.328 2.328 0 00-.044.493 2.311 2.311 0 00.044.492.79.79 0 00.148.331.534.534 0 00.27.178 1.718 1.718 0 00.823 0 .543.543 0 00.27-.178.8.8 0 00.147-.331 2.311 2.311 0 00.044-.492z"/></svg>',categories:["editor"]},{name:"top-records",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Top Records Icon</title><desc>Shows records positioned at the top.</desc><path d="M12 14l4 4h-3v4h-2v-4H8zm0-8H8v2h4zm4 4H8v2h8zm2-8H6a2 2 0 00-2 2v16a2 2 0 002 2h3v-2H6V4h12v16h-3v2h3a2 2 0 002-2V4a2 2 0 00-2-2z"/></svg>',categories:["editor"]},{name:"ungroup",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Ungroup Icon</title><desc>A picture depicting a broken box with four squares inside it.</desc><path d="M15 15h5v5h-5zm-9-2h5v5H6zm7-7h5v5h-5zM6 6h5v5H6z"/><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h9v-2H4V4h16v9h2V4a2 2 0 00-2-2z"/></svg>',categories:["editor"],keywords:["ungroup","exclude","extract"]},{name:"year-to-date",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Year To Date Icon</title><desc>A picture depicting an year calendar.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zM5 10h1.127L7.2 11.58 8.258 10h1.121l-1.7 2.465V14H6.677v-1.558zm5.044.74V10h3.745v.74h-1.37V14h-1.005v-3.26zm6.882-.74a2.667 2.667 0 01.823.123 1.86 1.86 0 01.659.37 1.679 1.679 0 01.435.616 2.205 2.205 0 01.157.868 2.456 2.456 0 01-.128.807 1.7 1.7 0 01-.387.639 1.828 1.828 0 01-.647.423 2.453 2.453 0 01-.912.154h-1.972v-4zm-.07 3.26a1.46 1.46 0 00.422-.061.951.951 0 00.365-.205 1.007 1.007 0 00.256-.372 1.453 1.453 0 00.1-.56 2.054 2.054 0 00-.067-.547 1.046 1.046 0 00-.221-.417.973.973 0 00-.407-.266 1.818 1.818 0 00-.624-.092h-.717v2.52z"/></svg>',categories:["editor"]},{name:"year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Year icon</title><desc>A picture depicting an year calendar.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zM7.7 11.634a1.151 1.151 0 00.317-.063.618.618 0 00.243-.152.367.367 0 00.1-.264.429.429 0 00-.2-.379.79.79 0 00-.452-.132.689.689 0 00-.533.2.668.668 0 00-.175.487h-.888a1.428 1.428 0 01.127-.542 1.246 1.246 0 01.321-.42 1.465 1.465 0 01.5-.273A2.022 2.022 0 017.7 10a2.258 2.258 0 01.55.069 1.7 1.7 0 01.5.206 1.21 1.21 0 01.357.336.784.784 0 01.137.456.8.8 0 01-.16.495.815.815 0 01-.482.292v.011a1.04 1.04 0 01.6.308.813.813 0 01.216.567 1.041 1.041 0 01-.14.539 1.238 1.238 0 01-.377.4 1.785 1.785 0 01-.544.242A2.605 2.605 0 017 13.906a1.542 1.542 0 01-.54-.272 1.207 1.207 0 01-.344-.438A1.322 1.322 0 016 12.6h.885a.931.931 0 00.058.294.7.7 0 00.151.243.727.727 0 00.246.162.925.925 0 00.35.06.86.86 0 00.531-.162.524.524 0 00.216-.443.5.5 0 00-.1-.335.59.59 0 00-.259-.168 1.281 1.281 0 00-.344-.061 8.981 8.981 0 00-.357-.008v-.55a2.453 2.453 0 00.323.002zm4.814-.9a.591.591 0 00-.406-.143.684.684 0 00-.416.123.949.949 0 00-.265.3 1.42 1.42 0 00-.144.382 1.989 1.989 0 00-.052.363l.012.011a1.072 1.072 0 01.446-.329 1.685 1.685 0 011.166.008 1.449 1.449 0 01.478.288 1.1 1.1 0 01.269.4 1.306 1.306 0 01.085.457 1.338 1.338 0 01-.115.552 1.3 1.3 0 01-.327.446 1.549 1.549 0 01-.508.3 1.915 1.915 0 01-.655.107 1.877 1.877 0 01-.858-.174 1.491 1.491 0 01-.544-.453 1.7 1.7 0 01-.281-.636 3.3 3.3 0 01-.079-.724 2.713 2.713 0 01.1-.715 1.924 1.924 0 01.315-.646 1.65 1.65 0 01.556-.471 1.752 1.752 0 01.827-.18 2.055 2.055 0 01.55.071 1.517 1.517 0 01.453.207 1.116 1.116 0 01.32.333 1.177 1.177 0 01.164.456h-.884a.638.638 0 00-.21-.335zm-.782 1.257a.627.627 0 00-.233.157.664.664 0 00-.138.228.821.821 0 00-.045.272.732.732 0 00.049.262.7.7 0 00.144.231.706.706 0 00.232.162.783.783 0 00.315.06.692.692 0 00.3-.06.72.72 0 00.219-.16.67.67 0 00.138-.225.773.773 0 00.046-.259.828.828 0 00-.043-.266.683.683 0 00-.128-.232.624.624 0 00-.219-.165.726.726 0 00-.311-.063.836.836 0 00-.329.056zm4.129-1.268l-.183.875.013.01a1.2 1.2 0 01.406-.228 1.783 1.783 0 011.094.036 1.326 1.326 0 01.442.28 1.186 1.186 0 01.275.416 1.355 1.355 0 01.095.509 1.159 1.159 0 01-.137.553 1.456 1.456 0 01-.371.443 1.694 1.694 0 01-.54.288 1.983 1.983 0 01-.655.1 2.7 2.7 0 01-.638-.074 1.725 1.725 0 01-.541-.229 1.226 1.226 0 01-.377-.382 1.054 1.054 0 01-.147-.531h.93a.607.607 0 00.236.421.922.922 0 00.848.093.773.773 0 00.249-.165.706.706 0 00.157-.237.718.718 0 00.056-.277.754.754 0 00-.052-.281.64.64 0 00-.158-.231.738.738 0 00-.248-.154.932.932 0 00-.334-.055.957.957 0 00-.406.074.91.91 0 00-.3.234h-.838l.452-2.129h2.561v.644z"/></svg>',categories:["editor"]},{name:"yesterday",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Yesterday Icon</title><desc>A picture depicting a calendar with a back arrow in the middle.</desc><path d="M10.68 15.38h6.13v-1.75h-6.13V11l-3.49 3.5 3.49 3.5v-2.62z"/><path d="M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V6a2 2 0 00-2-2zm0 16H5V9h14z"/></svg>',categories:["editor"],keywords:["yesterday","date","calendar","left","arrow","past","previous","day"]},{name:"tomorrow",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Tomorrow Icon</title><desc>A picture depicting a calendar with a right-pointed arrow in the middle.</desc><path d="M13.3 13.6H7.2v1.8h6.1V18l3.5-3.5-3.5-3.5v2.6z"/><path d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/></svg>',categories:["editor"],keywords:["tomorrow","date","calendar","right","arrow","future","next","day"]}];function KO(e,t){if(1&e){let e=Wg();Mg(0,"igx-grid-action-button",5),ep("actionClick",(function(t){return Uo(e),qo(rp(2).startEdit(t))})),Ng()}if(2&e){let e=rp(2);fg("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_edit_label)}}function jO(e,t){if(1&e){let e=Wg();Mg(0,"igx-grid-action-button",6),ep("actionClick",(function(t){return Uo(e),qo(rp(2).addRowHandler(t))})),Ng()}if(2&e){let e=rp(2);fg("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_add_label)}}function UO(e,t){if(1&e){let e=Wg();Mg(0,"igx-grid-action-button",7),ep("actionClick",(function(t){return Uo(e),qo(rp(2).addRowHandler(t,!0))})),Ng()}if(2&e){let e=rp(2);fg("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_add_child_label)}}function qO(e,t){if(1&e){let e=Wg();Mg(0,"igx-grid-action-button",8),ep("actionClick",(function(t){return Uo(e),qo(rp(2).deleteRowHandler(t))})),Ng()}if(2&e){let e=rp(2);fg("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_delete_label)}}function YO(e,t){if(1&e&&(zg(0),Xu(1,KO,1,2,"igx-grid-action-button",1)(2,jO,1,2,"igx-grid-action-button",2)(3,UO,1,2,"igx-grid-action-button",3)(4,qO,1,2,"igx-grid-action-button",4),Bg()),2&e){let e=rp();Ac(),fg("ngIf",!e.disabled&&e.editRow),Ac(),fg("ngIf",e.addRow&&e.isRootRow),Ac(),fg("ngIf",e.addChild&&e.hasChildren),Ac(),fg("ngIf",!e.disabled&&e.deleteRow)}}var XO=(()=>{let e=class extends DO{constructor(){super(...arguments),this.cssClass="igx-action-strip__editing-actions",this.editRow=!0,this.deleteRow=!0,this.addChild=!1,this.isMessageShown=!1,this._addRow=!1,this.iconsRendered=!1}set addRow(e){this._addRow=e}get addRow(){return this.iconsRendered||(this.registerIcons(),this.iconsRendered=!0),this._addRow}get disabled(){if(this.isRow(this.strip.context))return this.strip.context.disabled}get isRootRow(){return!!this.isRow(this.strip.context)&&this.strip.context.isRoot}get hasChildren(){return!!this.isRow(this.strip.context)&&this.strip.context.hasChildren}startEdit(e){if(e&&e.stopPropagation(),!this.isRow(this.strip.context))return;let t=this.strip.context,i=t.cells.filter((e=>e.editable))[0],n=t.grid;n.hasEditableColumns?(0!==n.rowList.filter((e=>e===t)).length&&(n.gridAPI.crudService.enterEditMode(i,e),n.gridAPI.crudService.nonEditable||i.activate(e)),this.strip.hide()):this.isMessageShown=(this.isMessageShown,!0)}deleteRowHandler(e){if(e&&e.stopPropagation(),!this.isRow(this.strip.context))return;let t=this.strip.context;t.grid.deleteRow(t.key),this.strip.hide()}addRowHandler(e,t){if(e&&e.stopPropagation(),!this.isRow(this.strip.context))return;let i=this.strip.context,n=i.grid;n.rowEditable?(n.gridAPI.crudService.enterAddRowMode(i,t,e),this.strip.hide()):console.warn("The grid must use row edit mode to perform row adding! Please set rowEditable to true.")}registerIcons(){this.iconService.addSvgIconFromText(MO.name,MO.value,"imx-icons",!0),this.iconService.addSvgIconFromText(VO.name,VO.value,"imx-icons",!0)}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵcmp=es({type:e,selectors:[["igx-grid-editing-actions"]],hostVars:2,hostBindings:function(e,t){2&e&&xg("igx-action-strip__editing-actions",t.cssClass)},inputs:{addRow:[2,"addRow","addRow",Zm],editRow:[2,"editRow","editRow",Zm],deleteRow:[2,"deleteRow","deleteRow",Zm],addChild:[2,"addChild","addChild",Zm]},standalone:!0,features:[kp([{provide:DO,useExisting:e}]),Vu,Ru,Pp],decls:1,vars:1,consts:[[4,"ngIf"],["iconName","edit",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["iconName","add_row","iconSet","default",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["iconName","add_child","iconSet","default",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["class","igx-action-strip__delete","classNames","igx-action-strip__menu-item--danger","iconName","delete",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["iconName","edit",3,"actionClick","asMenuItem","labelText"],["iconName","add_row","iconSet","default",3,"actionClick","asMenuItem","labelText"],["iconName","add_child","iconSet","default",3,"actionClick","asMenuItem","labelText"],["classNames","igx-action-strip__menu-item--danger","iconName","delete",1,"igx-action-strip__delete",3,"actionClick","asMenuItem","labelText"]],template:function(e,t){1&e&&Xu(0,YO,5,4,"ng-container",0),2&e&&fg("ngIf",t.isRowContext)},dependencies:[cv,Yk],encapsulation:2}),e})();function ZO(e,t){if(1&e){let e=Wg();Mg(0,"igx-grid-action-button",5),ep("actionClick",(function(t){return Uo(e),qo(rp(2).scrollToRow(t))})),Ng()}if(2&e){let e=rp(2);fg("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_jumpDown_label)}}function QO(e,t){if(1&e){let e=Wg();Mg(0,"igx-grid-action-button",6),ep("actionClick",(function(t){return Uo(e),qo(rp(2).scrollToRow(t))})),Ng()}if(2&e){let e=rp(2);fg("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_jumpUp_label)}}function JO(e,t){if(1&e){let e=Wg();Mg(0,"igx-grid-action-button",7),ep("actionClick",(function(t){return Uo(e),qo(rp(2).pin(t))})),Ng()}if(2&e){let e=rp(2);fg("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_pin_label)}}function eP(e,t){if(1&e){let e=Wg();Mg(0,"igx-grid-action-button",8),ep("actionClick",(function(t){return Uo(e),qo(rp(2).unpin(t))})),Ng()}if(2&e){let e=rp(2);fg("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_unpin_label)}}function tP(e,t){if(1&e&&(zg(0),Xu(1,ZO,1,2,"igx-grid-action-button",1)(2,QO,1,2,"igx-grid-action-button",2)(3,JO,1,2,"igx-grid-action-button",3)(4,eP,1,2,"igx-grid-action-button",4),Bg()),2&e){let e=rp();Ac(),fg("ngIf",e.inPinnedArea&&e.pinnedTop),Ac(),fg("ngIf",e.inPinnedArea&&!e.pinnedTop),Ac(),fg("ngIf",!e.pinned),Ac(),fg("ngIf",e.pinned)}}var iP=(()=>{let e=class extends DO{constructor(){super(...arguments),this.cssClass="igx-action-strip__pinning-actions",this.iconsRendered=!1}get pinned(){if(!this.isRow(this.strip.context))return;let e=this.strip.context;return e&&!this.iconsRendered&&(this.registerSVGIcons(),this.iconsRendered=!0),e&&e.pinned}get inPinnedArea(){if(!this.isRow(this.strip.context))return;let e=this.strip.context;return this.pinned&&!e.disabled}get pinnedTop(){if(this.isRow(this.strip.context))return this.strip.context.grid.isRowPinningToTop}pin(e){if(e&&e.stopPropagation(),!this.isRow(this.strip.context))return;let t=this.strip.context,i=t.grid;i.pinRow(t.key,i.pinnedRecords.length),this.strip.hide()}unpin(e){if(e&&e.stopPropagation(),!this.isRow(this.strip.context))return;let t=this.strip.context;t.grid.unpinRow(t.key),this.strip.hide()}scrollToRow(e){e&&e.stopPropagation();let t=this.strip.context;t.grid.scrollTo(t.data,0),this.strip.hide()}registerSVGIcons(){this.isRow(this.strip.context)&&this.strip.context.grid&&(this.iconService.addSvgIconFromText(HO.name,HO.value,"imx-icons",!0),this.iconService.addSvgIconFromText(zO.name,zO.value,"imx-icons",!0),this.iconService.addSvgIconFromText(NO.name,NO.value,"imx-icons",!0),this.iconService.addSvgIconFromText(LO.name,LO.value,"imx-icons",!0))}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵcmp=es({type:e,selectors:[["igx-grid-pinning-actions"]],hostVars:2,hostBindings:function(e,t){2&e&&xg("igx-action-strip__pinning-actions",t.cssClass)},standalone:!0,features:[kp([{provide:DO,useExisting:e}]),Ru,Pp],decls:1,vars:1,consts:[[4,"ngIf"],["iconSet","default","iconName","jump_down",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["iconSet","default","iconName","jump_up",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["iconSet","default","iconName","pin",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["iconSet","default","iconName","unpin",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["iconSet","default","iconName","jump_down",3,"actionClick","asMenuItem","labelText"],["iconSet","default","iconName","jump_up",3,"actionClick","asMenuItem","labelText"],["iconSet","default","iconName","pin",3,"actionClick","asMenuItem","labelText"],["iconSet","default","iconName","unpin",3,"actionClick","asMenuItem","labelText"]],template:function(e,t){1&e&&Xu(0,tP,5,4,"ng-container",0),2&e&&fg("ngIf",t.isRowContext)},dependencies:[cv,Yk],encapsulation:2}),e})(),nP=["*"];function rP(e,t){if(1&e&&(Mg(0,"span",3),fp(1),Ng()),2&e){let e=rp();Ac(),yp(e.value)}}function sP(e,t){if(1&e&&(Mg(0,"igx-icon"),fp(1),Ng()),2&e){let e=rp();Ac(),yp(e.icon)}}function oP(e,t){if(1&e&&(Mg(0,"igx-icon",4),fp(1),Ng()),2&e){let e=rp();fg("family",e.iconSet)("name",e.icon),Ac(),yp(e.icon)}}var aP=0,lP="primary",dP="info",cP="success",hP="warning",uP="error",gP=(()=>{let e=class{constructor(){this.id="igx-badge-"+aP++,this.type=lP,this.value="",this.role="status",this.cssClass="igx-badge",this.shape="rounded",this.label="badge"}get _squareShape(){return"square"===this.shape}get roleDescription(){return this.icon?this.type+" type badge with icon type "+this.icon:this.value||0===this.value?this.type+" badge type with value "+this.value:this.type+" badge type without value"}get infoClass(){return this.type===dP}get successClass(){return this.type===cP}get warningClass(){return this.type===hP}get errorClass(){return this.type===uP}};return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=es({type:e,selectors:[["igx-badge"]],hostVars:16,hostBindings:function(e,t){2&e&&(tg("id",t.id)("role",t.role)("aria-label",t.label)("aria-roledescription",t.roleDescription),xg("igx-badge",t.cssClass)("igx-badge--square",t._squareShape)("igx-badge--info",t.infoClass)("igx-badge--success",t.successClass)("igx-badge--warning",t.warningClass)("igx-badge--error",t.errorClass))},inputs:{id:"id",type:"type",value:"value",icon:"icon",iconSet:"iconSet",shape:"shape"},standalone:!0,features:[Pp],ngContentSelectors:nP,decls:4,vars:3,consts:[["class","igx-badge__value",4,"ngIf"],[4,"ngIf"],[3,"family","name",4,"ngIf"],[1,"igx-badge__value"],[3,"family","name"]],template:function(e,t){1&e&&(op(),Xu(0,rP,2,1,"span",0)(1,sP,2,1,"igx-icon",1)(2,oP,2,3,"igx-icon",2),ap(3)),2&e&&(fg("ngIf",t.value||0===t.value&&!t.icon),Ac(),fg("ngIf",t.icon&&!t.iconSet),Ac(),fg("ngIf",t.icon&&t.iconSet))},dependencies:[cv,FT],encapsulation:2}),e})(),pP=["*"];function mP(e,t){if(1&e&&(Mg(0,"igx-icon"),fp(1),Ng()),2&e){let e=rp().$implicit;Ac(),yp(e.icon)}}function fP(e,t){if(1&e&&(Mg(0,"span",5),fp(1),Ng()),2&e){let e=rp().$implicit;Ac(),yp(e.label)}}function vP(e,t){if(1&e&&(Mg(0,"button",2)(1,"span"),Xu(2,mP,2,1,"igx-icon",3)(3,fP,2,1,"span",4),Ng()()),2&e){let e=t.$implicit,i=rp();fg("selected",e.selected)("disabled",i.disabled||e.disabled)("igxLabel",e.label)("igxRipple",e.ripple),tg("data-togglable",e.togglable),Ac(),Pg("igx-button-group__item-content ",i.itemContentCssClass,""),Ac(),fg("ngIf",e.icon),Ac(),fg("ngIf",e.label)}}var yP="horizontal",xP="vertical",wP=0,_P=(()=>{let e=class{get buttons(){return[...this.viewButtons.toArray(),...this.templateButtons.toArray()]}set itemContentCssClass(e){this._itemContentCssClass=e||this._itemContentCssClass}get itemContentCssClass(){return this._itemContentCssClass}get multiSelection(){return"multi"===this.selectionMode}set multiSelection(e){this.selectionMode=e?"multi":"single"}get selectionMode(){return this._selectionMode}set selectionMode(e){this.viewButtons&&e!==this._selectionMode?(this.buttons.forEach(((e,t)=>{this.deselectButton(t)})),this._selectionMode=e):this._selectionMode=e}get disabled(){return this._disabled}set disabled(e){this._disabled!==e&&(this._disabled=e,this.viewButtons&&this.templateButtons&&this.buttons.forEach((e=>e.disabled=this._disabled)))}set alignment(e){this._isVertical=e===xP}get alignment(){return this._isVertical?xP:yP}get isVertical(){return this._isVertical}constructor(e,t,i){this._cdr=e,this._renderer=t,this._el=i,this.id="igx-buttongroup-"+wP++,this.zIndex=0,this.selected=new yl,this.deselected=new yl,this.selectedIndexes=[],this.buttonClickNotifier$=new ei,this.queryListNotifier$=new ei,this._disabled=!1,this._selectionMode="single",this.observerConfig={attributeFilter:["data-selected"],childList:!0,subtree:!0}}get selectedButtons(){return this.buttons.filter(((e,t)=>-1!==this.selectedIndexes.indexOf(t)))}selectButton(e){e>=this.buttons.length||e<0||this.buttons[e].select()}updateSelected(e){let t=this.buttons[e];-1===this.selectedIndexes.indexOf(e)&&this.selectedIndexes.push(e),this._renderer.setAttribute(t.nativeElement,"aria-pressed","true"),this._renderer.addClass(t.nativeElement,"igx-button-group__item--selected");let i=this.viewButtons.toArray().indexOf(t);-1!==i&&(this.values[i].selected=!0),"multi"!==this.selectionMode&&this.selectedIndexes.length>1&&this.buttons.forEach(((t,i)=>{i!==e&&-1!==this.selectedIndexes.indexOf(i)&&(this.deselectButton(i),this.updateDeselected(i))}))}updateDeselected(e){let t=this.buttons[e];-1!==this.selectedIndexes.indexOf(e)&&this.selectedIndexes.splice(this.selectedIndexes.indexOf(e),1),this._renderer.setAttribute(t.nativeElement,"aria-pressed","false"),this._renderer.removeClass(t.nativeElement,"igx-button-group__item--selected");let i=this.viewButtons.toArray().indexOf(t);-1!==i&&(this.values[i].selected=!1)}deselectButton(e){e>=this.buttons.length||e<0||this.buttons[e].deselect()}ngAfterViewInit(){let e=()=>{this.buttonClickNotifier$.next(),this.selectedIndexes.splice(0,this.selectedIndexes.length),this.buttons.forEach(((e,t)=>{let i=e.nativeElement;this._renderer.addClass(i,"igx-button-group__item"),this.disabled&&(e.disabled=!0),e.selected&&this.updateSelected(t),e.buttonClick.pipe(mn(this.buttonClickNotifier$)).subscribe((e=>this._clickHandler(t)))}))};this.mutationObserver=this.setMutationsObserver(),this.viewButtons.changes.pipe(mn(this.queryListNotifier$)).subscribe((()=>{this.mutationObserver.disconnect(),e(),this.mutationObserver?.observe(this._el.nativeElement,this.observerConfig)})),this.templateButtons.changes.pipe(mn(this.queryListNotifier$)).subscribe((()=>{this.mutationObserver.disconnect(),e(),this.mutationObserver?.observe(this._el.nativeElement,this.observerConfig)})),e(),this._cdr.detectChanges(),this.mutationObserver?.observe(this._el.nativeElement,this.observerConfig)}ngOnDestroy(){this.buttonClickNotifier$.next(),this.buttonClickNotifier$.complete(),this.queryListNotifier$.next(),this.queryListNotifier$.complete(),this.mutationObserver?.disconnect()}_clickHandler(e){let t={owner:this,button:this.buttons[e],index:e};"multi"!==this.selectionMode&&this.buttons.forEach(((t,i)=>{i!==e&&-1!==this.selectedIndexes.indexOf(i)&&this.deselected.emit({owner:this,button:t,index:i})})),-1===this.selectedIndexes.indexOf(e)?(this.selectButton(e),this.selected.emit(t)):"singleRequired"!==this.selectionMode&&(this.deselectButton(e),this.deselected.emit(t))}setMutationsObserver(){if(typeof MutationObserver<"u")return new MutationObserver(((e,t)=>{t.disconnect();let i=this.getUpdatedButtons(e);i.length>0&&i.forEach((e=>{let t=this.buttons.map((e=>e.nativeElement)).indexOf(e);this.updateButtonSelectionState(t)})),t.observe(this._el.nativeElement,this.observerConfig)}))}getUpdatedButtons(e){let t=[];return e.filter((e=>"attributes"===e.type)).reduce(((e,t)=>(e.push(t.target),e)),t),t}updateButtonSelectionState(e){this.buttons[e].selected?this.updateSelected(e):this.updateDeselected(e)}};return e.ɵfac=function(t){return new(t||e)(Oc(Pm),Oc(qh),Oc(Nl))},e.ɵcmp=es({type:e,selectors:[["igx-buttongroup"]],contentQueries:function(e,t,i){if(1&e&&hp(i,ST,4),2&e){let e;gp(e=pp())&&(t.templateButtons=e)}},viewQuery:function(e,t){if(1&e&&up(ST,5),2&e){let e;gp(e=pp())&&(t.viewButtons=e)}},hostVars:3,hostBindings:function(e,t){2&e&&(tg("id",t.id),yg("z-index",t.zIndex))},inputs:{id:"id",itemContentCssClass:"itemContentCssClass",multiSelection:"multiSelection",selectionMode:"selectionMode",values:"values",disabled:[2,"disabled","disabled",Zm],alignment:"alignment"},outputs:{selected:"selected",deselected:"deselected"},standalone:!0,features:[Vu,Pp],ngContentSelectors:pP,decls:3,vars:3,consts:[["role","group",1,"igx-button-group"],["type","button","igxButton","flat",3,"selected","disabled","igxLabel","igxRipple",4,"ngFor","ngForOf"],["type","button","igxButton","flat",3,"selected","disabled","igxLabel","igxRipple"],[4,"ngIf"],["class","igx-button-group__button-text",4,"ngIf"],[1,"igx-button-group__button-text"]],template:function(e,t){1&e&&(op(),Mg(0,"div",0),Xu(1,vP,4,10,"button",1),ap(2),Ng()),2&e&&(xg("igx-button-group--vertical",t.isVertical),Ac(),fg("ngForOf",t.values))},dependencies:[lv,ST,vA,cv,FT],encapsulation:2}),e})();function CP(e){return e instanceof Date?bP.from(e):e}function SP(e,t){return e.date!==t.date?t.set({date:0}):t}var bP=class e{static get today(){return e.from(new Date)}static from(t){return new e({year:t.getFullYear(),month:t.getMonth(),date:t.getDate()})}constructor(e){this._date=new Date(e.year,e.month,e.date??1)}clone(){return e.from(this._date)}set(t){return new e({year:t.year??this.year,month:t.month??this.month,date:t.date??this.date})}add(e,t){let i=this.clone();switch(e){case"year":return i._date.setFullYear(i.year+t),SP(this,i);case"quarter":return i._date.setMonth(i.month+3*t),SP(this,i);case"month":return i._date.setMonth(i.month+t),SP(this,i);case"week":return i._date.setDate(i.date+7*t),i;case"day":return i._date.setDate(i.date+t),i;default:throw new Error("Invalid interval")}}get day(){return this._date.getDay()}get year(){return this._date.getFullYear()}get month(){return this._date.getMonth()}get date(){return this._date.getDate()}get timestamp(){return this._date.getTime()}get week(){let t=new e({year:this.year,month:0}).timestamp,i=(this.timestamp-t+864e5)/864e5;return Math.ceil(i/7)}get native(){return new Date(this._date)}get weekend(){return this.day<1||this.day>5}equalTo(e){return this.timestamp===CP(e).timestamp}greaterThan(e){return this.timestamp>CP(e).timestamp}lessThan(e){return this.timestamp<CP(e).timestamp}toString(){return`${this.native}`}},DP=new Gn("IgxCalendarViewItem"),IP=(()=>{let e=class{get nativeElement(){return this.elementRef.nativeElement}constructor(e){this.elementRef=e,this.showActive=!1,this.itemSelection=new yl}onMouseDown(e){e.preventDefault(),this.itemSelection.emit(this.value)}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl))},e.ɵdir=ss({type:e,hostBindings:function(e,t){1&e&&ep("mousedown",(function(e){return t.onMouseDown(e)}))},inputs:{value:"value",date:"date",showActive:"showActive"},outputs:{itemSelection:"itemSelection"}}),e})(),EP=(()=>{let e=class extends IP{get isCurrent(){return bP.today.year===this.value.getFullYear()}get isSelected(){return this.value.getFullYear()===this.date.getFullYear()}get isActive(){return this.isSelected&&this.showActive}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵdir=ss({type:e,selectors:[["","igxCalendarYear",""]],hostVars:6,hostBindings:function(e,t){2&e&&xg("igx-calendar-view__item--current",t.isCurrent)("igx-calendar-view__item--selected",t.isSelected)("igx-calendar-view__item--active",t.isActive)},exportAs:["igxCalendarYear"],standalone:!0,features:[kp([{provide:DP,useExisting:e}]),Ru]}),e})(),TP=(()=>{let e=class extends IP{get isCurrent(){let e=bP.today,t=bP.from(this.value);return t.year===e.year&&t.month===e.month}get isSelected(){return this.value.getFullYear()===this.date.getFullYear()&&this.value.getMonth()===this.date.getMonth()}get isActive(){return this.isSelected&&this.showActive}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵdir=ss({type:e,selectors:[["","igxCalendarMonth",""]],hostVars:6,hostBindings:function(e,t){2&e&&xg("igx-calendar-view__item--current",t.isCurrent)("igx-calendar-view__item--selected",t.isSelected)("igx-calendar-view__item--active",t.isActive)},exportAs:["igxCalendarMonth"],standalone:!0,features:[kp([{provide:DP,useExisting:e}]),Ru]}),e})(),RP=(()=>{let e=class{constructor(e){this.template=e}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxCalendarHeaderTitle",""]],standalone:!0}),e})(),AP=(()=>{let e=class{constructor(e){this.template=e}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxCalendarHeader",""]],standalone:!0}),e})(),kP=(()=>{let e=class{constructor(e){this.template=e}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxCalendarSubheader",""]],standalone:!0}),e})(),OP=(()=>{let e=class{constructor(e,t,i){this.element=e,this.zone=t,this.platform=i,this.destroy$=new ei}onMouseDown(e){e.preventDefault(),this.startScroll()}onMouseUp(e){this.stopScroll(e)}ngAfterViewInit(){en(this.element.nativeElement,"keyup").pipe(an((()=>rn(100))),mn(this.destroy$)).subscribe((e=>{this.stopScroll(e)})),this.zone.runOutsideAngular((()=>{en(this.element.nativeElement,"keydown").pipe(function(e,t,i){let n=_t(e)?{next:e,error:t,complete:i}:e;return n?Yt(((e,t)=>{var i;null===(i=n.subscribe)||void 0===i||i.call(n);let r=!0;e.subscribe(Xt(t,(e=>{var i;null===(i=n.next)||void 0===i||i.call(n,e),t.next(e)}),(()=>{var e;r=!1,null===(e=n.complete)||void 0===e||e.call(n),t.complete()}),(e=>{var i;r=!1,null===(i=n.error)||void 0===i||i.call(n,e),t.error(e)}),(()=>{var e,t;r&&(null===(e=n.unsubscribe)||void 0===e||e.call(n)),null===(t=n.finalize)||void 0===t||t.call(n)})))})):Kt}((e=>{this.platform.isActivationKey(e)&&(e.preventDefault(),e.stopPropagation())})),an((()=>rn(100))),mn(this.destroy$)).subscribe((e=>{this.platform.isActivationKey(e)&&this.zone.run((()=>this.startScroll(!0)))}))}))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(Dl),Oc(fC))},e.ɵdir=ss({type:e,selectors:[["","igxCalendarScrollPage",""]],hostBindings:function(e,t){1&e&&ep("mousedown",(function(e){return t.onMouseDown(e)}))("mouseup",(function(e){return t.onMouseUp(e)}))},inputs:{startScroll:"startScroll",stopScroll:"stopScroll"},standalone:!0}),e})(),PP="single",FP="multi",VP="range",MP="month",NP="year",LP="decade",HP=function(e){return e[e.After=0]="After",e[e.Before=1]="Before",e[e.Between=2]="Between",e[e.Specific=3]="Specific",e[e.Weekdays=4]="Weekdays",e[e.Weekends=5]="Weekends",e}(HP||{});function zP(e,t){let[i,n]=[CP(e),CP(t)];return i.year===n.year&&i.month===n.month}function BP(e,t=[]){for(;WP(e,t);)e=e.add("day",1);return e}function GP(e,t,i=[]){let n=e,r=0;for(;r<366;){if(n=e.add("day",t*(r+1)),!WP(n,i))return n;r++}return n}function*$P(e){let t=CP(e.start),i=e.unit??"day",n="number"==typeof e.end?t.add(i,e.end):CP(e.end),r=n.lessThan(t),s=r?-1:1;for(;r?t.greaterThan(n):t.lessThan(n);)yield t,t=t.add(i,s)}function WP(e,t){let i=CP(e);return t.some((e=>{let t=(e.dateRange??[]).map((e=>CP(e)));switch(e.type){case HP.After:return i.greaterThan(PC(t));case HP.Before:return i.lessThan(PC(t));case HP.Between:{let e=Math.min(PC(t).timestamp,FC(t).timestamp),n=Math.max(PC(t).timestamp,FC(t).timestamp);return i.timestamp>=e&&i.timestamp<=n}case HP.Specific:return t.some((e=>e.equalTo(i)));case HP.Weekdays:return!i.weekend;case HP.Weekends:return i.weekend;default:return!1}}))}var KP=function(e){return e[e.After=0]="After",e[e.Before=1]="Before",e[e.Between=2]="Between",e[e.Specific=3]="Specific",e[e.Weekdays=4]="Weekdays",e[e.Weekends=5]="Weekends",e}(KP||{}),jP=function(e){return e[e.NEXT=1]="NEXT",e[e.PREV=-1]="PREV",e}(jP||{}),UP=new Gn("DAY_INTERVAL"),qP=(()=>{let e=class{get activeDescendant(){if(-1!==this.tabIndex)return this.date.getTime()}set date(e){e instanceof Date&&(this._date=e)}get date(){return this._date}get locale(){return this._locale}set locale(e){this._locale=e,this.initFormatter()}constructor(e){this.dayInterval=e,this.role="grid",this.tabIndex=0,this.showActive=!1,this.selected=new yl,this.pageChanged=new yl,this.activeDateChanged=new yl,this._locale="en",this._date=new Date,this._onTouchedCallback=Ot,this._onChangeCallback=Ot,this.initFormatter()}onKeydownArrowDown(e){this.navigateTo(e,jP.NEXT,3)}onKeydownArrowUp(e){this.navigateTo(e,jP.PREV,3)}onKeydownArrowRight(e){this.navigateTo(e,jP.NEXT,1)}onKeydownArrowLeft(e){this.navigateTo(e,jP.PREV,1)}onKeydownHome(e){e.preventDefault(),e.stopPropagation(),this.date=this.range.at(0),this.activeDateChanged.emit(this.date)}onKeydownEnd(e){e.preventDefault(),e.stopPropagation(),this.date=this.range.at(-1),this.activeDateChanged.emit(this.date)}onKeydownEnter(e){e.stopPropagation(),this.selected.emit(this.date),this._onChangeCallback(this.date)}handleFocus(){this.showActive=!0}handleBlur(){this.showActive=!1}selectDate(e){this.date=e,this.selected.emit(this.date),this._onChangeCallback(this.date)}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}writeValue(e){e&&(this.date=e)}navigateTo(e,t,i){e.preventDefault(),e.stopPropagation();let n=BP(bP.from(this.date).add(this.dayInterval,t*i),[]);!WP(n,[{type:KP.Between,dateRange:[this.range.at(0),this.range.at(-1)]}])&&this.pageChanged.emit(n.native),this.date=n.native,this.activeDateChanged.emit(this.date)}};return e.ɵfac=function(t){return new(t||e)(Oc(UP))},e.ɵdir=ss({type:e,viewQuery:function(e,t){if(1&e&&up(DP,5,DP),2&e){let e;gp(e=pp())&&(t.viewItems=e)}},hostVars:3,hostBindings:function(e,t){1&e&&ep("keydown.arrowdown",(function(e){return t.onKeydownArrowDown(e)}))("keydown.arrowup",(function(e){return t.onKeydownArrowUp(e)}))("keydown.arrowright",(function(e){return t.onKeydownArrowRight(e)}))("keydown.arrowleft",(function(e){return t.onKeydownArrowLeft(e)}))("keydown.home",(function(e){return t.onKeydownHome(e)}))("keydown.end",(function(e){return t.onKeydownEnd(e)}))("keydown.enter",(function(e){return t.onKeydownEnter(e)}))("focus",(function(){return t.handleFocus()}))("blur",(function(){return t.handleBlur()})),2&e&&tg("role",t.role)("tabIndex",t.tabIndex)("aria-activeDescendant",t.activeDescendant)},inputs:{role:"role",tabIndex:"tabIndex",formatView:[2,"formatView","formatView",Zm],showActive:[2,"showActive","showActive",Zm],date:"date",locale:"locale"},outputs:{selected:"selected",pageChanged:"pageChanged",activeDateChanged:"activeDateChanged"},standalone:!0,features:[kp([{provide:Ny,useExisting:e,multi:!0}]),Vu]}),e})();function YP(e,t){if(1&e){let e=Wg();Mg(0,"span",3,0),ep("itemSelection",(function(t){return Uo(e),qo(rp().selectDate(t))})),Mg(2,"span",4),fp(3),Xp(4,"titlecase"),Ng()()}if(2&e){let e=t.$implicit,i=mp(1),n=rp();fg("value",e)("date",n.date)("showActive",n.showActive),tg("id",e.getTime())("aria-label",n.formattedMonth(e).long)("aria-selected",i.isSelected),Ac(3),xp(" ",Zp(4,7,n.formattedMonth(e).formatted)," ")}}var XP=0,ZP=(()=>{var e;let t=class extends qP{constructor(t,i){super(i),He(this,e),this.el=t,ze(this,e,!0),this.id="igx-months-view-"+XP++,this.viewClass=!0,this.formatView=!0,this._monthFormat="short"}get standalone(){return Le(this,e)}set standalone(t){ze(this,e,t)}get monthFormat(){return this._monthFormat}set monthFormat(e){this._monthFormat=e,this.initFormatter()}get range(){let e=bP.from(this.date).set({date:1,month:0}),t=e.add(this.dayInterval,12);return Array.from($P({start:e,end:t,unit:this.dayInterval})).map((e=>e.native))}formattedMonth(e){let t=new Intl.DateTimeFormat(this.locale,{month:"long",year:"numeric"});return this.formatView?{long:t.format(e),formatted:this._formatter.format(e)}:{long:t.format(e),formatted:`${e.getMonth()}`}}monthTracker(e,t){return`${t.getMonth()}}`}initFormatter(){this._formatter=new Intl.DateTimeFormat(this._locale,{month:this.monthFormat})}};return e=new WeakMap,t.ɵfac=function(e){return new(e||t)(Oc(Nl),Oc(UP))},t.ɵcmp=es({type:t,selectors:[["igx-months-view"]],hostVars:5,hostBindings:function(e,t){2&e&&(tg("id",t.id),xg("igx-calendar-view",t.viewClass)("igx-calendar-view--standalone",t.standalone))},inputs:{id:"id",standalone:"standalone",monthFormat:"monthFormat",formatView:[2,"formatView","formatView",Zm]},standalone:!0,features:[kp([{provide:Ny,useExisting:t,multi:!0},{provide:UP,useValue:"month"}]),Vu,Ru,Pp],decls:2,vars:2,consts:[["item","igxCalendarMonth"],["role","row",1,"igx-calendar-view__items"],["igxCalendarMonth","","class","igx-calendar-view__item","role","gridcell",3,"value","date","showActive","itemSelection",4,"ngFor","ngForOf","ngForTrackBy"],["igxCalendarMonth","","role","gridcell",1,"igx-calendar-view__item",3,"itemSelection","value","date","showActive"],["aria-hidden","true",1,"igx-calendar-view__item-inner"]],template:function(e,t){1&e&&(Mg(0,"div",1),Xu(1,YP,5,9,"span",2),Ng()),2&e&&(Ac(),fg("ngForOf",t.range)("ngForTrackBy",t.monthTracker))},dependencies:[lv,TP,bv],encapsulation:2}),t})();function QP(e,t){if(1&e){let e=Wg();Mg(0,"span",3,0),ep("itemSelection",(function(t){return Uo(e),qo(rp().selectDate(t))})),Mg(2,"span",4),fp(3),Ng()()}if(2&e){let e=t.$implicit,i=mp(1),n=rp();fg("value",e)("date",n.date)("showActive",n.showActive),tg("id",e.getTime())("aria-label",n.formattedYear(e).long)("aria-selected",i.isSelected)("aria-current",i.isCurrent),Ac(3),xp(" ",n.formattedYear(e).formatted," ")}}var JP=(()=>{var e;let t=class extends qP{constructor(t,i){super(i),He(this,e),this.el=t,ze(this,e,!0),this.viewClass=!0,this._yearFormat="numeric",this._yearsPerPage=15}get standalone(){return Le(this,e)}set standalone(t){ze(this,e,t)}get yearFormat(){return this._yearFormat}set yearFormat(e){this._yearFormat=e,this.initFormatter()}get range(){let e=this.date.getFullYear(),t=new bP({year:Math.floor(e/this._yearsPerPage)*this._yearsPerPage,month:this.date.getMonth()}),i=t.add(this.dayInterval,this._yearsPerPage);return Array.from($P({start:t,end:i,unit:this.dayInterval})).map((e=>e.native))}formattedYear(e){let t=new Intl.DateTimeFormat(this.locale,{year:"numeric"});return this.formatView?{long:t.format(e),formatted:this._formatter.format(e)}:{long:t.format(e),formatted:`${e.getFullYear()}`}}yearTracker(e,t){return`${t.getFullYear()}}`}initFormatter(){this._formatter=new Intl.DateTimeFormat(this._locale,{year:this.yearFormat})}};return e=new WeakMap,t.ɵfac=function(e){return new(e||t)(Oc(Nl),Oc(UP))},t.ɵcmp=es({type:t,selectors:[["igx-years-view"]],hostVars:4,hostBindings:function(e,t){2&e&&xg("igx-calendar-view",t.viewClass)("igx-calendar-view--standalone",t.standalone)},inputs:{standalone:"standalone",yearFormat:"yearFormat"},standalone:!0,features:[kp([{provide:Ny,useExisting:t,multi:!0},{provide:UP,useValue:"year"}]),Ru,Pp],decls:2,vars:2,consts:[["item","igxCalendarYear"],["role","row",1,"igx-calendar-view__items"],["igxCalendarYear","","class","igx-calendar-view__item","role","gridcell",3,"value","date","showActive","itemSelection",4,"ngFor","ngForOf","ngForTrackBy"],["igxCalendarYear","","role","gridcell",1,"igx-calendar-view__item",3,"itemSelection","value","date","showActive"],["aria-hidden","true",1,"igx-calendar-view__item-inner"]],template:function(e,t){1&e&&(Mg(0,"div",1),Xu(1,QP,4,8,"span",2),Ng()),2&e&&(Ac(),fg("ngForOf",t.range)("ngForTrackBy",t.yearTracker))},dependencies:[lv,EP],encapsulation:2}),t})(),eF=["*"],tF=(()=>{let e=class{get selected(){return this._selected}set selected(e){this._selected=e}get hideLeading(){return this.hideLeadingDays&&this.isPreviousMonth}get hideTrailing(){return this.hideTrailingDays&&this.isNextMonth}get isCurrentMonth(){return zP(this.date,this.viewDate)}get isPreviousMonth(){return function(e,t){let[i,n]=[CP(e),CP(t)];return i.year===n.year?i.month<n.month:i.year<n.year}(this.date,this.viewDate)}get isNextMonth(){return function(e,t){let[i,n]=[CP(e),CP(t)];return i.year===n.year?i.month>n.month:i.year>n.year}(this.date,this.viewDate)}get nativeElement(){return this.elementRef.nativeElement}get isSelectedCSS(){let e=!this.isInactive||this.isWithinRange&&"range"===this.selection;return!this.isDisabled&&e&&this.selected}get isInactive(){return!this.isCurrentMonth}get isHidden(){return(this.hideLeading||this.hideTrailing)&&this.isInactive}get isToday(){return!this.isInactive&&this.date.equalTo(bP.today)}get isWeekend(){return this.date.weekend}get isDisabled(){return!!this.disabledDates&&WP(this.date,this.disabledDates)}get isFocusable(){return this.isCurrentMonth&&!this.isHidden&&!this.isDisabled}onMouseEnter(){this.mouseEnter.emit()}onMouseLeave(){this.mouseLeave.emit()}onMouseDown(e){e.preventDefault(),this.mouseDown.emit()}get isWithinRangeCSS(){return!this.isSingleSelection&&this.isWithinRange}get isWithinPreviewRangeCSS(){return!this.isSingleSelection&&this.isWithinPreviewRange}get isSpecial(){return!!this.specialDates&&!this.isInactive&&WP(this.date,this.specialDates)}get isDisabledCSS(){return this.isHidden||this.isDisabled}get isSingleSelection(){return this.selection!==VP}constructor(e){this.elementRef=e,this.hideOutsideDays=!1,this.isLastInRange=!1,this.isFirstInRange=!1,this.isWithinRange=!1,this.isWithinPreviewRange=!1,this.hideLeadingDays=!1,this.hideTrailingDays=!1,this.dateSelection=new yl,this.mouseEnter=new yl,this.mouseLeave=new yl,this.mouseDown=new yl,this.isActive=!1,this._selected=!1}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl))},e.ɵcmp=es({type:e,selectors:[["igx-day-item"]],hostVars:26,hostBindings:function(e,t){2&e&&xg("igx-days-view__date--last",t.isLastInRange)("igx-days-view__date--first",t.isFirstInRange)("igx-days-view__date--active",t.isActive)("igx-days-view__date--selected",t.isSelectedCSS)("igx-days-view__date--inactive",t.isInactive)("igx-days-view__date--hidden",t.isHidden)("igx-days-view__date--current",t.isToday)("igx-days-view__date--weekend",t.isWeekend)("igx-days-view__date--range",t.isWithinRangeCSS)("igx-days-view__date--range-preview",t.isWithinPreviewRangeCSS)("igx-days-view__date--special",t.isSpecial)("igx-days-view__date--disabled",t.isDisabledCSS)("igx-days-view__date--single",t.isSingleSelection)},inputs:{date:"date",viewDate:"viewDate",selection:"selection",selected:"selected",disabledDates:"disabledDates",specialDates:"specialDates",hideOutsideDays:[2,"hideOutsideDays","hideOutsideDays",Zm],isLastInRange:[2,"isLastInRange","isLastInRange",Zm],isFirstInRange:[2,"isFirstInRange","isFirstInRange",Zm],isWithinRange:[2,"isWithinRange","isWithinRange",Zm],isWithinPreviewRange:[2,"isWithinPreviewRange","isWithinPreviewRange",Zm],hideLeadingDays:[2,"hideLeadingDays","hideLeadingDays",Zm],hideTrailingDays:[2,"hideTrailingDays","hideTrailingDays",Zm],isActive:[2,"isActive","isActive",Zm]},outputs:{dateSelection:"dateSelection",mouseEnter:"mouseEnter",mouseLeave:"mouseLeave",mouseDown:"mouseDown"},standalone:!0,features:[Vu,Pp],ngContentSelectors:eF,decls:2,vars:0,consts:[["aria-hidden","true",1,"igx-days-view__date-inner",3,"mouseenter","mouseleave","mousedown"]],template:function(e,t){1&e&&(op(),Mg(0,"span",0),ep("mouseenter",(function(){return t.onMouseEnter()}))("mouseleave",(function(){return t.onMouseLeave()}))("mousedown",(function(e){return t.onMouseDown(e)})),ap(1),Ng())},encapsulation:2,changeDetection:0}),e})(),iF={igx_calendar_previous_month:"Previous Month",igx_calendar_next_month:"Next Month",igx_calendar_previous_year:"Previous Year",igx_calendar_next_year:"Next Year",igx_calendar_previous_years:"Previous {0} Years",igx_calendar_next_years:"Next {0} Years",igx_calendar_select_date:"Select Date",igx_calendar_select_month:"Select Month",igx_calendar_select_year:"Select Year",igx_calendar_range_start:"Range start",igx_calendar_range_end:"Range end",igx_calendar_range_label_start:"Start",igx_calendar_range_label_end:"End",igx_calendar_range_placeholder:"Select Range",igx_calendar_selected_month_is:"Selected month is ",igx_calendar_first_picker_of:"First picker of {0} starts from",igx_calendar_multi_selection:"Multi selection calendar with {0} date pickers",igx_calendar_range_selection:"Range selection calendar with {0} date pickers",igx_calendar_single_selection:"Calendar with {0} date pickers",igx_calendar_singular_multi_selection:"Multi selection calendar",igx_calendar_singular_range_selection:"Range selection calendar",igx_calendar_singular_single_selection:"Calendar"},nF=(()=>{let e=class{constructor(e,t){this.eventManager=e,this.ngZone=t,this.keyHandlers=new Map,this.eventUnsubscribeFn=null}attachKeyboardHandlers(e,t){return this.detachKeyboardHandlers(),this.ngZone.runOutsideAngular((()=>{this.eventUnsubscribeFn=this.eventManager.addEventListener(e.nativeElement,"keydown",(e=>{let i=this.keyHandlers.get(e.key);i&&this.ngZone.run(i.bind(t,e))}))})),this}detachKeyboardHandlers(){this.eventUnsubscribeFn&&(this.eventUnsubscribeFn(),this.eventUnsubscribeFn=null),this.keyHandlers.clear()}set(e,t){return this.keyHandlers.set(e,t),this}unset(e){return this.keyHandlers.delete(e),this}};return e.ɵfac=function(t){return new(t||e)(gr(ny),gr(Dl))},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),rF=["yearsBtn"],sF=(()=>{let e=class{set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}get weekStart(){return this._weekStart}set weekStart(e){this._weekStart=e}get locale(){return this._locale}set locale(e){this._locale=e;try{gf(this._locale)}catch{this._locale=this._localeId}this.weekStart||(this.weekStart=gf(this._locale)),this.initFormatters()}get formatOptions(){return this._formatOptions}set formatOptions(e){this._formatOptions=ke(ke({},this._formatOptions),e),this.initFormatters()}get formatViews(){return this._formatViews}set formatViews(e){this._formatViews=Object.assign(this._formatViews,e)}get activeView(){return this._activeView}set activeView(e){this._activeView=e,this.activeViewSubject.next(e)}get isDefaultView(){return this._activeView===MP}get isDecadeView(){return this._activeView===LP}activeViewDecade(e=0){this.activeView=LP,this.activeViewIdx=e}activeViewDecadeKB(e,t=0){e.stopPropagation(),this.platform.isActivationKey(e)&&(e.preventDefault(),this.activeViewDecade(t))}changeYear(e){this.previousViewDate=this.viewDate,this.viewDate=bP.from(e).add("month",-this.activeViewIdx).native,this.activeView=MP}formattedYear(e){if(!Array.isArray(e))return this.formatViews.year?this.formatterYear.format(e):`${e.getFullYear()}`}formattedYears(e){return e.map((e=>this.formattedYear(e))).join(" - ")}prevNavLabel(e){switch(this.activeView){case"month":return`${this.resourceStrings.igx_calendar_previous_month}, ${e}`;case"year":return this.resourceStrings.igx_calendar_previous_year.replace("{0}","15");case"decade":return this.resourceStrings.igx_calendar_previous_years.replace("{0}","15")}}nextNavLabel(e){switch(this.activeView){case"month":return`${this.resourceStrings.igx_calendar_next_month}, ${e}`;case"year":return this.resourceStrings.igx_calendar_next_year.replace("{0}","15");case"decade":return this.resourceStrings.igx_calendar_next_years.replace("{0}","15")}}getDecadeRange(){let e=function(e,t){let i=CP(e).year,n=15*Math.floor(i/15);return{start:n,end:n+15-1}}(this.viewDate),t=bP.from(this.viewDate).set({date:1,year:e.start}),i=bP.from(this.viewDate).set({date:1,year:e.end});return{start:this.formatterYear.format(t.native),end:this.formatterYear.format(i.native)}}get selection(){return this._selection}set selection(e){switch(e){case PP:this.selectedDates=null;break;case FP:case VP:this.selectedDates=[];break;default:throw new Error("Invalid selection value")}this._onChangeCallback(this.selectedDates),this.rangeStarted=!1,this._selection=e}get viewDate(){return this._viewDate}set viewDate(e){if(Array.isArray(e))return;"string"==typeof e&&(e=GA.parseIsoDate(e));let t=this.validateDate(e);this._viewDate&&(this.initialSelection=t);let i=this.getDateOnly(t).setDate(1);this._viewDate=new Date(i)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e}isDateDisabled(e){return!!this.disabledDates&&("string"==typeof e&&(e=GA.parseIsoDate(e)),WP(e,this.disabledDates))}get specialDates(){return this._specialDates}set specialDates(e){this._specialDates=e}get value(){return this.selection===PP?this.selectedDates?.at(0):this.selectedDates}set value(e){"string"==typeof e&&(e=GA.parseIsoDate(e)),!e||Array.isArray(e)&&0===e.length?this.initialSelection=new Date:(this.initialSelection||(this.viewDate=Array.isArray(e)?new Date(Math.min(...e)):e),this.selectDate(e),this.initialSelection=e)}constructor(e,t,i,n){this.platform=e,this._localeId=t,this.keyboardNavigation=i,this.cdr=n,this.activeViewIdx=0,this._activeView=MP,this.activeViewSubject=new ei,this.activeView$=this.activeViewSubject.asObservable(),this.hideOutsideDays=!1,this.selected=new yl,this.viewDateChanged=new yl,this.activeViewChanged=new yl,this.rangeStarted=!1,this.pageScrollDirection="none",this.scrollPage$=new ei,this.stopPageScroll$=new ei,this.startPageScroll$=new ei,this.shiftKey=!1,this._onTouchedCallback=Ot,this._onChangeCallback=Ot,this._disabledDates=[],this._specialDates=[],this._selection=PP,this._resourceStrings=MT(iF),this._formatOptions={day:"numeric",month:"long",weekday:"narrow",year:"numeric"},this._formatViews={day:!1,month:!0,year:!1},this.locale=t,this.viewDate=this.viewDate?this.viewDate:new Date,this.initFormatters()}onPointerdown(e){this.shiftKey=0===e.button&&e.shiftKey}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}writeValue(e){this.value=e}selectDate(e){if("string"==typeof e&&(e=GA.parseIsoDate(e)),!(null==e||Array.isArray(e)&&0===e.length))switch(this.selection){case PP:pC(e)&&!this.isDateDisabled(e)&&this.selectSingle(e);break;case FP:this.selectMultiple(e);break;case VP:this.selectRange(e,!0)}}deselectDate(e){if(this.selectedDates&&0!==this.selectedDates.length){if("string"==typeof e&&(e=GA.parseIsoDate(e)),null==e)return this.selectedDates=this.selection===PP?null:[],this.rangeStarted=!1,void this._onChangeCallback(this.selectedDates);switch(this.selection){case PP:this.deselectSingle(e);break;case FP:this.deselectMultiple(e);break;case VP:this.deselectRange(e)}}}selectSingle(e){mC(this.selectedDates?.at(0),e)||(this.selectedDates=[this.getDateOnly(e)],this._onChangeCallback(this.selectedDates.at(0)))}deselectSingle(e){null!==this.selectedDates&&this.getDateOnlyInMs(e)===this.getDateOnlyInMs(this.selectedDates.at(0))&&(this.selectedDates=null,this._onChangeCallback(this.selectedDates))}selectMultiple(e){if(Array.isArray(e)){let t=e.map((e=>this.getDateOnly(e).getTime())),i=this.selectedDates.map((e=>this.getDateOnly(e).getTime()));if(JSON.stringify(t)===JSON.stringify(i))return;0===i.length||i.length>t.length?this.selectedDates=t.map((e=>new Date(e))):this.selectedDates=Array.from(new Set([...t,...i])).map((e=>new Date(e)))}else{let t=[];if(this.shiftKey&&this.lastSelectedDate){[this._startDate,this._endDate]=this.lastSelectedDate.getTime()<e.getTime()?[this.lastSelectedDate,e]:[e,this.lastSelectedDate];let i=[this._startDate,...this.generateDateRange(this._startDate,this._endDate)].filter((e=>!this.isDateDisabled(e)&&this.selectedDates.every((t=>t.getTime()!==e.getTime()))));this.selectedDates.some((e=>e.getTime()===this.lastSelectedDate.getTime()))&&i.length?t=i:(this.selectedDates=this.selectedDates.filter((e=>e.getTime()<this._startDate.getTime()||e.getTime()>this._endDate.getTime())),this.selectedDates.push(e),this._deselectDate=!0),this._startDate=this._endDate=void 0}else this.selectedDates.every((t=>t.getTime()!==e.getTime()))?t.push(e):(this.selectedDates=this.selectedDates.filter((t=>t.getTime()!==e.getTime())),this._deselectDate=!0);t.length>0&&(this.selectedDates=this.selectedDates.concat(t),this._deselectDate=!1),this.lastSelectedDate=e}this.selectedDates=this.selectedDates.filter((e=>!this.isDateDisabled(e))),this.selectedDates.sort(((e,t)=>e.valueOf()-t.valueOf())),this._onChangeCallback(this.selectedDates)}deselectMultiple(e){e=e.filter((e=>null!==e));let t=this.selectedDates.length,i=new Set(e.map((e=>this.getDateOnlyInMs(e))));for(let e=this.selectedDates.length-1;e>=0;e--)i.has(this.getDateOnlyInMs(this.selectedDates[e]))&&this.selectedDates.splice(e,1);this.selectedDates.length!==t&&this._onChangeCallback(this.selectedDates)}selectRange(e,t=!1){if(Array.isArray(e))e.sort(((e,t)=>e.valueOf()-t.valueOf())),this._startDate=this.getDateOnly(e[0]),this._endDate=this.getDateOnly(e[e.length-1]);else{if(this.shiftKey&&this.lastSelectedDate){if(this.lastSelectedDate.getTime()===e.getTime())return this.selectedDates=1===this.selectedDates.length?[]:[e],this.rangeStarted=!!this.selectedDates.length,void this._onChangeCallback(this.selectedDates);this.selectedDates.some((t=>t.getTime()===e.getTime()))?this.lastSelectedDate.getTime()<e.getTime()?this._startDate=e:this._endDate=e:this.lastSelectedDate.getTime()<e.getTime()?(this._startDate=this._startDate??this.lastSelectedDate,this._endDate=e):(this._startDate=e,this._endDate=this._endDate??this.lastSelectedDate),this.rangeStarted=!1}else if(this.rangeStarted){if(this.rangeStarted=!1,this.selectedDates?.at(0)?.getTime()===e.getTime())return this.selectedDates=[],void this._onChangeCallback(this.selectedDates);[this._startDate,this._endDate]=this.lastSelectedDate.getTime()<e.getTime()?[this.lastSelectedDate,e]:[e,this.lastSelectedDate]}else this.rangeStarted=!0,this.selectedDates=[e],this._startDate=this._endDate=void 0;this.lastSelectedDate=e}this._startDate&&this._endDate&&(this.selectedDates=[this._startDate,...this.generateDateRange(this._startDate,this._endDate)]),t&&(this.selectedDates=this.selectedDates.filter((e=>!this.isDateDisabled(e)))),this._onChangeCallback(this.selectedDates)}deselectRange(e){if((e=e.filter((e=>null!==e))).length<1)return;e.sort(((e,t)=>e.valueOf()-t.valueOf()));let t=this.getDateOnlyInMs(e[0]),i=this.getDateOnlyInMs(e[e.length-1]);this.selectedDates.sort(((e,t)=>e.valueOf()-t.valueOf()));let n=this.getDateOnlyInMs(this.selectedDates[0]),r=this.getDateOnlyInMs(this.selectedDates[this.selectedDates.length-1]);!(i<n)&&!(t>r)&&(this.selectedDates=[],this.rangeStarted=!1,this._onChangeCallback(this.selectedDates))}initFormatters(){this.formatterDay=new Intl.DateTimeFormat(this._locale,{day:this._formatOptions.day}),this.formatterWeekday=new Intl.DateTimeFormat(this._locale,{weekday:this._formatOptions.weekday}),this.formatterMonth=new Intl.DateTimeFormat(this._locale,{month:this._formatOptions.month}),this.formatterYear=new Intl.DateTimeFormat(this._locale,{year:this._formatOptions.year}),this.formatterMonthday=new Intl.DateTimeFormat(this._locale,{month:this._formatOptions.month,day:this._formatOptions.day}),this.formatterRangeday=new Intl.DateTimeFormat(this._locale,{day:this._formatOptions.day,month:"short"})}getDateOnly(e){let t=this.validateDate(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate())}getDateOnlyInMs(e){return this.getDateOnly(e).getTime()}generateDateRange(e,t){let i=[];for(e=this.getDateOnly(e),t=this.getDateOnly(t);e.getTime()<t.getTime();)e=bP.from(e).add("day",1).native,i.push(e);return i}validateDate(e){return GA.isValidDate(e)?e:new Date}};return e.ɵfac=function(t){return new(t||e)(Oc(fC),Oc(bm),Oc(nF),Oc(Pm))},e.ɵdir=ss({type:e,selectors:[["","igxCalendarBase",""]],viewQuery:function(e,t){if(1&e&&up(rF,5),2&e){let e;gp(e=pp())&&(t.yearsBtns=e)}},hostBindings:function(e,t){1&e&&ep("pointerdown",(function(e){return t.onPointerdown(e)}))},inputs:{hideOutsideDays:[2,"hideOutsideDays","hideOutsideDays",Zm],resourceStrings:"resourceStrings",weekStart:"weekStart",locale:"locale",formatOptions:"formatOptions",formatViews:"formatViews",activeView:"activeView",selection:"selection",viewDate:"viewDate",disabledDates:"disabledDates",specialDates:"specialDates",value:"value"},outputs:{selected:"selected",viewDateChanged:"viewDateChanged",activeViewChanged:"activeViewChanged"},standalone:!0,features:[kp([nF]),Vu]}),e})();function oF(e,t){if(1&e&&(Mg(0,"div",5)(1,"span")(2,"i"),fp(3),Xp(4,"titlecase"),Ng()()()),2&e){let e=rp();Ac(3),yp(Zp(4,1,e.weekNumberHeader.short))}}function aF(e,t){if(1&e&&(Mg(0,"span",6)(1,"span",7),fp(2),Xp(3,"titlecase"),Ng()()),2&e){let e=t.$implicit;tg("aria-label",e.long),Ac(2),xp(" ",Zp(3,2,e.formatted)," ")}}function lF(e,t){if(1&e&&(Mg(0,"div",11)(1,"span",12),fp(2),Ng()()),2&e){let e=rp().$implicit,t=rp();Ac(2),xp(" ",t.getWeekNumber(e[0])," ")}}function dF(e,t){if(1&e){let e=Wg();Mg(0,"igx-day-item",13,0),ep("mouseDown",(function(){Uo(e);let t=mp(1);return qo(rp(2).handleDateClick(t))}))("mouseEnter",(function(){let t=Uo(e).$implicit;return qo(rp(2).changePreviewRange(t.native))}))("mouseLeave",(function(){return Uo(e),qo(rp(2).clearPreviewRange())})),fp(2),Ng()}if(2&e){let e=t.$implicit,i=mp(1),n=rp(2);fg("date",e)("viewDate",n.viewDate)("selection",n.selection)("selected",n.isSelected(e))("isActive",n.isActiveDate(e))("isLastInRange",n.isLastInRange(e))("isFirstInRange",n.isFirstInRange(e))("isWithinRange",n.isWithinRange(e.native,!0))("isWithinPreviewRange",n.isWithinPreviewRange(e.native))("disabledDates",n.disabledDates)("specialDates",n.specialDates)("hideLeadingDays",n.hideLeadingDays)("hideTrailingDays",n.hideTrailingDays),tg("id",i.isCurrentMonth&&e.timestamp)("aria-selected",n.isSelected(e))("aria-disabled",n.isDateDisabled(e.native))("aria-label",n.isFirstInRange(e)?e.native.toDateString()+", "+n.resourceStrings.igx_calendar_range_start:n.isLastInRange(e)?e.native.toDateString()+", "+n.resourceStrings.igx_calendar_range_end:e.native.toDateString())("tabindex",-1),Ac(2),xp(" ",n.formattedDate(e.native)," ")}}function cF(e,t){if(1&e&&(Mg(0,"div",8),Xu(1,lF,3,1,"div",9)(2,dF,3,19,"igx-day-item",10),Ng()),2&e){let e=t.$implicit,i=rp();Ac(),fg("ngIf",i.showWeekNumbers),Ac(),fg("ngForOf",e)("ngForTrackBy",i.dateTracker)}}var hF=0,uF=(()=>{var e;let t=class extends sF{constructor(t,i,n,r){super(t,i,null,r),He(this,e),this.el=n,this.cdr=r,ze(this,e,!0),this.id="igx-days-view-"+hF++,this.tabIndex=0,this.role="grid",this.viewClass=!0,this.dateSelected=new yl,this.pageChanged=new yl,this.activeDateChange=new yl,this.previewRangeDateChange=new yl}get standalone(){return Le(this,e)}set standalone(t){ze(this,e,t)}get activeDescendant(){if(-1!==this.tabIndex)return this.activeDate.getTime()}set activeDate(e){this._activeDate=e,this.changePreviewRange(e),this.activeDateChange.emit(this._activeDate)}get activeDate(){return this._activeDate??this.viewDate}set previewRangeDate(e){this._previewRangeDate=e,this.previewRangeDateChange.emit(e)}get previewRangeDate(){return this._previewRangeDate}set hideLeadingDays(e){this._hideLeadingDays=e,this.cdr.detectChanges()}get hideLeadingDays(){return this._hideLeadingDays??this.hideOutsideDays}set hideTrailingDays(e){this._hideTrailingDays=e,this.cdr.detectChanges()}get hideTrailingDays(){return this._hideTrailingDays??this.hideOutsideDays}set showActiveDay(e){this._showActiveDay=e}get showActiveDay(){return this._showActiveDay}handleArrowKeydown(e,t){e.preventDefault(),e.stopPropagation();let i=GP(bP.from(this.activeDate),t,this.disabledDates);zP(this.activeDate,i.native)||this.pageChanged.emit({monthAction:t>0?"next":"prev",key:e.key,nextDate:i.native}),this.activeDate=i.native,this.viewDate=i.native,this.clearPreviewRange(),this.changePreviewRange(i.native),this.cdr.detectChanges()}onArrowRight(e){this.handleArrowKeydown(e,1)}onArrowLeft(e){this.handleArrowKeydown(e,-1)}onArrowUp(e){this.handleArrowKeydown(e,-7)}onArrowDown(e){this.handleArrowKeydown(e,7)}onKeydownEnter(e){e.stopPropagation(),this.selectActiveDate()}onKeydownHome(e){e.preventDefault(),e.stopPropagation();let t=bP.from(this.activeDate);this.activeDate=BP(t.set({date:1}),this.disabledDates).native}onKeydownEnd(e){e.preventDefault(),e.stopPropagation();let t=bP.from(this.activeDate);this.activeDate=function(e,t=[]){for(;WP(e,t);)e=e.add("day",-1);return e}(t.set({month:t.month+1,date:0}),this.disabledDates).native}handleFocus(){this._showActiveDay=!0,this.changePreviewRange(this.activeDate)}handleBlur(){this._showActiveDay=!1,this.clearPreviewRange()}handleDateClick(e){let t=e.date.native;e.isPreviousMonth&&this.pageChanged.emit({monthAction:"prev",key:"",nextDate:t}),e.isNextMonth&&this.pageChanged.emit({monthAction:"next",key:"",nextDate:t}),-1!==this.tabIndex&&this.el.nativeElement.focus(),this.activeDate=e.date.native,this.selectActiveDate()}selectActiveDate(){this.selectDate(this.activeDate),this.dateSelected.emit(this.activeDate),this.selected.emit(this.selectedDates),this.clearPreviewRange()}get calendarMonth(){return Array.from(function*(e,t){let{year:i,month:n}=CP(e),r=new bP({year:i,month:n}),s=function(e,t){return(e%7+7)%7}(r.day-t);yield*(e=>{var t,i=e[Te("asyncIterator")],n=!1,r={};return null==i?(i=e[Te("iterator")](),t=e=>r[e]=t=>i[e](t)):(i=i.call(e),t=e=>r[e]=t=>{if(n){if(n=!1,"throw"===e)throw t;return t}return n=!0,{done:!1,value:new $e(new Promise((n=>{var r=i[e](t);r instanceof Object||Re("Object expected"),n(r)})),1)}}),r[Te("iterator")]=()=>r,t("next"),"throw"in i?t("throw"):r.throw=e=>{throw e},"return"in i&&t("return"),r})($P({start:r.add("day",-s),end:42}))}(this.viewDate,this.weekStart))}get monthWeeks(){return Array.from(function*(e,t){for(let t=0;t<e.length;t+=7)yield e.slice(t,t+7)}(this.calendarMonth))}getWeekNumber(e){return e.week}formattedDate(e){return this.formatViews.day?this.formatterDay.format(e):`${e.getDate()}`}get weekHeaderLabels(){let e=[],t=new Intl.DateTimeFormat(this.locale,{weekday:"long"});for(let i of this.monthWeeks.at(0))e.push({long:t.format(i.native),formatted:this.formatterWeekday.format(i.native)});return e}get weekNumberHeader(){let e=e=>new Intl.DisplayNames(this.locale,{type:"dateTimeField",style:e}).of("weekOfYear");return{short:e("narrow").substring(0,1),long:e("long")}}rowTracker(e,t){return`${t[e].month}${t[e].date}`}dateTracker(e,t){return`${t.month}--${t.date}`}isSelected(e){let t=this.value,i=this.value||Array.isArray(this.value)&&1===this.value.length;return!WP(e,this.disabledDates)&&(this.selection===PP?!!this.value&&e.equalTo(this.value):!!i&&(this.selection===FP&&t.length>0?WP(e,[{type:KP.Specific,dateRange:t}]):this.selection===VP&&t.length>0?WP(e,[{type:KP.Between,dateRange:[t.at(0),t.at(-1)]}]):void 0))}isFirstInRange(e){let t=this.selectedDates;if(this.isSingleSelection||0===t.length)return!1;let i=t.at(0);return this.previewRangeDate&&this.previewRangeDate<i&&(i=this.previewRangeDate),e.equalTo(i)}isLastInRange(e){let t=this.selectedDates;if(this.isSingleSelection||0===t.length)return!1;let i=t.at(-1);return this.previewRangeDate&&this.previewRangeDate>i&&(i=this.previewRangeDate),e.equalTo(i)}isActiveDate(e){return this._showActiveDay&&e.equalTo(this.activeDate)}isWithinRange(e,t,i,n){let r=this.selectedDates;return!(t&&!(Array.isArray(r)&&r.length>1))&&(i=i||r.at(0),n=n||r.at(-1),WP(e,[{type:KP.Between,dateRange:[i,n]}]))}isWithinPreviewRange(e){if("range"!==this.selection)return!1;let t=this.selectedDates;return!!(t.length>0&&this.previewRangeDate)&&WP(e,[{type:KP.Between,dateRange:[t.at(0),this.previewRangeDate]}])}get isSingleSelection(){return this.selection!==VP}changePreviewRange(e){let t=this.value;"range"===this.selection&&1===t.length&&(bP.from(t.at(0)).equalTo(e)||this.setPreviewRangeDate(e))}clearPreviewRange(){this.previewRangeDate&&this.setPreviewRangeDate(void 0)}setPreviewRangeDate(e){this.previewRangeDate=e}};return e=new WeakMap,t.ɵfac=function(e){return new(e||t)(Oc(fC),Oc(bm),Oc(Nl),Oc(Pm))},t.ɵcmp=es({type:t,selectors:[["igx-days-view"]],viewQuery:function(e,t){if(1&e&&up(tF,5,tF),2&e){let e;gp(e=pp())&&(t.dates=e)}},hostVars:8,hostBindings:function(e,t){1&e&&ep("keydown.arrowright",(function(e){return t.onArrowRight(e)}))("keydown.arrowleft",(function(e){return t.onArrowLeft(e)}))("keydown.arrowup",(function(e){return t.onArrowUp(e)}))("keydown.arrowdown",(function(e){return t.onArrowDown(e)}))("keydown.Space",(function(e){return t.onKeydownEnter(e)}))("keydown.enter",(function(e){return t.onKeydownEnter(e)}))("keydown.home",(function(e){return t.onKeydownHome(e)}))("keydown.end",(function(e){return t.onKeydownEnd(e)}))("focus",(function(){return t.handleFocus()}))("blur",(function(){return t.handleBlur()})),2&e&&(tg("id",t.id)("tabIndex",t.tabIndex)("role",t.role)("aria-activeDescendant",t.activeDescendant),xg("igx-days-view",t.viewClass)("igx-days-view--standalone",t.standalone))},inputs:{id:"id",tabIndex:"tabIndex",role:"role",standalone:"standalone",showWeekNumbers:[2,"showWeekNumbers","showWeekNumbers",Zm],activeDate:"activeDate",previewRangeDate:"previewRangeDate",hideLeadingDays:[2,"hideLeadingDays","hideLeadingDays",Zm],hideTrailingDays:[2,"hideTrailingDays","hideTrailingDays",Zm],showActiveDay:[2,"showActiveDay","showActiveDay",Zm]},outputs:{dateSelected:"dateSelected",pageChanged:"pageChanged",activeDateChange:"activeDateChange",previewRangeDateChange:"previewRangeDateChange"},standalone:!0,features:[kp([{multi:!0,provide:Ny,useExisting:t}]),Vu,Ru,Pp],decls:5,vars:7,consts:[["item",""],["role","row",1,"igx-days-view__row",3,"title"],["role","columnheader","class","igx-days-view__label igx-days-view__label--week-number",4,"ngIf"],["role","columnheader","class","igx-days-view__label",4,"ngFor","ngForOf"],["class","igx-days-view__row","role","row",4,"ngFor","ngForOf","ngForTrackBy"],["role","columnheader",1,"igx-days-view__label","igx-days-view__label--week-number"],["role","columnheader",1,"igx-days-view__label"],[1,"igx-days-view__label-inner"],["role","row",1,"igx-days-view__row"],["class","igx-days-view__date igx-days-view__date--week-number",4,"ngIf"],["class","igx-days-view__date","role","gridcell",3,"date","viewDate","selection","selected","isActive","isLastInRange","isFirstInRange","isWithinRange","isWithinPreviewRange","disabledDates","specialDates","hideLeadingDays","hideTrailingDays","mouseDown","mouseEnter","mouseLeave",4,"ngFor","ngForOf","ngForTrackBy"],[1,"igx-days-view__date","igx-days-view__date--week-number"],["role","rowheader",1,"igx-days-view__date-inner","igx-days-view__date-inner--week-number"],["role","gridcell",1,"igx-days-view__date",3,"mouseDown","mouseEnter","mouseLeave","date","viewDate","selection","selected","isActive","isLastInRange","isFirstInRange","isWithinRange","isWithinPreviewRange","disabledDates","specialDates","hideLeadingDays","hideTrailingDays"]],template:function(e,t){1&e&&(Mg(0,"div",1),Xp(1,"titlecase"),Xu(2,oF,5,3,"div",2)(3,aF,4,4,"span",3),Ng(),Xu(4,cF,3,3,"div",4)),2&e&&(fg("title",Zp(1,5,t.weekNumberHeader.long)),Ac(2),fg("ngIf",t.showWeekNumbers),Ac(),fg("ngForOf",t.weekHeaderLabels),Ac(),fg("ngForOf",t.monthWeeks)("ngForTrackBy",t.rowTracker))},dependencies:[cv,lv,tF,bv],encapsulation:2,changeDetection:0}),t})(),gF=(()=>{let e=class{transform(e){return new Array(e)}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"IgxMonthViewSlots",type:e,pure:!0,standalone:!0}),e})(),pF=(()=>{let e=class{constructor(){this.calendar=new class{timedelta(e,t,i){let n=new Date(e),r=()=>{n.getDate()!==e.getDate()&&n.setDate(0)};switch(t.toLowerCase()){case"year":n.setFullYear(n.getFullYear()+i),r();break;case"quarter":n.setMonth(n.getMonth()+3*i),r();break;case"month":n.setMonth(n.getMonth()+i),r();break;case"week":n.setDate(n.getDate()+7*i);break;case"day":n.setDate(n.getDate()+i);break;case"hour":n.setTime(n.getTime()+36e5*i);break;case"minute":n.setTime(n.getTime()+6e4*i);break;case"second":n.setTime(n.getTime()+1e3*i);break;default:throw new Error("Invalid interval specifier")}return n}}}transform(e,t,i=!0){let n=this.calendar.timedelta(t,"month",e);return i?n:n.getMonth()}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"IgxGetViewDate",type:e,pure:!0,standalone:!0}),e})(),mF=["wrapper"],fF=["decade"],vF=["months"],yF=["days"],xF=["prevPageBtn"],wF=["nextPageBtn"],_F=["monthsBtn"],CF=e=>({$implicit:e});function SF(e,t){if(1&e&&(zg(0),Mg(1,"span"),fp(2),Ng(),Bg()),2&e){let e=rp(2);Ac(2),yp(e.resourceStrings.igx_calendar_select_date)}}function bF(e,t){if(1&e&&(zg(0),Mg(1,"span"),fp(2),Ng(),Bg()),2&e){let e=rp(2);Ac(2),yp(e.resourceStrings.igx_calendar_range_placeholder)}}function DF(e,t){if(1&e&&Xu(0,SF,3,1,"ng-container",24)(1,bF,3,1,"ng-container",24),2&e){let e=rp();fg("ngIf","single"===e.selection),Ac(),fg("ngIf","range"===e.selection)}}function IF(e,t){if(1&e&&(zg(0),Mg(1,"span"),fp(2),Ng(),Mg(3,"span"),fp(4),Ng(),Bg()),2&e){let e=rp(2);Ac(2),xp("",e.getFormattedDate().weekday,", "),Ac(2),yp(e.getFormattedDate().monthday)}}function EF(e,t){if(1&e&&(zg(0),Mg(1,"span"),fp(2),Ng(),Mg(3,"span"),fp(4," - "),Ng(),Mg(5,"span"),fp(6),Ng(),Bg()),2&e){let e=rp(2);Ac(2),yp(0===e.selectedDates.length?"Start":e.getFormattedRange().start),Ac(4),yp(e.selectedDates.length<=1?"End":e.getFormattedRange().end)}}function TF(e,t){if(1&e&&Xu(0,IF,5,2,"ng-container",24)(1,EF,7,2,"ng-container",24),2&e){let e=rp();fg("ngIf","single"===e.selection),Ac(),fg("ngIf","range"===e.selection)}}function RF(e,t){if(1&e){let e=Wg();Mg(0,"span",27,14),Xp(2,"date"),ep("keydown",(function(t){let i=Uo(e).$implicit;return qo(rp().onActiveViewYearKB(i.date,t,i.index))}))("mousedown",(function(t){let i=Uo(e).$implicit;return qo(rp().onActiveViewYear(t,i.date,i.index))})),fp(3),Ng()}if(2&e){let e=t.$implicit,i=rp();tg("aria-label",Qp(2,2,e.date,"LLLL")+", "+i.resourceStrings.igx_calendar_select_month),Ac(3),xp(" ",i.formattedMonth(e.date)," ")}}function AF(e,t){if(1&e&&(Mg(0,"span",29),fp(1),Ng()),2&e){let e=rp().$implicit,t=rp();Ac(),yp(t.formattedYear(e.date))}}function kF(e,t){if(1&e){let e=Wg();Xu(0,AF,2,1,"span",28),Mg(1,"span",27,15),Xp(3,"date"),ep("keydown",(function(t){let i=Uo(e).$implicit;return qo(rp().onActiveViewDecadeKB(i.date,t,i.index))}))("mousedown",(function(t){let i=Uo(e).$implicit;return qo(rp().onActiveViewDecade(t,i.date,i.index))})),fp(4),Ng()}if(2&e){let e=t.$implicit,i=rp();fg("ngIf","year"===i.activeView),Ac(),tg("aria-label",Qp(3,3,e.date,"yyyy")+", "+i.resourceStrings.igx_calendar_select_year),Ac(3),xp(" ",i.formattedYear(e.date)," ")}}function OF(e,t){if(1&e&&(Mg(0,"span",29),fp(1),Xp(2,"date"),Xp(3,"date"),Ng()),2&e){let e=rp().$implicit,t=rp();Ac(),xp(" ",t.monthsViewNumber>1?t.resourceStrings.igx_calendar_first_picker_of.replace("{0}",t.monthsViewNumber.toString())+" "+Qp(2,1,e.date,"LLLL yyyy"):t.resourceStrings.igx_calendar_selected_month_is+Qp(3,4,e.date,"LLLL yyyy")," ")}}function PF(e,t){1&e&&Gg(0)}function FF(e,t){1&e&&Gg(0)}function VF(e,t){if(1&e&&Xu(0,OF,4,7,"span",28)(1,PF,1,0,"ng-container",30)(2,FF,1,0,"ng-container",30),2&e){let e=t.$implicit,i=rp(),n=mp(5),r=mp(7);fg("ngIf",i.monthsViewNumber<2||e.index<1),Ac(),fg("ngTemplateOutlet",n)("ngTemplateOutletContext",Vp(5,CF,e)),Ac(),fg("ngTemplateOutlet",r)("ngTemplateOutletContext",Vp(7,CF,e))}}function MF(e,t){if(1&e&&(Mg(0,"span"),fp(1),Ng()),2&e){let e=rp();Ac(),wp("",e.getDecadeRange().start," - ",e.getDecadeRange().end,"")}}function NF(e,t){1&e&&Lg(0,"igx-icon",31)}function LF(e,t){1&e&&Lg(0,"igx-icon",32)}function HF(e,t){1&e&&Gg(0)}function zF(e,t){if(1&e){let e=Wg();Mg(0,"div",33,16),Xp(2,"date"),ep("keydown",(function(t){return Uo(e),qo(t.stopPropagation())})),Xu(3,HF,1,0,"ng-container",34),Ng()}if(2&e){let e=rp(),t=mp(13);fg("startScroll",e.startPrevPageScroll)("stopScroll",e.stopPageScroll),tg("aria-label",e.prevNavLabel(Qp(2,4,e.getPrevMonth(e.viewDate),"LLLL"))),Ac(3),fg("ngTemplateOutlet",t)}}function BF(e,t){1&e&&Gg(0)}function GF(e,t){if(1&e){let e=Wg();Mg(0,"div",35,17),Xp(2,"date"),ep("keydown",(function(t){return Uo(e),qo(t.stopPropagation())})),Xu(3,BF,1,0,"ng-container",34),Ng()}if(2&e){let e=rp(),t=mp(15);fg("startScroll",e.startNextPageScroll)("stopScroll",e.stopPageScroll),tg("aria-label",e.nextNavLabel(Qp(2,4,e.getNextMonth(e.viewDate,e.monthsViewNumber),"LLLL"))),Ac(3),fg("ngTemplateOutlet",t)}}function $F(e,t){1&e&&Gg(0)}function WF(e,t){1&e&&Gg(0)}function KF(e,t){1&e&&Gg(0)}function jF(e,t){if(1&e&&(Mg(0,"div",39),Xu(1,WF,1,0,"ng-container",34)(2,KF,1,0,"ng-container",34),Ng()),2&e){rp(2);let e=mp(17),t=mp(19);Ac(),fg("ngTemplateOutlet",e),Ac(),fg("ngTemplateOutlet",t)}}function UF(e,t){if(1&e&&(Mg(0,"section",36)(1,"div",37),Xp(2,"IgxGetViewDate"),Xu(3,$F,1,0,"ng-container",30),Ng(),Xu(4,jF,3,2,"div",38),Ng()),2&e){let e=t.$implicit,i=rp(),n=mp(9);yg("--calendar-row-start",1+2*e),Ac(),tg("data-month",Jp(2,6,e,i.viewDate,!1)),Ac(2),fg("ngTemplateOutlet",i.subheaderTemplate?i.subheaderTemplate:n)("ngTemplateOutletContext",i.getContext(e)),Ac(),fg("ngIf","horizontal"===i.orientation?e===i.monthsViewNumber-1:0===e)}}function qF(e,t){1&e&&Gg(0)}function YF(e,t){1&e&&Gg(0)}function XF(e,t){1&e&&Gg(0)}function ZF(e,t){if(1&e&&(Mg(0,"section",36)(1,"div",37),Xu(2,qF,1,0,"ng-container",30),Ng(),Mg(3,"div",39),Xu(4,YF,1,0,"ng-container",34)(5,XF,1,0,"ng-container",34),Ng()()),2&e){let e=rp(),t=mp(7),i=mp(17),n=mp(19);Ac(2),fg("ngTemplateOutlet",e.subheaderTemplate?e.subheaderTemplate:t)("ngTemplateOutletContext",e.getContext(0)),Ac(2),fg("ngTemplateOutlet",i),Ac(),fg("ngTemplateOutlet",n)}}function QF(e,t){1&e&&Gg(0)}function JF(e,t){1&e&&Gg(0)}function eV(e,t){1&e&&Gg(0)}function tV(e,t){if(1&e&&(Mg(0,"section",36)(1,"div",40),Xu(2,QF,1,0,"ng-container",34),Ng(),Mg(3,"div",39),Xu(4,JF,1,0,"ng-container",34)(5,eV,1,0,"ng-container",34),Ng()()),2&e){let e=rp(),t=mp(11),i=mp(17),n=mp(19);Ac(2),fg("ngTemplateOutlet",e.subheaderTemplate?e.subheaderTemplate:t),Ac(2),fg("ngTemplateOutlet",i),Ac(),fg("ngTemplateOutlet",n)}}function iV(e,t){1&e&&Gg(0)}function nV(e,t){1&e&&Gg(0)}function rV(e,t){if(1&e&&(Mg(0,"header",41)(1,"h5",42),Xu(2,iV,1,0,"ng-container",30),Ng(),Mg(3,"h2",43),Xu(4,nV,1,0,"ng-container",30),Ng()()),2&e){let e,t=rp(),i=mp(1),n=mp(3);Ac(2),fg("ngTemplateOutlet",null!==(e=t.headerTitleTemplate)&&void 0!==e?e:i)("ngTemplateOutletContext",t.headerContext),Ac(2),fg("ngTemplateOutlet",t.headerTemplate?t.headerTemplate:n)("ngTemplateOutletContext",t.headerContext)}}function sV(e,t){if(1&e&&(zg(0),fp(1),Bg()),2&e){let e=rp();Ac(),xp(" ",e.monthsViewNumber&&e.monthsViewNumber>1?e.resourceStrings.igx_calendar_multi_selection.replace("{0}",e.monthsViewNumber.toString()):e.resourceStrings.igx_calendar_singular_multi_selection," ")}}function oV(e,t){if(1&e&&(zg(0),fp(1),Bg()),2&e){let e=rp();Ac(),xp(" ",e.monthsViewNumber&&e.monthsViewNumber>1?e.resourceStrings.igx_calendar_range_selection.replace("{0}",e.monthsViewNumber.toString()):e.resourceStrings.igx_calendar_singular_range_selection," ")}}function aV(e,t){if(1&e&&(zg(0),fp(1),Bg()),2&e){let e=rp();Ac(),xp(" ",e.monthsViewNumber&&e.monthsViewNumber>1?e.resourceStrings.igx_calendar_single_selection.replace("{0}",e.monthsViewNumber.toString()):e.resourceStrings.igx_calendar_singular_single_selection," ")}}function lV(e,t){1&e&&Gg(0)}function dV(e,t){if(1&e&&(zg(0),Xu(1,lV,1,0,"ng-container",30),Bg()),2&e){let e=t.index;rp(2);let i=mp(21);Ac(),fg("ngTemplateOutlet",i)("ngTemplateOutletContext",Vp(2,CF,e))}}function cV(e,t){if(1&e&&(zg(0),Xu(1,dV,2,4,"ng-container",44),Xp(2,"IgxMonthViewSlots"),Bg()),2&e){let e=rp();Ac(),fg("ngForOf",Zp(2,1,e.monthsViewNumber))}}function hV(e,t){1&e&&Gg(0)}function uV(e,t){if(1&e&&(zg(0),Xu(1,hV,1,0,"ng-container",34),Bg()),2&e){rp();let e=mp(23);Ac(),fg("ngTemplateOutlet",e)}}function gV(e,t){1&e&&Gg(0)}function pV(e,t){if(1&e&&(zg(0),Xu(1,gV,1,0,"ng-container",34),Bg()),2&e){rp();let e=mp(25);Ac(),fg("ngTemplateOutlet",e)}}function mV(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"igx-days-view",45,18),Xp(3,"IgxGetViewDate"),Sp("activeDateChange",(function(t){Uo(e);let i=rp(2);return Cp(i.activeDate,t)||(i.activeDate=t),qo(t)}))("previewRangeDateChange",(function(t){Uo(e);let i=rp(2);return Cp(i.previewRangeDate,t)||(i.previewRangeDate=t),qo(t)})),ep("swiperight",(function(){return Uo(e),qo(rp(2).previousPage())}))("swipeleft",(function(){return Uo(e),qo(rp(2).nextPage())}))("dateSelected",(function(t){return Uo(e),qo(rp(2).handleDateSelection(t))}))("mousedown",(function(t){return Uo(e),qo(t.preventDefault())})),Ng(),Bg()}if(2&e){let e=t.index,i=rp(2);Ac(),yg("--calendar-row-start",2*(e+1)),fg("tabIndex",-1)("selection",i.selection)("locale",i.locale)("value",i.value),_p("activeDate",i.activeDate)("previewRangeDate",i.previewRangeDate),fg("viewDate",Qp(3,19,e,i.viewDate))("weekStart",i.weekStart)("formatOptions",i.formatOptions)("formatViews",i.formatViews)("disabledDates",i.disabledDates)("specialDates",i.specialDates)("hideLeadingDays",i.hideOutsideDays||0!==e)("hideTrailingDays",i.hideOutsideDays||e!==i.monthsViewNumber-1)("showWeekNumbers",i.showWeekNumbers)("showActiveDay",i.showActiveDay)("standalone",!1)}}function fV(e,t){if(1&e&&(zg(0),Xu(1,mV,4,22,"ng-container",44),Xp(2,"IgxMonthViewSlots"),Bg()),2&e){let e=rp();Ac(),fg("ngForOf",Zp(2,1,e.monthsViewNumber))}}function vV(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"igx-months-view",46,19),ep("swiperight",(function(){return Uo(e),qo(rp().previousPage())}))("swipeleft",(function(){return Uo(e),qo(rp().nextPage())}))("pageChanged",(function(t){return Uo(e),qo(rp().updateYear(t))}))("activeDateChanged",(function(t){return Uo(e),qo(rp().updateActiveDescendant(t))}))("selected",(function(t){return Uo(e),qo(rp().changeMonth(t))}))("mousedown",(function(t){return Uo(e),qo(t.preventDefault())})),Ng(),Bg()}if(2&e){let e=rp();Ac(),fg("tabIndex",-1)("date",e.viewDate)("locale",e.locale)("formatView",e.formatViews.month)("monthFormat",e.formatOptions.month)("showActive",e.showActiveDay)("standalone",!1)}}function yV(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"igx-years-view",47,20),ep("swiperight",(function(){return Uo(e),qo(rp().previousPage())}))("swipeleft",(function(){return Uo(e),qo(rp().nextPage())}))("pageChanged",(function(t){return Uo(e),qo(rp().updateYear(t))}))("activeDateChanged",(function(t){return Uo(e),qo(rp().updateActiveDescendant(t))}))("selected",(function(t){return Uo(e),qo(rp().changeYear(t))}))("mousedown",(function(t){return Uo(e),qo(t.preventDefault())})),Ng(),Bg()}if(2&e){let e=rp();Ac(),fg("tabIndex",-1)("date",e.viewDate)("locale",e.locale)("formatView",e.formatViews.year)("yearFormat",e.formatOptions.year)("showActive",e.showActiveDay)("standalone",!1)}}var xV=0,wV=(()=>{let e=class extends sF{constructor(){super(...arguments),this.id="igx-calendar-"+xV++,this.hasHeader=!0,this.vertical=!1,this.orientation="horizontal",this.headerOrientation="horizontal",this.showWeekNumbers=!1,this.styleClass=!0,this.activeDate=bP.today.native,this.isKeydownTrigger=!1,this._monthsViewNumber=1,this.startPrevPageScroll=(e=!1)=>{this.startPageScroll$.next(),this.pageScrollDirection="prev",this.previousPage(e)},this.startNextPageScroll=(e=!1)=>{this.startPageScroll$.next(),this.pageScrollDirection="next",this.nextPage(e)},this.stopPageScroll=e=>{e.stopPropagation(),this.stopPageScroll$.next(!0),this.stopPageScroll$.complete(),this.platform.isActivationKey(e)&&this.resetActiveDate(this.viewDate),this.pageScrollDirection="none"}}get monthsViewNumber(){return this._monthsViewNumber}set monthsViewNumber(e){e<1||(this._monthsViewNumber=e)}get styleVerticalClass(){return"vertical"===this.headerOrientation}get isYearView(){return this.activeView===NP}get headerTitleTemplate(){return this.headerTitleTemplateDirective?this.headerTitleTemplateDirective.template:null}set headerTitleTemplate(e){this.headerTitleTemplateDirective=e}get headerTemplate(){return this.headerTemplateDirective?this.headerTemplateDirective.template:null}set headerTemplate(e){this.headerTemplateDirective=e}get subheaderTemplate(){return this.subheaderTemplateDirective?this.subheaderTemplateDirective.template:null}set subheaderTemplate(e){this.subheaderTemplateDirective=e}get headerContext(){return this.generateContext(this.headerDate)}get context(){let e=this.viewDate;return this.generateContext(e)}get headerDate(){return this.selectedDates?.at(0)??new Date}onMouseDown(e){e.stopPropagation(),this.wrapper.nativeElement.focus()}set showActiveDay(e){this._showActiveDay=e,this.cdr.detectChanges()}get showActiveDay(){return this._showActiveDay}get activeDescendant(){return"month"===this.activeView?this.activeDate.getTime():this._activeDescendant??this.viewDate.getTime()}set activeDescendant(e){this._activeDescendant=e.getTime()}ngAfterViewInit(){this.keyboardNavigation.attachKeyboardHandlers(this.wrapper,this).set("ArrowUp",this.onArrowUp).set("ArrowDown",this.onArrowDown).set("ArrowLeft",this.onArrowLeft).set("ArrowRight",this.onArrowRight).set("Enter",this.onEnter).set(" ",this.onEnter).set("Home",this.onHome).set("End",this.onEnd).set("PageUp",this.handlePageUp).set("PageDown",this.handlePageDown),this.wrapper.nativeElement.addEventListener("focus",(e=>this.onWrapperFocus(e))),this.wrapper.nativeElement.addEventListener("blur",(e=>this.onWrapperBlur(e))),this.startPageScroll$.pipe(mn(this.stopPageScroll$),pn((()=>this.scrollPage$.pipe(Yt(((e,t)=>{let i=new Array(1),n=0;return e.subscribe(Xt(t,(e=>{let r=n++;if(r<1)i[r]=e;else{let n=r%1,s=i[n];i[n]=e,t.next(s)}}))),()=>{i=null}})),an((()=>rn(300))),mn(this.stopPageScroll$))))).subscribe((()=>{switch(this.pageScrollDirection){case"prev":this.previousPage();break;case"next":this.nextPage()}})),this.activeView$.subscribe((e=>{this.activeViewChanged.emit(e),this.viewDateChanged.emit({previousValue:this.previousViewDate,currentValue:this.viewDate})}))}onWrapperFocus(e){e.stopPropagation(),this.showActiveDay=!0,this.monthViews.forEach((e=>e.changePreviewRange(this.activeDate)))}onWrapperBlur(e){e.stopPropagation(),this.showActiveDay=!1,this.monthViews.forEach((e=>e.clearPreviewRange())),this._onTouchedCallback()}handleArrowKeydown(e,t){e.preventDefault(),e.stopPropagation();let i=GP(bP.from(this.activeDate),t,this.disabledDates);this.activeDate=i.native;let n=this.viewDates.some((e=>e.date.equalTo(this.activeDate)));this.monthViews.forEach((e=>e.clearPreviewRange())),n||(t>0?this.nextPage(!0):this.previousPage(!0))}handlePageUpDown(e,t){e.preventDefault(),e.stopPropagation();let i=t>0?"next":"prev";this.activeView===MP&&e.shiftKey?(this.viewDate=bP.from(this.viewDate).add("year",t).native,this.resetActiveDate(this.viewDate),this.cdr.detectChanges()):this.changePage(!1,i)}handlePageUp(e){this.handlePageUpDown(e,-1)}handlePageDown(e){this.handlePageUpDown(e,1)}onArrowUp(e){this.activeView===MP&&(this.handleArrowKeydown(e,-7),this.cdr.detectChanges()),this.activeView===NP&&this.monthsView.onKeydownArrowUp(e),this.activeView===LP&&this.dacadeView.onKeydownArrowUp(e)}onArrowDown(e){this.activeView===MP&&(this.handleArrowKeydown(e,7),this.cdr.detectChanges()),this.activeView===NP&&this.monthsView.onKeydownArrowDown(e),this.activeView===LP&&this.dacadeView.onKeydownArrowDown(e)}onArrowLeft(e){this.activeView===MP&&(this.handleArrowKeydown(e,-1),this.cdr.detectChanges()),this.activeView===NP&&this.monthsView.onKeydownArrowLeft(e),this.activeView===LP&&this.dacadeView.onKeydownArrowLeft(e)}onArrowRight(e){this.activeView===MP&&(this.handleArrowKeydown(e,1),this.cdr.detectChanges()),this.activeView===NP&&this.monthsView.onKeydownArrowRight(e),this.activeView===LP&&this.dacadeView.onKeydownArrowRight(e)}onEnter(e){e.stopPropagation(),this.activeView===MP&&(this.handleDateSelection(this.activeDate),this.cdr.detectChanges()),this.activeView===NP&&this.monthsView.onKeydownEnter(e),this.activeView===LP&&this.dacadeView.onKeydownEnter(e),this.monthViews.forEach((e=>e.clearPreviewRange()))}onHome(e){if(e.stopPropagation(),this.activeView===MP){let e=this.monthViews.toArray().flatMap((e=>e.dates.toArray())).filter((e=>e.isCurrentMonth&&e.isFocusable));this.activeDate=e.at(0).date.native,this.cdr.detectChanges()}this.activeView===NP&&this.monthsView.onKeydownHome(e),this.activeView===LP&&this.dacadeView.onKeydownHome(e)}onEnd(e){if(e.stopPropagation(),this.activeView===MP){let e=this.monthViews.toArray().flatMap((e=>e.dates.toArray())).filter((e=>e.isCurrentMonth&&e.isFocusable));this.activeDate=e.at(-1).date.native,this.cdr.detectChanges()}this.activeView===NP&&this.monthsView.onKeydownEnd(e),this.activeView===LP&&this.dacadeView.onKeydownEnd(e)}formattedMonth(e){return this.formatViews.month?this.formatterMonth.format(e):`${e.getMonth()}`}previousPage(e=!1){e&&"next"===this.pageScrollDirection||this.changePage(e,"prev")}nextPage(e=!1){e&&"prev"===this.pageScrollDirection||this.changePage(e,"next")}changePage(e=!1,t){switch(this.previousViewDate=this.viewDate,this.isKeydownTrigger=e,this.activeView){case"month":"prev"===t&&(this.viewDate=bP.from(this.viewDate).add("month",-1).native),"next"===t&&(this.viewDate=bP.from(this.viewDate).add("month",1).native),this.viewDateChanged.emit({previousValue:this.previousViewDate,currentValue:this.viewDate});break;case"year":"prev"===t&&(this.viewDate=bP.from(this.viewDate).add("year",-1).native),"next"===t&&(this.viewDate=bP.from(this.viewDate).add("year",1).native);break;case"decade":"prev"===t&&(this.viewDate=bP.from(this.viewDate).add("year",-15).native),"next"===t&&(this.viewDate=bP.from(this.viewDate).add("year",15).native)}this.isKeydownTrigger||this.resetActiveDate(this.viewDate)}onActiveViewDecade(e,t,i){e.preventDefault(),super.activeViewDecade(i),this.viewDate=t}onActiveViewDecadeKB(e,t,i){super.activeViewDecadeKB(t,i),this.platform.isActivationKey(t)&&(this.viewDate=e,this.wrapper.nativeElement.focus())}onYearsViewClick(e){let t=e.composed?e.composedPath():[e.target];this.dacadeView.viewItems.toArray().some((e=>t.includes(e.nativeElement)))&&(this.activeView=NP)}onYearsViewKeydown(e){this.platform.isActivationKey(e)&&(this.activeView=NP)}getFormattedDate(){let e=this.headerDate,t=new Intl.DateTimeFormat(this.locale,{month:"short",day:"numeric"}),i=new Intl.DateTimeFormat(this.locale,{weekday:"short"});return{monthday:t.format(e),weekday:i.format(e)}}getFormattedRange(){let e=this.selectedDates;return{start:this.formatterRangeday.format(e.at(0)),end:this.formatterRangeday.format(e.at(-1))}}get viewDates(){return this.monthViews.toArray().flatMap((e=>e.dates.toArray())).filter((e=>e.isCurrentMonth))}handleDateSelection(e){!this.viewDates.some((t=>t.date.equalTo(e)))&&(this.viewDate=e),this.selectDate(e),this.monthViews.forEach((e=>{e.shiftKey=this.shiftKey,e.selectedDates=this.selectedDates,e.cdr.markForCheck()})),"single"!==this.selection?this.selected.emit(this.selectedDates):this.selected.emit(this.selectedDates.at(0))}changeMonth(e){this.previousViewDate=this.viewDate,this.viewDate=bP.from(e).add("month",-this.activeViewIdx).native,this.activeView=MP,this.resetActiveDate(e)}changeYear(e){this.previousViewDate=this.viewDate,this.viewDate=bP.from(e).add("month",-this.activeViewIdx).native,this.activeView=NP}updateYear(e){this.previousViewDate=this.viewDate,this.viewDate=bP.from(e).add("year",-this.activeViewIdx).native}updateActiveDescendant(e){this.activeDescendant=e}onActiveViewYear(e,t,i){e.preventDefault(),this.activeView=NP,this.activeViewIdx=i,this.viewDate=t}onActiveViewYearKB(e,t,i){t.stopPropagation(),this.platform.isActivationKey(t)&&(t.preventDefault(),this.activeView=NP,this.activeViewIdx=i,this.viewDate=e,this.wrapper.nativeElement.focus())}deselectDate(e){super.deselectDate(e),this.monthViews.forEach((e=>{e.selectedDates=this.selectedDates,e.rangeStarted=!1,e.cdr.markForCheck()})),this._onChangeCallback(this.selectedDates)}getContext(e){let t=bP.from(this.viewDate).add("month",e).native;return this.generateContext(t,e)}resetActiveDate(e){let t=bP.from(this.activeDate).set({month:e.getMonth(),year:e.getFullYear()}),i=!zP(e,t)||WP(t,this.disabledDates);this.activeDate=i?e:t.native}ngOnDestroy(){this.keyboardNavigation.detachKeyboardHandlers(),this.wrapper?.nativeElement.removeEventListener("focus",this.onWrapperFocus),this.wrapper?.nativeElement.removeEventListener("blur",this.onWrapperBlur)}getPrevMonth(e){return bP.from(e).add("month",-1).native}getNextMonth(e,t){return bP.from(e).add("month",t).native}generateContext(e,t){let i=(e,t)=>ke({index:t,date:e},function(e,t,i,n){let r=new Intl.DateTimeFormat(t,i),s={date:e,full:r.format(e)};if("formatToParts"in r){let t=r.formatToParts(e);n.forEach((e=>s[e]=((e,t)=>{let i=e.find((({type:e})=>e===t)),n=e[e.indexOf(i)+1],r=i?.value||"",s="literal"===n?.type?n.value:"";return{value:r,literal:s,combined:r+s}})(t,e)))}else n.forEach((e=>s[e]={value:"",literal:"",combined:""}));return s}(e,this.locale,this.formatOptions,["era","year","month","day","weekday"]));return{$implicit:Array.isArray(e)?e.map(((e,t)=>i(e,t))):i(e,t)}}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵcmp=es({type:e,selectors:[["igx-calendar"]],contentQueries:function(e,t,i){if(1&e&&(hp(i,AP,7,AP),hp(i,RP,7,RP),hp(i,kP,7,kP)),2&e){let e;gp(e=pp())&&(t.headerTemplateDirective=e.first),gp(e=pp())&&(t.headerTitleTemplateDirective=e.first),gp(e=pp())&&(t.subheaderTemplateDirective=e.first)}},viewQuery:function(e,t){if(1&e&&(up(mF,5),up(fF,5,JP),up(vF,5,ZP),up(yF,5,uF),up(xF,5),up(wF,5),up(_F,5),up(yF,5,uF)),2&e){let e;gp(e=pp())&&(t.wrapper=e.first),gp(e=pp())&&(t.dacadeView=e.first),gp(e=pp())&&(t.monthsView=e.first),gp(e=pp())&&(t.daysView=e.first),gp(e=pp())&&(t.prevPageBtn=e.first),gp(e=pp())&&(t.nextPageBtn=e.first),gp(e=pp())&&(t.monthsBtns=e),gp(e=pp())&&(t.monthViews=e)}},hostVars:5,hostBindings:function(e,t){1&e&&ep("mousedown",(function(e){return t.onMouseDown(e)})),2&e&&(tg("id",t.id),xg("igx-calendar--vertical",t.styleVerticalClass)("igx-calendar",t.styleClass))},inputs:{id:"id",hasHeader:[2,"hasHeader","hasHeader",Zm],vertical:[2,"vertical","vertical",Zm],orientation:"orientation",headerOrientation:"headerOrientation",monthsViewNumber:"monthsViewNumber",showWeekNumbers:[2,"showWeekNumbers","showWeekNumbers",Zm]},standalone:!0,features:[kp([{multi:!0,provide:Ny,useExisting:e},{multi:!1,provide:nF}]),Vu,Ru,Pp],decls:41,vars:23,consts:[["defaultHeaderTitle",""],["defaultHeaderDate",""],["defaultMonth",""],["defaultYear",""],["defaultMonthYear",""],["defaultDecade",""],["prevArrow",""],["nextArrow",""],["prevPageButton",""],["nextPageButton",""],["calendarDaysPicker",""],["calendarYearPicker",""],["calendarDecadePicker",""],["wrapper",""],["monthsBtn",""],["yearsBtn",""],["prevPageBtn",""],["nextPageBtn",""],["days",""],["months",""],["decade",""],["aria-labelledby","igx-aria-calendar-title-month igx-aria-calendar-title-year","class","igx-calendar__header",4,"ngIf"],["aria-labelledby","calendar-desc","role","grid",1,"igx-calendar__wrapper",3,"tabIndex"],["id","calendar-desc","tabindex","-1",1,"igx-calendar__aria-off-screen"],[4,"ngIf"],[1,"igx-calendar__pickers"],["role","presentation",1,"igx-calendar__body"],["tabindex","0","role","button",1,"igx-calendar-picker__date",3,"keydown","mousedown"],["class","igx-calendar__aria-off-screen","aria-live","polite",4,"ngIf"],["aria-live","polite",1,"igx-calendar__aria-off-screen"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true","family","default","name","arrow_prev"],["aria-hidden","true","family","default","name","arrow_next"],["tabindex","0","role","button","data-action","prev","igxCalendarScrollPage","",1,"igx-calendar-picker__prev",3,"keydown","startScroll","stopScroll"],[4,"ngTemplateOutlet"],["tabindex","0","role","button","data-action","next","igxCalendarScrollPage","",1,"igx-calendar-picker__next",3,"keydown","startScroll","stopScroll"],[1,"igx-calendar-picker"],[1,"igx-calendar-picker__dates"],["class","igx-calendar-picker__nav",4,"ngIf"],[1,"igx-calendar-picker__nav"],["aria-live","polite",1,"igx-calendar-picker__dates"],["aria-labelledby","igx-aria-calendar-title-month igx-aria-calendar-title-year",1,"igx-calendar__header"],["id","igx-aria-calendar-title-year",1,"igx-calendar__header-year"],["id","igx-aria-calendar-title-month",1,"igx-calendar__header-date"],[4,"ngFor","ngForOf"],["role","rowgroup",3,"activeDateChange","previewRangeDateChange","swiperight","swipeleft","dateSelected","mousedown","tabIndex","selection","locale","value","activeDate","previewRangeDate","viewDate","weekStart","formatOptions","formatViews","disabledDates","specialDates","hideLeadingDays","hideTrailingDays","showWeekNumbers","showActiveDay","standalone"],["role","rowgroup",3,"swiperight","swipeleft","pageChanged","activeDateChanged","selected","mousedown","tabIndex","date","locale","formatView","monthFormat","showActive","standalone"],["role","rowgroup",3,"swiperight","swipeleft","pageChanged","activeDateChanged","selected","mousedown","tabIndex","date","locale","formatView","yearFormat","showActive","standalone"]],template:function(e,t){1&e&&(Xu(0,DF,2,2,"ng-template",null,0,nm)(2,TF,2,2,"ng-template",null,1,nm)(4,RF,4,5,"ng-template",null,2,nm)(6,kF,5,6,"ng-template",null,3,nm)(8,VF,3,9,"ng-template",null,4,nm)(10,MF,2,2,"ng-template",null,5,nm)(12,NF,1,0,"ng-template",null,6,nm)(14,LF,1,0,"ng-template",null,7,nm)(16,zF,4,7,"ng-template",null,8,nm)(18,GF,4,7,"ng-template",null,9,nm)(20,UF,5,10,"ng-template",null,10,nm)(22,ZF,6,4,"ng-template",null,11,nm)(24,tV,6,3,"ng-template",null,12,nm)(26,rV,5,4,"header",21),Mg(27,"div",22,13)(29,"caption",23),Xu(30,sV,2,1,"ng-container",24)(31,oV,2,1,"ng-container",24)(32,aV,2,1,"ng-container",24),Ng(),Mg(33,"section",25),Xu(34,cV,3,3,"ng-container",24)(35,uV,2,1,"ng-container",24)(36,pV,2,1,"ng-container",24),Ng(),Mg(37,"section",26),Xu(38,fV,3,3,"ng-container",24)(39,vV,3,7,"ng-container",24)(40,yV,3,7,"ng-container",24),Ng()()),2&e&&(Ac(26),fg("ngIf","single"===t.selection&&t.hasHeader||"range"===t.selection&&t.hasHeader),Ac(),yg("--calendar-months",t.monthsViewNumber),xg("igx-calendar__wrapper--vertical","vertical"===t.orientation),fg("tabIndex",0),tg("aria-activedescendant",t.activeDescendant)("aria-multiselectable","single"!==t.selection),Ac(3),fg("ngIf","multi"===t.selection),Ac(),fg("ngIf","range"===t.selection),Ac(),fg("ngIf","single"===t.selection),Ac(),xg("igx-calendar__pickers--days",t.isDefaultView)("igx-calendar__pickers--vertical","vertical"===t.orientation),Ac(),fg("ngIf",t.isDefaultView),Ac(),fg("ngIf",t.isYearView),Ac(),fg("ngIf",t.isDecadeView),Ac(),xg("igx-calendar__body--vertical","vertical"===t.orientation),Ac(),fg("ngIf",t.isDefaultView),Ac(),fg("ngIf",t.isYearView),Ac(),fg("ngIf",t.isDecadeView))},dependencies:[cv,yv,OP,FT,lv,uF,ZP,JP,Ev,gF,pF],encapsulation:2}),e})(),_V=class e{constructor(t,i,n){this._zone=t,this.doc=i,this.platformUtil=n,this.hammerOptions={},this._hammerManagers=[],this.platformBrowser=this.platformUtil.isBrowser,this.platformBrowser&&e.Hammer&&(this.hammerOptions={inputClass:e.Hammer.TouchInput,recognizers:[[e.Hammer.Pan,{threshold:0}],[e.Hammer.Swipe,{direction:e.Hammer.DIRECTION_HORIZONTAL}],[e.Hammer.Tap],[e.Hammer.Tap,{event:"doubletap",taps:2},["tap"]]]})}supports(e){return e.toLowerCase().endsWith(".precise")}addEventListener(t,i,n,r=null){if(this.platformBrowser)return this._zone.runOutsideAngular((()=>{if(!e.Hammer)return;let s=this.getManagerForElement(t);null===s&&(s=new e.Hammer(t,Object.assign(this.hammerOptions,r)),this.addManagerForElement(t,s));let o=e=>this._zone.run((()=>n(e)));return s.on(i,o),()=>s.off(i,o)}))}addGlobalEventListener(t,i,n){if(!this.platformBrowser||!e.Hammer)return;let r=this.getGlobalEventTarget(t);return this.addEventListener(r,i,n)}getGlobalEventTarget(e){return rf().getGlobalEventTarget(this.doc,e)}setManagerOption(e,t,i){this.getManagerForElement(e).get(t).set(i)}addManagerForElement(e,t){this._hammerManagers.push({element:e,manager:t})}getManagerForElement(e){let t=this._hammerManagers.filter((t=>t.element===e));return t.length?t[0].manager:null}removeManagerForElement(e){let t=null;for(let i=0;i<this._hammerManagers.length;i++)if(e===this._hammerManagers[i].element){t=i;break}null!==t&&this._hammerManagers.splice(t,1)[0].manager.destroy()}destroy(){for(let e of this._hammerManagers)e.manager.destroy();this._hammerManagers=[]}};_V.Hammer=typeof window<"u"?window.Hammer:null,_V.ɵfac=function(e){return new(e||_V)(gr(Dl),gr(of),gr(fC))},_V.ɵprov=Pn({token:_V,factory:_V.ɵfac});var CV=_V,SV={igx_chip_remove:"remove chip",igx_chip_select:"select chip"},bV=["chipArea"],DV=["defaultRemoveIcon"],IV=["defaultSelectIcon"],EV=[[["igx-prefix"],["","igxPrefix",""]],"*",[["igx-suffix"],["","igxSuffix",""]]],TV=["igx-prefix,[igxPrefix]","*","igx-suffix,[igxSuffix]"],RV=e=>({chip:e});function AV(e,t){1&e&&Gg(0)}function kV(e,t){if(1&e&&(Mg(0,"div",10),Xu(1,AV,1,0,"ng-container",11),Ng()),2&e){let e=rp();fg("ngClass",e.selectClass(e.selected)),Ac(),fg("ngTemplateOutlet",e.selectIconTemplate)}}function OV(e,t){1&e&&Gg(0)}function PV(e,t){if(1&e){let e=Wg();Mg(0,"div",12),ep("keydown",(function(t){return Uo(e),qo(rp().onRemoveBtnKeyDown(t))}))("pointerdown",(function(t){return Uo(e),qo(rp().onRemoveMouseDown(t))}))("mousedown",(function(t){return Uo(e),qo(rp().onRemoveMouseDown(t))}))("click",(function(t){return Uo(e),qo(rp().onRemoveClick(t))}))("touchmove",(function(){return Uo(e),qo(rp().onRemoveTouchMove())}))("touchend",(function(t){return Uo(e),qo(rp().onRemoveTouchEnd(t))})),Xu(1,OV,1,0,"ng-container",11),Ng()}if(2&e){let e=rp();tg("tabIndex",e.tabIndex),Ac(),fg("ngTemplateOutlet",e.removeButtonTemplate)}}function FV(e,t){1&e&&Lg(0,"igx-icon",13),2&e&&tg("aria-label",rp().resourceStrings.igx_chip_select)}function VV(e,t){1&e&&Lg(0,"igx-icon",14),2&e&&tg("aria-label",rp().resourceStrings.igx_chip_remove)}var MV="primary",NV="info",LV="success",HV="warning",zV="danger",BV=0,GV=(()=>{let e=class{set tabIndex(e){this._tabIndex=e}get tabIndex(){return null!==this._tabIndex?this._tabIndex:this.disabled?null:0}set selected(e){this.changeSelection(e)}get selected(){return this._selected}set color(e){this.chipArea.nativeElement.style.backgroundColor=e}get color(){return this.chipArea.nativeElement.style.backgroundColor}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}get isPrimary(){return this.variant===MV}get isInfo(){return this.variant===NV}get isSuccess(){return this.variant===LV}get isWarning(){return this.variant===HV}get isDanger(){return this.variant===zV}get removeButtonTemplate(){if(!this.disabled)return this.removeIcon||this.defaultRemoveIcon}get selectIconTemplate(){return this.selectIcon||this.defaultSelectIcon}get ghostStyles(){return{"--ig-size":`${this.chipSize}`}}get nativeElement(){return this.ref.nativeElement}get chipSize(){return this.computedStyles?.getPropertyValue("--ig-size")||IS}constructor(e,t,i,n){this.cdr=e,this.ref=t,this.renderer=i,this.document=n,this.id="igx-chip-"+BV++,this.role="option",this.draggable=!1,this.animateOnRelease=!0,this.hideBaseOnDrag=!0,this.removable=!1,this.selectable=!1,this.class="",this.disabled=!1,this.selectedChange=new yl,this.moveStart=new yl,this.moveEnd=new yl,this.remove=new yl,this.chipClick=new yl,this.selectedChanging=new yl,this.selectedChanged=new yl,this.keyDown=new yl,this.dragEnter=new yl,this.dragLeave=new yl,this.dragOver=new yl,this.dragDrop=new yl,this.defaultClass="igx-chip",this.hideBaseElement=!1,this.destroy$=new ei,this._tabIndex=null,this._selected=!1,this._selectedItemClass="igx-chip__item--selected",this._movedWhileRemoving=!1,this._resourceStrings=MT(SV)}keyEvent(e){this.onChipKeyDown(e)}selectClass(e){let t="igx-chip__select";return{[t]:e,[`${t}--hidden`]:!e}}onSelectTransitionDone(e){e.target.tagName&&this.selectedChanged.emit({owner:this,originalEvent:e})}onChipKeyDown(e){let t={originalEvent:e,owner:this,cancel:!1};this.keyDown.emit(t),!t.cancel&&(("Delete"===e.key||"Del"===e.key)&&this.removable&&this.remove.emit({originalEvent:e,owner:this}),(" "===e.key||"Spacebar"===e.key)&&this.selectable&&!this.disabled&&this.changeSelection(!this.selected,e),"Tab"!==e.key&&e.preventDefault())}onRemoveBtnKeyDown(e){(" "===e.key||"Spacebar"===e.key||"Enter"===e.key)&&(this.remove.emit({originalEvent:e,owner:this}),e.preventDefault(),e.stopPropagation())}onRemoveMouseDown(e){e.stopPropagation()}onRemoveClick(e){this.remove.emit({originalEvent:e,owner:this})}onRemoveTouchMove(){this._movedWhileRemoving=!0}onRemoveTouchEnd(e){this._movedWhileRemoving||this.onRemoveClick(e),this._movedWhileRemoving=!1}onChipDragStart(e){this.moveStart.emit({originalEvent:e,owner:this}),e.cancel=!this.draggable||this.disabled}onChipDragEnd(){this.animateOnRelease&&this.dragDirective.transitionToOrigin()}onChipMoveEnd(e){this.moveEnd.emit({originalEvent:e,owner:this}),this.selected&&this.chipArea.nativeElement.focus()}onChipGhostCreate(){this.hideBaseElement=this.hideBaseOnDrag}onChipGhostDestroy(){this.hideBaseElement=!1}onChipDragClicked(e){let t={originalEvent:e,owner:this,cancel:!1};this.chipClick.emit(t),!t.cancel&&this.selectable&&!this.disabled&&this.changeSelection(!this.selected,e)}onChipDragEnterHandler(e){if(this.dragDirective===e.drag)return;let t={owner:this,dragChip:e.drag.data?.chip,originalEvent:e};this.dragEnter.emit(t)}onChipDragLeaveHandler(e){if(this.dragDirective===e.drag)return;let t={owner:this,dragChip:e.drag.data?.chip,originalEvent:e};this.dragLeave.emit(t)}onChipDrop(e){if(e.cancel=!0,this.dragDirective===e.drag)return;let t={owner:this,dragChip:e.drag.data?.chip,originalEvent:e};this.dragDrop.emit(t)}onChipOverHandler(e){if(this.dragDirective===e.drag)return;let t={owner:this,dragChip:e.drag.data?.chip,originalEvent:e};this.dragOver.emit(t)}changeSelection(e,t=null){let i={originalEvent:t,owner:this,selected:!1,cancel:!1};e&&!this._selected?(i.selected=!0,this.selectedChanging.emit(i),i.cancel||(this.renderer.addClass(this.chipArea.nativeElement,this._selectedItemClass),this._selected=e,this.selectedChange.emit(this._selected),this.selectedChanged.emit({owner:this,originalEvent:t}))):!e&&this._selected&&(this.selectedChanging.emit(i),i.cancel||(this.renderer.removeClass(this.chipArea.nativeElement,this._selectedItemClass),this._selected=e,this.selectedChange.emit(this._selected),this.selectedChanged.emit({owner:this,originalEvent:t})))}ngOnInit(){this.computedStyles=this.document.defaultView.getComputedStyle(this.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};return e.ɵfac=function(t){return new(t||e)(Oc(Pm),Oc(Nl),Oc(qh),Oc(of))},e.ɵcmp=es({type:e,selectors:[["igx-chip"]],viewQuery:function(e,t){if(1&e&&(up(bV,7,$R),up(bV,7,Nl),up(DV,7,Oh),up(IV,7,Oh)),2&e){let e;gp(e=pp())&&(t.dragDirective=e.first),gp(e=pp())&&(t.chipArea=e.first),gp(e=pp())&&(t.defaultRemoveIcon=e.first),gp(e=pp())&&(t.defaultSelectIcon=e.first)}},hostVars:18,hostBindings:function(e,t){1&e&&ep("keydown",(function(e){return t.keyEvent(e)})),2&e&&(tg("id",t.id)("role",t.role)("tabIndex",t.tabIndex)("aria-selected",t.selected),xg("igx-chip--disabled",t.disabled)("igx-chip",t.defaultClass)("igx-chip--primary",t.isPrimary)("igx-chip--info",t.isInfo)("igx-chip--success",t.isSuccess)("igx-chip--warning",t.isWarning)("igx-chip--danger",t.isDanger))},inputs:{variant:"variant",id:"id",tabIndex:"tabIndex",data:"data",draggable:[2,"draggable","draggable",Zm],animateOnRelease:[2,"animateOnRelease","animateOnRelease",Zm],hideBaseOnDrag:[2,"hideBaseOnDrag","hideBaseOnDrag",Zm],removable:[2,"removable","removable",Zm],removeIcon:"removeIcon",selectable:[2,"selectable","selectable",Zm],selectIcon:"selectIcon",class:"class",disabled:[2,"disabled","disabled",Zm],selected:[2,"selected","selected",Zm],color:"color",resourceStrings:"resourceStrings"},outputs:{selectedChange:"selectedChange",moveStart:"moveStart",moveEnd:"moveEnd",remove:"remove",chipClick:"chipClick",selectedChanging:"selectedChanging",selectedChanged:"selectedChanged",keyDown:"keyDown",dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",dragDrop:"dragDrop"},standalone:!0,features:[Vu,Pp],ngContentSelectors:TV,decls:15,vars:8,consts:[["chipArea",""],["selectContainer",""],["defaultSelectIcon",""],["defaultRemoveIcon",""],["ghostClass","igx-chip__ghost","igxDrop","",1,"igx-chip__item",3,"dragStart","ghostCreate","ghostDestroy","dragEnd","transitioned","dragClick","enter","leave","over","dropped","igxDrag","ghostStyle"],[1,"igx-chip__start"],[3,"ngClass",4,"ngIf"],[1,"igx-chip__content"],[1,"igx-chip__end"],["class","igx-chip__remove",3,"keydown","pointerdown","mousedown","click","touchmove","touchend",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet"],[1,"igx-chip__remove",3,"keydown","pointerdown","mousedown","click","touchmove","touchend"],["family","default","name","selected"],["family","default","name","remove"]],template:function(e,t){if(1&e){let e=Wg();op(EV),Mg(0,"div",4,0),ep("dragStart",(function(i){return Uo(e),qo(t.onChipDragStart(i))}))("ghostCreate",(function(){return Uo(e),qo(t.onChipGhostCreate())}))("ghostDestroy",(function(){return Uo(e),qo(t.onChipGhostDestroy())}))("dragEnd",(function(){return Uo(e),qo(t.onChipDragEnd())}))("transitioned",(function(i){return Uo(e),qo(t.onChipMoveEnd(i))}))("dragClick",(function(i){return Uo(e),qo(t.onChipDragClicked(i))}))("enter",(function(i){return Uo(e),qo(t.onChipDragEnterHandler(i))}))("leave",(function(i){return Uo(e),qo(t.onChipDragLeaveHandler(i))}))("over",(function(i){return Uo(e),qo(t.onChipOverHandler(i))}))("dropped",(function(i){return Uo(e),qo(t.onChipDrop(i))})),Mg(2,"div",5,1),Xu(4,kV,2,2,"div",6),ap(5),Ng(),Mg(6,"div",7),ap(7,1),Ng(),Mg(8,"div",8),ap(9,2),Xu(10,PV,2,2,"div",9),Ng()(),Xu(11,FV,1,1,"ng-template",null,2,nm)(13,VV,1,1,"ng-template",null,3,nm)}2&e&&(yg("visibility",t.hideBaseElement?"hidden":"visible"),fg("igxDrag",Vp(6,RV,t))("ghostStyle",t.ghostStyles),Ac(4),fg("ngIf",t.selected),Ac(6),fg("ngIf",t.removable))},dependencies:[WR,$R,av,yv,cv,FT],encapsulation:2}),e})(),$V=["*"],WV=(()=>{let e=class{get _widthToRem(){return OC(this.width)}get _heightToRem(){return OC(this.height)}constructor(e,t,i){this.cdr=e,this.element=t,this._iterableDiffers=i,this.role="listbox",this.ariaLabel="chip area",this.reorder=new yl,this.selectionChange=new yl,this.moveStart=new yl,this.moveEnd=new yl,this.destroy$=new ei,this.hostClass="igx-chip-area",this._differ=null,this._differ=this._iterableDiffers.find([]).create(null)}ngAfterViewInit(){if(this.chipsList.length){let e=this.chipsList.filter((e=>e.selected));e.length&&this.selectionChange.emit({originalEvent:null,newSelection:e,owner:this})}}ngDoCheck(){if(this.chipsList){let e=this._differ.diff(this.chipsList.toArray());e&&(e.forEachAddedItem((e=>{e.item.moveStart.pipe(mn(e.item.destroy$)).subscribe((e=>{this.onChipMoveStart(e)})),e.item.moveEnd.pipe(mn(e.item.destroy$)).subscribe((e=>{this.onChipMoveEnd(e)})),e.item.dragEnter.pipe(mn(e.item.destroy$)).subscribe((e=>{this.onChipDragEnter(e)})),e.item.keyDown.pipe(mn(e.item.destroy$)).subscribe((e=>{this.onChipKeyDown(e)})),e.item.selectable&&e.item.selectedChanging.pipe(mn(e.item.destroy$)).subscribe((e=>{this.onChipSelectionChange(e)}))})),this.modifiedChipsArray=this.chipsList.toArray())}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onChipKeyDown(e){let t=!1,i=this.chipsList.toArray(),n=i.findIndex((t=>t===e.owner));!0===e.originalEvent.shiftKey?"ArrowLeft"===e.originalEvent.key||"Left"===e.originalEvent.key?(t=this.positionChipAtIndex(n,n-1,!1,e.originalEvent),t&&setTimeout((()=>{this.chipsList.get(n-1).nativeElement.focus()}))):("ArrowRight"===e.originalEvent.key||"Right"===e.originalEvent.key)&&(t=this.positionChipAtIndex(n,n+1,!0,e.originalEvent)):("ArrowLeft"===e.originalEvent.key||"Left"===e.originalEvent.key)&&n>0?i[n-1].nativeElement.focus():("ArrowRight"===e.originalEvent.key||"Right"===e.originalEvent.key)&&n<i.length-1&&i[n+1].nativeElement.focus()}onChipMoveStart(e){this.moveStart.emit({originalEvent:e.originalEvent,owner:this})}onChipMoveEnd(e){this.moveEnd.emit({originalEvent:e.originalEvent,owner:this})}onChipDragEnter(e){let t=this.chipsList.toArray().findIndex((t=>t===e.owner)),i=this.chipsList.toArray().findIndex((t=>t===e.dragChip));i<t?this.positionChipAtIndex(i,t,!0,e.originalEvent):this.positionChipAtIndex(i,t,!1,e.originalEvent)}positionChipAtIndex(e,t,i,n){if(e<0||this.chipsList.length<=e||t<0||this.chipsList.length<=t)return!1;let r=this.chipsList.toArray(),s=[];for(let n=0;n<r.length;n++)i?e<=n&&n<t?s.push(r[n+1]):n===t?s.push(r[e]):s.push(r[n]):t<n&&n<=e?s.push(r[n-1]):n===t?s.push(r[e]):s.push(r[n]);this.modifiedChipsArray=s;let o={chipsArray:this.modifiedChipsArray,originalEvent:n,owner:this};return this.reorder.emit(o),!0}onChipSelectionChange(e){let t=this.chipsList.filter((e=>e.selected));e.selected&&!t.includes(e.owner)?t.push(e.owner):!e.selected&&t.includes(e.owner)&&(t=t.filter((t=>t.id!==e.owner.id))),this.selectionChange.emit({originalEvent:e.originalEvent,newSelection:t,owner:this})}};return e.ɵfac=function(t){return new(t||e)(Oc(Pm),Oc(Nl),Oc(Km))},e.ɵcmp=es({type:e,selectors:[["igx-chips-area"]],contentQueries:function(e,t,i){if(1&e&&hp(i,GV,5),2&e){let e;gp(e=pp())&&(t.chipsList=e)}},hostVars:8,hostBindings:function(e,t){2&e&&(tg("role",t.role)("aria-label",t.ariaLabel),wg(t.hostClass),yg("width",t._widthToRem,"rem")("height",t._heightToRem,"rem"))},inputs:{width:"width",height:"height"},outputs:{reorder:"reorder",selectionChange:"selectionChange",moveStart:"moveStart",moveEnd:"moveEnd"},standalone:!0,features:[Pp],ngContentSelectors:$V,decls:1,vars:0,template:function(e,t){1&e&&(op(),ap(0))},encapsulation:2}),e})(),KV=["*"],jV=(()=>{let e=class{constructor(){this.clicked=new yl}onClick(e){e.stopPropagation(),this.clicked.emit()}};return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=es({type:e,selectors:[["igx-picker-toggle"]],hostBindings:function(e,t){1&e&&ep("click",(function(e){return t.onClick(e)}))},outputs:{clicked:"clicked"},standalone:!0,features:[Pp],ngContentSelectors:KV,decls:1,vars:0,template:function(e,t){1&e&&(op(),ap(0))},encapsulation:2}),e})(),UV=(()=>{let e=class extends jV{};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵcmp=es({type:e,selectors:[["igx-picker-clear"]],standalone:!0,features:[Ru,Pp],ngContentSelectors:KV,decls:1,vars:0,template:function(e,t){1&e&&(op(),ap(0))},encapsulation:2}),e})(),qV=(()=>{let e=class{constructor(e){this.template=e}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxPickerActions",""]],standalone:!0}),e})(),YV={igx_date_picker_change_date:"Change Date",igx_date_picker_choose_date:"Choose Date"},XV="horizontal",ZV="vertical",QV="dropdown",JV="dialog",eM=e=>({$implicit:e});function tM(e,t){if(1&e){let e=Wg();Mg(0,"button",8,1),ep("click",(function(){Uo(e);let t=rp(3);return qo(t.calendarClose.emit({owner:t}))})),fp(2),Ng()}if(2&e){let e=rp(3);Ac(2),xp(" ",e.closeButtonLabel," ")}}function iM(e,t){if(1&e){let e=Wg();Mg(0,"button",8,2),ep("click",(function(){Uo(e);let t=rp(3);return qo(t.todaySelection.emit({owner:t}))})),fp(2),Ng()}if(2&e){let e=rp(3);Ac(2),xp(" ",e.todayButtonLabel," ")}}function nM(e,t){if(1&e&&(Mg(0,"div",6),Xu(1,tM,3,1,"button",7)(2,iM,3,1,"button",7),Ng()),2&e){let e=rp(2);Ac(),fg("ngIf",e.closeButtonLabel),Ac(),fg("ngIf",e.todayButtonLabel)}}function rM(e,t){if(1&e&&Xu(0,nM,3,2,"div",5),2&e){let e=rp();fg("ngIf",e.closeButtonLabel||e.todayButtonLabel)}}function sM(e,t){1&e&&Lg(0,"igx-divider")}function oM(e,t){1&e&&Gg(0)}function aM(e,t){if(1&e&&(Mg(0,"div",9),Xu(1,oM,1,0,"ng-container",10),Ng()),2&e){let e=rp(),t=mp(1);Ac(),fg("ngTemplateOutlet",(null==e.pickerActions?null:e.pickerActions.template)||t)("ngTemplateOutletContext",Vp(2,eM,e.calendar))}}var lM=(()=>{let e=class{constructor(){this.calendarClose=new yl,this.todaySelection=new yl,this.styleClass="igx-date-picker",this.vertical=!1,this.mode=QV}get dropdownCSS(){return this.mode===QV}onEscape(e){e.preventDefault(),this.calendarClose.emit()}get isReadonly(){return this.mode===JV}};return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=es({type:e,selectors:[["igx-calendar-container"]],viewQuery:function(e,t){if(1&e&&up(wV,7),2&e){let e;gp(e=pp())&&(t.calendar=e.first)}},hostVars:4,hostBindings:function(e,t){1&e&&ep("keydown.alt.arrowup",(function(e){return t.onEscape(e)})),2&e&&xg("igx-date-picker",t.styleClass)("igx-date-picker--dropdown",t.dropdownCSS)},outputs:{calendarClose:"calendarClose",todaySelection:"todaySelection"},standalone:!0,features:[Pp],decls:5,vars:2,consts:[["defaultPickerActions",""],["closeButton",""],["todayButton",""],[4,"ngIf"],["class","igx-date-picker__actions",4,"ngIf"],["class","igx-date-picker__buttons",4,"ngIf"],[1,"igx-date-picker__buttons"],["type","button","igxButton","flat","igxRipple","",3,"click",4,"ngIf"],["type","button","igxButton","flat","igxRipple","",3,"click"],[1,"igx-date-picker__actions"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Xu(0,rM,1,1,"ng-template",null,0,nm),Lg(2,"igx-calendar"),Xu(3,sM,1,0,"igx-divider",3)(4,aM,2,4,"div",4)),2&e&&(Ac(3),fg("ngIf",(null==t.pickerActions?null:t.pickerActions.template)||t.closeButtonLabel||t.todayButtonLabel),Ac(),fg("ngIf",(null==t.pickerActions?null:t.pickerActions.template)||t.closeButtonLabel||t.todayButtonLabel))},dependencies:[cv,ST,vA,wV,yv,NR],styles:["[_nghost-%COMP%]{display:block}"]}),e})(),dM=(()=>{let e=class{get locale(){return this._locale}set locale(e){this._locale=e;try{gf(this._locale)}catch{this._locale=this._localeId}}get weekStart(){return this._weekStart??gf(this._locale)}set weekStart(e){this._weekStart=e}set type(e){this._type=e}get type(){return this._type||this._inputGroupType}get collapsed(){return this._collapsed}get isDropdown(){return this.mode===QV}constructor(e,t,i){this.element=e,this._localeId=t,this._inputGroupType=i,this.placeholder="",this.mode=QV,this.disabled=!1,this.opening=new yl,this.opened=new yl,this.closing=new yl,this.closed=new yl,this._collapsed=!0,this._destroy$=new ei,this.locale=this.locale||this._localeId}ngAfterViewInit(){this.subToIconsClicked(this.toggleComponents,(()=>this.open())),this.toggleComponents.changes.pipe(mn(this._destroy$)).subscribe((()=>this.subToIconsClicked(this.toggleComponents,(()=>this.open()))))}ngAfterContentChecked(){this.inputGroup&&this.prefixes?.length>0&&(this.inputGroup.prefixes=this.prefixes),this.inputGroup&&this.suffixes?.length>0&&(this.inputGroup.suffixes=this.suffixes)}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}subToIconsClicked(e,t){e.forEach((i=>{i.clicked.pipe(mn(sn(e.changes,this._destroy$))).subscribe(t)}))}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(bm),Oc(bT,8))},e.ɵdir=ss({type:e,contentQueries:function(e,t,i){if(1&e&&(hp(i,jV,5),hp(i,vT,5),hp(i,yT,5)),2&e){let e;gp(e=pp())&&(t.toggleComponents=e),gp(e=pp())&&(t.prefixes=e),gp(e=pp())&&(t.suffixes=e)}},viewQuery:function(e,t){if(1&e&&up(PR,5),2&e){let e;gp(e=pp())&&(t.inputGroup=e.first)}},inputs:{inputFormat:"inputFormat",displayFormat:"displayFormat",placeholder:"placeholder",mode:"mode",overlaySettings:"overlaySettings",disabled:[2,"disabled","disabled",Zm],locale:"locale",weekStart:"weekStart",outlet:"outlet",type:"type",tabIndex:"tabIndex"},outputs:{opening:"opening",opened:"opened",closing:"closing",closed:"closed"},features:[Vu]}),e})(),cM=[[["","igxLabel",""]],[["igx-prefix"],["","igxPrefix",""]],[["igx-suffix"],["","igxSuffix",""]],[["igx-hint"],["","igxHint",""]]],hM=["[igxLabel]","igx-prefix,[igxPrefix]","igx-suffix,[igxSuffix]","igx-hint,[igxHint]"];function uM(e,t){if(1&e){let e=Wg();Mg(0,"igx-prefix",7),ep("click",(function(){return Uo(e),qo(rp().toggle())})),Lg(1,"igx-icon",8),Ng()}if(2&e){let e=rp();Ac(),fg("title",e.value?e.pickerResourceStrings.igx_date_picker_change_date:e.pickerResourceStrings.igx_date_picker_choose_date)}}function gM(e,t){if(1&e){let e=Wg();Mg(0,"igx-suffix",7),ep("click",(function(){return Uo(e),qo(rp().clear())})),Lg(1,"igx-icon",9),Ng()}}var pM=0,mM=(()=>{let e=class extends dM{get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,this._onValidatorChange()}get specialDates(){return this._specialDates}set specialDates(e){this._specialDates=e}get value(){return this._value}set value(e){this._value=e,this.setDateValue(e),this.dateTimeEditor.value!==e&&(this.dateTimeEditor.value=this._dateValue),this.valueChange.emit(this.dateValue),this._onChangeCallback(this.dateValue)}set minValue(e){this._minValue=e,this._onValidatorChange()}get minValue(){return this._minValue}set maxValue(e){this._maxValue=e,this._onValidatorChange()}get maxValue(){return this._maxValue}get dialogOverlaySettings(){return Object.assign({},this._dialogOverlaySettings,this.overlaySettings)}get dropDownOverlaySettings(){return Object.assign({},this._dropDownOverlaySettings,this.overlaySettings)}get inputGroupElement(){return this.inputGroup?.element.nativeElement}get dateValue(){return this._dateValue}get pickerFormatViews(){return Object.assign({},this._defFormatViews,this.formatViews)}get pickerCalendarFormat(){return Object.assign({},this._calendarFormat,this.calendarFormat)}constructor(e,t,i,n,r,s,o,a){super(e,t,a),this._overlayService=i,this._injector=n,this._renderer=r,this.platform=s,this.cdr=o,this.displayMonthsCount=1,this.headerOrientation=XV,this.spinLoop=!0,this.id="igx-date-picker-"+pM++,this.readOnly=!1,this.valueChange=new yl,this.validationFailed=new yl,this.displayValue={transform:e=>this.formatter(e)},this._resourceStrings=MT(YV),this._ngControl=null,this._specialDates=null,this._disabledDates=null,this._overlaySubFilter=[on((e=>e.id===this._overlayId)),mn(this._destroy$)],this._dropDownOverlaySettings={target:this.inputGroupElement,closeOnOutsideClick:!0,modal:!1,closeOnEscape:!0,scrollStrategy:new XE,positionStrategy:new GE({openAnimation:gD,closeAnimation:pD})},this._dialogOverlaySettings={closeOnOutsideClick:!0,modal:!0,closeOnEscape:!0},this._calendarFormat={day:"numeric",month:"short",weekday:"short",year:"numeric"},this._defFormatViews={day:!1,month:!0,year:!1},this._onChangeCallback=Ot,this._onTouchedCallback=Ot,this._onValidatorChange=Ot,this.onStatusChanged=()=>{this.disabled=this._ngControl.disabled,this.updateValidity(),this.inputGroup.isRequired=this.required},this.locale=this.locale||this._localeId}get required(){if(this._ngControl&&this._ngControl.control&&this._ngControl.control.validator){let e=this._ngControl.control.validator({});return e&&e.required}return!1}get pickerResourceStrings(){return Object.assign({},this._resourceStrings,this.resourceStrings)}onKeyDown(e){switch(e.key){case this.platform.KEYMAP.ARROW_UP:e.altKey&&this.close();break;case this.platform.KEYMAP.ARROW_DOWN:e.altKey&&this.open();break;case this.platform.KEYMAP.SPACE:e.preventDefault(),this.open()}}open(e){if(!this.collapsed||this.disabled)return;let t=Object.assign({},this.isDropdown?this.dropDownOverlaySettings:this.dialogOverlaySettings,e);this.isDropdown&&this.inputGroupElement&&(t.target=this.inputGroupElement),this.outlet&&(t.outlet=this.outlet),this._overlayId=this._overlayService.attach(lM,this.viewContainerRef,t),this._overlayService.show(this._overlayId)}toggle(e){this.collapsed?this.open(e):this.close()}close(){this.collapsed||this._overlayService.hide(this._overlayId)}select(e){this.value=e}selectToday(){let e=new Date;e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),this.select(e),this.close()}clear(){this.disabled||(this._calendar?.deselectDate(),this.dateTimeEditor.clear())}increment(e,t){this.dateTimeEditor.increment(e,t)}decrement(e,t){this.dateTimeEditor.decrement(e,t)}writeValue(e){this._value=e,this.setDateValue(e),this.dateTimeEditor.value!==e&&(this.dateTimeEditor.value=this._dateValue)}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}setDisabledState(e){this.disabled=e}registerOnValidatorChange(e){this._onValidatorChange=e}validate(e){if(!e.value)return null;if(pC(e.value)&&!GA.isValidDate(e.value))return{value:!0};let t={},i=GA.isValidDate(e.value)?e.value:GA.parseIsoDate(e.value);return i&&this.disabledDates&&WP(i,this.disabledDates)&&Object.assign(t,{dateIsDisabled:!0}),Object.assign(t,GA.validateMinMax(i,this.minValue,this.maxValue,!1)),Object.keys(t).length>0?t:null}ngOnInit(){this._ngControl=this._injector.get(ux,null),this.locale=this.locale||this._localeId}ngAfterViewInit(){super.ngAfterViewInit(),this.subscribeToClick(),this.subscribeToOverlayEvents(),this.subscribeToDateEditorEvents(),this.subToIconsClicked(this.clearComponents,(()=>this.clear())),this.clearComponents.changes.pipe(mn(this._destroy$)).subscribe((()=>this.subToIconsClicked(this.clearComponents,(()=>this.clear())))),this._dropDownOverlaySettings.excludeFromOutsideClick=[this.inputGroup.element.nativeElement],en(this.inputDirective.nativeElement,"blur").pipe(mn(this._destroy$)).subscribe((()=>{this.collapsed&&(this._onTouchedCallback(),this.updateValidity())})),this._ngControl&&(this._statusChanges$=this._ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this)),this._ngControl.control.validator&&(this.inputGroup.isRequired=this.required,this.cdr.detectChanges()))}ngAfterViewChecked(){this.labelDirective&&this._renderer.setAttribute(this.inputDirective.nativeElement,"aria-labelledby",this.labelDirective.id)}ngOnDestroy(){super.ngOnDestroy(),this._statusChanges$&&this._statusChanges$.unsubscribe(),this._overlayId&&(this._overlayService.detach(this._overlayId),delete this._overlayId)}getEditElement(){return this.inputDirective.nativeElement}subscribeToClick(){en(this.getEditElement(),"click").pipe(mn(this._destroy$)).subscribe((()=>{this.isDropdown||this.toggle()}))}setDateValue(e){pC(e)&&isNaN(e.getTime())?this._dateValue=e:this._dateValue=GA.isValidDate(e)?e:GA.parseIsoDate(e)}updateValidity(){this._ngControl&&!this.disabled&&this.isTouchedOrDirty?this.hasValidators&&this.inputGroup.isFocused?this.inputDirective.valid=this._ngControl.valid?gT.VALID:gT.INVALID:this.inputDirective.valid=this._ngControl.valid?gT.INITIAL:gT.INVALID:this.inputDirective.valid=gT.INITIAL}get isTouchedOrDirty(){return this._ngControl.control.touched||this._ngControl.control.dirty}get hasValidators(){return!!this._ngControl.control.validator||!!this._ngControl.control.asyncValidator}handleSelection(e){this.dateValue&&GA.isValidDate(this.dateValue)&&(e.setHours(this.dateValue.getHours()),e.setMinutes(this.dateValue.getMinutes()),e.setSeconds(this.dateValue.getSeconds()),e.setMilliseconds(this.dateValue.getMilliseconds())),this.value=e,this._calendar.viewDate=e,this.close()}subscribeToDateEditorEvents(){this.dateTimeEditor.valueChange.pipe(mn(this._destroy$)).subscribe((e=>{this.value=e})),this.dateTimeEditor.validationFailed.pipe(mn(this._destroy$)).subscribe((e=>{this.validationFailed.emit({owner:this,prevValue:e.oldValue,currentValue:this.value})}))}subscribeToOverlayEvents(){this._overlayService.opening.pipe(...this._overlaySubFilter).subscribe((e=>{let t={owner:this,event:e.event,cancel:e.cancel};this.opening.emit(t),e.cancel=t.cancel,t.cancel?this._overlayService.detach(this._overlayId):(this._initializeCalendarContainer(e.componentRef.instance),this._collapsed=!1)})),this._overlayService.opened.pipe(...this._overlaySubFilter).subscribe((()=>{this.opened.emit({owner:this}),this._targetViewDate&&(this._targetViewDate.setHours(0,0,0,0),this._calendar.activeDate=this._targetViewDate)})),this._overlayService.closing.pipe(...this._overlaySubFilter).subscribe((e=>{let t={owner:this,event:e.event,cancel:e.cancel};this.closing.emit(t),e.cancel=t.cancel,!t.cancel&&(!this.getEditElement()||t.event&&this.isDropdown?(this._onTouchedCallback(),this.updateValidity()):this.inputDirective.focus())})),this._overlayService.closed.pipe(...this._overlaySubFilter).subscribe((()=>{this.closed.emit({owner:this}),this._overlayService.detach(this._overlayId),this._collapsed=!0,this._overlayId=null}))}getMinMaxDates(){return{minValue:GA.isValidDate(this.minValue)?this.minValue:GA.parseIsoDate(this.minValue),maxValue:GA.isValidDate(this.maxValue)?this.maxValue:GA.parseIsoDate(this.maxValue)}}setDisabledDates(){this._calendar.disabledDates=this.disabledDates?[...this.disabledDates]:[];let{minValue:e,maxValue:t}=this.getMinMaxDates();e&&this._calendar.disabledDates.push({type:KP.Before,dateRange:[e]}),t&&this._calendar.disabledDates.push({type:KP.After,dateRange:[t]})}_initializeCalendarContainer(e){this._calendar=e.calendar,this._calendar.hasHeader=!this.isDropdown,this._calendar.formatOptions=this.pickerCalendarFormat,this._calendar.formatViews=this.pickerFormatViews,this._calendar.locale=this.locale,this._calendar.weekStart=this.weekStart,this._calendar.specialDates=this.specialDates,this._calendar.headerTemplate=this.headerTemplate,this._calendar.subheaderTemplate=this.subheaderTemplate,this._calendar.headerOrientation=this.headerOrientation,this._calendar.hideOutsideDays=this.hideOutsideDays,this._calendar.monthsViewNumber=this.displayMonthsCount,this._calendar.showWeekNumbers=this.showWeekNumbers,this._calendar.selected.pipe(mn(this._destroy$)).subscribe((e=>this.handleSelection(e))),this.setDisabledDates(),GA.isValidDate(this.dateValue)&&(this._calendar.value=this.dateValue),this.setCalendarViewDate(),e.mode=this.mode,e.closeButtonLabel=this.cancelButtonLabel,e.todayButtonLabel=this.todayButtonLabel,e.pickerActions=this.pickerActions,e.calendarClose.pipe(mn(this._destroy$)).subscribe((()=>this.close())),e.todaySelection.pipe(mn(this._destroy$)).subscribe((()=>this.selectToday()))}setCalendarViewDate(){let{minValue:e,maxValue:t}=this.getMinMaxDates(),i=GA.isValidDate(this.dateValue)?this.dateValue:new Date;e&&GA.lessThanMinValue(i,e)?this._calendar.viewDate=this._targetViewDate=e:t&&GA.greaterThanMaxValue(i,t)?this._calendar.viewDate=this._targetViewDate=t:this._calendar.viewDate=this._targetViewDate=i}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(bm),Oc(YE),Oc(hl),Oc(qh),Oc(fC),Oc(Pm),Oc(bT,8))},e.ɵcmp=es({type:e,selectors:[["igx-date-picker"]],contentQueries:function(e,t,i){if(1&e&&(hp(i,fT,5),hp(i,AP,5),hp(i,kP,5),hp(i,qV,5),hp(i,UV,4)),2&e){let e;gp(e=pp())&&(t.label=e.first),gp(e=pp())&&(t.headerTemplate=e.first),gp(e=pp())&&(t.subheaderTemplate=e.first),gp(e=pp())&&(t.pickerActions=e.first),gp(e=pp())&&(t.clearComponents=e)}},viewQuery:function(e,t){if(1&e&&(up($A,7),up(PR,5,iu),up(fT,5),up(pT,5)),2&e){let e;gp(e=pp())&&(t.dateTimeEditor=e.first),gp(e=pp())&&(t.viewContainerRef=e.first),gp(e=pp())&&(t.labelDirective=e.first),gp(e=pp())&&(t.inputDirective=e.first)}},hostVars:1,hostBindings:function(e,t){1&e&&ep("keydown",(function(e){return t.onKeyDown(e)})),2&e&&tg("id",t.id)},inputs:{hideOutsideDays:[2,"hideOutsideDays","hideOutsideDays",Zm],displayMonthsCount:"displayMonthsCount",showWeekNumbers:[2,"showWeekNumbers","showWeekNumbers",Zm],formatter:"formatter",headerOrientation:"headerOrientation",todayButtonLabel:"todayButtonLabel",cancelButtonLabel:"cancelButtonLabel",spinLoop:[2,"spinLoop","spinLoop",Zm],spinDelta:"spinDelta",outlet:"outlet",id:"id",formatViews:"formatViews",disabledDates:"disabledDates",specialDates:"specialDates",calendarFormat:"calendarFormat",value:"value",minValue:"minValue",maxValue:"maxValue",resourceStrings:"resourceStrings",readOnly:[2,"readOnly","readOnly",Zm]},outputs:{valueChange:"valueChange",validationFailed:"validationFailed"},standalone:!0,features:[kp([{provide:Ny,useExisting:e,multi:!0},{provide:$y,useExisting:e,multi:!0}]),Vu,Ru,Pp],ngContentSelectors:hM,decls:12,vars:17,consts:[[3,"type"],[3,"click",4,"ngIf"],["igxInput","","aria-haspopup","dialog","aria-autocomplete","none","role","combobox",1,"igx-date-picker__input-date",3,"displayValuePipe","igxDateTimeEditor","displayFormat","minValue","maxValue","spinDelta","spinLoop","disabled","placeholder","readonly","igxTextSelection","locale"],["ngProjectAs","[igxLabel]",5,["","igxLabel",""]],["ngProjectAs","igx-prefix",5,["igx-prefix"]],["ngProjectAs","igx-suffix",5,["igx-suffix"]],["ngProjectAs","igx-hint",5,["igx-hint"]],[3,"click"],["family","default","name","today",3,"title"],["family","default","name","input_clear"]],template:function(e,t){1&e&&(op(cM),Mg(0,"igx-input-group",0),Xu(1,uM,2,1,"igx-prefix",1),Lg(2,"input",2),Xu(3,gM,2,0,"igx-suffix",1),zg(4,3),ap(5),Bg(),zg(6,4),ap(7,1),Bg(),zg(8,5),ap(9,2),Bg(),zg(10,6),ap(11,3),Bg(),Ng()),2&e&&(fg("type",t.type),Ac(),fg("ngIf",!t.toggleComponents.length),Ac(),fg("displayValuePipe",t.formatter?t.displayValue:null)("igxDateTimeEditor",t.inputFormat)("displayFormat",t.displayFormat)("minValue",t.minValue)("maxValue",t.maxValue)("spinDelta",t.spinDelta)("spinLoop",t.spinLoop)("disabled",t.disabled)("placeholder",t.placeholder)("readonly",!t.isDropdown||t.readOnly)("igxTextSelection",t.isDropdown&&!t.readOnly)("locale",t.locale),tg("aria-expanded",!t.collapsed)("aria-labelledby",null==t.label?null:t.label.id),Ac(),fg("ngIf",!t.clearComponents.length&&t.value))},dependencies:[cv,PR,vT,FT,pT,$A,RA,yT],styles:["[_nghost-%COMP%]{display:block}"]}),e})();function fM(e,t){if(1&e&&(Mg(0,"h4",7),fp(1),Ng()),2&e){let e=rp();tg("id",e.titleID),Ac(),yp(e.title)}}function vM(e,t){if(1&e){let e=Wg();Mg(0,"igx-input-group",8)(1,"input",9),Sp("ngModelChange",(function(t){Uo(e);let i=rp();return Cp(i.filterCriteria,t)||(i.filterCriteria=t),qo(t)})),Ng()()}if(2&e){let e=rp();Ac(),_p("ngModel",e.filterCriteria),fg("placeholder",e.filterColumnsPrompt),tg("aria-describedby",e.titleID)}}function yM(e,t){if(1&e){let e=Wg();Mg(0,"igx-checkbox",10),ep("click",(function(){let t=Uo(e).$implicit;return qo(rp().toggleColumn(t))})),fp(1),Ng()}if(2&e){let e=t.$implicit,i=rp();yg("margin-left",e.level*i.indentation,"px"),fg("readonly",!0)("checked",i.actionsDirective.columnChecked(e)),Ac(),xp(" ",e.header||e.field," ")}}var xM=0,wM=(()=>{let e=class{constructor(e){this.differs=e,this.indentation=30,this.cssClass="igx-column-actions",this.columnsAreaMaxHeight="100%",this.hideFilter=!1,this.title="",this.columnToggled=new yl,this.actionableColumns=[],this.filteredColumns=[],this.pipeTrigger=0,this._differ=null,this._filterColumnsPrompt="",this._filterCriteria="",this._columnDisplayOrder=_S,this._id="igx-column-actions-"+xM++,this.trackChanges=(e,t)=>t.field+"_"+this.actionsDirective.actionEnabledColumnsFilter(t,e,[]),this._differ=this.differs.find([]).create(this.trackChanges)}get filterColumnsPrompt(){return this._filterColumnsPrompt}set filterColumnsPrompt(e){this._filterColumnsPrompt=e||""}get filterCriteria(){return this._filterCriteria}set filterCriteria(e){(e=e||"")!==this._filterCriteria&&(this._filterCriteria=e,this.pipeTrigger++)}get columnDisplayOrder(){return this._columnDisplayOrder}set columnDisplayOrder(e){e&&e!==this._columnDisplayOrder&&(this._columnDisplayOrder=e,this.pipeTrigger++)}get uncheckAllText(){return this._uncheckAllText||this.actionsDirective.uncheckAllLabel}set uncheckAllText(e){this._uncheckAllText=e}get checkAllText(){return this._checkAllText||this.actionsDirective.checkAllLabel}set checkAllText(e){this._checkAllText=e}get checkAllDisabled(){return this.actionsDirective.allUnchecked}get uncheckAllDisabled(){return this.actionsDirective.allChecked}get id(){return this._id}set id(e){this._id=e}get titleID(){return this.id+"_title"}ngDoCheck(){this._differ&&this._differ.diff(this.grid?.columnList)&&this.pipeTrigger++}uncheckAllColumns(){this.actionsDirective.uncheckAll()}checkAllColumns(){this.actionsDirective.checkAll()}toggleColumn(e){this.actionsDirective.toggleColumn(e),this.columnToggled.emit({column:e,checked:this.actionsDirective.columnChecked(e)})}};return e.ɵfac=function(t){return new(t||e)(Oc(Km))},e.ɵcmp=es({type:e,selectors:[["igx-column-actions"]],viewQuery:function(e,t){if(1&e&&up(DA,5),2&e){let e;gp(e=pp())&&(t.columnItems=e)}},hostVars:3,hostBindings:function(e,t){2&e&&(tg("id",t.id),wg(t.cssClass))},inputs:{grid:"grid",indentation:"indentation",columnsAreaMaxHeight:"columnsAreaMaxHeight",hideFilter:[2,"hideFilter","hideFilter",Zm],title:"title",filterColumnsPrompt:"filterColumnsPrompt",filterCriteria:"filterCriteria",columnDisplayOrder:"columnDisplayOrder",uncheckAllText:"uncheckAllText",checkAllText:"checkAllText",id:"id"},outputs:{columnToggled:"columnToggled"},standalone:!0,features:[Vu,Pp],decls:13,vars:21,consts:[[1,"igx-column-actions__header"],["class","igx-column-actions__header-title",4,"ngIf"],["class","igx-column-actions__header-input",4,"ngIf"],["tabindex","0",1,"igx-column-actions__columns"],["class","igx-column-actions__columns-item",3,"readonly","checked","margin-left","click",4,"ngFor","ngForOf"],[1,"igx-column-actions__buttons"],["type","button","igxButton","","igxRipple","",3,"click","disabled"],[1,"igx-column-actions__header-title"],[1,"igx-column-actions__header-input"],["igxInput","","type","text","autocomplete","off",3,"ngModelChange","ngModel","placeholder"],[1,"igx-column-actions__columns-item",3,"click","readonly","checked"]],template:function(e,t){1&e&&(Mg(0,"div",0),Xu(1,fM,2,2,"h4",1)(2,vM,2,3,"igx-input-group",2),Ng(),Mg(3,"div",3),Xu(4,yM,2,5,"igx-checkbox",4),Xp(5,"columnActionEnabled"),Xp(6,"filterActionColumns"),Xp(7,"sortActionColumns"),Ng(),Mg(8,"div",5)(9,"button",6),ep("click",(function(){return t.uncheckAllColumns()})),fp(10),Ng(),Mg(11,"button",6),ep("click",(function(){return t.checkAllColumns()})),fp(12),Ng()()),2&e&&(Ac(),fg("ngIf",t.title),Ac(),fg("ngIf",!t.hideFilter),Ac(),yg("max-height",t.columnsAreaMaxHeight),Ac(),fg("ngForOf",Jp(7,17,Jp(6,13,Jp(5,9,null==t.grid?null:t.grid._columns,t.actionsDirective.actionEnabledColumnsFilter,t.pipeTrigger),t.filterCriteria,t.pipeTrigger),t.columnDisplayOrder,t.pipeTrigger)),Ac(5),fg("disabled",t.uncheckAllDisabled),Ac(),yp(t.uncheckAllText),Ac(),fg("disabled",t.checkAllDisabled),Ac(),yp(t.checkAllText))},dependencies:()=>[cv,PR,iw,zy,px,Ux,pT,lv,DA,ST,vA,_M,CM,SM],encapsulation:2}),e})(),_M=(()=>{let e=class{constructor(e){this.columnActions=e}transform(e,t,i){if(!e)return e;let n=e.slice(0);return n.length&&n[0].grid.hasColumnLayouts&&(n=n.filter((e=>e.columnLayout))),t&&(n=n.filter(t)),this.columnActions.actionableColumns=n,n}};return e.ɵfac=function(t){return new(t||e)(Oc(wM,16))},e.ɵpipe=os({name:"columnActionEnabled",type:e,pure:!0,standalone:!0}),e})(),CM=(()=>{let e=class{constructor(e){this.columnActions=e}transform(e,t,i){if(!e)return e;let n=e.slice(0);if(t&&t.length>0){let i=e=>{let n=e.header||e.field;return!!n&&(n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>=0||(e.children?.some(i)??!1))};n=e.filter(i)}return this.columnActions.filteredColumns=n,n}};return e.ɵfac=function(t){return new(t||e)(Oc(wM,16))},e.ɵpipe=os({name:"filterActionColumns",type:e,pure:!0,standalone:!0}),e})(),SM=(()=>{let e=class{transform(e,t,i){return t===wS?e.sort(((e,t)=>(e.header||e.field).localeCompare(t.header||t.field))):e}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"sortActionColumns",type:e,pure:!0,standalone:!0}),e})(),bM=(()=>{let e=class{};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e}),e})(),DM=(()=>{let e=class extends bM{constructor(e){super(),this.columnActions=e,this.actionEnabledColumnsFilter=e=>!e.disableHiding,e.actionsDirective=this}get checkAllLabel(){return this.columnActions.grid?.resourceStrings.igx_grid_hiding_check_all_label??"Show All"}get uncheckAllLabel(){return this.columnActions.grid?.resourceStrings.igx_grid_hiding_uncheck_all_label??"Hide All"}checkAll(){this.columnActions.filteredColumns.forEach((e=>e.toggleVisibility(!1)))}uncheckAll(){this.columnActions.filteredColumns.forEach((e=>e.toggleVisibility(!0)))}columnChecked(e){return!e.hidden}toggleColumn(e){e.toggleVisibility()}get allChecked(){return this.columnActions.filteredColumns.every((e=>!this.columnChecked(e)))}get allUnchecked(){return this.columnActions.filteredColumns.every((e=>this.columnChecked(e)))}};return e.ɵfac=function(t){return new(t||e)(Oc(wM))},e.ɵdir=ss({type:e,selectors:[["","igxColumnHiding",""]],standalone:!0,features:[Ru]}),e})(),IM=(()=>{let e=class extends bM{constructor(e){super(),this.columnActions=e,this.actionEnabledColumnsFilter=e=>!e.disablePinning&&!e.level,e.actionsDirective=this}get checkAllLabel(){return this.columnActions.grid?.resourceStrings.igx_grid_pinning_check_all_label??"Pin All"}get uncheckAllLabel(){return this.columnActions.grid?.resourceStrings.igx_grid_pinning_uncheck_all_label??"Unpin All"}checkAll(){this.columnActions.filteredColumns.forEach((e=>e.pinned=!0))}uncheckAll(){this.columnActions.filteredColumns.forEach((e=>e.pinned=!1))}columnChecked(e){return e.pinned}toggleColumn(e){e.pinned=!e.pinned}get allUnchecked(){return!this.columnActions.filteredColumns.some((e=>!this.columnChecked(e)))}get allChecked(){return!this.columnActions.filteredColumns.some((e=>this.columnChecked(e)))}};return e.ɵfac=function(t){return new(t||e)(Oc(wM))},e.ɵdir=ss({type:e,selectors:[["","igxColumnPinning",""]],standalone:!0,features:[Ru]}),e})();function EM(){return(e,t,i)=>{let n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};let r=i.set||function(e){this[n]=e};return i.set=function(e){let i=this._init,n=this[t];if((e!==n||"object"==typeof e&&e===n)&&(r.call(this,e),this.ngOnChanges&&!i)){let i={[t]:new fo(n,e,!1)};this.ngOnChanges(i)}},i}}function TM(){return(e,t,i)=>{let n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};let r=i.set||function(e){this[n]=e};return i.set=function(e){let i=this[t];r.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.columnChange&&this.columnChange.emit()},i}}function RM(e=!1){return(t,i,n)=>{let r=`__${i}`,s=(n=n||{enumerable:!0,configurable:!0})?n.set:null;return n.get=n.get||function(){return this[r]},n.set=function(t){if(s)s.call(this,t),this.grid&&this.grid.notifyChanges(e&&"pivot"!==this.type);else{if(t===this[i])return;this[r]=t,this.grid&&this.grid.notifyChanges(e&&"pivot"!==this.type)}},n}}var AM=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxFilterCellTemplate",""]],standalone:!0}),e})(),kM=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxCell",""]],standalone:!0}),e})(),OM=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxCellValidationError",""]],standalone:!0}),e})(),PM=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxHeader",""]],standalone:!0}),e})(),FM=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxCellEditor",""]],standalone:!0}),e})(),VM=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxCollapsibleIndicator",""]],standalone:!0}),e})(),MM=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxSummary",""]],standalone:!0}),e})(),NM=function(e){return e[e.BeforeDropTarget=0]="BeforeDropTarget",e[e.AfterDropTarget=1]="AfterDropTarget",e}(NM||{}),LM=(()=>{let e=class{};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:e.ɵfac,providedIn:"root"}),e})(),HM=class{constructor(e,t,i){this.grid=e,"number"==typeof t?this._rowIndex=t:(this._row=t,this._rowIndex=t.index),this._column=i}get row(){return this._row||this.grid.createRow(this._rowIndex)}get column(){return this._column}get editValue(){if(this.isCellInEditMode())return this.grid.crudService.cell.editValue}set editValue(e){this.isCellInEditMode()&&(this.grid.crudService.cell.editValue=e)}get validation(){let e=this.grid.validation.getFormControl(this.row.key,this.column.field);return{status:e?.status||"VALID",errors:e?.errors}}get editable(){return this.column.editable&&!this.row?.disabled}get width(){return this.column.width}get value(){return this.column.field?this.column.hasNestedPath?TC(this.row?.data,this.column.field):this.row?.data[this.column.field]:void 0}set value(e){this.update(e)}get id(){let e=this.grid.primaryKey;return{rowID:e?this.row?.data[e]:this.row?.data,columnID:this.column.index,rowIndex:this._rowIndex||this.row?.index}}get editMode(){return this.isCellInEditMode()}set editMode(e){let t=this.isCellInEditMode();!this.row||this.row?.deleted||t===e||(this.editable&&e?(this.endEdit(),this.grid.crudService.enterEditMode(this)):this.grid.crudService.endCellEdit(),this.grid.notifyChanges())}get selected(){return this.grid.selectionService.selected(this.selectionNode)}set selected(e){let t=this.selectionNode;e?this.grid.selectionService.add(t):this.grid.selectionService.remove(t),this.grid.notifyChanges()}get active(){let e=this.grid.navigation.activeNode;return!!e&&e.row===this.row?.index&&e.column===this.column.visibleIndex}update(e){if(this.row?.deleted)return;this.endEdit();let t=this.isCellInEditMode()?this.grid.crudService.cell:this.grid.crudService.createCell(this);t.editValue=e,this.grid.gridAPI.update_cell(t),this.grid.crudService.endCellEdit(),this.grid.notifyChanges()}get selectionNode(){return{row:this.row?.index,column:this.column.columnLayoutChild?this.column.parent.visibleIndex:this.column.visibleIndex,layout:this.column.columnLayoutChild?{rowStart:this.column.rowStart,colStart:this.column.colStart,rowEnd:this.column.rowEnd,colEnd:this.column.colEnd,columnVisibleIndex:this.column.visibleIndex}:null}}isCellInEditMode(){if(this.grid.crudService.cellInEditMode){let e=this.grid.crudService.cell.id;return e.rowID===this.id.rowID&&e.rowIndex===this.id.rowIndex&&e.columnID===this.id.columnID}return!1}endEdit(){this.isCellInEditMode()||(this.grid.gridAPI.update_cell(this.grid.crudService.cell),this.grid.crudService.endCellEdit())}},zM=(()=>{let e=class{set field(e){this._field=e,this.hasNestedPath=e?.includes(".")}get field(){return this._field}get selectable(){return this._selectable}set selectable(e){this._selectable=e}get groupable(){return this._groupable}set groupable(e){this._groupable=e,this.grid.groupablePipeTrigger++}get editable(){let e=this.grid&&this.grid.rowEditable,t=this.grid&&this.grid.transactions.enabled;return(!this.isPrimaryColumn||!e&&!t)&&(void 0!==this._editable?this._editable:e)}set editable(e){this._editable=e}get hasSummary(){return this._hasSummary}set hasSummary(e){this._hasSummary=e,this.grid&&this.grid.summaryService.resetSummaryHeight()}get hidden(){return this._hidden}set hidden(e){if(this._hidden!==e){if(this._hidden=e,this.hiddenChange.emit(this._hidden),this.columnLayoutChild&&this.parent.hidden!==e)return void(this.parent.hidden=e);this.grid&&(this.grid.crudService.endEdit(!1),this.grid.summaryService.resetSummaryHeight(),this.grid.filteringService.refreshExpressions(),this.grid.filteringService.hideFilteringRowOnColumnVisibilityChange(this),this.grid.notifyChanges())}}get selected(){return this.grid.selectionService.isColumnSelected(this.field)}set selected(e){this.selectable&&e!==this.selected&&(e?this.grid.selectionService.selectColumnsWithNoEvent([this.field]):this.grid.selectionService.deselectColumnsWithNoEvent([this.field]),this.grid.notifyChanges())}get width(){return this._width&&"string"==typeof this._width&&"auto"===this._width?this.autoSize?this.autoSize+"px":"fit-content":this.widthSetByUser?this._width:this.defaultWidth}set width(e){e&&(this._calcWidth=null,this.calcPixelWidth=NaN,this.widthSetByUser=!0,("number"==typeof e||e.match(/^[0-9]*$/))&&(e+="px"),"fit-content"===e&&(e="auto"),this._width=e,this.grid&&this.cacheCalcWidth(),this.widthChange.emit(this._width))}get calcWidth(){return this.getCalcWidth()}get maxWidthPx(){let e=this.grid.calcWidth;return this.maxWidth&&"string"==typeof this.maxWidth&&-1!==this.maxWidth.indexOf("%")?parseFloat(this.maxWidth)/100*e:parseFloat(this.maxWidth)}get maxWidthPercent(){let e=this.grid.calcWidth;return this.maxWidth&&"string"==typeof this.maxWidth&&-1!==this.maxWidth.indexOf("%")?parseFloat(this.maxWidth):parseFloat(this.maxWidth)/e*100}get minWidthPx(){let e=this.grid.calcWidth;return this.minWidth&&"string"==typeof this.minWidth&&-1!==this.minWidth.indexOf("%")?parseFloat(this.minWidth)/100*e:parseFloat(this.minWidth)}get minWidthPercent(){let e=this.grid.calcWidth;return this.minWidth&&"string"==typeof this.minWidth&&-1!==this.minWidth.indexOf("%")?parseFloat(this.minWidth):parseFloat(this.minWidth)/e*100}set minWidth(e){let t=parseFloat(e);Number.isNaN(t)||(this._defaultMinWidth=e)}get minWidth(){return this._defaultMinWidth?this._defaultMinWidth:this.defaultMinWidth}get resolvedWidth(){return this.columnLayoutChild?"":this._width&&"string"==typeof this._width&&"auto"===this._width?this.width:this.calcPixelWidth+"px"}get index(){return this.grid._columns.indexOf(this)}get pinned(){return this._pinned}set pinned(e){if(this._pinned!==e){let t=this.width&&"string"==typeof this.width&&"fit-content"===this.width;if(this.grid&&this.width&&(t||!isNaN(parseInt(this.width,10))))return void(e?this.pin():this.unpin());this._pinned=e,this.pinnedChange.emit(this._pinned)}}get summaries(){return this._summaries}set summaries(e){(e=>"function"==typeof e&&!!e.prototype&&!!e.prototype.constructor)(e)&&(this._summaries=new e),this.grid&&(this.grid.summaryService.removeSummariesCachePerColumn(this.field),this.grid.summaryPipeTrigger++,this.grid.summaryService.resetSummaryHeight())}get filters(){return this._filters}set filters(e){this._filters=e}get sortStrategy(){return this._sortStrategy}set sortStrategy(e){this._sortStrategy=e}get groupingComparer(){return this._groupingComparer}set groupingComparer(e){this._groupingComparer=e}get defaultMinWidth(){if(!this.grid)return"80";switch(this.grid.gridSize){case IS:return"64";case DS:return"56";default:return"80"}}get summaryTemplate(){return this._summaryTemplate}set summaryTemplate(e){this._summaryTemplate=e}get bodyTemplate(){return this._bodyTemplate}set bodyTemplate(e){this._bodyTemplate=e}get headerTemplate(){return this._headerTemplate}set headerTemplate(e){this._headerTemplate=e}get inlineEditorTemplate(){return this._inlineEditorTemplate}set inlineEditorTemplate(e){this._inlineEditorTemplate=e}get errorTemplate(){return this._errorTemplate}set errorTemplate(e){this._errorTemplate=e}get filterCellTemplate(){return this._filterCellTemplate}set filterCellTemplate(e){this._filterCellTemplate=e}get cells(){return this.grid.dataView.map(((e,t)=>{if(!this.grid.isGroupByRecord(e)&&!this.grid.isSummaryRow(e))return 1===this.grid.pagingMode&&0!==this.grid.page?t+=this.grid.perPage*this.grid.page:t=this.grid.dataRowList.first.index+t,new HM(this.grid,t,this)})).filter((e=>e))}get _cells(){return this.grid.rowList.filter((e=>e instanceof bO)).map((e=>{if(e._cells)return e._cells.filter((e=>e.columnIndex===this.index))})).reduce(((e,t)=>e.concat(t)),[])}get visibleIndex(){if(!isNaN(this._vIndex))return this._vIndex;let e=this.grid.unpinnedColumns.filter((e=>!e.columnGroup)),t=this.grid.pinnedColumns.filter((e=>!e.columnGroup)),i=this,n=-1;if(this.columnGroup&&(i=this.allChildren.filter((e=>!e.columnGroup&&!e.hidden))[0]),this.columnLayoutChild)return this.parent.childrenVisibleIndexes.find((e=>e.column===this)).index;if(this.pinned){let r=t.indexOf(i);n=this.grid.isPinningToStart?r:e.length+r}else{let r=e.indexOf(i);n=-1===r?-1:this.grid.isPinningToStart?t.length+r:r}return this._vIndex=n,n}get columnGroup(){return!1}get columnLayout(){return!1}get columnLayoutChild(){return this.parent&&this.parent.columnLayout}get childColumns(){return[]}get allChildren(){return[]}get level(){let e=this.parent,t=0;for(;e;)t++,e=e.parent;return t}get isLastPinned(){return this.grid.isPinningToStart&&this.grid.pinnedColumns[this.grid.pinnedColumns.length-1]===this}get isFirstPinned(){let e=this.grid.pinnedColumns.filter((e=>!e.columnGroup));return!this.grid.isPinningToStart&&e[0]===this}get rightPinnedOffset(){return this.pinned&&!this.grid.isPinningToStart?-this.grid.pinnedWidth-this.grid.headerFeaturesWidth+"px":null}get gridRowSpan(){return this.rowEnd&&this.rowStart?this.rowEnd-this.rowStart:1}get gridColumnSpan(){return this.colEnd&&this.colStart?this.colEnd-this.colStart:1}set visibleWhenCollapsed(e){this._visibleWhenCollapsed=e,this.visibleWhenCollapsedChange.emit(this._visibleWhenCollapsed),this.parent&&this.parent?.setExpandCollapseState?.()}get visibleWhenCollapsed(){return this._visibleWhenCollapsed}set pipeArgs(e){this._columnPipeArgs=Object.assign(this._columnPipeArgs,e),this.grid.summaryService.clearSummaryCache(),this.grid.pipeTrigger++}get pipeArgs(){return this._columnPipeArgs}get collapsible(){return!1}set collapsible(e){}get expanded(){return!0}set expanded(e){}get filteringExpressionsTree(){return this.grid.filteringExpressionsTree.find(this.field)}get isPrimaryColumn(){return void 0!==this.field&&void 0!==this.grid&&this.field===this.grid.primaryKey}constructor(e,t,i,n){this.grid=e,this._validators=t,this.cdr=i,this.platform=n,this.validators=[],this.header="",this.title="",this.sortable=!1,this.filterable=!0,this.resizable=!1,this.autosizeHeader=!0,this.hiddenChange=new yl,this.expandedChange=new yl,this.collapsibleChange=new yl,this.visibleWhenCollapsedChange=new yl,this.columnChange=new yl,this.disableHiding=!1,this.disablePinning=!1,this.headerClasses="",this.headerStyles=null,this.headerGroupClasses="",this.headerGroupStyles=null,this.cellStyles=null,this.filteringIgnoreCase=!0,this.sortingIgnoreCase=!0,this.searchable=!0,this.dataType=QC.String,this.widthChange=new yl,this.pinnedChange=new yl,this.defaultTimeFormat="hh:mm:ss a",this.defaultDateTimeFormat="dd/MM/yyyy HH:mm:ss a",this.parent=null,this.destroy$=new ei,this._applySelectableClass=!1,this._vIndex=NaN,this._pinned=!1,this._summaries=null,this._filters=null,this._sortStrategy=HC.instance(),this._hidden=!1,this._disablePinning=!1,this._defaultMinWidth="",this._hasSummary=!1,this._groupable=!1,this._collapsible=!1,this._expanded=!0,this._selectable=!0,this._calcWidth=null,this._columnPipeArgs={digitsInfo:"1.0-3"},this.validators=t}resetCaches(){this._vIndex=NaN,this.grid&&this.cacheCalcWidth()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngAfterContentInit(){if(this.summaryTemplateDirective&&(this._summaryTemplate=this.summaryTemplateDirective.template),this.cellTemplate&&(this._bodyTemplate=this.cellTemplate.template),this.cellValidationErrorTemplate&&(this._errorTemplate=this.cellValidationErrorTemplate.template),this.headTemplate&&this.headTemplate.length&&(this._headerTemplate=this.headTemplate.toArray()[0].template),this.editorTemplate&&(this._inlineEditorTemplate=this.editorTemplate.template),this.filterCellTemplateDirective&&(this._filterCellTemplate=this.filterCellTemplateDirective.template),this._columnPipeArgs.format||(this._columnPipeArgs.format=this.dataType===QC.Time?"mediumTime":this.dataType===QC.DateTime?"medium":"mediumDate"),!this.summaries)switch(this.dataType){case QC.Number:case QC.Currency:case QC.Percent:this.summaries=dO;break;case QC.Date:case QC.DateTime:this.summaries=cO;break;case QC.Time:this.summaries=hO;break;default:this.summaries=lO}if(!this.filters)switch(this.dataType){case QC.Boolean:this.filters=KA.instance();break;case QC.Number:case QC.Currency:case QC.Percent:this.filters=XA.instance();break;case QC.Date:this.filters=UA.instance();break;case QC.Time:this.filters=YA.instance();break;case QC.DateTime:this.filters=qA.instance();break;case QC.Image:this.filterable=!1;break;default:this.filters=ZA.instance()}}getGridTemplate(e){return e?`repeat(${"pivot"!==this.grid.type?this.grid.multiRowLayoutRowSize:this.children.length-1},1fr)`:this.getColumnSizesString(this.children)}getInitialChildColumnSizes(e){let t=[];e.forEach((e=>{if(!e.colStart)return;let i=e.widthSetByUser&&t[e.colStart-1]&&!t[e.colStart-1].widthSetByUser,n=t[e.colStart-1]&&t[e.colStart-1].colSpan>e.gridColumnSpan,r=e.widthSetByUser&&t[e.colStart-1]&&t[e.colStart-1].widthSetByUser,s=!e.widthSetByUser&&t[e.colStart-1]&&!t[e.colStart-1].widthSetByUser;if(void 0===t[e.colStart-1])t[e.colStart-1]={ref:e,width:"fit-content"===e.width?e.autoSize:e.widthSetByUser||this.grid.columnWidthSetByUser?parseInt(e.calcWidth,10):null,colSpan:e.gridColumnSpan,colEnd:e.colStart+e.gridColumnSpan,widthSetByUser:e.widthSetByUser};else if(i||n&&(r||s)){if(r&&n)for(let i=e.colStart-1+e.gridColumnSpan;i<t[e.colStart-1].colEnd-1&&(!t[i]||!t[i].widthSetByUser);i++)t[i]=t[e.colStart-1];t[e.colStart-1]={ref:e,width:"fit-content"===e.width?e.autoSize:e.widthSetByUser||this.grid.columnWidthSetByUser?parseInt(e.calcWidth,10):null,colSpan:e.gridColumnSpan,colEnd:e.colStart+e.gridColumnSpan,widthSetByUser:e.widthSetByUser}}else if(r&&t[e.colStart-1].colSpan<e.gridColumnSpan)for(let i=e.colStart-1+t[e.colStart-1].colSpan;i<e.colStart-1+e.gridColumnSpan&&(!t[i]||!t[i].widthSetByUser);i++)t[i]={ref:e,width:"fit-content"===e.width?e.autoSize:e.widthSetByUser||this.grid.columnWidthSetByUser?parseInt(e.calcWidth,10):null,colSpan:e.gridColumnSpan,colEnd:e.colStart+e.gridColumnSpan,widthSetByUser:e.widthSetByUser}}));for(let e=0;e<t.length;e++)if(t[e]&&t[e].colSpan>1){let i=1;for(;i<t[e].colSpan&&e+i+1<t[e].colEnd&&(!t[e+i]||!(!t[e].width&&t[e+i].width||!t[e].width&&!t[e+i].width&&t[e+i].colSpan<=t[e].colSpan||t[e+i].width&&t[e+i].colSpan<=t[e].colSpan));i++){let n=t[e].widthSetByUser?t[e].width/t[e].colSpan:t[e].width;t[e+i]={ref:t[e].ref,width:n,colSpan:1,colEnd:t[e].colEnd,widthSetByUser:t[e].widthSetByUser}}t[e].width=t[e].widthSetByUser?t[e].width/t[e].colSpan:t[e].width,t[e].colSpan=1,e+=i-1}return t}getFilledChildColumnSizes(e){let t=this.getInitialChildColumnSizes(e),i=[];for(let e of t)e&&e.width?i.push(e.width+"px"):i.push(parseInt(this.grid.getPossibleColumnWidth(),10)+"px");return i}getResizableColUnderEnd(){if(this.columnLayout||!this.columnLayoutChild||this.columnGroup)return[{target:this,spanUsed:1}];let e=this.getInitialChildColumnSizes(this.parent.children),t=[],i=this.colEnd?this.colEnd:this.colStart+1;for(let n=0;n<e.length;n++)this.colStart<=n+1&&n+1<i&&t.push({target:e[n].ref,spanUsed:1});let n=[];for(let e of t)n.length&&n[n.length-1].target.field===e.target.field?n[n.length-1].spanUsed++:n.push(e);return n}pin(e){let t=this.grid;if(this._pinned)return!1;if(this.parent&&!this.parent.pinned)return this.topLevelParent.pin(e);let i=void 0!==e;if(i&&(e<0||e>t.pinnedColumns.length)||!this.parent&&!this.pinnable)return!1;let n=t._pinnedColumns.filter((e=>0===e.level)),r={column:this,insertAtIndex:e=i?e:n.length,isPinned:!1,cancel:!1};if(this.grid.columnPin.emit(r),r.cancel)return;this.grid.crudService.endEdit(!1),this._pinned=!0,this.pinnedChange.emit(this._pinned);let s=r.insertAtIndex===t._pinnedColumns.length?t._pinnedColumns[r.insertAtIndex-1]:t._pinnedColumns[r.insertAtIndex];if(-1===t._pinnedColumns.indexOf(this)){if(t.hasColumnGroups){n.splice(r.insertAtIndex,0,this);let e=[];n.forEach((t=>{e.push(t),e=e.concat(t.allChildren)})),t._pinnedColumns=e}else t._pinnedColumns.splice(r.insertAtIndex,0,this);if(-1!==t._unpinnedColumns.indexOf(this)){let e=this.allChildren.length;t._unpinnedColumns.splice(t._unpinnedColumns.indexOf(this),1+e)}}i&&(e===t._pinnedColumns.length-1?t._moveColumns(this,s,NM.AfterDropTarget):t._moveColumns(this,s,NM.BeforeDropTarget)),this.columnGroup&&(this.allChildren.forEach((e=>e.pin())),t.reinitPinStates()),t.resetCaches(),t.notifyChanges(),this.columnLayoutChild&&this.grid.columns.filter((e=>e.columnLayout)).forEach((e=>e.populateVisibleIndexes())),this.grid.filteringService.refreshExpressions();let o={column:this,insertAtIndex:e,isPinned:!0};return this.grid.columnPinned.emit(o),!0}unpin(e){let t=this.grid;if(!this._pinned)return!1;if(this.parent&&this.parent.pinned)return this.topLevelParent.unpin(e);let i=void 0!==e;if(i&&(e<0||e>t._unpinnedColumns.length))return!1;if(!i){let i=t.unpinnedColumns.map((e=>e.index));i.push(this.index),i.sort(((e,t)=>e-t)),e=i.indexOf(this.index)}let n={column:this,insertAtIndex:e,isPinned:!0,cancel:!1};if(this.grid.columnPin.emit(n),n.cancel)return;this.grid.crudService.endEdit(!1),this._pinned=!1,this.pinnedChange.emit(this._pinned);let r=n.insertAtIndex===t._unpinnedColumns.length?t._unpinnedColumns[n.insertAtIndex-1]:t._unpinnedColumns[n.insertAtIndex];return i||(t._unpinnedColumns.splice(e,0,this),-1!==t._pinnedColumns.indexOf(this)&&t._pinnedColumns.splice(t._pinnedColumns.indexOf(this),1)),i&&t.moveColumn(this,r),this.columnGroup&&this.allChildren.forEach((e=>e.unpin())),t.reinitPinStates(),t.resetCaches(),t.notifyChanges(),this.columnLayoutChild&&this.grid.columns.filter((e=>e.columnLayout)).forEach((e=>e.populateVisibleIndexes())),this.grid.filteringService.refreshExpressions(),this.grid.columnPinned.emit({column:this,insertAtIndex:e,isPinned:!1}),!0}move(e){let t,i=this.grid.columns.filter((e=>e.visibleIndex>-1)),n=i.map((e=>e.visibleIndex)).reduce(((e,t)=>Math.max(e,t))),r=this.parent,s=this.visibleIndex<e;if(e===this.visibleIndex||e<0||e>n||(r&&(i=i.filter((e=>e.level>=this.level&&e!==this&&e.parent!==this&&e.topLevelParent===this.topLevelParent))),s?(i=i.filter((e=>e.visibleIndex>this.visibleIndex)),t=i.find((t=>t.level===this.level&&t.visibleIndex+t.calcChildren()-this.calcChildren()===e))):(i=i.filter((e=>e.visibleIndex<this.visibleIndex)),t=i.find((t=>t.level===this.level&&t.visibleIndex===e))),!t||t.pinned&&this.disablePinning))return;let o=s?NM.AfterDropTarget:NM.BeforeDropTarget;this.grid.moveColumn(this,t,o)}calcChildren(){return this.hidden?0:1}toggleVisibility(e){let t=e??!this.hidden,i={column:this,newValue:t,cancel:!1};this.grid.columnVisibilityChanging.emit(i),!i.cancel&&(this.hidden=t,this.grid.columnVisibilityChanged.emit({column:this,newValue:t}))}get topLevelParent(){let e=this.parent;for(;e&&e.parent;)e=e.parent;return e??void 0}get headerCell(){return this.grid.headerCellList.find((e=>e.column===this))}get filterCell(){return this.grid.filterCellList.find((e=>e.column===this))}get headerGroup(){return this.grid.headerGroupsList.find((e=>e.column===this))}autosize(e=!1){this.columnGroup||(this.width=this.getAutoSize(e),this.grid.reflow())}getAutoSize(e=!1){let t,i=e?Object.values(this.getHeaderCellWidths()).reduce(((e,t)=>e+t))+"px":this.getLargestCellWidth(),n=this.width&&"string"==typeof this.width&&-1!==this.width.indexOf("%");if(n){let e=this.grid.calcWidth;t=parseFloat(i)/e*100+"%"}else t=i;let r=n?this.maxWidthPercent:this.maxWidthPx,s=n?this.minWidthPercent:this.minWidthPx;return this.maxWidth&&parseFloat(t)>r?t=n?r+"%":r+"px":parseFloat(t)<s&&(t=n?s+"%":s+"px"),t}getCalcWidth(){return this._calcWidth&&!isNaN(this.calcPixelWidth)||this.cacheCalcWidth(),this._calcWidth}getHeaderCellWidths(){return this.grid.getHeaderCellWidth(this.headerCell.nativeElement)}getLargestCellWidth(){let e=this.grid.document.createRange(),t=new Map;if(this._cells.length>0){let i=[];this._cells.forEach((t=>i.push(t.calculateSizeToFit(e))));let n=i.indexOf(Math.max(...i)),r=this.grid.document.defaultView.getComputedStyle(this._cells[n].nativeElement),s=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth);t.set(Math.max(...i),s)}if(this.headerCell&&this.autosizeHeader){let e=this.getHeaderCellWidths();t.set(e.width,e.padding)}let i=Math.max(...Array.from(t.keys())),n=Math.ceil(i+t.get(i));return Number.isNaN(n)?this.width:n+"px"}getCellWidth(){let e=this.width,t=e&&"string"==typeof e&&-1!==e.indexOf("%");if(this.columnLayoutChild)return"";if(e&&!t){let t=e;return("string"!=typeof t||!1===t.endsWith("px"))&&(t+="px"),t}return e}populateVisibleIndexes(){}getColumnSizesString(e){return this.getFilledChildColumnSizes(e).join(" ")}cacheCalcWidth(){let e=this.width;e&&"string"==typeof e&&-1!==e.indexOf("%")?this._calcWidth=Math.floor(parseFloat(e)/100*this.grid.calcWidth):!e||e&&"string"==typeof e&&"fit-content"===e&&!this.autoSize?this._calcWidth=this.defaultWidth||this.grid.getPossibleColumnWidth():this._calcWidth=this.width,this.calcPixelWidth=parseInt(this._calcWidth,10)}setExpandCollapseState(){this.children.filter((e=>void 0!==e.visibleWhenCollapsed)).forEach((e=>{this.collapsible?e.hidden=this._expanded?e.visibleWhenCollapsed:!e.visibleWhenCollapsed:e.hidden=this.hidden}))}checkCollapsibleState(){if(!this.children)return!1;let e=this.children.map((e=>e.visibleWhenCollapsed));return e.some((e=>!0===e))&&e.some((e=>!1===e))}get pinnable(){return this.grid._init||!this.pinned}get applySelectableClass(){return this._applySelectableClass}set applySelectableClass(e){this.selectable&&(this._applySelectableClass=e)}};e.ɵfac=function(t){return new(t||e)(Oc(nO),Oc($y,10),Oc(Pm),Oc(fC))},e.ɵcmp=es({type:e,selectors:[["igx-column"]],contentQueries:function(e,t,i){if(1&e&&(hp(i,AM,5,AM),hp(i,MM,5,MM),hp(i,kM,5,kM),hp(i,OM,5,OM),hp(i,FM,5,FM),hp(i,VM,5,VM),hp(i,PM,4,PM)),2&e){let e;gp(e=pp())&&(t.filterCellTemplateDirective=e.first),gp(e=pp())&&(t.summaryTemplateDirective=e.first),gp(e=pp())&&(t.cellTemplate=e.first),gp(e=pp())&&(t.cellValidationErrorTemplate=e.first),gp(e=pp())&&(t.editorTemplate=e.first),gp(e=pp())&&(t.collapseIndicatorTemplate=e.first),gp(e=pp())&&(t.headTemplate=e)}},inputs:{field:"field",header:"header",title:"title",sortable:[2,"sortable","sortable",Zm],selectable:"selectable",groupable:[2,"groupable","groupable",Zm],editable:[2,"editable","editable",Zm],filterable:[2,"filterable","filterable",Zm],resizable:[2,"resizable","resizable",Zm],autosizeHeader:[2,"autosizeHeader","autosizeHeader",Zm],hasSummary:[2,"hasSummary","hasSummary",Zm],hidden:[2,"hidden","hidden",Zm],disableHiding:[2,"disableHiding","disableHiding",Zm],disablePinning:[2,"disablePinning","disablePinning",Zm],width:"width",maxWidth:"maxWidth",headerClasses:"headerClasses",headerStyles:"headerStyles",headerGroupClasses:"headerGroupClasses",headerGroupStyles:"headerGroupStyles",cellClasses:"cellClasses",cellStyles:"cellStyles",formatter:"formatter",summaryFormatter:"summaryFormatter",filteringIgnoreCase:[2,"filteringIgnoreCase","filteringIgnoreCase",Zm],sortingIgnoreCase:[2,"sortingIgnoreCase","sortingIgnoreCase",Zm],searchable:[2,"searchable","searchable",Zm],dataType:"dataType",collapsibleIndicatorTemplate:"collapsibleIndicatorTemplate",rowEnd:"rowEnd",colEnd:"colEnd",rowStart:"rowStart",colStart:"colStart",additionalTemplateContext:"additionalTemplateContext",minWidth:"minWidth",pinned:[2,"pinned","pinned",Zm],summaries:"summaries",filters:"filters",sortStrategy:"sortStrategy",groupingComparer:"groupingComparer",summaryTemplate:"summaryTemplate",bodyTemplate:[0,"cellTemplate","bodyTemplate"],headerTemplate:"headerTemplate",inlineEditorTemplate:[0,"cellEditorTemplate","inlineEditorTemplate"],errorTemplate:"errorTemplate",filterCellTemplate:"filterCellTemplate",visibleWhenCollapsed:[2,"visibleWhenCollapsed","visibleWhenCollapsed",Zm],pipeArgs:"pipeArgs"},outputs:{hiddenChange:"hiddenChange",expandedChange:"expandedChange",collapsibleChange:"collapsibleChange",visibleWhenCollapsedChange:"visibleWhenCollapsedChange",columnChange:"columnChange",widthChange:"widthChange",pinnedChange:"pinnedChange"},standalone:!0,features:[Vu,Pp],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0});let t=e;return vi([RM(),TM()],t.prototype,"header",void 0),vi([RM(),TM()],t.prototype,"title",void 0),vi([TM()],t.prototype,"sortable",void 0),vi([TM()],t.prototype,"selectable",null),vi([RM(!0),TM()],t.prototype,"groupable",null),vi([TM()],t.prototype,"editable",null),vi([RM(),TM()],t.prototype,"filterable",void 0),vi([TM()],t.prototype,"resizable",void 0),vi([TM()],t.prototype,"autosizeHeader",void 0),vi([RM(!0),TM()],t.prototype,"hasSummary",null),vi([RM(!0),TM()],t.prototype,"hidden",null),vi([RM(),TM()],t.prototype,"disableHiding",void 0),vi([RM(),TM()],t.prototype,"disablePinning",void 0),vi([RM(!0),TM()],t.prototype,"width",null),vi([TM()],t.prototype,"maxWidth",void 0),vi([RM(),TM()],t.prototype,"headerClasses",void 0),vi([RM(),TM()],t.prototype,"headerStyles",void 0),vi([RM(),TM()],t.prototype,"headerGroupClasses",void 0),vi([RM(),TM()],t.prototype,"headerGroupStyles",void 0),vi([RM(),TM()],t.prototype,"cellClasses",void 0),vi([RM(),TM()],t.prototype,"cellStyles",void 0),vi([RM(),TM()],t.prototype,"formatter",void 0),vi([RM(),TM()],t.prototype,"summaryFormatter",void 0),vi([TM()],t.prototype,"filteringIgnoreCase",void 0),vi([TM()],t.prototype,"sortingIgnoreCase",void 0),vi([RM(),TM()],t.prototype,"searchable",void 0),vi([RM(),TM()],t.prototype,"minWidth",null),vi([TM()],t.prototype,"pinned",null),vi([RM(!0),TM()],t.prototype,"summaries",null),vi([RM(),TM()],t.prototype,"summaryTemplate",null),vi([RM(),TM()],t.prototype,"bodyTemplate",null),vi([RM(),TM()],t.prototype,"headerTemplate",null),vi([RM(),TM()],t.prototype,"inlineEditorTemplate",null),vi([RM(),TM()],t.prototype,"errorTemplate",null),vi([RM(),TM()],t.prototype,"filterCellTemplate",null),vi([RM(!0)],t.prototype,"visibleWhenCollapsed",null),vi([RM(),TM()],t.prototype,"pipeArgs",null),t})(),BM=[[["igx-column"],["igc-column"],["igx-column-group"],["igc-column-group"]]],GM=["igx-column,igc-column,igx-column-group,igc-column-group"];function $M(e,t){1&e&&(Mg(0,"div",1,0),ap(2),Ng())}var WM=(()=>{let e=class extends zM{constructor(){super(...arguments),this.children=new zl,this.searchable=!0}set collapsible(e){this._collapsible=e,this.collapsibleChange.emit(this._collapsible),this.children&&!this.hidden&&(this._collapsible?this.setExpandCollapseState():this.children.forEach((e=>e.hidden=!1)))}get collapsible(){return this._collapsible&&this.checkCollapsibleState()}set expanded(e){this._expanded=e,this.expandedChange.emit(this._expanded),this.collapsible&&!this.hidden&&this.children&&this.setExpandCollapseState()}get expanded(){return this._expanded}get summaries(){return this._summaries}set summaries(e){}get filters(){return this._filters}set filters(e){}get selectable(){return this.children&&this.children.some((e=>e.selectable))}set selectable(e){}get bodyTemplate(){return this._bodyTemplate}set bodyTemplate(e){}get inlineEditorTemplate(){return this._inlineEditorTemplate}set inlineEditorTemplate(e){}get cells(){return[]}get hidden(){return this.allChildren.every((e=>e.hidden))}set hidden(e){this._hidden=e,this.hiddenChange.emit(this._hidden),this._hidden||!this.collapsible?this.children.forEach((e=>e.hidden=this._hidden)):this.children.forEach((e=>{void 0!==e.visibleWhenCollapsed?e.hidden=this.expanded?e.visibleWhenCollapsed:!e.visibleWhenCollapsed:e.hidden=!1}))}get selected(){let e=this.allChildren.filter((e=>!e.columnGroup&&e.selectable&&!e.hidden));return e.length>0&&e.every((e=>e.selected))}set selected(e){this.selectable&&this.children.forEach((t=>{t.selected=e}))}ngAfterContentInit(){this.headTemplate&&this.headTemplate.length&&(this._headerTemplate=this.headTemplate.toArray()[0].template),this.collapseIndicatorTemplate&&(this.collapsibleIndicatorTemplate=this.collapseIndicatorTemplate.template),this.children.first===this&&this.children.reset(this.children.toArray().slice(1)),this.children.forEach((e=>{e.parent=this,this.pinned&&(e.pinned=this.pinned),this._hidden&&(e.hidden=this._hidden)})),this.collapsible&&this.setExpandCollapseState(),this.children.changes.pipe(mn(this.destroy$)).subscribe((e=>{let t=!1;e.forEach((e=>{e.parent=this,this.pinned&&e.pinned!==this.pinned&&(t=!0,e.pinned=this.pinned)})),this.collapsible&&this.setExpandCollapseState(),t&&this.grid.initPinning()}))}get childColumns(){return this.children.toArray()}get allChildren(){return vC(this.children.toArray())}get columnGroup(){return!0}get columnLayout(){return!1}get width(){return`${this.children.reduce(((e,t)=>t.hidden?e:e+parseInt(t.calcWidth,10)),0)}px`}set width(e){}get resolvedWidth(){return this.width}get applySelectableClass(){return this._applySelectableClass}set applySelectableClass(e){this.selectable&&(this._applySelectableClass=e,this.children.forEach((t=>{t.applySelectableClass=e})))}calcChildren(){let e=this.allChildren.filter((e=>e.visibleIndex>-1)),t=e[0].visibleIndex;return e[e.length-1].visibleIndex-t+1}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵcmp=es({type:e,selectors:[["igx-column-group"]],contentQueries:function(e,t,i){if(1&e&&hp(i,zM,4,zM),2&e){let e;gp(e=pp())&&(t.children=e)}},inputs:{collapsible:[2,"collapsible","collapsible",Zm],expanded:[2,"expanded","expanded",Zm],summaries:"summaries",searchable:[2,"searchable","searchable",Zm],filters:"filters",collapsibleIndicatorTemplate:"collapsibleIndicatorTemplate",hidden:[2,"hidden","hidden",Zm]},standalone:!0,features:[kp([{provide:zM,useExisting:An((()=>e))}]),Vu,Ru,Pp],ngContentSelectors:GM,decls:1,vars:1,consts:[["sink",""],[2,"display","none"]],template:function(e,t){1&e&&(op(BM),Xu(0,$M,3,0,"div",1)),2&e&&Fg(t.platform.isElements?0:-1)},encapsulation:2,changeDetection:0}),e})(),KM=[[["igx-column"],["igc-column"]]],jM=["igx-column,igc-column"];function UM(e,t){1&e&&(Mg(0,"div",1,0),ap(2),Ng())}var qM=(()=>{let e=class extends WM{constructor(){super(...arguments),this.childrenVisibleIndexes=[]}get width(){return this.getFilledChildColumnSizes(this.children).reduce(((e,t)=>e+parseInt(t,10)),0)}set width(e){}get columnLayout(){return!0}getCalcWidth(){let e=0;if(this.headerGroup&&this.headerGroup.hasLastPinnedChildColumn){let t=this.grid.document.defaultView.getComputedStyle(this.headerGroup.nativeElement.children[0]);e=parseInt(t.borderRightWidth,10)}return super.getCalcWidth()+e}get visibleIndex(){if(!isNaN(this._vIndex))return this._vIndex;let e=this.grid.unpinnedColumns.filter((e=>e.columnLayout&&!e.hidden)),t=this.grid.pinnedColumns.filter((e=>e.columnLayout&&!e.hidden)),i=-1;if(this.pinned)i=t.indexOf(this);else{let n=e.indexOf(this);i=-1===n?-1:t.length+n}return this._vIndex=i,i}get hidden(){return this._hidden}set hidden(e){if(this._hidden=e,this.children.forEach((t=>t.hidden=e)),this.grid&&this.grid.columns&&this.grid.columns.length>0){let e=this.grid&&this.grid.pinnedColumns&&this.grid.unpinnedColumns?this.grid.pinnedColumns.concat(this.grid.unpinnedColumns):[];!this._hidden&&!e.find((e=>e.field===this.field))&&this.grid.resetColumnCollections(),this.grid.columns.filter((e=>e.columnLayout)).forEach((e=>e.populateVisibleIndexes()))}}ngAfterContentInit(){super.ngAfterContentInit(),this.hidden?this.children.forEach((e=>e.hidden=this.hidden)):this.hidden=this.allChildren.some((e=>e.hidden))}get hasLastPinnedChildColumn(){return this.children.some((e=>e.isLastPinned))}get hasFirstPinnedChildColumn(){return this.children.some((e=>e.isFirstPinned))}populateVisibleIndexes(){this.childrenVisibleIndexes=[];let e=this.grid?.pinnedColumns&&this.grid?.unpinnedColumns?this.grid.pinnedColumns.concat(this.grid.unpinnedColumns):[],t=e.filter((e=>!e.columnGroup&&!e.hidden)).sort(((t,i)=>t.rowStart-i.rowStart||e.indexOf(t.parent)-e.indexOf(i.parent)||t.colStart-i.colStart));this.children.forEach((e=>{let i=e.rowStart||1,n=0;n=t.filter((e=>!e.columnGroup&&(e.rowStart||1)<=i)).indexOf(e),this.childrenVisibleIndexes.push({column:e,index:n})}))}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵcmp=es({type:e,selectors:[["igx-column-layout"]],inputs:{hidden:[2,"hidden","hidden",Zm]},standalone:!0,features:[kp([{provide:zM,useExisting:An((()=>e))}]),Vu,Ru,Pp],ngContentSelectors:jM,decls:1,vars:1,consts:[["sink",""],[2,"display","none"]],template:function(e,t){1&e&&(op(KM),Xu(0,UM,3,0,"div",1)),2&e&&Fg(t.platform.isElements?0:-1)},encapsulation:2,changeDetection:0}),e})(),YM={igx_query_builder_date_placeholder:"Pick up date",igx_query_builder_time_placeholder:"Pick up time",igx_query_builder_filter_operator_and:"And",igx_query_builder_filter_operator_or:"Or",igx_query_builder_filter_contains:"Contains",igx_query_builder_filter_doesNotContain:"Does Not Contain",igx_query_builder_filter_startsWith:"Starts With",igx_query_builder_filter_endsWith:"Ends With",igx_query_builder_filter_equals:"Equals",igx_query_builder_filter_doesNotEqual:"Does Not Equal",igx_query_builder_filter_empty:"Empty",igx_query_builder_filter_notEmpty:"Not Empty",igx_query_builder_filter_null:"Null",igx_query_builder_filter_notNull:"Not Null",igx_query_builder_filter_before:"Before",igx_query_builder_filter_after:"After",igx_query_builder_filter_at:"At",igx_query_builder_filter_not_at:"Not At",igx_query_builder_filter_at_before:"At or Before",igx_query_builder_filter_at_after:"At or After",igx_query_builder_filter_today:"Today",igx_query_builder_filter_yesterday:"Yesterday",igx_query_builder_filter_thisMonth:"This Month",igx_query_builder_filter_lastMonth:"Last Month",igx_query_builder_filter_nextMonth:"Next Month",igx_query_builder_filter_thisYear:"This Year",igx_query_builder_filter_lastYear:"Last Year",igx_query_builder_filter_nextYear:"Next Year",igx_query_builder_filter_greaterThan:"Greater Than",igx_query_builder_filter_lessThan:"Less Than",igx_query_builder_filter_greaterThanOrEqualTo:"Greater Than Or Equal To",igx_query_builder_filter_lessThanOrEqualTo:"Less Than Or Equal To",igx_query_builder_filter_true:"True",igx_query_builder_filter_false:"False",igx_query_builder_filter_all:"All",igx_query_builder_title:"Query Builder",igx_query_builder_and_group:'"And" Group',igx_query_builder_or_group:'"Or" Group',igx_query_builder_end_group:"End Group",igx_query_builder_and_label:"and",igx_query_builder_or_label:"or",igx_query_builder_add_condition:"Condition",igx_query_builder_create_and_group:'Create "And" Group',igx_query_builder_create_or_group:'Create "Or" Group',igx_query_builder_ungroup:"Ungroup",igx_query_builder_delete:"Delete",igx_query_builder_delete_filters:"Delete filters",igx_query_builder_initial_text:'Start with creating a group of conditions linked with "And" or "Or"',igx_query_builder_column_placeholder:"Select column",igx_query_builder_condition_placeholder:"Select filter",igx_query_builder_value_placeholder:"Value"},XM=[[["igx-prefix"],["","igxPrefix",""]],"*",[["igx-suffix"],["","igxSuffix",""]]],ZM=["igx-prefix, [igxPrefix]","*","igx-suffix, [igxSuffix]"],QM=(()=>{let e=class extends Pk{get text(){return this._text}set text(e){this._text=e}get itemText(){return void 0!==this._text?this._text:this.elementRef.nativeElement.textContent.trim()}get selected(){return!this.isHeader&&!this.disabled&&this.selection.is_item_selected(this.dropDown.id,this)}set selected(e){e&&!this.isHeader&&!this.disabled&&this.dropDown.selectItem(this)}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵcmp=es({type:e,selectors:[["igx-select-item"]],inputs:{text:"text"},standalone:!0,features:[Ru,Pp],ngContentSelectors:ZM,decls:5,vars:0,consts:[[1,"igx-drop-down__content"],[1,"igx-drop-down__inner"]],template:function(e,t){1&e&&(op(XM),Mg(0,"span",0),ap(1),Mg(2,"span",1),ap(3,1),Ng(),ap(4,2),Ng())},encapsulation:2}),e})(),JM=(()=>{let e=class extends BE{constructor(e,t,i){super(),this.select=e,this.platform=i,this._selectDefaultSettings={horizontalDirection:OE.Right,verticalDirection:PE.Bottom,horizontalStartPoint:OE.Left,verticalStartPoint:PE.Top,openAnimation:gD,closeAnimation:pD},this.global_yOffset=0,this.global_xOffset=0,this.global_styles={},this.settings=Object.assign({},this._selectDefaultSettings,t)}position(e,t,i,n,r){let s=r,o=super.calculateElementRectangles(e,s),a={verticalOffset:this.global_yOffset,horizontalOffset:this.global_xOffset,targetRect:o.targetRect,contentElementRect:o.elementRect,styles:this.global_styles,scrollContainer:this.select.scrollContainer,scrollContainerRect:this.select.scrollContainer.getBoundingClientRect()};n&&(this.select.scrollContainer.scrollTop=0,a.viewPortRect=HE.getViewportRect(i),a.itemElement=this.getInteractionItemElement(),a.itemRect=a.itemElement.getBoundingClientRect(),a.styles=this.calculateStyles(a,s),a.scrollAmount=this.calculateScrollAmount(a),this.calculateYoffset(a),this.calculateXoffset(a),super.updateViewPortFit(a),(a.fitVertical.back<0||a.fitVertical.forward<0)&&this.fitInViewport(e,a),this.select.scrollContainer.scrollTop=a.scrollAmount),this.setStyles(e,a)}getInteractionItemElement(){let e;return e=this.select.selectedItem?this.select.selectedItem.element.nativeElement:this.select.getFirstItemElement(),e}fitInViewport(e,t){let i=t.scrollContainerRect.bottom-t.contentElementRect.bottom,n=t.scrollContainerRect.top-t.contentElementRect.top,r=t.targetRect.bottom+t.styles.itemTextToInputTextDiff-i,s=t.targetRect.top-t.styles.itemTextToInputTextDiff-n;t.fitVertical.back<0?t.scrollContainer.scrollHeight-t.scrollContainerRect.height-t.scrollAmount+t.fitVertical.back>0&&s>t.viewPortRect.top?(t.scrollAmount-=t.fitVertical.back,t.verticalOffset-=t.fitVertical.back,this.global_yOffset=t.verticalOffset):(t.verticalOffset=0,this.global_yOffset=0):t.fitVertical.forward<0&&(t.scrollAmount+t.fitVertical.forward>0&&r<t.viewPortRect.bottom?(t.scrollAmount+=t.fitVertical.forward,t.verticalOffset+=t.fitVertical.forward,this.global_yOffset=t.verticalOffset):(t.verticalOffset=-t.contentElementRect.height+t.targetRect.height,this.global_yOffset=t.verticalOffset))}setStyles(e,t){super.setStyle(e,t.targetRect,t.contentElementRect,t),e.style.width=`${t.styles.contentElementNewWidth}px`,this.global_styles.contentElementNewWidth=t.styles.contentElementNewWidth}calculateScrollAmount(e){let t=e.itemRect,i=e.scrollContainer,n=e.scrollContainerRect,r=n.top-t.top,s=i.scrollTop-r;return s-=i.clientHeight/2,s+=t.height/2,Math.round(Math.min(Math.max(0,s),i.scrollHeight-n.height))}calculateStyles(e,t){let i={},n=window.getComputedStyle(t),r=window.getComputedStyle(e.itemElement),s=parseFloat(n.fontSize),o=parseFloat(n.paddingTop),a=parseFloat(n.paddingBottom),l=parseFloat(r.fontSize),d=(e.targetRect.bottom-a-(e.targetRect.top+o)-s)/2,c=(e.itemRect.height-l)/2;i.itemTextToInputTextDiff=Math.round(c-d-o);let h=parseFloat(r.paddingLeft),u=parseFloat(r.textIndent);return i.itemTextPadding=h,i.itemTextIndent=u,i.contentElementNewWidth=e.targetRect.width+24+2*h,i}calculateYoffset(e){e.verticalOffset=-(e.itemRect.top-e.contentElementRect.top+e.styles.itemTextToInputTextDiff-e.scrollAmount),this.global_yOffset=e.verticalOffset}calculateXoffset(e){e.horizontalOffset=e.styles.itemTextIndent-e.styles.itemTextPadding,this.global_xOffset=e.horizontalOffset}};return e=vi([yi(2,xr())],e),e})(),eN=(()=>{let e=class extends lT{get target(){return this._target}set target(e){this._target=e||this.dropdown}constructor(){super(null),this._target=null,this.inputStream="",this.clearStream$=Dt.EMPTY}handleKeyDown(e){if(!e)return;let t=e.key.toLowerCase();if(!e.altKey||"arrowdown"!==t&&"arrowup"!==t&&"down"!==t&&"up"!==t){if(this.target.collapsed)switch(t){case"space":case"spacebar":case" ":case"enter":return e.preventDefault(),void this.target.open();case"arrowdown":case"down":return this.target.navigateNext(),this.target.selectItem(this.target.focusedItem),void e.preventDefault();case"arrowup":case"up":return this.target.navigatePrev(),this.target.selectItem(this.target.focusedItem),void e.preventDefault()}else("tab"===t||e.shiftKey&&"tab"===t)&&this.target.close();super.handleKeyDown(e),this.captureKey(e)}else this.target.toggle()}captureKey(e){if(!e||!e.key||e.key.length>1||" "===e.key||"spacebar"===e.key)return;this.clearStream$.unsubscribe(),this.clearStream$=nn(500).subscribe((()=>{this.inputStream=""})),this.inputStream+=e.key;let t=this.target.focusedItem;t&&this.inputStream.length>1&&t.itemText.toLowerCase().startsWith(this.inputStream.toLowerCase())||this.activateItemByText(this.inputStream)}activateItemByText(e){let t=this.target.items,i=this.findNextItem(t,e);!i&&e.charAt(0)===e.charAt(e.length-1)&&(e=e.slice(0,1),i=this.findNextItem(t,e)),i&&(this.target.collapsed&&this.target.selectItem(i),this.target.navigateItem(t.indexOf(i)))}ngOnDestroy(){this.clearStream$.unsubscribe()}findNextItem(e,t){let i=e.indexOf(this.target.focusedItem)||0;return e.slice(i+1).find((e=>!e.disabled&&e.itemText.toLowerCase().startsWith(t.toLowerCase())))||e.slice(0,i).find((e=>!e.disabled&&e.itemText.toLowerCase().startsWith(t.toLowerCase())))}};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","igxSelectItemNavigation",""]],inputs:{target:[0,"igxSelectItemNavigation","target"]},standalone:!0,features:[Ru]}),e})(),tN=["inputGroup"],iN=["input"],nN=[[["","igxLabel",""]],[["igx-prefix"],["","igxPrefix",""]],[["igx-suffix"],["","igxSuffix",""]],[["igx-hint"],["","igxHint",""]],[["igx-select-item"],["igx-select-item-group"]],"*"],rN=["[igxLabel]","igx-prefix,[igxPrefix]","igx-suffix,[igxSuffix]","igx-hint, [igxHint]","igx-select-item, igx-select-item-group","*"],sN=e=>({$implicit:e});function oN(e,t){1&e&&Gg(0)}function aN(e,t){if(1&e&&(zg(0),Xu(1,oN,1,0,"ng-container",16),Bg()),2&e){let e=rp();Ac(),fg("ngTemplateOutlet",e.toggleIconTemplate)("ngTemplateOutletContext",Vp(2,sN,e.collapsed))}}function lN(e,t){1&e&&Lg(0,"igx-icon",17),2&e&&fg("name",rp().toggleIcon)}function dN(e,t){1&e&&ap(0,5,["*ngTemplateOutlet","headerTemplate"])}function cN(e,t){if(1&e&&(Mg(0,"div",18),Xu(1,dN,1,0,"ng-content",19),Ng()),2&e){let e=rp();Ac(),fg("ngTemplateOutlet",e.headerTemplate)}}function hN(e,t){1&e&&Gg(0)}function uN(e,t){if(1&e&&(Mg(0,"div",20),Xu(1,hN,1,0,"ng-container",19),Ng()),2&e){let e=rp();Ac(),fg("ngTemplateOutlet",e.footerTemplate)}}var gN=(()=>{let e=class{};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","igxSelectToggleIcon",""]],standalone:!0}),e})(),pN=(()=>{let e=class{};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","igxSelectHeader",""]],standalone:!0}),e})(),mN=(()=>{let e=class{};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","igxSelectFooter",""]],standalone:!0}),e})(),fN=(()=>{let e=class extends Hk{get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this.setSelection(this.items.find((e=>e.value===this.value))))}get type(){return this._type||this._inputGroupType||"line"}set type(e){this._type=e}get selectionValue(){let e=this.selectedItem;return e?e.itemText:""}get selectedItem(){return this.selection.first_item(this.id)}constructor(e,t,i,n,r,s,o){super(e,t,i,n),this.overlayService=r,this._inputGroupType=s,this._injector=o,this.disabled=!1,this.maxHeight="256px",this.opening=new yl,this.opened=new yl,this.closing=new yl,this.closed=new yl,this.toggleIconTemplate=null,this.headerTemplate=null,this.footerTemplate=null,this.cssClass=!1,this.allowItemsFocus=!1,this.ngControl=null,this._type=null,this._onChangeCallback=Ot,this._onTouchedCallback=Ot,this.writeValue=e=>{this.value=e}}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}setDisabledState(e){this.disabled=e}getEditElement(){return this.input.nativeElement}selectItem(e,t){let i=this.selectedItem??{};if(null===e||e.disabled||e.isHeader)return;if(e===i)return void this.toggleDirective.close();let n={oldSelection:i,newSelection:e,cancel:!1,owner:this};this.selectionChanging.emit(n),!n.cancel&&(this.setSelection(e),this._value=e.value,t&&this.toggleDirective.close(),this.cdr.detectChanges(),this._onChangeCallback(this.value))}getFirstItemElement(){return this.children.first.element.nativeElement}open(e){this.disabled||0===this.items.length||(this.selectedItem||this.navigateFirst(),super.open(Object.assign({},this._overlayDefaults,this.overlaySettings,e)))}inputGroupClick(e,t){let i=e.target;this.hintElement&&i.contains(this.hintElement.nativeElement)||this.toggle(Object.assign({},this._overlayDefaults,this.overlaySettings,t))}ngAfterContentInit(){this._overlayDefaults={target:this.getEditElement(),modal:!1,positionStrategy:new JM(this),scrollStrategy:new XE,excludeFromOutsideClick:[this.inputGroup.element.nativeElement]};let e=this.children.changes.pipe(mn(this.destroy$)).subscribe((()=>{this.setSelection(this.items.find((e=>e.value===this.value))),this.cdr.detectChanges()}));Promise.resolve().then((()=>{e.closed||this.children.notifyOnChanges()}))}handleOpening(e){let t={owner:this,event:e.event,cancel:e.cancel};this.opening.emit(t),e.cancel=t.cancel}onToggleContentAppended(e){this.overlayService.getOverlayById(e.id)?.settings?.positionStrategy instanceof JM||super.onToggleContentAppended(e)}handleOpened(){this.updateItemFocus(),this.opened.emit({owner:this})}handleClosing(e){let t={owner:this,event:e.event,cancel:e.cancel};this.closing.emit(t),e.cancel=t.cancel}handleClosed(){this.focusItem(!1),this.closed.emit({owner:this})}onBlur(){this._onTouchedCallback(),this.ngControl&&this.ngControl.invalid?this.input.valid=gT.INVALID:this.input.valid=gT.INITIAL}onFocus(){this._onTouchedCallback()}ngOnInit(){this.ngControl=this._injector.get(ux,null)}ngAfterViewInit(){super.ngAfterViewInit(),this.ngControl&&(this.ngControl.statusChanges.pipe(mn(this.destroy$)).subscribe(this.onStatusChanged.bind(this)),this.manageRequiredAsterisk()),this.cdr.detectChanges()}ngAfterContentChecked(){this.inputGroup&&this.prefixes?.length>0&&(this.inputGroup.prefixes=this.prefixes),this.inputGroup&&this.suffixes?.length>0&&(this.inputGroup.suffixes=this.suffixes)}get toggleIcon(){return this.collapsed?"input_expand":"input_collapse"}mousedownHandler(e){e.preventDefault()}onStatusChanged(){this.manageRequiredAsterisk(),this.ngControl&&!this.disabled&&this.isTouchedOrDirty?this.hasValidators&&this.inputGroup.isFocused?this.input.valid=this.ngControl.valid?gT.VALID:gT.INVALID:this.input.valid=this.ngControl.valid?gT.INITIAL:gT.INVALID:this.input.valid=gT.INITIAL}get isTouchedOrDirty(){return this.ngControl.control.touched||this.ngControl.control.dirty}get hasValidators(){return!!this.ngControl.control.validator||!!this.ngControl.control.asyncValidator}navigate(e,t){this.collapsed&&this.selectedItem&&this.navigateItem(this.selectedItem.itemIndex),super.navigate(e,t)}manageRequiredAsterisk(){let e=this.elementRef.nativeElement.hasAttribute("required");if(this.ngControl&&this.ngControl.control.validator){let e=this.ngControl.control.validator({});this.inputGroup.isRequired=e&&e.required,this.cdr.markForCheck()}else this.inputGroup.isRequired&&this.ngControl&&!this.ngControl.control.validator&&!e&&(this.input.valid=gT.INITIAL,this.inputGroup.isRequired=!1,this.cdr.markForCheck())}setSelection(e){e&&void 0!==e.value&&null!==e.value?this.selection.set(this.id,new Set([e])):this.selection.clear(this.id)}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(Pm),Oc(of),Oc(bk),Oc(YE),Oc(bT,8),Oc(hl))},e.ɵcmp=es({type:e,selectors:[["igx-select"]],contentQueries:function(e,t,i){if(1&e&&(hp(i,fT,7),hp(i,gN,5,Oh),hp(i,pN,5,Oh),hp(i,mN,5,Oh),hp(i,cT,5,Nl),hp(i,QM,5),hp(i,vT,5),hp(i,yT,5)),2&e){let e;gp(e=pp())&&(t.label=e.first),gp(e=pp())&&(t.toggleIconTemplate=e.first),gp(e=pp())&&(t.headerTemplate=e.first),gp(e=pp())&&(t.footerTemplate=e.first),gp(e=pp())&&(t.hintElement=e.first),gp(e=pp())&&(t.children=e),gp(e=pp())&&(t.prefixes=e),gp(e=pp())&&(t.suffixes=e)}},viewQuery:function(e,t){if(1&e&&(up(tN,7,PR),up(iN,7,pT)),2&e){let e;gp(e=pp())&&(t.inputGroup=e.first),gp(e=pp())&&(t.input=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&yg("max-height",t.maxHeight)},inputs:{placeholder:"placeholder",disabled:[2,"disabled","disabled",Zm],overlaySettings:"overlaySettings",value:"value",type:"type"},outputs:{opening:"opening",opened:"opened",closing:"closing",closed:"closed"},standalone:!0,features:[kp([{provide:Ny,useExisting:e,multi:!0},{provide:aT,useExisting:e}]),Vu,Ru,Pp],ngContentSelectors:rN,decls:21,vars:17,consts:[["inputGroup",""],["input",""],["scrollContainer",""],[1,"input-group",3,"click","type"],["ngProjectAs","[igxLabel]",5,["","igxLabel",""]],["ngProjectAs","igx-prefix",5,["igx-prefix"]],["type","text","igxInput","","readonly","true","role","combobox","aria-haspopup","listbox",1,"input",3,"blur","focus","igxSelectItemNavigation","disabled","value"],["ngProjectAs","igx-suffix",5,["igx-suffix"]],[1,"igx-select__toggle-button"],[4,"ngIf"],["family","default",3,"name",4,"ngIf"],["ngProjectAs","igx-hint, [igxHint]",5,["igx-hint"]],["igxToggle","",1,"igx-drop-down__list",3,"mousedown","appended","opening","opened","closing","closed"],["class","igx-drop-down__select-header",4,"ngIf"],["unselectable","on","role","listbox",1,"igx-drop-down__list-scroll"],["class","igx-drop-down__select-footer",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["family","default",3,"name"],[1,"igx-drop-down__select-header"],[4,"ngTemplateOutlet"],[1,"igx-drop-down__select-footer"]],template:function(e,t){if(1&e){let e=Wg();op(nN),Mg(0,"igx-input-group",3,0),ep("click",(function(i){return Uo(e),qo(t.inputGroupClick(i))})),zg(2,4),ap(3),Bg(),zg(4,5),ap(5,1),Bg(),Mg(6,"input",6,1),ep("blur",(function(){return Uo(e),qo(t.onBlur())}))("focus",(function(){return Uo(e),qo(t.onFocus())})),Ng(),zg(8,7),ap(9,2),Bg(),Mg(10,"igx-suffix",8),Xu(11,aN,2,4,"ng-container",9)(12,lN,1,1,"igx-icon",10),Ng(),zg(13,11),ap(14,3),Bg(),Ng(),Mg(15,"div",12),ep("mousedown",(function(i){return Uo(e),qo(t.mousedownHandler(i))}))("appended",(function(i){return Uo(e),qo(t.onToggleContentAppended(i))}))("opening",(function(i){return Uo(e),qo(t.handleOpening(i))}))("opened",(function(){return Uo(e),qo(t.handleOpened())}))("closing",(function(i){return Uo(e),qo(t.handleClosing(i))}))("closed",(function(){return Uo(e),qo(t.handleClosed())})),Xu(16,cN,2,1,"div",13),Mg(17,"div",14,2),ap(19,4),Ng(),Xu(20,uN,2,1,"div",15),Ng()}2&e&&(fg("type",t.type),Ac(6),fg("igxSelectItemNavigation",t)("disabled",t.disabled)("value",t.selectionValue),tg("placeholder",t.placeholder)("aria-labelledby",null==t.label?null:t.label.id)("aria-expanded",!t.collapsed)("aria-owns",t.listId)("aria-activedescendant",t.collapsed||null==t.focusedItem?null:t.focusedItem.id),Ac(5),fg("ngIf",t.toggleIconTemplate),Ac(),fg("ngIf",!t.toggleIconTemplate),Ac(4),fg("ngIf",t.headerTemplate),Ac(),yg("max-height",t.maxHeight),tg("id",t.listId)("aria-labelledby",null==t.label?null:t.label.id),Ac(3),fg("ngIf",t.footerTemplate))},dependencies:[PR,pT,eN,yT,cv,yv,FT,OA],styles:["[_nghost-%COMP%]{display:block}"]}),e})(),vN="IgxTimePickerComponentToken",yN=(()=>{let e=class{constructor(e,t,i){this.timePicker=e,this.elementRef=t,this.touchManager=i,this.tabindex=0,this.onPanMove=e=>{let t=e.deltaY<0?-1:e.deltaY>0?1:0;0!==t&&this.nextItem(t)}}get defaultCSS(){return!0}get hourCSS(){return"hourList"===this.type}get minuteCSS(){return"minuteList"===this.type}get secondsCSS(){return"secondsList"===this.type}get ampmCSS(){return"ampmList"===this.type}onFocus(){this.isActive=!0}onBlur(){this.isActive=!1}onKeydownArrowDown(e){e.preventDefault(),this.nextItem(1)}onKeydownArrowUp(e){e.preventDefault(),this.nextItem(-1)}onKeydownArrowRight(e){e.preventDefault();let t=e.target.className;-1!==t.indexOf("hourList")&&this.timePicker.minuteList?this.timePicker.minuteList.nativeElement.focus():-1===t.indexOf("hourList")&&-1===t.indexOf("minuteList")||!this.timePicker.secondsList?(-1!==t.indexOf("hourList")||-1!==t.indexOf("minuteList")||-1!==t.indexOf("secondsList"))&&this.timePicker.ampmList&&this.timePicker.ampmList.nativeElement.focus():this.timePicker.secondsList.nativeElement.focus()}onKeydownArrowLeft(e){e.preventDefault();let t=e.target.className;-1!==t.indexOf("ampmList")&&this.timePicker.secondsList?this.timePicker.secondsList.nativeElement.focus():-1!==t.indexOf("secondsList")&&this.timePicker.secondsList&&t.indexOf("minutesList")&&this.timePicker.minuteList||-1!==t.indexOf("ampmList")&&this.timePicker.minuteList?this.timePicker.minuteList.nativeElement.focus():(-1!==t.indexOf("ampmList")||-1!==t.indexOf("secondsList")||-1!==t.indexOf("minuteList"))&&this.timePicker.hourList&&this.timePicker.hourList.nativeElement.focus()}onKeydownEnter(e){e.preventDefault(),this.timePicker.okButtonClick()}onKeydownEscape(e){e.preventDefault(),this.timePicker.cancelButtonClick()}onHover(){this.elementRef.nativeElement.focus()}onScroll(e){e.preventDefault(),e.stopPropagation();let t=e.deltaY;0!==t&&this.nextItem(t)}ngOnInit(){let e={recognizers:[[CV.Hammer?.Pan,{direction:CV.Hammer?.DIRECTION_VERTICAL,threshold:10}]]};this.touchManager.addEventListener(this.elementRef.nativeElement,"pan",this.onPanMove,e)}ngOnDestroy(){this.touchManager.destroy()}nextItem(e){switch(this.type){case"hourList":this.timePicker.nextHour(e);break;case"minuteList":this.timePicker.nextMinute(e);break;case"secondsList":this.timePicker.nextSeconds(e);break;case"ampmList":this.timePicker.nextAmPm(e)}}};return e.ɵfac=function(t){return new(t||e)(Oc(vN),Oc(Nl),Oc(CV))},e.ɵdir=ss({type:e,selectors:[["","igxItemList",""]],hostVars:11,hostBindings:function(e,t){1&e&&ep("focus",(function(){return t.onFocus()}))("blur",(function(){return t.onBlur()}))("keydown.arrowdown",(function(e){return t.onKeydownArrowDown(e)}))("keydown.arrowup",(function(e){return t.onKeydownArrowUp(e)}))("keydown.arrowright",(function(e){return t.onKeydownArrowRight(e)}))("keydown.arrowleft",(function(e){return t.onKeydownArrowLeft(e)}))("keydown.enter",(function(e){return t.onKeydownEnter(e)}))("keydown.escape",(function(e){return t.onKeydownEscape(e)}))("mouseover",(function(){return t.onHover()}))("wheel",(function(e){return t.onScroll(e)})),2&e&&(tg("tabindex",t.tabindex),xg("igx-time-picker__column",t.defaultCSS)("igx-time-picker__hourList",t.hourCSS)("igx-time-picker__minuteList",t.minuteCSS)("igx-time-picker__secondsList",t.secondsCSS)("igx-time-picker__ampmList",t.ampmCSS))},inputs:{type:[0,"igxItemList","type"]},standalone:!0,features:[kp([CV])]}),e})(),xN=(()=>{let e=class{get defaultCSS(){return!0}get selectedCSS(){return this.isSelectedTime}get activeCSS(){return this.isSelectedTime&&this.itemList.isActive}get isSelectedTime(){let e=this.value.length<2?`0${this.value}`:this.value,t=this.itemList.type,i=GA.parseDateTimeFormat(this.timePicker.inputFormat);switch(t){case"hourList":let t=i.find((e=>"hours"===e.type));return GA.getPartValue(this.timePicker.selectedDate,t,t.format.length)===e;case"minuteList":let n=i.find((e=>"minutes"===e.type));return GA.getPartValue(this.timePicker.selectedDate,n,n.format.length)===e;case"secondsList":let r=i.find((e=>"seconds"===e.type));return GA.getPartValue(this.timePicker.selectedDate,r,r.format.length)===e;case"ampmList":let s=i.find((e=>-1!==e.format.indexOf("a")||"tt"===e.format));return GA.getPartValue(this.timePicker.selectedDate,s,s.format.length)===this.value}}get minValue(){let e=this.itemList.type,t=GA.parseDateTimeFormat(this.timePicker.inputFormat);switch(e){case"hourList":return this.getHourPart(this.timePicker.minDropdownValue);case"minuteList":if(this.timePicker.selectedDate.getHours()===this.timePicker.minDropdownValue.getHours()){let e=t.find((e=>"minutes"===e.type));return GA.getPartValue(this.timePicker.minDropdownValue,e,e.format.length)}return"00";case"secondsList":let e=new Date(this.timePicker.selectedDate),i=new Date(this.timePicker.minDropdownValue);if(e.setSeconds(0),i.setSeconds(0),e.getTime()===i.getTime()){let e=t.find((e=>"seconds"===e.type));return GA.getPartValue(this.timePicker.minDropdownValue,e,e.format.length)}return"00";case"ampmList":let n=t.find((e=>-1!==e.format.indexOf("a")||"tt"===e.format));return GA.getPartValue(this.timePicker.minDropdownValue,n,n.format.length)}}get maxValue(){let e=this.itemList.type,t=GA.parseDateTimeFormat(this.timePicker.inputFormat);switch(e){case"hourList":return this.getHourPart(this.timePicker.maxDropdownValue);case"minuteList":if(this.timePicker.selectedDate.getHours()===this.timePicker.maxDropdownValue.getHours()){let e=t.find((e=>"minutes"===e.type));return GA.getPartValue(this.timePicker.maxDropdownValue,e,e.format.length)}{let e=new Date(this.timePicker.selectedDate),i=this.timePicker.itemsDelta.minutes,n=60%i,r=0===n?60-i:60-n;e.setMinutes(r);let s=t.find((e=>"minutes"===e.type));return GA.getPartValue(e,s,s.format.length)}case"secondsList":let e=new Date(this.timePicker.selectedDate),i=new Date(this.timePicker.maxDropdownValue);if(e.setSeconds(0),i.setSeconds(0),e.getTime()===i.getTime()){let e=t.find((e=>"seconds"===e.type));return GA.getPartValue(this.timePicker.maxDropdownValue,e,e.format.length)}{let i=this.timePicker.itemsDelta.seconds,n=60%i,r=0===n?60-i:60-n;e.setSeconds(r);let s=t.find((e=>"seconds"===e.type));return GA.getPartValue(e,s,s.format.length)}case"ampmList":let n=t.find((e=>-1!==e.format.indexOf("a")||"tt"===e.format));return GA.getPartValue(this.timePicker.maxDropdownValue,n,n.format.length)}}get hourValue(){return this.getHourPart(this.timePicker.selectedDate)}constructor(e,t){this.timePicker=e,this.itemList=t}onClick(e){if(""!==e){let t=this.itemList.type;this.timePicker.onItemClick(e,t)}}getHourPart(e){let t=GA.parseDateTimeFormat(this.timePicker.inputFormat),i=t.find((e=>"hours"===e.type)),n=t.find((e=>-1!==e.format.indexOf("a")||"tt"===e.format)),r=GA.getPartValue(e,i,i.format.length);return n?`${r} ${GA.getPartValue(e,n,n.format.length)}`:r}};return e.ɵfac=function(t){return new(t||e)(Oc(vN),Oc(yN))},e.ɵdir=ss({type:e,selectors:[["","igxTimeItem",""]],hostVars:6,hostBindings:function(e,t){1&e&&ep("click",(function(){return t.onClick(t.value)})),2&e&&xg("igx-time-picker__item",t.defaultCSS)("igx-time-picker__item--selected",t.selectedCSS)("igx-time-picker__item--active",t.activeCSS)},inputs:{value:[0,"igxTimeItem","value"]},exportAs:["timeItem"],standalone:!0}),e})(),wN={igx_time_picker_ok:"OK",igx_time_picker_cancel:"Cancel",igx_time_picker_change_time:"Change Time",igx_time_picker_choose_time:"Choose Time"},_N=(()=>{let e=class{constructor(e){this.timePicker=e}transform(e){let t=this.timePicker.inputFormat.replace("tt","aa");return new Ev(this.timePicker.locale).transform(e,t)}};return e.ɵfac=function(t){return new(t||e)(Oc(vN,16))},e.ɵpipe=os({name:"timeFormatPipe",type:e,pure:!0,standalone:!0}),e})(),CN=(()=>{let e=class{constructor(e){this.timePicker=e}transform(e,t,i,n,r){let s,o;switch(t){case"hour":s=this.generateHours(n,r);let e=this.timePicker.isTwelveHourFormat?this.toTwelveHourFormat(i.getHours()):i.getHours();s=this.scrollListItem(e,s),o=HA.Hours;break;case"minutes":s=this.generateMinutes(i,n,r),s=this.scrollListItem(i.getMinutes(),s),o=HA.Minutes;break;case"seconds":s=this.generateSeconds(i,n,r),s=this.scrollListItem(i.getSeconds(),s),o=HA.Seconds;break;case"ampm":let t=this.timePicker.getPartValue(i,"ampm");s=this.generateAmPm(n,r,t),s=this.scrollListItem(t,s),o=HA.AmPm}return this.getListView(s,o)}getListView(e,t){for(let i=0;i<e.length;i++)e[i]=this.getItemView(e[i],t);return e}getItemView(e,t){return null===e?e="":t&&"string"!=typeof e&&(e={hours:e<10&&(-1!==this.timePicker.inputFormat.indexOf("hh")||-1!==this.timePicker.inputFormat.indexOf("HH")),minutes:e<10&&-1!==this.timePicker.inputFormat.indexOf("mm"),seconds:e<10&&-1!==this.timePicker.inputFormat.indexOf("ss")}[t]?"0"+e:`${e}`),e}scrollListItem(e,t){let i,n=t.length;if(t){let r=t.indexOf(e);r<3?(i=t.slice(n-(3-r),n),i=i.concat(t.slice(0,r+4))):r+4>n?(i=t.slice(r-3,n),i=i.concat(t.slice(0,r+4-n))):i=t.slice(r-3,r+4)}return i}generateHours(e,t){let i=[],n=this.timePicker.isTwelveHourFormat?13:24;n/=this.timePicker.itemsDelta.hours;let r=e.getHours(),s=t.getHours();if(n>1)for(let e=0;e<24;e++){let t=e*this.timePicker.itemsDelta.hours;t>=r&&t<=s&&(t=this.timePicker.isTwelveHourFormat?this.toTwelveHourFormat(t):t,i.find((e=>e===t))||i.push(t))}else i.push(0);if(i.length<7||n<7||!this.timePicker.spinLoop){let e=!this.timePicker.spinLoop||i.length<7&&n<7?6:3;for(let t=0;t<e;t++)i.push(null)}return i}generateMinutes(e,t,i){let n=[],r=60/this.timePicker.itemsDelta.minutes;e=new Date(e);for(let s=0;s<r;s++){let r=s*this.timePicker.itemsDelta.minutes;e.setMinutes(r),e>=t&&e<=i&&n.push(s*this.timePicker.itemsDelta.minutes)}if(n.length<7||r<7||!this.timePicker.spinLoop){let e=!this.timePicker.spinLoop||n.length<7&&r<7?6:3;for(let t=0;t<e;t++)n.push(null)}return n}generateSeconds(e,t,i){let n=[],r=60/this.timePicker.itemsDelta.seconds;e=new Date(e);for(let s=0;s<r;s++){let r=s*this.timePicker.itemsDelta.seconds;e.setSeconds(r),e.getTime()>=t.getTime()&&e.getTime()<=i.getTime()&&n.push(s*this.timePicker.itemsDelta.seconds)}if(n.length<7||r<7||!this.timePicker.spinLoop){let e=!this.timePicker.spinLoop||n.length<7&&r<7?6:3;for(let t=0;t<e;t++)n.push(null)}return n}generateAmPm(e,t,i){let n=[],r=e.getHours(),s=t.getHours();r<12&&n.push(GA.getAmPmValue(i.length,!0)),(r>=12||s>=12)&&n.push(GA.getAmPmValue(i.length,!1));for(let e=0;e<5;e++)n.push(null);return n}toTwelveHourFormat(e){return e>12?e-=12:0===e&&(e=12),e}};return e.ɵfac=function(t){return new(t||e)(Oc(vN,16))},e.ɵpipe=os({name:"timeItemPipe",type:e,pure:!0,standalone:!0}),e})(),SN=["hourList"],bN=["minuteList"],DN=["secondsList"],IN=["ampmList"],EN=["inputGroup"],TN=[[["","igxLabel",""]],[["igx-prefix"],["","igxPrefix",""]],[["igx-suffix"],["","igxSuffix",""]],[["igx-hint"],["","igxHint",""]]],RN=["[igxLabel]","igx-prefix,[igxPrefix]","igx-suffix,[igxSuffix]","igx-hint,[igxHint]"],AN=(e,t)=>({"igx-time-picker--dropdown":e,"igx-time-picker--vertical":t}),kN=(e,t,i,n)=>[e,"hour",t,i,n],ON=(e,t,i,n)=>[e,"minutes",t,i,n],PN=(e,t,i,n)=>[e,"seconds",t,i,n],FN=(e,t,i,n)=>[e,"ampm",t,i,n];function VN(e,t){if(1&e){let e=Wg();Mg(0,"igx-prefix",21),ep("click",(function(){return Uo(e),qo(rp().toggle())})),Lg(1,"igx-icon",22),Ng()}if(2&e){let e=rp();Ac(),fg("title",e.value?e.resourceStrings.igx_time_picker_change_time:e.resourceStrings.igx_time_picker_choose_time)}}function MN(e,t){if(1&e){let e=Wg();Mg(0,"igx-suffix",21),ep("click",(function(t){return Uo(e),rp().clear(),qo(t.stopPropagation())})),Lg(1,"igx-icon",23),Ng()}}function NN(e,t){if(1&e){let e=Wg();Mg(0,"button",27),ep("click",(function(){return Uo(e),qo(rp(3).cancelButtonClick())})),fp(1),Ng()}if(2&e){let e=rp(3);Ac(),xp(" ",e.cancelButtonLabel," ")}}function LN(e,t){if(1&e){let e=Wg();Mg(0,"button",27),ep("click",(function(){return Uo(e),qo(rp(3).okButtonClick())})),fp(1),Ng()}if(2&e){let e=rp(3);Ac(),xp(" ",e.okButtonLabel," ")}}function HN(e,t){if(1&e&&(Mg(0,"div",25),Xu(1,NN,2,1,"button",26)(2,LN,2,1,"button",26),Ng()),2&e){let e=rp(2);Ac(),fg("ngIf",e.cancelButtonLabel),Ac(),fg("ngIf",e.okButtonLabel)}}function zN(e,t){if(1&e&&Xu(0,HN,3,2,"div",24),2&e){let e=rp();fg("ngIf",e.cancelButtonLabel||e.okButtonLabel)}}function BN(e,t){if(1&e&&(Mg(0,"div",28)(1,"h2",29)(2,"span"),fp(3),Xp(4,"timeFormatPipe"),Ng()()()),2&e){let e=rp();Ac(3),yp(Zp(4,1,e.selectedDate))}}function GN(e,t){if(1&e&&(Mg(0,"span",32,4),fp(2),Ng()),2&e){let e=t.$implicit,i=mp(1);fg("igxTimeItem",e),tg("role",i.isSelectedTime?"spinbutton":null)("aria-valuenow",i.isSelectedTime?i.hourValue:null)("aria-valuemin",i.isSelectedTime?i.minValue:null)("aria-valuemax",i.isSelectedTime?i.maxValue:null),Ac(2),yp(e)}}function $N(e,t){if(1&e&&(Mg(0,"div",30,3),Xu(2,GN,3,6,"span",31),Xp(3,"timeItemPipe"),Ng()),2&e){let e=rp();fg("igxItemList","hourList"),Ac(2),fg("ngForOf",tm(3,2,Lp(8,kN,e.hourItems,e.selectedDate,e.minDropdownValue,e.maxDropdownValue)))}}function WN(e,t){if(1&e&&(Mg(0,"span",34,4),fp(2),Ng()),2&e){let e=t.$implicit,i=mp(1);fg("igxTimeItem",e),tg("role",i.isSelectedTime?"spinbutton":null)("aria-valuenow",i.isSelectedTime?e:null)("aria-valuemin",i.isSelectedTime?i.minValue:null)("aria-valuemax",i.isSelectedTime?i.maxValue:null),Ac(2),yp(e)}}function KN(e,t){if(1&e&&(Mg(0,"div",30,5),Xu(2,WN,3,6,"span",33),Xp(3,"timeItemPipe"),Ng()),2&e){let e=rp();fg("igxItemList","minuteList"),Ac(2),fg("ngForOf",tm(3,2,Lp(8,ON,e.minuteItems,e.selectedDate,e.minDropdownValue,e.maxDropdownValue)))}}function jN(e,t){if(1&e&&(Mg(0,"span",36,4),fp(2),Ng()),2&e){let e=t.$implicit,i=mp(1);fg("igxTimeItem",e),tg("role",i.isSelectedTime?"spinbutton":null)("aria-valuenow",i.isSelectedTime?e:null)("aria-valuemin",i.isSelectedTime?i.minValue:null)("aria-valuemax",i.isSelectedTime?i.maxValue:null),Ac(2),yp(e)}}function UN(e,t){if(1&e&&(Mg(0,"div",30,6),Xu(2,jN,3,6,"span",35),Xp(3,"timeItemPipe"),Ng()),2&e){let e=rp();fg("igxItemList","secondsList"),Ac(2),fg("ngForOf",tm(3,2,Lp(8,PN,e.secondsItems,e.selectedDate,e.minDropdownValue,e.maxDropdownValue)))}}function qN(e,t){if(1&e&&(Mg(0,"span",38,4),fp(2),Ng()),2&e){let e=t.$implicit,i=mp(1);fg("igxTimeItem",e),tg("role",i.isSelectedTime?"spinbutton":null)("aria-valuenow",i.isSelectedTime?e:null)("aria-valuemin",i.isSelectedTime?i.minValue:null)("aria-valuemax",i.isSelectedTime?i.maxValue:null),Ac(2),yp(e)}}function YN(e,t){if(1&e&&(Mg(0,"div",30,7),Xu(2,qN,3,6,"span",37),Xp(3,"timeItemPipe"),Ng()),2&e){let e=rp();fg("igxItemList","ampmList"),Ac(2),fg("ngForOf",tm(3,2,Lp(8,FN,e.ampmItems,e.selectedDate,e.minDropdownValue,e.maxDropdownValue)))}}function XN(e,t){1&e&&Gg(0)}var ZN=0,QN=(()=>{let e=class extends dM{set minValue(e){this._minValue=e;let t=this.parseToDate(e);t&&(this._dateMinValue=new Date,this._dateMinValue.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),this.minDropdownValue=this.setMinMaxDropdownValue("min",this._dateMinValue)),this.setSelectedValue(this._selectedDate),this._onValidatorChange()}get minValue(){return this._minValue}get collapsed(){return this.toggleRef?.collapsed}set maxValue(e){this._maxValue=e;let t=this.parseToDate(e);t&&(this._dateMaxValue=new Date,this._dateMaxValue.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),this.maxDropdownValue=this.setMinMaxDropdownValue("max",this._dateMaxValue)),this.setSelectedValue(this._selectedDate),this._onValidatorChange()}get maxValue(){return this._maxValue}get showClearButton(){return!this.clearComponents.length&&(GA.isValidDate(this.value)?0!==this.value.getHours()||0!==this.value.getMinutes()||0!==this.value.getSeconds()||0!==this.value.getMilliseconds():!!this.dateTimeEditor.value)}get showHoursList(){return-1!==this.inputFormat.indexOf("h")||-1!==this.inputFormat.indexOf("H")}get showMinutesList(){return-1!==this.inputFormat.indexOf("m")}get showSecondsList(){return-1!==this.inputFormat.indexOf("s")}get showAmPmList(){return-1!==this.inputFormat.indexOf("t")||-1!==this.inputFormat.indexOf("a")}get isTwelveHourFormat(){return-1!==this.inputFormat.indexOf("h")}get isVertical(){return this.headerOrientation===ZV}get selectedDate(){return this._selectedDate}get minDateValue(){if(!this._dateMinValue){let e=new Date;return e.setHours(0,0,0,0),e}return this._dateMinValue}get maxDateValue(){if(!this._dateMaxValue){let e=new Date;return e.setHours(23,59,59,999),e}return this._dateMaxValue}get required(){if(this._ngControl&&this._ngControl.control&&this._ngControl.control.validator){let e=this._ngControl.control.validator({});return!(!e||!e.required)}return!1}get dialogOverlaySettings(){return Object.assign({},this._defaultDialogOverlaySettings,this.overlaySettings)}get dropDownOverlaySettings(){return Object.assign({},this._defaultDropDownOverlaySettings,this.overlaySettings)}get value(){return this._value}set value(e){let t=this._value;this._value=e;let i=this.parseToDate(e);i?(this._dateValue=new Date,this._dateValue.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),this.setSelectedValue(this._dateValue)):(this._dateValue=null,this.setSelectedValue(null)),this.dateTimeEditor&&(this.dateTimeEditor.value=i),this.emitValueChange(t,this._value),this._onChangeCallback(this._value)}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}set okButtonLabel(e){this._okButtonLabel=e}get okButtonLabel(){return null===this._okButtonLabel?this.resourceStrings.igx_time_picker_ok:this._okButtonLabel}set cancelButtonLabel(e){this._cancelButtonLabel=e}get cancelButtonLabel(){return null===this._cancelButtonLabel?this.resourceStrings.igx_time_picker_cancel:this._cancelButtonLabel}set itemsDelta(e){Object.assign(this._itemsDelta,e)}get itemsDelta(){return this._itemsDelta}constructor(e,t,i,n,r,s){super(e,t,i),this._injector=n,this.platform=r,this.cdr=s,this.id="igx-time-picker-"+ZN++,this.inputFormat=GA.DEFAULT_TIME_INPUT_FORMAT,this.mode=QV,this.spinLoop=!0,this.headerOrientation=XV,this.readOnly=!1,this.selected=new yl,this.valueChange=new yl,this.validationFailed=new yl,this.cleared=!1,this.isNotEmpty=!1,this.displayValue={transform:e=>this.formatter(e)},this.hourItems=[],this.minuteItems=[],this.secondsItems=[],this.ampmItems=[],this._resourceStrings=MT(wN),this._okButtonLabel=null,this._cancelButtonLabel=null,this._itemsDelta={hours:1,minutes:1,seconds:1,fractionalSeconds:1},this._ngControl=null,this._onChangeCallback=Ot,this._onTouchedCallback=Ot,this._onValidatorChange=Ot,this._defaultDialogOverlaySettings={closeOnOutsideClick:!0,modal:!0,closeOnEscape:!0,outlet:this.outlet},this._defaultDropDownOverlaySettings={target:this.element.nativeElement,modal:!1,closeOnOutsideClick:!0,scrollStrategy:new XE,positionStrategy:new GE,outlet:this.outlet},this.locale=this.locale||this._localeId}onKeyDown(e){switch(e.key){case this.platform.KEYMAP.ARROW_UP:e.altKey&&this.isDropdown&&this.close();break;case this.platform.KEYMAP.ARROW_DOWN:e.altKey&&this.isDropdown&&this.open();break;case this.platform.KEYMAP.ESCAPE:this.cancelButtonClick();break;case this.platform.KEYMAP.SPACE:this.open(),e.preventDefault()}}getPartValue(e,t){let i=GA.parseDateTimeFormat(this.inputFormat).find((e=>e.type===t));return GA.getPartValue(e,i,i.format.length)}toISOString(e){return e.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3})}writeValue(e){this._value=e;let t=this.parseToDate(e);t?(this._dateValue=new Date,this._dateValue.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),this.setSelectedValue(this._dateValue)):this.setSelectedValue(null),this.dateTimeEditor&&(this.dateTimeEditor.value=t)}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}registerOnValidatorChange(e){this._onValidatorChange=e}validate(e){if(!e.value)return null;if(pC(e.value)&&!GA.isValidDate(e.value))return{value:!0};let t={},i=GA.isValidDate(e.value)?e.value:GA.parseIsoDate(e.value);return Object.assign(t,GA.validateMinMax(i,this.minValue,this.maxValue,!0,!1)),Object.keys(t).length>0?t:null}setDisabledState(e){this.disabled=e}ngOnInit(){this._ngControl=this._injector.get(ux,null),this.minDropdownValue=this.setMinMaxDropdownValue("min",this.minDateValue),this.maxDropdownValue=this.setMinMaxDropdownValue("max",this.maxDateValue),this.setSelectedValue(this._dateValue)}ngAfterViewInit(){super.ngAfterViewInit(),this.subscribeToDateEditorEvents(),this.subscribeToToggleDirectiveEvents(),this._defaultDropDownOverlaySettings.excludeFromOutsideClick=[this._inputGroup.element.nativeElement],en(this.inputDirective.nativeElement,"blur").pipe(mn(this._destroy$)).subscribe((()=>{this.collapsed&&this.updateValidityOnBlur()})),this.subToIconsClicked(this.clearComponents,(()=>this.clear())),this.clearComponents.changes.pipe(mn(this._destroy$)).subscribe((()=>this.subToIconsClicked(this.clearComponents,(()=>this.clear())))),this._ngControl&&(this._statusChanges$=this._ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this)),this._inputGroup.isRequired=this.required,this.cdr.detectChanges())}ngOnDestroy(){super.ngOnDestroy(),this._statusChanges$&&this._statusChanges$.unsubscribe()}getEditElement(){return this.dateTimeEditor.nativeElement}open(e){if(this.disabled||!this.toggleRef.collapsed)return;this.setSelectedValue(this._dateValue);let t=Object.assign({},this.isDropdown?this.dropDownOverlaySettings:this.dialogOverlaySettings,e);this.toggleRef.open(t)}close(){this.toggleRef.close()}toggle(e){this.toggleRef.collapsed?this.open(e):this.close()}clear(){if(!this.disabled)if(this.toggleRef.collapsed||this.close(),GA.isValidDate(this.value)){let e=new Date(this.value);this.value.setHours(0,0,0,0),this.value.getTime()!==e.getTime()&&(this.emitValueChange(e,this.value),this._dateValue.setHours(0,0,0,0),this.dateTimeEditor.value=new Date(this.value),this.setSelectedValue(this._dateValue))}else this.value=null}select(e){this.value=e}increment(e,t){this.dateTimeEditor.increment(e,t)}decrement(e,t){this.dateTimeEditor.decrement(e,t)}cancelButtonClick(){this.setSelectedValue(this._dateValue),this.dateTimeEditor.value=this.parseToDate(this.value),this.close()}okButtonClick(){this.updateValue(this._selectedDate),this.close()}onItemClick(e,t){let i=new Date(this._selectedDate);switch(t){case"hourList":{let t,n=parseInt(e,10);if(this.showAmPmList){t=this.getPartValue(i,"ampm"),n=this.toTwentyFourHourFormat(n,t);let e=this.minDropdownValue?.getHours()||0,r=this.maxDropdownValue?.getHours()||24;(n<e||n>r)&&(n=n<12?n+12:n-12)}i.setHours(n),i=this.validateDropdownValue(i),this.valueInRange(i,this.minDropdownValue,this.maxDropdownValue)&&this.setSelectedValue(i);break}case"minuteList":{let t=parseInt(e,10);i.setMinutes(t),i=this.validateDropdownValue(i),this.setSelectedValue(i);break}case"secondsList":{let t=parseInt(e,10);i.setSeconds(t),this.valueInRange(i,this.minDropdownValue,this.maxDropdownValue)&&this.setSelectedValue(i);break}case"ampmList":{let t=this._selectedDate.getHours();t=GA.isAm(e)?t-12:t+12,i.setHours(t),i=this.validateDropdownValue(i,!0),this.setSelectedValue(i);break}}this.updateEditorValue()}nextHour(e){e=e>0?1:-1;let t=new Date(this._selectedDate),i=this.minDropdownValue?.getHours(),n=this.maxDropdownValue?.getHours(),r=t.getHours(),s=r+e*this.itemsDelta.hours;(r===n&&e>0||r===i&&e<0)&&(s=this.spinLoop?e>0?i:n:r),this._selectedDate.setHours(s),this._selectedDate=this.validateDropdownValue(this._selectedDate),this._selectedDate=new Date(this._selectedDate),this.updateEditorValue()}nextMinute(e){e=e>0?1:-1;let t=this.minDropdownValue.getHours(),i=this.maxDropdownValue.getHours(),n=this._selectedDate.getHours(),r=this._selectedDate.getMinutes(),s=n===t?this.minDropdownValue.getMinutes():0,o=n===i?this.maxDropdownValue.getMinutes():60%this.itemsDelta.minutes>0?60-60%this.itemsDelta.minutes:60-this.itemsDelta.minutes;e<0&&r===s||e>0&&r===o?r=this.spinLoop&&r===s?o:this.spinLoop&&r===o?s:r:r+=e*this.itemsDelta.minutes,this._selectedDate.setMinutes(r),this._selectedDate=this.validateDropdownValue(this._selectedDate),this._selectedDate=new Date(this._selectedDate),this.updateEditorValue()}nextSeconds(e){e=e>0?1:-1;let t=this.minDropdownValue.getHours(),i=this.maxDropdownValue.getHours(),n=this._selectedDate.getHours(),r=this._selectedDate.getMinutes(),s=this.minDropdownValue.getMinutes(),o=this.maxDropdownValue.getMinutes(),a=this._selectedDate.getSeconds(),l=n===t&&r===s?this.minDropdownValue.getSeconds():0,d=n===i&&r===o?this.maxDropdownValue.getSeconds():60%this.itemsDelta.seconds>0?60-60%this.itemsDelta.seconds:60-this.itemsDelta.seconds;e<0&&a===l||e>0&&a===d?a=this.spinLoop&&a===l?d:this.spinLoop&&a===d?l:a:a+=e*this.itemsDelta.seconds,this._selectedDate.setSeconds(a),this._selectedDate=this.validateDropdownValue(this._selectedDate),this._selectedDate=new Date(this._selectedDate),this.updateEditorValue()}nextAmPm(e){let t=this.getPartValue(this._selectedDate,"ampm");if(!e||GA.isAm(t)&&e>0||GA.isPm(t)&&e<0){let e=this._selectedDate.getHours();e+=12*(e<12?1:-1),this._selectedDate.setHours(e),this._selectedDate=this.validateDropdownValue(this._selectedDate,!0),this._selectedDate=new Date(this._selectedDate),this.updateEditorValue()}}setSelectedValue(e){this._selectedDate=e?new Date(e):null,GA.isValidDate(this._selectedDate)?this.minValue&&GA.lessThanMinValue(this._selectedDate,this.minDropdownValue,!0,!1)?this._selectedDate=new Date(this.minDropdownValue):this.maxValue&&GA.greaterThanMaxValue(this._selectedDate,this.maxDropdownValue,!0,!1)?this._selectedDate=new Date(this.maxDropdownValue):(this._selectedDate.getHours()%this.itemsDelta.hours>0&&this._selectedDate.setHours(this._selectedDate.getHours()+this.itemsDelta.hours-this._selectedDate.getHours()%this.itemsDelta.hours,0,0),this._selectedDate.getMinutes()%this.itemsDelta.minutes>0&&this._selectedDate.setHours(this._selectedDate.getHours(),this._selectedDate.getMinutes()+this.itemsDelta.minutes-this._selectedDate.getMinutes()%this.itemsDelta.minutes,0),this._selectedDate.getSeconds()%this.itemsDelta.seconds>0&&this._selectedDate.setSeconds(this._selectedDate.getSeconds()+this.itemsDelta.seconds-this._selectedDate.getSeconds()%this.itemsDelta.seconds)):this._selectedDate=new Date(this.minDropdownValue)}onStatusChanged(){this._ngControl&&!this._ngControl.disabled&&this.isTouchedOrDirty?this.hasValidators&&this._inputGroup.isFocused?this.inputDirective.valid=this._ngControl.valid?gT.VALID:gT.INVALID:this.inputDirective.valid=this._ngControl.valid?gT.INITIAL:gT.INVALID:this.inputDirective.valid=gT.INITIAL,this._inputGroup&&this._inputGroup.isRequired!==this.required&&(this._inputGroup.isRequired=this.required)}get isTouchedOrDirty(){return this._ngControl.control.touched||this._ngControl.control.dirty}get hasValidators(){return!!this._ngControl.control.validator||!!this._ngControl.control.asyncValidator}setMinMaxDropdownValue(e,t){let i,n="min"===e?1:-1,r=t.getHours(),s=t.getMinutes(),o=t.getSeconds();return this.showHoursList&&r%this.itemsDelta.hours>0?(i="min"===e?this.itemsDelta.hours-r%this.itemsDelta.hours:r%this.itemsDelta.hours,s="min"===e?0:60%this.itemsDelta.minutes>0?60-60%this.itemsDelta.minutes:60-this.itemsDelta.minutes,o="min"===e?0:60%this.itemsDelta.seconds>0?60-60%this.itemsDelta.seconds:60-this.itemsDelta.seconds,t.setHours(r+n*i,s,o)):this.showMinutesList&&s%this.itemsDelta.minutes>0?(i="min"===e?this.itemsDelta.minutes-s%this.itemsDelta.minutes:s%this.itemsDelta.minutes,o="min"===e?0:60%this.itemsDelta.seconds>0?60-60%this.itemsDelta.seconds:60-this.itemsDelta.seconds,t.setHours(r,s+n*i,o)):this.showSecondsList&&o%this.itemsDelta.seconds>0&&(i="min"===e?this.itemsDelta.seconds-o%this.itemsDelta.seconds:o%this.itemsDelta.seconds,t.setHours(r,s,o+n*i)),t}initializeContainer(){requestAnimationFrame((()=>{this.hourList?this.hourList.nativeElement.focus():this.minuteList?this.minuteList.nativeElement.focus():this.secondsList&&this.secondsList.nativeElement.focus()}))}validateDropdownValue(e,t=!1){return e>this.maxDropdownValue&&(t&&e.getHours()!==this.maxDropdownValue.getHours()?e.setHours(12):e=new Date(this.maxDropdownValue)),e<this.minDropdownValue&&(e=new Date(this.minDropdownValue)),e}emitValueChange(e,t){mC(e,t)||this.valueChange.emit(t)}emitValidationFailedEvent(e){let t={owner:this,previousValue:e,currentValue:this.value};this.validationFailed.emit(t)}updateValidityOnBlur(){this._onTouchedCallback(),this._ngControl&&(this._ngControl.valid?this.inputDirective.valid=gT.INITIAL:this.inputDirective.valid=gT.INVALID)}valueInRange(e,t,i){return!(t&&GA.lessThanMinValue(e,t,!0,!1)||i&&GA.greaterThanMaxValue(e,i,!0,!1))}parseToDate(e){return GA.isValidDate(e)?e:GA.parseIsoDate(e)}toTwentyFourHourFormat(e,t){return GA.isPm(t)&&e<12?e+=12:GA.isAm(t)&&12===e&&(e=0),e}updateValue(e){if(this.value)if(pC(this.value)){let t=new Date(this.value);t.setHours(e?.getHours()||0,e?.getMinutes()||0,e?.getSeconds()||0,e?.getMilliseconds()||0),this.value=t}else this.value=e&&this.toISOString(e);else this.value=e&&new Date(e)}updateEditorValue(){let e=this.dateTimeEditor.value?new Date(this.dateTimeEditor.value):new Date;e.setHours(this._selectedDate.getHours(),this._selectedDate.getMinutes(),this._selectedDate.getSeconds(),this._selectedDate.getMilliseconds()),this.dateTimeEditor.value=e}subscribeToDateEditorEvents(){this.dateTimeEditor.valueChange.pipe(mn(this._destroy$)).subscribe((e=>{this.updateValue(e)})),this.dateTimeEditor.validationFailed.pipe(mn(this._destroy$)).subscribe((e=>{this.emitValidationFailedEvent(e.oldValue)}))}subscribeToToggleDirectiveEvents(){this.toggleRef&&(this._inputGroup&&(this.toggleRef.element.style.width=this._inputGroup.element.nativeElement.getBoundingClientRect().width+"px"),this.toggleRef.opening.pipe(mn(this._destroy$)).subscribe((e=>{let t={owner:this,event:e.event,cancel:!1};this.opening.emit(t),e.cancel=t.cancel,!t.cancel&&this.initializeContainer()})),this.toggleRef.opened.pipe(mn(this._destroy$)).subscribe((()=>{this.opened.emit({owner:this})})),this.toggleRef.closed.pipe(mn(this._destroy$)).subscribe((()=>{this.closed.emit({owner:this})})),this.toggleRef.closing.pipe(mn(this._destroy$)).subscribe((e=>{let t={owner:this,event:e.event,cancel:!1};if(this.closing.emit(t),e.cancel=t.cancel,t.cancel)return;let i=this.parseToDate(this.value);this.dateTimeEditor.value?.getTime()!==i?.getTime()&&this.updateValue(this._selectedDate);let n=this.getEditElement();!n||e.event&&this.isDropdown?this.updateValidityOnBlur():n.focus()})))}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(bm),Oc(bT,8),Oc(hl),Oc(fC),Oc(Pm))},e.ɵcmp=es({type:e,selectors:[["igx-time-picker"]],contentQueries:function(e,t,i){if(1&e&&(hp(i,fT,5),hp(i,qV,5),hp(i,UV,4)),2&e){let e;gp(e=pp())&&(t.label=e.first),gp(e=pp())&&(t.timePickerActionsDirective=e.first),gp(e=pp())&&(t.clearComponents=e)}},viewQuery:function(e,t){if(1&e&&(up(SN,5),up(bN,5),up(DN,5),up(IN,5),up(pT,5,pT),up(EN,7,PR),up($A,7),up(OA,5)),2&e){let e;gp(e=pp())&&(t.hourList=e.first),gp(e=pp())&&(t.minuteList=e.first),gp(e=pp())&&(t.secondsList=e.first),gp(e=pp())&&(t.ampmList=e.first),gp(e=pp())&&(t.inputDirective=e.first),gp(e=pp())&&(t._inputGroup=e.first),gp(e=pp())&&(t.dateTimeEditor=e.first),gp(e=pp())&&(t.toggleRef=e.first)}},hostVars:1,hostBindings:function(e,t){1&e&&ep("keydown",(function(e){return t.onKeyDown(e)})),2&e&&tg("id",t.id)},inputs:{id:"id",displayFormat:"displayFormat",inputFormat:"inputFormat",mode:"mode",minValue:"minValue",maxValue:"maxValue",spinLoop:[2,"spinLoop","spinLoop",Zm],formatter:"formatter",headerOrientation:"headerOrientation",readOnly:[2,"readOnly","readOnly",Zm],value:"value",resourceStrings:"resourceStrings",okButtonLabel:"okButtonLabel",cancelButtonLabel:"cancelButtonLabel",itemsDelta:"itemsDelta"},outputs:{selected:"selected",valueChange:"valueChange",validationFailed:"validationFailed"},standalone:!0,features:[kp([{provide:Ny,useExisting:e,multi:!0},{provide:vN,useExisting:e},{provide:$y,useExisting:e,multi:!0}]),Vu,Ru,Pp],ngContentSelectors:RN,decls:26,vars:27,consts:[["inputGroup",""],["defaultTimePickerActions",""],["toggleDirective","toggle"],["hourList",""],["timeItem","timeItem"],["minuteList",""],["secondsList",""],["ampmList",""],[3,"type"],["igxInput","","type","text","role","combobox","aria-haspopup","dialog",3,"click","displayValuePipe","igxDateTimeEditor","readonly","minValue","maxValue","locale","spinDelta","spinLoop","placeholder","disabled","displayFormat","igxTextSelection"],[3,"click",4,"ngIf"],["ngProjectAs","[igxLabel]",5,["","igxLabel",""]],["ngProjectAs","igx-prefix",5,["igx-prefix"]],["ngProjectAs","igx-suffix",5,["igx-suffix"]],["ngProjectAs","igx-hint",5,["igx-hint"]],["igxToggle","","role","dialog",1,"igx-time-picker",3,"ngClass"],[1,"igx-time-picker__main"],["class","igx-time-picker__header",4,"ngIf"],[1,"igx-time-picker__body"],[3,"igxItemList",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"click"],["family","default","name","clock",3,"title"],["family","default","name","input_clear"],["class","igx-time-picker__buttons",4,"ngIf"],[1,"igx-time-picker__buttons"],["type","button","igxButton","flat",3,"click",4,"ngIf"],["type","button","igxButton","flat",3,"click"],[1,"igx-time-picker__header"],[1,"igx-time-picker__header-hour"],[3,"igxItemList"],["aria-label","hour",3,"igxTimeItem",4,"ngFor","ngForOf"],["aria-label","hour",3,"igxTimeItem"],["aria-label","minutes",3,"igxTimeItem",4,"ngFor","ngForOf"],["aria-label","minutes",3,"igxTimeItem"],["aria-label","seconds",3,"igxTimeItem",4,"ngFor","ngForOf"],["aria-label","seconds",3,"igxTimeItem"],["aria-label","ampm",3,"igxTimeItem",4,"ngFor","ngForOf"],["aria-label","ampm",3,"igxTimeItem"]],template:function(e,t){if(1&e){let e=Wg();op(TN),Mg(0,"igx-input-group",8,0)(2,"input",9),ep("click",(function(){return Uo(e),qo(!t.isDropdown&&t.toggle())})),Ng(),Xu(3,VN,2,1,"igx-prefix",10),zg(4,11),ap(5),Bg(),zg(6,12),ap(7,1),Bg(),Xu(8,MN,2,0,"igx-suffix",10),zg(9,13),ap(10,2),Bg(),zg(11,14),ap(12,3),Bg(),Ng(),Xu(13,zN,1,1,"ng-template",null,1,nm),Mg(15,"div",15,2)(17,"div",16),Xu(18,BN,5,3,"div",17),Mg(19,"div",18),Xu(20,$N,4,13,"div",19)(21,KN,4,13,"div",19)(22,UN,4,13,"div",19)(23,YN,4,13,"div",19),Ng()(),Lg(24,"igx-divider"),Xu(25,XN,1,0,"ng-container",20),Ng()}if(2&e){let e=mp(14),i=mp(16);fg("type",t.type),Ac(2),fg("displayValuePipe",t.formatter?t.displayValue:null)("igxDateTimeEditor",t.inputFormat)("readonly",!t.isDropdown||t.readOnly)("minValue",t.minValue)("maxValue",t.maxValue)("locale",t.locale)("spinDelta",t.itemsDelta)("spinLoop",t.spinLoop)("placeholder",t.placeholder)("disabled",t.disabled)("displayFormat",t.displayFormat)("igxTextSelection",t.isDropdown&&!t.readOnly),tg("aria-expanded",!i.collapsed)("aria-labelledby",null==t.label?null:t.label.id),Ac(),fg("ngIf",!t.toggleComponents.length),Ac(5),fg("ngIf",t.showClearButton),Ac(7),fg("ngClass",Mp(24,AN,t.isDropdown,t.isVertical&&!t.isDropdown)),Ac(3),fg("ngIf",!t.isDropdown),Ac(2),fg("ngIf",t.showHoursList),Ac(),fg("ngIf",t.showMinutesList),Ac(),fg("ngIf",t.showSecondsList),Ac(),fg("ngIf",t.showAmPmList),Ac(2),fg("ngTemplateOutlet",t.timePickerActionsDirective?t.timePickerActionsDirective.template:e)}},dependencies:[PR,pT,$A,RA,cv,vT,FT,yT,ST,OA,av,yN,lv,xN,yv,_N,CN,NR],styles:["[_nghost-%COMP%]{display:block}"]}),e})(),JN=["*"];function eL(e,t){if(1&e&&(Mg(0,"div",3)(1,"div",4)(2,"span"),fp(3),Ng()(),Mg(4,"div",5)(5,"span"),fp(6),Ng()()()),2&e){let e=rp();Ac(3),yp(e.resourceStrings.igx_query_builder_and_label),Ac(3),yp(e.resourceStrings.igx_query_builder_or_label)}}var tL=(()=>{let e=class{constructor(){this._resourceStrings=MT(YM),this.showLegend=!0}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}};return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=es({type:e,selectors:[["igx-query-builder-header"]],inputs:{title:"title",showLegend:[2,"showLegend","showLegend",Zm],resourceStrings:"resourceStrings"},standalone:!0,features:[Vu,Pp],ngContentSelectors:JN,decls:5,vars:2,consts:[[1,"igx-query-builder__header"],[1,"ig-typography__h6",2,"pointer-events","none"],["class","igx-builder-legend",4,"ngIf"],[1,"igx-builder-legend"],[1,"igx-builder-legend__item--and"],[1,"igx-builder-legend__item--or"]],template:function(e,t){1&e&&(op(),Mg(0,"div",0)(1,"div",1),fp(2),ap(3),Ng(),Xu(4,eL,7,2,"div",2),Ng()),2&e&&(Ac(2),xp(" ",t.title||t.resourceStrings.igx_query_builder_title," "),Ac(2),fg("ngIf",t.showLegend))},dependencies:[cv],encapsulation:2}),e})(),iL=["fieldSelect"],nL=["conditionSelect"],rL=["searchValueInput"],sL=["picker"],oL=["addRootAndGroupButton"],aL=["addConditionButton"],lL=["editingInputsContainer"],dL=["addModeContainer"],cL=["currentGroupButtonsContainer"],hL=["expressionsContainer"],uL=["overlayOutlet"],gL=[[["igx-query-builder-header"]]],pL=["igx-query-builder-header"],mL=(e,t,i)=>({"igx-filter-tree__line--and":e,"igx-filter-tree__line--or":t,"igx-filter-tree__line--selected":i});function fL(e,t){1&e&&Lg(0,"igx-icon",25)}function vL(e,t){1&e&&Lg(0,"igx-icon",26)}function yL(e,t){1&e&&Lg(0,"igx-query-builder-header",27),2&e&&fg("resourceStrings",rp().resourceStrings)}function xL(e,t){1&e&&Gg(0)}function wL(e,t){1&e&&Gg(0)}function _L(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"button",28,7),ep("click",(function(){return Uo(e),qo(rp().addAndGroup())})),Xu(3,xL,1,0,"ng-container",23),Mg(4,"span"),fp(5),Ng()(),Mg(6,"button",28),ep("click",(function(){return Uo(e),qo(rp().addOrGroup())})),Xu(7,wL,1,0,"ng-container",23),Mg(8,"span"),fp(9),Ng()(),Mg(10,"div",29)(11,"h6",30),fp(12),Ng()(),Bg()}if(2&e){let e=rp(),t=mp(1);Ac(3),fg("ngTemplateOutlet",t),Ac(2),yp(e.resourceStrings.igx_query_builder_and_group),Ac(2),fg("ngTemplateOutlet",t),Ac(2),yp(e.resourceStrings.igx_query_builder_or_group),Ac(3),xp(" ",e.resourceStrings.igx_query_builder_initial_text," ")}}function CL(e,t){1&e&&Gg(0)}function SL(e,t){1&e&&Gg(0)}function bL(e,t){1&e&&Gg(0)}function DL(e,t){if(1&e){let e=Wg();Mg(0,"button",31,8),ep("click",(function(){let t=Uo(e),i=t.$implicit,n=t.afterExpression;return qo(rp().addCondition(i,n))})),Xu(2,CL,1,0,"ng-container",23),Mg(3,"span"),fp(4),Ng()(),Mg(5,"button",31),ep("click",(function(){let t=Uo(e),i=t.$implicit,n=t.afterExpression;return qo(rp().addAndGroup(i,n))})),Xu(6,SL,1,0,"ng-container",23),Mg(7,"span"),fp(8),Ng()(),Mg(9,"button",31),ep("click",(function(){let t=Uo(e),i=t.$implicit,n=t.afterExpression;return qo(rp().addOrGroup(i,n))})),Xu(10,bL,1,0,"ng-container",23),Mg(11,"span"),fp(12),Ng()()}if(2&e){let e=rp(),t=mp(1);fg("disabled",e.hasEditedExpression),Ac(2),fg("ngTemplateOutlet",t),Ac(2),yp(e.resourceStrings.igx_query_builder_add_condition),Ac(),fg("disabled",e.hasEditedExpression),Ac(),fg("ngTemplateOutlet",t),Ac(2),yp(e.resourceStrings.igx_query_builder_and_group),Ac(),fg("disabled",e.hasEditedExpression),Ac(),fg("ngTemplateOutlet",t),Ac(2),yp(e.resourceStrings.igx_query_builder_or_group)}}function IL(e,t){if(1&e&&(Mg(0,"span",42),fp(1),Xp(2,"fieldFormatter"),Xp(3,"date"),Ng()),2&e){let e=rp(2).$implicit,t=rp();Ac(),xp(" ",t.isDate(e.expression.searchVal)?t.getFormatter(e.expression.fieldName)?Jp(2,1,e.expression.searchVal,t.getFormatter(e.expression.fieldName),void 0):em(3,5,e.expression.searchVal,t.getFormat(e.expression.fieldName),void 0,t.locale):e.expression.searchVal," ")}}function EL(e,t){1&e&&Lg(0,"igx-icon",25)}function TL(e,t){if(1&e){let e=Wg();Mg(0,"div",43)(1,"span",44),ep("keydown",(function(t){return Uo(e),qo(rp(3).invokeClick(t))}))("click",(function(){Uo(e);let t=rp(2).$implicit;return qo(rp().enterExpressionEdit(t))})),Lg(2,"igx-icon",45),Ng(),Mg(3,"span",44),ep("keydown",(function(t){return Uo(e),qo(rp(3).invokeClick(t))}))("click",(function(){Uo(e);let t=rp(2).$implicit;return qo(rp().enterExpressionAdd(t))})),Xu(4,EL,1,0,"igx-icon",46),Ng()()}if(2&e){let e=rp(2).$implicit,t=rp();Ac(4),fg("ngIf",!e.inAddMode&&(e.parent!==t.currentGroup||e!==t.currentGroup.children[t.currentGroup.children.length-1]))}}function RL(e,t){if(1&e){let e=Wg();Mg(0,"div",35),ep("mouseenter",(function(){return Uo(e),qo(rp().$implicit.hovered=!0)}))("mouseleave",(function(){return Uo(e),qo(rp().$implicit.hovered=!1)})),Mg(1,"igx-chip",36),ep("keydown",(function(t){return Uo(e),qo(rp(2).invokeClick(t))}))("click",(function(){Uo(e);let t=rp().$implicit;return qo(rp().onChipClick(t))}))("dblclick",(function(){Uo(e);let t=rp().$implicit;return qo(rp().onChipDblClick(t))}))("remove",(function(){Uo(e);let t=rp().$implicit;return qo(rp().onChipRemove(t))}))("selectedChanged",(function(){return Uo(e),qo(rp(2).onChipSelectionEnd())})),Mg(2,"span",37),fp(3),Ng(),Mg(4,"igx-prefix"),Lg(5,"igx-icon",38),Ng(),Mg(6,"span",39),fp(7),Ng(),Xu(8,IL,4,10,"span",40),Ng(),Xu(9,TL,5,1,"div",41),Ng()}if(2&e){let e=rp().$implicit,t=rp();Ac(),fg("data",e)("removable",!0)("selected",e.selected),Ac(2),yp(e.fieldLabel||e.expression.fieldName),Ac(2),fg("name",e.expression.condition.iconName),Ac(2),xp(" ",t.getConditionFriendlyName(e.expression.condition.name)," "),Ac(),fg("ngIf",!e.expression.condition.isUnary),Ac(),fg("ngIf",e.selected&&1===t.selectedExpressions.length||e.hovered)}}function AL(e,t){if(1&e&&(Mg(0,"igx-select-item",60),fp(1),Ng()),2&e){let e=t.$implicit;fg("value",e),Ac(),xp(" ",e.label||e.header||e.field," ")}}function kL(e,t){if(1&e&&(Mg(0,"igx-prefix"),Lg(1,"igx-icon",38),Ng()),2&e){rp();let e=mp(6),t=rp(2);Ac(),fg("name",t.selectedField.filters.condition(e.value).iconName)}}function OL(e,t){if(1&e&&(Mg(0,"igx-select-item",61)(1,"div",62),Lg(2,"igx-icon",38),Mg(3,"span",63),fp(4),Ng()()()),2&e){let e=t.$implicit,i=rp(3);fg("value",e)("text",i.getConditionFriendlyName(e)),Ac(2),fg("name",i.selectedField.filters.condition(e).iconName),Ac(2),yp(i.getConditionFriendlyName(e))}}function PL(e,t){if(1&e){let e=Wg();Mg(0,"igx-input-group",64)(1,"input",65,12),Sp("ngModelChange",(function(t){Uo(e);let i=rp(3);return Cp(i.searchValue,t)||(i.searchValue=t),qo(t)})),Ng()()}if(2&e){let e=rp(3);Ac(),fg("disabled",!e.selectedField||!e.selectedCondition||e.selectedField&&e.selectedField.filters.condition(e.selectedCondition).isUnary)("type",e.selectedField&&"number"===e.selectedField.dataType?"number":"text")("placeholder",e.resourceStrings.igx_query_builder_value_placeholder),_p("ngModel",e.searchValue)}}function FL(e,t){if(1&e){let e=Wg();Mg(0,"igx-date-picker",66,13),Sp("valueChange",(function(t){Uo(e);let i=rp(3);return Cp(i.searchValue,t)||(i.searchValue=t),qo(t)})),ep("keydown",(function(t){return Uo(e),qo(rp(3).openPicker(t))}))("click",(function(){return Uo(e),qo(mp(1).open())})),Lg(2,"igx-picker-toggle")(3,"igx-picker-clear"),Ng()}if(2&e){let e=rp(3);_p("value",e.searchValue),fg("readOnly",!0)("placeholder",e.resourceStrings.igx_query_builder_date_placeholder)("disabled",!e.selectedField||!e.selectedCondition||e.selectedField&&e.selectedField.filters.condition(e.selectedCondition).isUnary)("locale",e.locale)("outlet",e.pickerOutlet)("formatter",e.selectedField.formatter)("displayFormat",e.selectedField.pipeArgs.format)("weekStart",e.selectedField.pipeArgs.weekStart)}}function VL(e,t){if(1&e){let e=Wg();Mg(0,"igx-time-picker",67,13),Sp("valueChange",(function(t){Uo(e);let i=rp(3);return Cp(i.searchValue,t)||(i.searchValue=t),qo(t)})),ep("click",(function(){return Uo(e),qo(mp(1).open())}))("keydown",(function(t){return Uo(e),qo(rp(3).openPicker(t))})),Lg(2,"igx-picker-toggle")(3,"igx-picker-clear"),Ng()}if(2&e){let e=rp(3);_p("value",e.searchValue),fg("placeholder",e.resourceStrings.igx_query_builder_time_placeholder)("readOnly",!0)("disabled",!e.selectedField||!e.selectedCondition||e.selectedField&&e.selectedField.filters.condition(e.selectedCondition).isUnary)("locale",e.locale)("outlet",e.pickerOutlet)("formatter",e.selectedField.formatter)("inputFormat",e.selectedField.defaultTimeFormat)}}function ML(e,t){if(1&e){let e=Wg();Mg(0,"igx-input-group",68,14)(2,"input",69,15),Sp("ngModelChange",(function(t){Uo(e);let i=rp(3);return Cp(i.searchValue,t)||(i.searchValue=t),qo(t)})),Ng()()}if(2&e){let e=rp(3);Ac(2),fg("placeholder",e.resourceStrings.igx_query_builder_date_placeholder),_p("ngModel",e.searchValue),fg("disabled",!e.selectedField||!e.selectedCondition||e.selectedField&&e.selectedField.filters.condition(e.selectedCondition).isUnary)("igxDateTimeEditor",e.selectedField.defaultDateTimeFormat)}}function NL(e,t){1&e&&Gg(0)}function LL(e,t){if(1&e){let e=Wg();Mg(0,"div",47,9)(2,"igx-select",48,10),Sp("ngModelChange",(function(t){Uo(e);let i=rp(2);return Cp(i.selectedField,t)||(i.selectedField=t),qo(t)})),Xu(4,AL,2,2,"igx-select-item",49),Ng(),Mg(5,"igx-select",50,11),Sp("ngModelChange",(function(t){Uo(e);let i=rp(2);return Cp(i.selectedCondition,t)||(i.selectedCondition=t),qo(t)})),Xu(7,kL,2,1,"igx-prefix",20)(8,OL,5,4,"igx-select-item",51),Ng(),Xu(9,PL,3,4,"igx-input-group",52)(10,FL,4,9,"igx-date-picker",53)(11,VL,4,8,"igx-time-picker",54)(12,ML,5,4,"igx-input-group",55),Mg(13,"div",56)(14,"button",57),ep("click",(function(){return Uo(e),qo(rp(2).commitOperandEdit())})),Lg(15,"igx-icon",58),Ng(),Mg(16,"button",59),ep("click",(function(){return Uo(e),qo(rp(2).cancelOperandEdit())})),Xu(17,NL,1,0,"ng-container",23),Ng()()()}if(2&e){let e=mp(6),t=rp(2),i=mp(3);Ac(2),fg("overlaySettings",t.fieldSelectOverlaySettings)("placeholder",t.resourceStrings.igx_query_builder_column_placeholder),_p("ngModel",t.selectedField),Ac(2),fg("ngForOf",t.fields),Ac(),fg("overlaySettings",t.conditionSelectOverlaySettings)("placeholder",t.resourceStrings.igx_query_builder_condition_placeholder),_p("ngModel",t.selectedCondition),fg("disabled",!t.selectedField),Ac(2),fg("ngIf",t.selectedField&&e.value&&t.selectedField.filters.condition(e.value)),Ac(),fg("ngForOf",t.getConditionList()),Ac(),fg("ngIf",!t.selectedField||"date"!==t.selectedField.dataType&&"time"!==t.selectedField.dataType&&"dateTime"!==t.selectedField.dataType),Ac(),fg("ngIf",t.selectedField&&"date"===t.selectedField.dataType),Ac(),fg("ngIf",t.selectedField&&"time"===t.selectedField.dataType),Ac(),fg("ngIf",t.selectedField&&"dateTime"===t.selectedField.dataType),Ac(2),fg("disabled",!t.operandCanBeCommitted()),Ac(3),fg("ngTemplateOutlet",i)}}function HL(e,t){1&e&&Gg(0)}function zL(e,t){1&e&&Gg(0)}function BL(e,t){if(1&e){let e=Wg();Mg(0,"div",70,16),Xu(2,HL,1,0,"ng-container",71),Mg(3,"button",59),ep("click",(function(){return Uo(e),qo(rp(2).cancelOperandAdd())})),Xu(4,zL,1,0,"ng-container",23),Ng()()}if(2&e){let e=rp().$implicit,t=rp(),i=mp(3),n=mp(10);Ac(2),fg("ngTemplateOutlet",n)("ngTemplateOutletContext",t.context(e.parent,e)),Ac(2),fg("ngTemplateOutlet",i)}}function GL(e,t){if(1&e&&Xu(0,RL,10,8,"div",32)(1,LL,18,16,"div",33)(2,BL,5,3,"div",34),2&e){let e=t.$implicit;fg("ngIf",!e.inEditMode),Ac(),fg("ngIf",e.inEditMode),Ac(),fg("ngIf",e.inAddMode)}}function $L(e,t){1&e&&Gg(0)}function WL(e,t){if(1&e&&(zg(0),Xu(1,$L,1,0,"ng-container",71),Bg()),2&e){let e=t.$implicit,i=rp(2),n=mp(12),r=mp(14);Ac(),fg("ngTemplateOutlet",i.isExpressionGroup(e)?r:n)("ngTemplateOutletContext",i.context(e))}}function KL(e,t){1&e&&Gg(0)}function jL(e,t){if(1&e){let e=Wg();Mg(0,"button",31),ep("click",(function(){Uo(e);let t=rp(2).$implicit;return qo(rp().endGroup(t))})),Mg(1,"span"),fp(2),Ng()()}if(2&e){let e=rp(2).$implicit,t=rp();fg("disabled",t.hasEditedExpression||e.children.length<2),Ac(2),yp(t.resourceStrings.igx_query_builder_end_group)}}function UL(e,t){if(1&e&&(Mg(0,"div",70,17),Xu(2,KL,1,0,"ng-container",71)(3,jL,3,2,"button",76),Ng()),2&e){let e=rp().$implicit,t=rp(),i=mp(10);Ac(2),fg("ngTemplateOutlet",i)("ngTemplateOutletContext",t.context(e)),Ac(),fg("ngIf",e!==t.rootGroup)}}function qL(e,t){if(1&e){let e=Wg();Mg(0,"div",72)(1,"div",73),ep("keydown",(function(t){return Uo(e),qo(rp().invokeClick(t))}))("click",(function(){let t=Uo(e).$implicit;return qo(rp().onGroupClick(t))})),Ng(),Mg(2,"div",74),Xu(3,WL,2,2,"ng-container",75)(4,UL,4,3,"div",34),Ng()()}if(2&e){let e=t.$implicit,i=rp();Ac(),fg("ngClass",Np(3,mL,0===e.operator,1===e.operator,e.selected)),Ac(2),fg("ngForOf",e.children),Ac(),fg("ngIf",i.currentGroup===e)}}function YL(e,t){1&e&&Gg(0)}function XL(e,t){if(1&e&&(zg(0),Xu(1,YL,1,0,"ng-container",71),Bg()),2&e){let e=rp(),t=mp(14);Ac(),fg("ngTemplateOutlet",t)("ngTemplateOutletContext",e.context(e.rootGroup))}}function ZL(e,t){1&e&&Gg(0)}function QL(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"igx-buttongroup",77),ep("selected",(function(t){return Uo(e),qo(rp().selectFilteringLogic(t))})),Ng(),Mg(2,"button",31),ep("click",(function(){return Uo(e),qo(rp().ungroup())})),Lg(3,"igx-icon",78),Mg(4,"span"),fp(5),Ng()(),Mg(6,"button",79),ep("click",(function(){return Uo(e),qo(rp().deleteGroup())})),Lg(7,"igx-icon",80),Mg(8,"span"),fp(9),Ng()(),Bg()}if(2&e){let e=rp();Ac(),fg("values",e.filteringLogics),Ac(),fg("disabled",!e.contextualGroup.parent),Ac(3),yp(e.resourceStrings.igx_query_builder_ungroup),Ac(4),yp(e.resourceStrings.igx_query_builder_delete)}}function JL(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"button",28),ep("click",(function(){return Uo(e),qo(rp().createAndGroup())})),fp(2),Ng(),Mg(3,"button",28),ep("click",(function(){return Uo(e),qo(rp().createOrGroup())})),fp(4),Ng(),Mg(5,"button",79),ep("click",(function(){return Uo(e),qo(rp().deleteFilters())})),fp(6),Ng(),Bg()}if(2&e){let e=rp();Ac(2),xp(" ",e.resourceStrings.igx_query_builder_create_and_group," "),Ac(2),xp(" ",e.resourceStrings.igx_query_builder_create_or_group," "),Ac(2),xp(" ",e.resourceStrings.igx_query_builder_delete_filters," ")}}var eH=(()=>{let e=class{transform(e,t,i,n){return t(e,i,n)}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"fieldFormatter",type:e,pure:!0,standalone:!0}),e})(),tH=class{constructor(e){this.parent=e}},iH=class extends tH{constructor(e,t){super(t),this.operator=e,this.children=[]}},nH=class extends tH{constructor(e,t){super(t),this.expression=e}},rH=(()=>{let e=class{get fields(){return this._fields}set fields(e){this._fields=e,this._fields&&(this.registerSVGIcons(),this._fields.forEach((e=>{this.setFilters(e),this.setFormat(e)})))}get expressionTree(){return this._expressionTree}set expressionTree(e){this._expressionTree=e,this.init()}get locale(){return this._locale}set locale(e){this._locale=e;try{gf(this._locale)}catch{this._locale=this._localeId}}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}set editingInputsContainer(e){(e&&!this._editingInputsContainer||e&&this._editingInputsContainer&&this._editingInputsContainer.nativeElement!==e.nativeElement)&&requestAnimationFrame((()=>{this.scrollElementIntoView(e.nativeElement)})),this._editingInputsContainer=e}get editingInputsContainer(){return this._editingInputsContainer}set addModeContainer(e){(e&&!this._addModeContainer||e&&this._addModeContainer&&this._addModeContainer.nativeElement!==e.nativeElement)&&requestAnimationFrame((()=>{this.scrollElementIntoView(e.nativeElement)})),this._addModeContainer=e}get addModeContainer(){return this._addModeContainer}set currentGroupButtonsContainer(e){(e&&!this._currentGroupButtonsContainer||e&&this._currentGroupButtonsContainer&&this._currentGroupButtonsContainer.nativeElement!==e.nativeElement)&&requestAnimationFrame((()=>{this.scrollElementIntoView(e.nativeElement)})),this._currentGroupButtonsContainer=e}get currentGroupButtonsContainer(){return this._currentGroupButtonsContainer}constructor(e,t,i,n,r){this.cdr=e,this.iconService=t,this.platform=i,this.el=n,this._localeId=r,this.cssClass="igx-query-builder",this.display="block",this.expressionTreeChange=new yl,this.selectedExpressions=[],this.fieldSelectOverlaySettings={scrollStrategy:new XE,modal:!1,closeOnOutsideClick:!1},this.conditionSelectOverlaySettings={scrollStrategy:new XE,modal:!1,closeOnOutsideClick:!1},this.destroy$=new ei,this._dblClickDelay=200,this._preventChipClick=!1,this._selectedGroups=[],this._resourceStrings=MT(YM),this._positionSettings={horizontalStartPoint:OE.Right,verticalStartPoint:PE.Top},this._overlaySettings={closeOnOutsideClick:!1,modal:!1,positionStrategy:new zE(this._positionSettings),scrollStrategy:new ZE},this.locale=this.locale||this._localeId}ngAfterViewInit(){this._overlaySettings.outlet=this.overlayOutlet,this.fieldSelectOverlaySettings.outlet=this.overlayOutlet,this.conditionSelectOverlaySettings.outlet=this.overlayOutlet}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}set selectedField(e){let t=this._selectedField;this._selectedField!==e&&(this._selectedField=e,t&&this._selectedField&&this._selectedField.dataType!==t.dataType&&(this.selectedCondition=null,this.searchValue=null,this.cdr.detectChanges()))}get selectedField(){return this._selectedField}setPickerOutlet(e){this.pickerOutlet=e}get isContextMenuVisible(){return!this.contextMenuToggle.collapsed}get hasEditedExpression(){return void 0!==this._editedExpression&&null!==this._editedExpression}addCondition(e,t){this.cancelOperandAdd();let i=new nH({fieldName:null,condition:null,ignoreCase:!0,searchVal:null},e);if(t){let n=e.children.indexOf(t);e.children.splice(n+1,0,i)}else e.children.push(i);this.enterExpressionEdit(i)}addAndGroup(e,t){this.addGroup(nS.And,e,t)}addOrGroup(e,t){this.addGroup(nS.Or,e,t)}endGroup(e){this.currentGroup=e.parent}commitOperandEdit(){this._editedExpression&&(this._editedExpression.expression.fieldName=this.selectedField.field,this._editedExpression.expression.condition=this.selectedField.filters.condition(this.selectedCondition),this._editedExpression.expression.searchVal=JC.parseValue(this.selectedField.dataType,this.searchValue),this._editedExpression.fieldLabel=this.selectedField.label?this.selectedField.label:this.selectedField.header?this.selectedField.header:this.selectedField.field,this._editedExpression.inEditMode=!1,this._editedExpression=null),this._expressionTree=this.createExpressionTreeFromGroupItem(this.rootGroup),this.expressionTreeChange.emit()}cancelOperandAdd(){this._addModeExpression&&(this._addModeExpression.inAddMode=!1,this._addModeExpression=null)}cancelOperandEdit(){this._editedExpression&&(this._editedExpression.inEditMode=!1,this._editedExpression.expression.fieldName||this.deleteItem(this._editedExpression),this._editedExpression=null)}operandCanBeCommitted(){return this.selectedField&&this.selectedCondition&&(!!this.searchValue||this.selectedField.filters.condition(this.selectedCondition).isUnary)}exitOperandEdit(){this._editedExpression&&(this.operandCanBeCommitted()?this.commitOperandEdit():this.cancelOperandEdit())}isExpressionGroup(e){return e instanceof iH}onChipRemove(e){this.deleteItem(e)}onChipClick(e){this._clickTimer=setTimeout((()=>{this._preventChipClick||this.onToggleExpression(e),this._preventChipClick=!1}),this._dblClickDelay)}onChipDblClick(e){clearTimeout(this._clickTimer),this._preventChipClick=!0,this.enterExpressionEdit(e)}enterExpressionEdit(e){this.clearSelection(),this.exitOperandEdit(),this.cancelOperandAdd(),this._editedExpression&&(this._editedExpression.inEditMode=!1),e.hovered=!1,this.selectedField=e.expression.fieldName?this.fields.find((t=>t.field===e.expression.fieldName)):null,this.selectedCondition=e.expression.condition?e.expression.condition.name:null,this.searchValue=e.expression.searchVal,e.inEditMode=!0,this._editedExpression=e,this.cdr.detectChanges(),this.fieldSelectOverlaySettings.target=this.fieldSelect.element,this.fieldSelectOverlaySettings.excludeFromOutsideClick=[this.fieldSelect.element],this.fieldSelectOverlaySettings.positionStrategy=new GE,this.conditionSelectOverlaySettings.target=this.conditionSelect.element,this.conditionSelectOverlaySettings.excludeFromOutsideClick=[this.conditionSelect.element],this.conditionSelectOverlaySettings.positionStrategy=new GE,this.selectedField?this.selectedField.filters.condition(this.selectedCondition).isUnary?this.conditionSelect.input.nativeElement.focus():(this.searchValueInput?.nativeElement||this.picker?.getEditElement()).focus():this.fieldSelect.input.nativeElement.focus()}clearSelection(){for(let e of this._selectedGroups)e.selected=!1;this._selectedGroups=[];for(let e of this.selectedExpressions)e.selected=!1;this.selectedExpressions=[],this.toggleContextMenu()}enterExpressionAdd(e){this.clearSelection(),this.exitOperandEdit(),this._addModeExpression&&(this._addModeExpression.inAddMode=!1),e.inAddMode=!0,this._addModeExpression=e,e.selected&&this.toggleExpression(e)}contextMenuClosed(){this.contextualGroup=null}onKeyDown(e){e.stopPropagation();let t=e.key;!this.contextMenuToggle.collapsed&&t===this.platform.KEYMAP.ESCAPE&&this.clearSelection()}createAndGroup(){this.createGroup(nS.And)}createOrGroup(){this.createGroup(nS.Or)}deleteFilters(){for(let e of this.selectedExpressions)this.deleteItem(e);this.clearSelection()}onGroupClick(e){this.toggleGroup(e)}ungroup(){let e=this.contextualGroup,t=e.parent;if(t){let i=t.children.indexOf(e);t.children.splice(i,1,...e.children);for(let i of e.children)i.parent=t}this.clearSelection(),this.commitOperandEdit()}deleteGroup(){let e=this.contextualGroup,t=e.parent;if(t){let i=t.children.indexOf(e);t.children.splice(i,1)}else this.rootGroup=null;this.clearSelection(),this.commitOperandEdit()}selectFilteringLogic(e){this.contextualGroup.operator=e.index,this.commitOperandEdit()}getConditionFriendlyName(e){return this.resourceStrings[`igx_query_builder_filter_${e}`]||e}isDate(e){return e instanceof Date}onExpressionsScrolled(){this.contextMenuToggle.collapsed||(this.calculateContextMenuTarget(),this.contextMenuToggle.reposition())}invokeClick(e){this.platform.isActivationKey(e)&&(e.preventDefault(),e.currentTarget.click())}openPicker(e){this.platform.isActivationKey(e)&&(e.preventDefault(),this.picker.open())}onOutletPointerDown(e){e.preventDefault()}getConditionList(){return this.selectedField?this.selectedField.filters.conditionList():[]}getFormatter(e){return this.fields.find((t=>t.field===e)).formatter}getFormat(e){return this.fields.find((t=>t.field===e)).pipeArgs.format}setAddButtonFocus(){this.addRootAndGroupButton?this.addRootAndGroupButton.nativeElement.focus():this.addConditionButton&&this.addConditionButton.nativeElement.focus()}context(e,t){return{$implicit:e,afterExpression:t}}onChipSelectionEnd(){let e=this.findSingleSelectedGroup();(e||this.selectedExpressions.length>1)&&(this.contextualGroup=e,this.calculateContextMenuTarget(),this.contextMenuToggle.collapsed?this.contextMenuToggle.open(this._overlaySettings):this.contextMenuToggle.reposition())}setFormat(e){e.pipeArgs||(e.pipeArgs={digitsInfo:"1.0-3"}),e.pipeArgs.format||(e.pipeArgs.format=e.dataType===ZC.Time?"mediumTime":e.dataType===ZC.DateTime?"medium":"mediumDate"),e.defaultDateTimeFormat||(e.defaultDateTimeFormat="dd/MM/yyyy HH:mm:ss a"),e.defaultTimeFormat||(e.defaultTimeFormat="hh:mm:ss a")}setFilters(e){if(!e.filters)switch(e.dataType){case ZC.Boolean:e.filters=KA.instance();break;case ZC.Number:case ZC.Currency:case ZC.Percent:e.filters=XA.instance();break;case ZC.Date:e.filters=UA.instance();break;case ZC.Time:e.filters=YA.instance();break;case ZC.DateTime:e.filters=qA.instance();break;default:e.filters=ZA.instance()}}onToggleExpression(e){this.exitOperandEdit(),this.toggleExpression(e),this.toggleContextMenu()}toggleExpression(e){if(e.selected=!e.selected,e.selected)this.selectedExpressions.push(e);else{let t=this.selectedExpressions.indexOf(e);this.selectedExpressions.splice(t,1),this.deselectParentRecursive(e)}}addGroup(e,t,i){this.cancelOperandAdd();let n=new iH(e,t);if(t)if(i){let e=t.children.indexOf(i);t.children.splice(e+1,0,n)}else t.children.push(n);else this.rootGroup=n;this.addCondition(n),this.currentGroup=n}createExpressionGroupItem(e,t){if(!e)return null;let i=new iH(e.operator,t);for(let t of e.filteringOperands)if(t instanceof iS){let e=this.createExpressionGroupItem(t,i);e&&i.children.push(e)}else{let e=t,n=this.fields.find((t=>t.field===e.fieldName));if(n){let t=ke({},e),r=new nH(t,i);r.fieldLabel=n.label||n.header||n.field,i.children.push(r)}}return i.children.length>0?i:null}createExpressionTreeFromGroupItem(e){if(!e)return null;let t=new iS(e.operator);for(let i of e.children)if(i instanceof iH){let e=this.createExpressionTreeFromGroupItem(i);t.filteringOperands.push(e)}else t.filteringOperands.push(i.expression);return t}toggleContextMenu(){let e=this.findSingleSelectedGroup();e||this.selectedExpressions.length>1?(this.contextualGroup=e,e&&(this.filteringLogics=[{label:this.resourceStrings.igx_query_builder_filter_operator_and,selected:e.operator===nS.And},{label:this.resourceStrings.igx_query_builder_filter_operator_or,selected:e.operator===nS.Or}])):this.contextMenuToggle&&this.contextMenuToggle.close()}findSingleSelectedGroup(){for(let e of this._selectedGroups)if(this.selectedExpressions.every((t=>this.isInsideGroup(t,e))))return e;return null}isInsideGroup(e,t){return!!e&&(e.parent===t||this.isInsideGroup(e.parent,t))}deleteItem(e){if(!e.parent)return this.rootGroup=null,this.currentGroup=null,void(this._expressionTree=null);e===this.currentGroup&&(this.currentGroup=this.currentGroup.parent);let t=e.parent.children,i=t.indexOf(e);t.splice(i,1),this._expressionTree=this.createExpressionTreeFromGroupItem(this.rootGroup),t.length||this.deleteItem(e.parent),this.expressionTreeChange.emit()}createGroup(e){let t=this.chips.toArray(),i=this.selectedExpressions.reduce(((e,i)=>Math.min(e,t.findIndex((e=>e.data===i)))),Number.MAX_VALUE),n=t[i].data,r=n.parent,s=new iH(e,r),o=r.children.indexOf(n);r.children.splice(o,0,s);for(let e of this.selectedExpressions)s.children.push(e),this.deleteItem(e),e.parent=s;this.clearSelection()}toggleGroup(e){this.exitOperandEdit(),e.children&&e.children.length&&(this.toggleGroupRecursive(e,!e.selected),e.selected||this.deselectParentRecursive(e),this.toggleContextMenu())}toggleGroupRecursive(e,t){if(e.selected!==t)if(e.selected=t,e.selected)this._selectedGroups.push(e);else{let t=this._selectedGroups.indexOf(e);this._selectedGroups.splice(t,1)}for(let i of e.children)if(i instanceof iH)this.toggleGroupRecursive(i,t);else{let e=i;e.selected!==t&&this.toggleExpression(e)}}deselectParentRecursive(e){let t=e.parent;if(t){if(t.selected){t.selected=!1;let e=this._selectedGroups.indexOf(t);this._selectedGroups.splice(e,1)}this.deselectParentRecursive(t)}}calculateContextMenuTarget(){let e=this.expressionsContainer.nativeElement.getBoundingClientRect(),t=this.chips.filter((e=>-1!==this.selectedExpressions.indexOf(e.data))),i=t.reduce(((e,t)=>Math.min(e,t.nativeElement.getBoundingClientRect().top)),Number.MAX_VALUE);i=Math.max(e.top,i),i=Math.min(e.bottom,i);let n=t.reduce(((e,t)=>Math.max(e,t.nativeElement.getBoundingClientRect().right)),0);n=Math.max(n,e.left),n=Math.min(n,e.right),this._overlaySettings.target=new LE(n,i)}scrollElementIntoView(e){let t=this.expressionsContainer.nativeElement,i=e.offsetTop-t.offsetTop;t.scrollTop+10>i?t.scrollTop=i-10:t.scrollTop+t.clientHeight<i+e.offsetHeight+10&&(t.scrollTop=i+e.offsetHeight+10-t.clientHeight)}init(){this.clearSelection(),this.cancelOperandAdd(),this.cancelOperandEdit(),this.rootGroup=this.createExpressionGroupItem(this.expressionTree),this.currentGroup=this.rootGroup}registerSVGIcons(){WO.forEach((e=>{this.iconService.addSvgIconFromText(e.name,e.value,"imx-icons")}))}};return e.ɵfac=function(t){return new(t||e)(Oc(Pm),Oc(TT),Oc(fC),Oc(Nl),Oc(bm))},e.ɵcmp=es({type:e,selectors:[["igx-query-builder"]],contentQueries:function(e,t,i){if(1&e&&hp(i,tL,5),2&e){let e;gp(e=pp())&&(t.headerContent=e.first)}},viewQuery:function(e,t){if(1&e&&(up(iL,5,fN),up(nL,5,fN),up(rL,5,Nl),up(sL,5),up(oL,5,Nl),up(aL,5,Nl),up(lL,5,Nl),up(dL,5,Nl),up(cL,5,Nl),up(OA,5),up(hL,5),up(uL,7,FA),up(GV,5)),2&e){let e;gp(e=pp())&&(t.fieldSelect=e.first),gp(e=pp())&&(t.conditionSelect=e.first),gp(e=pp())&&(t.searchValueInput=e.first),gp(e=pp())&&(t.picker=e.first),gp(e=pp())&&(t.addRootAndGroupButton=e.first),gp(e=pp())&&(t.addConditionButton=e.first),gp(e=pp())&&(t.editingInputsContainer=e.first),gp(e=pp())&&(t.addModeContainer=e.first),gp(e=pp())&&(t.currentGroupButtonsContainer=e.first),gp(e=pp())&&(t.contextMenuToggle=e.first),gp(e=pp())&&(t.expressionsContainer=e.first),gp(e=pp())&&(t.overlayOutlet=e.first),gp(e=pp())&&(t.chips=e)}},hostVars:4,hostBindings:function(e,t){2&e&&(yg("display",t.display),xg("igx-query-builder",t.cssClass))},inputs:{fields:"fields",expressionTree:"expressionTree",locale:"locale",resourceStrings:"resourceStrings"},outputs:{expressionTreeChange:"expressionTreeChange"},standalone:!0,features:[Pp],ngContentSelectors:pL,decls:23,vars:6,consts:[["addIcon",""],["closeIcon",""],["expressionsContainer",""],["addExpressionsTemplate",""],["filterOperandTemplate",""],["expressionTreeTemplate",""],["overlayOutlet",""],["addRootAndGroupButton",""],["addConditionButton",""],["editingInputsContainer",""],["fieldSelect",""],["conditionSelect",""],["searchValueInput",""],["picker",""],["inputGroup",""],["input","","searchValueInput",""],["addModeContainer",""],["currentGroupButtonsContainer",""],[3,"resourceStrings",4,"ngIf"],[1,"igx-query-builder__main",3,"scroll"],[4,"ngIf"],["igxToggle","",1,"igx-filter-contextual-menu",3,"keydown","closed"],["type","button","igxIconButton","flat",1,"igx-filter-contextual-menu__close-btn",3,"click"],[4,"ngTemplateOutlet"],["igxOverlayOutlet","",1,"igx-query-builder__outlet",3,"pointerdown"],["family","default","name","add"],["family","default","name","close"],[3,"resourceStrings"],["type","button","igxButton","outlined",3,"click"],[1,"igx-filter-empty"],[1,"igx-filter-empty__title"],["type","button","igxButton","outlined",3,"click","disabled"],["class","igx-filter-tree__expression-item",3,"mouseenter","mouseleave",4,"ngIf"],["class","igx-filter-tree__inputs",4,"ngIf"],["class","igx-filter-tree__buttons",4,"ngIf"],[1,"igx-filter-tree__expression-item",3,"mouseenter","mouseleave"],[3,"keydown","click","dblclick","remove","selectedChanged","data","removable","selected"],["igxPrefix","",1,"igx-filter-tree__expression-column"],["family","default",3,"name"],[1,"igx-filter-tree__expression-condition"],["igxSuffix","",4,"ngIf"],["class","igx-filter-tree__expression-actions",4,"ngIf"],["igxSuffix",""],[1,"igx-filter-tree__expression-actions"],["tabindex","0",3,"keydown","click"],["family","default","name","edit"],["family","default","name","add",4,"ngIf"],[1,"igx-filter-tree__inputs"],["type","box",3,"ngModelChange","overlaySettings","placeholder","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","box",3,"ngModelChange","overlaySettings","placeholder","ngModel","disabled"],[3,"value","text",4,"ngFor","ngForOf"],["type","box",4,"ngIf"],["type","box",3,"value","readOnly","placeholder","disabled","locale","outlet","formatter","displayFormat","weekStart","valueChange","keydown","click",4,"ngIf"],["type","box",3,"value","placeholder","readOnly","disabled","locale","outlet","formatter","inputFormat","valueChange","click","keydown",4,"ngIf"],["type","box","type","box",4,"ngIf"],[1,"igx-filter-tree__inputs-actions"],["type","button","igxIconButton","flat",3,"click","disabled"],["family","default","name","confirm"],["type","button","igxIconButton","flat",3,"click"],[3,"value"],[3,"value","text"],[1,"igx-grid__filtering-dropdown-items"],[1,"igx-grid__filtering-dropdown-text"],["type","box"],["igxInput","",3,"ngModelChange","disabled","type","placeholder","ngModel"],["type","box",3,"valueChange","keydown","click","value","readOnly","placeholder","disabled","locale","outlet","formatter","displayFormat","weekStart"],["type","box",3,"valueChange","click","keydown","value","placeholder","readOnly","disabled","locale","outlet","formatter","inputFormat"],["type","box","type","box"],["igxInput","","tabindex","0",3,"ngModelChange","placeholder","ngModel","disabled","igxDateTimeEditor"],[1,"igx-filter-tree__buttons"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-filter-tree"],["tabindex","0",1,"igx-filter-tree__line",3,"keydown","click","ngClass"],[1,"igx-filter-tree__expression"],[4,"ngFor","ngForOf"],["type","button","igxButton","outlined",3,"disabled","click",4,"ngIf"],["type","outline",3,"selected","values"],["family","default","name","ungroup"],["type","button","igxButton","outlined",1,"igx-filter-contextual-menu__delete-btn",3,"click"],["family","default","name","delete"]],template:function(e,t){if(1&e){let e=Wg();op(gL),Xu(0,fL,1,0,"ng-template",null,0,nm)(2,vL,1,0,"ng-template",null,1,nm)(4,yL,1,1,"igx-query-builder-header",18),ap(5),Mg(6,"div",19,2),ep("scroll",(function(){return Uo(e),qo(t.onExpressionsScrolled())})),Xu(8,_L,13,5,"ng-container",20)(9,DL,13,9,"ng-template",null,3,nm)(11,GL,3,3,"ng-template",null,4,nm)(13,qL,5,7,"ng-template",null,5,nm)(15,XL,2,2,"ng-container",20),Mg(16,"div",21),ep("keydown",(function(i){return Uo(e),qo(t.onKeyDown(i))}))("closed",(function(){return Uo(e),qo(t.contextMenuClosed())})),Mg(17,"button",22),ep("click",(function(){return Uo(e),qo(t.clearSelection())})),Xu(18,ZL,1,0,"ng-container",23),Ng(),Xu(19,QL,10,4,"ng-container",20)(20,JL,7,3,"ng-container",20),Ng()(),Mg(21,"div",24,6),ep("pointerdown",(function(i){return Uo(e),qo(t.onOutletPointerDown(i))})),Ng()}if(2&e){let e=mp(3);Ac(4),fg("ngIf",!t.headerContent),Ac(4),fg("ngIf",!t.rootGroup),Ac(7),fg("ngIf",t.rootGroup),Ac(3),fg("ngTemplateOutlet",e),Ac(),fg("ngIf",t.contextualGroup),Ac(),fg("ngIf",!t.contextualGroup)}},dependencies:[cv,tL,ST,FT,GV,vT,yT,fN,iw,zy,px,Ux,lv,QM,PR,pT,mM,jV,UV,QN,$A,yv,av,OA,_P,FA,Ev,eH,cA],encapsulation:2}),e})(),sH={igx_grid_groupByArea_message:"Drag a column header and drop it here to group by that column.",igx_grid_groupByArea_select_message:"Select all rows in the group with field name {0} and value {1}.",igx_grid_groupByArea_deselect_message:"Deselect all rows in the group with field name {0} and value {1}.",igx_grid_emptyFilteredGrid_message:"No records found.",igx_grid_emptyGrid_message:"Grid has no data.",igx_grid_filter:"Filter",igx_grid_filter_row_close:"Close",igx_grid_filter_row_reset:"Reset",igx_grid_filter_row_placeholder:"Add filter value",igx_grid_filter_row_boolean_placeholder:"All",igx_grid_filter_row_date_placeholder:"Pick up date",igx_grid_filter_row_time_placeholder:"Pick up time",igx_grid_filter_operator_and:"And",igx_grid_filter_operator_or:"Or",igx_grid_complex_filter:"Complex Filter",igx_grid_filter_contains:"Contains",igx_grid_filter_doesNotContain:"Does Not Contain",igx_grid_filter_startsWith:"Starts With",igx_grid_filter_endsWith:"Ends With",igx_grid_filter_equals:"Equals",igx_grid_filter_doesNotEqual:"Does Not Equal",igx_grid_filter_empty:"Empty",igx_grid_filter_notEmpty:"Not Empty",igx_grid_filter_null:"Null",igx_grid_filter_notNull:"Not Null",igx_grid_filter_before:"Before",igx_grid_filter_after:"After",igx_grid_filter_at:"At",igx_grid_filter_not_at:"Not At",igx_grid_filter_at_before:"At or Before",igx_grid_filter_at_after:"At or After",igx_grid_filter_today:"Today",igx_grid_filter_yesterday:"Yesterday",igx_grid_filter_thisMonth:"This Month",igx_grid_filter_lastMonth:"Last Month",igx_grid_filter_nextMonth:"Next Month",igx_grid_filter_thisYear:"This Year",igx_grid_filter_lastYear:"Last Year",igx_grid_filter_nextYear:"Next Year",igx_grid_filter_greaterThan:"Greater Than",igx_grid_filter_lessThan:"Less Than",igx_grid_filter_greaterThanOrEqualTo:"Greater Than Or Equal To",igx_grid_filter_lessThanOrEqualTo:"Less Than Or Equal To",igx_grid_filter_true:"True",igx_grid_filter_false:"False",igx_grid_filter_all:"All",igx_grid_filter_condition_placeholder:"Select filter",igx_grid_summary_count:"Count",igx_grid_summary_min:"Min",igx_grid_summary_max:"Max",igx_grid_summary_sum:"Sum",igx_grid_summary_average:"Avg",igx_grid_summary_earliest:"Earliest",igx_grid_summary_latest:"Latest",igx_grid_excel_filter_moving_left:"move left",igx_grid_excel_filter_moving_left_short:"left",igx_grid_excel_filter_moving_right:"move right",igx_grid_excel_filter_moving_right_short:"right",igx_grid_excel_filter_moving_header:"move",igx_grid_excel_filter_sorting_asc:"ascending",igx_grid_excel_filter_sorting_asc_short:"asc",igx_grid_excel_filter_sorting_desc:"descending",igx_grid_excel_filter_sorting_desc_short:"desc",igx_grid_excel_filter_sorting_header:"sort",igx_grid_excel_filter_clear:"Clear column filters",igx_grid_excel_custom_dialog_add:"add filter",igx_grid_excel_custom_dialog_clear:"Clear filter",igx_grid_excel_custom_dialog_header:"Custom auto-filter on column: ",igx_grid_excel_cancel:"cancel",igx_grid_excel_apply:"apply",igx_grid_excel_search_placeholder:"Search",igx_grid_excel_select_all:"Select All",igx_grid_excel_select_all_search_results:"Select all search results",igx_grid_excel_add_to_filter:"Add current selection to filter",igx_grid_excel_blanks:"(Blanks)",igx_grid_excel_hide:"Hide column",igx_grid_excel_show:"Show column",igx_grid_excel_pin:"Pin column",igx_grid_excel_unpin:"Unpin column",igx_grid_excel_select:"Select column",igx_grid_excel_deselect:"Deselect column",igx_grid_excel_text_filter:"Text filter",igx_grid_excel_number_filter:"Number filter",igx_grid_excel_date_filter:"Date filter",igx_grid_excel_boolean_filter:"Boolean filter",igx_grid_excel_currency_filter:"Currency filter",igx_grid_excel_custom_filter:"Custom filter...",igx_grid_excel_no_matches:"No matches",igx_grid_excel_matches_count:"{0} matches.",igx_grid_advanced_filter_title:"Advanced Filtering",igx_grid_advanced_filter_and_group:'"And" Group',igx_grid_advanced_filter_or_group:'"Or" Group',igx_grid_advanced_filter_end_group:"End Group",igx_grid_advanced_filter_create_and_group:'Create "And" Group',igx_grid_advanced_filter_create_or_group:'Create "Or" Group',igx_grid_advanced_filter_and_label:"and",igx_grid_advanced_filter_or_label:"or",igx_grid_advanced_filter_add_condition:"Condition",igx_grid_advanced_filter_ungroup:"Ungroup",igx_grid_advanced_filter_delete:"Delete",igx_grid_advanced_filter_delete_filters:"Delete filters",igx_grid_advanced_filter_initial_text:'Start with creating a group of conditions linked with "And" or "Or"',igx_grid_advanced_filter_column_placeholder:"Select column",igx_grid_advanced_filter_value_placeholder:"Value",igx_grid_pinned_row_indicator:"Pinned",igx_grid_hiding_check_all_label:"Show All",igx_grid_hiding_uncheck_all_label:"Hide All",igx_grid_pinning_check_all_label:"Pin All",igx_grid_pinning_uncheck_all_label:"Unpin All",igx_grid_row_edit_btn_done:"Done",igx_grid_row_edit_btn_cancel:"Cancel",igx_grid_row_edit_text:"You have {0} changes in this row and {1} hidden columns",igx_grid_toolbar_actions_filter_prompt:"Filter columns list ...",igx_grid_toolbar_pinning_button_tooltip:"Open column pinning dropdown",igx_grid_toolbar_hiding_button_tooltip:"Open column hiding dropdown",igx_grid_toolbar_pinning_title:"Pinned columns",igx_grid_toolbar_hiding_title:"Visible columns",igx_grid_toolbar_advanced_filtering_button_tooltip:"Open advanced filtering dialog",igx_grid_toolbar_advanced_filtering_button_label:"Advanced filtering",igx_grid_toolbar_exporter_button_tooltip:"Open exporter dropdown",igx_grid_toolbar_exporter_button_label:"Export",igx_grid_toolbar_exporter_excel_entry_text:"Export to Excel",igx_grid_toolbar_exporter_csv_entry_text:"Export to CSV",igx_grid_snackbar_addrow_label:"Row added",igx_grid_snackbar_addrow_actiontext:"SHOW",igx_grid_actions_edit_label:"Edit",igx_grid_actions_add_label:"Add",igx_grid_add_row_label:"ADD ROW",igx_grid_actions_add_child_label:"Add Child",igx_grid_actions_delete_label:"Delete",igx_grid_actions_pin_label:"Pin",igx_grid_actions_unpin_label:"Unpin",igx_grid_actions_jumpUp_label:"Jump up",igx_grid_actions_jumpDown_label:"Jump down",igx_grid_pivot_date_dimension_total:"All Periods",igx_grid_pivot_aggregate_count:"Count",igx_grid_pivot_aggregate_min:"Minimum",igx_grid_pivot_aggregate_max:"Maximum",igx_grid_pivot_aggregate_sum:"Sum",igx_grid_pivot_aggregate_avg:"Average",igx_grid_pivot_aggregate_date_latest:"Latest Date",igx_grid_pivot_aggregate_date_earliest:"Earliest Date",igx_grid_pivot_aggregate_time_latest:"Latest Time",igx_grid_pivot_aggregate_time_earliest:"Earliest Time",igx_grid_pivot_empty_row_drop_area:"Drop Row Fields here.",igx_grid_pivot_empty_column_drop_area:"Drop Column Fields here.",igx_grid_pivot_empty_filter_drop_area:"Drop Filter Fields here.",igx_grid_pivot_empty_value_drop_area:"Drop Value Fields here.",igx_grid_pivot_row_drop_chip:"Drop here to use as row",igx_grid_pivot_column_drop_chip:"Drop here to use as column",igx_grid_pivot_filter_drop_chip:"Drop here to use as filter",igx_grid_pivot_value_drop_chip:"Drop here to use as value",igx_grid_pivot_empty_message:"Pivot grid has no dimensions and values.",igx_grid_pivot_selector_filters:"Filters",igx_grid_pivot_selector_rows:"Rows",igx_grid_pivot_selector_columns:"Columns",igx_grid_pivot_selector_values:"Values",igx_grid_pivot_selector_panel_empty:"Drop Items Here",igx_grid_required_validation_error:"This field is required",igx_grid_min_validation_error:"A value of at least {0} should be entered",igx_grid_max_validation_error:"A value no more than {0} should be entered",igx_grid_min_length_validation_error:"Entry should be at least {0} character(s) long",igx_grid_max_length_validation_error:"Entry should be no more than {0} character(s) long",igx_grid_email_validation_error:"A valid email address should be entered",igx_grid_pattern_validation_error:"Entry does not match the required pattern"},oH=["queryBuilder"],aH=e=>({"igx-advanced-filter":!0,"igx-advanced-filter--inline":e});function lH(e,t){if(1&e){let e=Wg();Mg(0,"article",2),ep("dragStart",(function(t){return Uo(e),qo(rp().dragStart(t))}))("dragMove",(function(t){return Uo(e),qo(rp().onDragMove(t))}))("keydown",(function(t){return Uo(e),qo(rp().onKeyDown(t))})),Mg(1,"igx-query-builder",3,0),Lg(3,"igx-query-builder-header",4),Ng(),Mg(4,"footer",5)(5,"div",6)(6,"button",7),ep("click",(function(t){return Uo(e),qo(rp().onClearButtonClick(t))})),fp(7),Ng()(),Mg(8,"div",8)(9,"button",7),ep("click",(function(){return Uo(e),qo(rp().cancelChanges())})),fp(10),Ng()(),Mg(11,"div",9)(12,"button",10),ep("click",(function(t){return Uo(e),qo(rp().onApplyButtonClick(t))})),fp(13),Ng()()()()}if(2&e){let e=rp();fg("ghost",!1)("dragTolerance",0)("ngClass",Vp(10,aH,e.inline)),Ac(),fg("locale",e.grid.locale)("fields",e.filterableFields)("expressionTree",e.grid.advancedFilteringExpressionsTree),Ac(2),fg("title",e.grid.resourceStrings.igx_grid_advanced_filter_title),Ac(4),xp(" ",e.grid.resourceStrings.igx_grid_excel_custom_dialog_clear," "),Ac(3),xp(" ",e.grid.resourceStrings.igx_grid_excel_cancel," "),Ac(3),xp(" ",e.grid.resourceStrings.igx_grid_excel_apply," ")}}var dH=(()=>{let e=class{constructor(e,t){this.cdr=e,this.platform=t,this.display="block",this.inline=!0,this.lastActiveNode={},this.destroy$=new ei}ngAfterViewInit(){this.queryBuilder.setPickerOutlet(this.grid.outlet)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}set grid(e){this._grid=e,this._grid&&this._grid.filteringService.registerSVGIcons(),this.assignResourceStrings()}get grid(){return this._grid}get filterableFields(){return this.grid.columns.filter((e=>!e.columnGroup&&e.filterable))}dragStart(e){this._overlayComponentId||(e.cancel=!0)}onDragMove(e){let t=e.nextPageX-e.pageX,i=e.nextPageY-e.pageY;e.cancel=!0,this._overlayService.setOffset(this._overlayComponentId,t,i)}onKeyDown(e){e.stopPropagation();let t=e.key;this.queryBuilder.isContextMenuVisible&&t===this.platform.KEYMAP.ESCAPE?this.queryBuilder.clearSelection():t===this.platform.KEYMAP.ESCAPE&&this.closeDialog()}initialize(e,t,i){this.inline=!1,this.grid=e,this._overlayService=t,this._overlayComponentId=i}onClearButtonClick(e){this.grid.crudService.endEdit(!1,e),this.queryBuilder.expressionTree=this.grid.advancedFilteringExpressionsTree=null}closeDialog(){this._overlayComponentId&&this._overlayService.hide(this._overlayComponentId),this.grid.navigation.activeNode=this.lastActiveNode,this.grid.navigation.activeNode&&-1===this.grid.navigation.activeNode.row&&this.grid.theadRow.nativeElement.focus()}applyChanges(e){this.grid.crudService.endEdit(!1,e),this.queryBuilder.exitOperandEdit(),this.grid.advancedFilteringExpressionsTree=this.queryBuilder.expressionTree}cancelChanges(){this.closeDialog()}onApplyButtonClick(e){this.applyChanges(e),this.closeDialog()}assignResourceStrings(){let e=this.grid.resourceStrings;if(e!==sH){let t=MT(YM);Object.keys(e).forEach((i=>{let n=/^igx_grid_(advanced_)?filter_(row_)?/;if(!n.test(i))return;let r=i.replace(n,""),s=`igx_query_builder_filter_${r}`,o=`igx_query_builder_${r}`;void 0!==t[s]?t[s]=e[i]:void 0!==t[o]&&(t[o]=e[i])}))}}};return e.ɵfac=function(t){return new(t||e)(Oc(Pm),Oc(fC))},e.ɵcmp=es({type:e,selectors:[["igx-advanced-filtering-dialog"]],viewQuery:function(e,t){if(1&e&&up(oH,5,rH),2&e){let e;gp(e=pp())&&(t.queryBuilder=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&yg("display",t.display)},inputs:{grid:"grid"},standalone:!0,features:[Pp],decls:1,vars:1,consts:[["queryBuilder",""],["class","igx-advanced-filter","igxDrag","",3,"ghost","dragTolerance","ngClass","dragStart","dragMove","keydown",4,"ngIf"],["igxDrag","",1,"igx-advanced-filter",3,"dragStart","dragMove","keydown","ghost","dragTolerance","ngClass"],[3,"locale","fields","expressionTree"],["igxDragHandle","",3,"title"],[1,"igx-excel-filter__secondary-footer"],[1,"igx-excel-filter__clear"],["igxButton","flat","type","button",3,"click"],[1,"igx-excel-filter__cancel"],[1,"igx-excel-filter__apply"],["igxButton","contained","type","button",3,"click"]],template:function(e,t){1&e&&Xu(0,lH,14,12,"article",1),2&e&&fg("ngIf",t.grid)},dependencies:[cv,$R,av,rH,tL,BR,ST],encapsulation:2}),e})(),cH=(()=>{let e=class{constructor(e,t,i){this.cdr=e,this.element=t,this.platform=i}};return e.ɵfac=function(t){return new(t||e)(Oc(Pm),Oc(Nl),Oc(fC))},e.ɵdir=ss({type:e}),e})();function hH(e,t){if(1&e){let e=Wg();Mg(0,"div",1),ep("keydown",(function(t){return Uo(e),qo(rp().onClearFilterKeyDown(t))}))("click",(function(){return Uo(e),qo(rp().clearFilter())})),Mg(1,"span"),fp(2),Ng(),Lg(3,"igx-icon",2),Ng()}if(2&e){let e=rp();fg("ngClass",e.clearFilterClass()),tg("aria-disabled",!e.esf.column.filteringExpressionsTree),Ac(2),yp(e.esf.grid.resourceStrings.igx_grid_excel_filter_clear)}}var uH=(()=>{let e=class{constructor(e,t){this.esf=e,this.platform=t}clearFilterClass(){return this.esf.column.filteringExpressionsTree?"igx-excel-filter__actions-clear":"igx-excel-filter__actions-clear--disabled"}clearFilter(){this.esf.grid.filteringService.clearFilter(this.esf.column.field),this.selectAllFilterItems()}onClearFilterKeyDown(e){e.key===this.platform.KEYMAP.ENTER&&this.clearFilter()}selectAllFilterItems(){this.esf.listData.forEach((e=>{e.isSelected=!0,e.indeterminate=!1})),this.esf.detectChanges()}};return e.ɵfac=function(t){return new(t||e)(Oc(cH),Oc(fC))},e.ɵcmp=es({type:e,selectors:[["igx-excel-style-clear-filters"]],standalone:!0,features:[Pp],decls:1,vars:1,consts:[["tabindex","0","role","menuitem",3,"ngClass","keydown","click",4,"ngIf"],["tabindex","0","role","menuitem",3,"keydown","click","ngClass"],["family","default","name","cancel"]],template:function(e,t){1&e&&Xu(0,hH,4,3,"div",0),2&e&&fg("ngIf",t.esf.column)},dependencies:[cv,av,FT],encapsulation:2}),e})(),gH=["overlayOutlet"],pH=["dropdownConditions"],mH=["logicOperatorButtonGroup"],fH=["inputValues"];function vH(e,t){1&e&&Lg(0,"igx-icon",16),2&e&&fg("name",rp().getIconName())}function yH(e,t){1&e&&Lg(0,"igx-icon",17)}function xH(e,t){if(1&e&&(Mg(0,"igx-select-item",18)(1,"div",19),Lg(2,"igx-icon",16),Mg(3,"span",20),fp(4),Ng()()()),2&e){let e=t.$implicit,i=rp();fg("value",e)("text",i.getConditionFriendlyName(e))("selected",i.isConditionSelected(e)),Ac(2),fg("name",i.getCondition(e).iconName),Ac(2),yp(i.translateCondition(e))}}function wH(e,t){if(1&e){let e=Wg();Mg(0,"button",21),ep("click",(function(){return Uo(e),qo(rp().onRemoveButtonClick())})),Lg(1,"igx-icon",22),Ng()}}function _H(e,t){if(1&e){let e=Wg();Mg(0,"igx-buttongroup",null,4)(2,"span",23,5),ep("keydown",(function(t){return Uo(e),qo(rp().onLogicOperatorKeyDown(t,0))}))("click",(function(t){return Uo(e),qo(rp().onLogicOperatorButtonClicked(t,0))})),fp(4),Ng(),Mg(5,"span",23,6),ep("keydown",(function(t){return Uo(e),qo(rp().onLogicOperatorKeyDown(t,1))}))("click",(function(t){return Uo(e),qo(rp().onLogicOperatorButtonClicked(t,1))})),fp(7),Ng()()}if(2&e){let e=rp();Ac(2),fg("selected",0===e.expressionUI.afterOperator),Ac(2),xp(" ",e.grid.resourceStrings.igx_grid_filter_operator_and," "),Ac(),fg("selected",1===e.expressionUI.afterOperator),Ac(2),xp(" ",e.grid.resourceStrings.igx_grid_filter_operator_or," ")}}var CH=(()=>{let e=class{get isLast(){return this.expressionsList[this.expressionsList.length-1]===this.expressionUI}get isSingle(){return 1===this.expressionsList.length}get conditionsPlaceholder(){return this.grid.resourceStrings.igx_grid_filter_condition_placeholder}get inputValuePlaceholder(){return this.grid.resourceStrings.igx_grid_filter_row_placeholder}get type(){switch(this.column.dataType){case QC.Number:case QC.Currency:case QC.Percent:return"number";default:return"text"}}constructor(e,t){this.cdr=e,this.platform=t,this.expressionRemoved=new yl,this.logicOperatorChanged=new yl,this.dropDownOverlaySettings={scrollStrategy:new XE,modal:!1,closeOnOutsideClick:!0}}get conditions(){return this.column.filters.conditionList()}get inputValuesElement(){return this.inputValuesDirective.nativeElement}ngAfterViewInit(){this.dropDownOverlaySettings.outlet=this.overlayOutlet,this.dropDownOverlaySettings.target=this.dropdownConditions.inputGroup.element.nativeElement,this.dropDownOverlaySettings.excludeFromOutsideClick=[this.dropdownConditions.inputGroup.element.nativeElement],this.dropDownOverlaySettings.positionStrategy=new zE}focus(){requestAnimationFrame((()=>this.inputValuesElement.focus()))}translateCondition(e){return this.grid.resourceStrings[`igx_grid_filter_${this.getCondition(e).name}`]||e}getIconName(){return this.column.dataType===QC.Boolean&&null===this.expressionUI.expression.condition?this.getCondition(this.conditions[0]).iconName:this.expressionUI.expression.condition?this.expressionUI.expression.condition.iconName:"filter_list"}isConditionSelected(e){return this.expressionUI.expression.condition&&this.expressionUI.expression.condition.name===e}onConditionsChanged(e){let t=e.newSelection.value;this.expressionUI.expression.condition=this.getCondition(t),this.focus()}getCondition(e){return this.column.filters.condition(e)}getConditionFriendlyName(e){return this.grid.resourceStrings[`igx_grid_filter_${e}`]||e}onValuesInput(e){this.expressionUI.expression.searchVal=JC.parseValue(this.column.dataType,e.target.value)}onLogicOperatorButtonClicked(e,t){0===this.logicOperatorButtonGroup.selectedButtons.length?(e.stopPropagation(),this.logicOperatorButtonGroup.selectButton(t)):this.logicOperatorChanged.emit({target:this.expressionUI,newValue:t})}onLogicOperatorKeyDown(e,t){e.key===this.platform.KEYMAP.ENTER&&(this.logicOperatorButtonGroup.selectButton(t),this.logicOperatorChanged.emit({target:this.expressionUI,newValue:t}))}onRemoveButtonClick(){this.expressionRemoved.emit(this.expressionUI)}onOutletPointerDown(e){e.preventDefault()}};return e.ɵfac=function(t){return new(t||e)(Oc(Pm),Oc(fC))},e.ɵcmp=es({type:e,selectors:[["igx-excel-style-default-expression"]],viewQuery:function(e,t){if(1&e&&(up(gH,7,FA),up(pH,7,fN),up(mH,5,_P),up(fH,7,pT)),2&e){let e;gp(e=pp())&&(t.overlayOutlet=e.first),gp(e=pp())&&(t.dropdownConditions=e.first),gp(e=pp())&&(t.logicOperatorButtonGroup=e.first),gp(e=pp())&&(t.inputValuesDirective=e.first)}},inputs:{column:"column",expressionUI:"expressionUI",expressionsList:"expressionsList",grid:"grid"},outputs:{expressionRemoved:"expressionRemoved",logicOperatorChanged:"logicOperatorChanged"},standalone:!0,features:[Pp],decls:14,vars:11,consts:[["dropdownConditions",""],["inputGroupValues",""],["inputValues",""],["overlayOutlet",""],["logicOperatorButtonGroup",""],["andButton",""],["orButton",""],["type","box",3,"selectionChanging","placeholder","overlaySettings"],["family","default",3,"name",4,"ngIf"],["family","default","name","filter_list",4,"ngIf"],[3,"value","text","selected",4,"ngFor","ngForOf"],["type","box"],["igxInput","","tabindex","0","autocomplete","off",3,"input","type","placeholder","disabled","value"],["type","button","igxIconButton","flat",3,"click",4,"ngIf"],[4,"ngIf"],["igxOverlayOutlet","",3,"pointerdown"],["family","default",3,"name"],["family","default","name","filter_list"],[3,"value","text","selected"],[1,"igx-grid__filtering-dropdown-items"],[1,"igx-grid__filtering-dropdown-text"],["type","button","igxIconButton","flat",3,"click"],["family","default","name","remove"],["igxButton","","tabindex","0","type","button",3,"keydown","click","selected"]],template:function(e,t){if(1&e){let e=Wg();Mg(0,"igx-select",7,0),ep("selectionChanging",(function(i){return Uo(e),qo(t.onConditionsChanged(i))})),Mg(2,"igx-prefix"),Xu(3,vH,1,1,"igx-icon",8)(4,yH,1,0,"igx-icon",9),Ng(),Xu(5,xH,5,5,"igx-select-item",10),Ng(),Mg(6,"igx-input-group",11,1)(8,"input",12,2),ep("input",(function(i){return Uo(e),qo(t.onValuesInput(i))})),Ng()(),Xu(10,wH,2,0,"button",13)(11,_H,8,4,"igx-buttongroup",14),Mg(12,"div",15,3),ep("pointerdown",(function(i){return Uo(e),qo(t.onOutletPointerDown(i))})),Ng()}2&e&&(fg("placeholder",t.conditionsPlaceholder)("overlaySettings",t.dropDownOverlaySettings),Ac(3),fg("ngIf",t.expressionUI.expression.condition),Ac(),fg("ngIf",!t.expressionUI.expression.condition),Ac(),fg("ngForOf",t.conditions),Ac(3),fg("type",t.type)("placeholder",t.inputValuePlaceholder)("disabled",t.expressionUI.expression.condition&&t.expressionUI.expression.condition.isUnary)("value",t.expressionUI.expression.searchVal),Ac(2),fg("ngIf",!t.isSingle),Ac(),fg("ngIf",!t.isLast))},dependencies:[fN,vT,cv,FT,lv,QM,PR,pT,ST,_P,FA,cA],encapsulation:2}),e})(),SH=["input"],bH=["picker"];function DH(e,t){1&e&&Lg(0,"igx-icon",18),2&e&&fg("name",rp().getIconName())}function IH(e,t){1&e&&Lg(0,"igx-icon",19)}function EH(e,t){if(1&e&&(Mg(0,"igx-select-item",20),Lg(1,"igx-icon",18),Mg(2,"span"),fp(3),Ng()()),2&e){let e=t.$implicit,i=rp();fg("value",e)("text",i.getConditionFriendlyName(e))("selected",i.isConditionSelected(e)),Ac(),fg("name",i.getCondition(e).iconName),Ac(2),yp(i.translateCondition(e))}}function TH(e,t){if(1&e){let e=Wg();Mg(0,"igx-date-picker",21,2),Sp("valueChange",(function(t){Uo(e);let i=rp();return Cp(i.expressionUI.expression.searchVal,t)||(i.expressionUI.expression.searchVal=t),qo(t)})),ep("click",(function(){return Uo(e),qo(mp(1).open())})),Lg(2,"igx-picker-toggle")(3,"igx-picker-clear"),Ng()}if(2&e){let e,t=rp();fg("weekStart",null!==(e=t.column.pipeArgs.weekStart)&&void 0!==e?e:t.weekStart),_p("value",t.expressionUI.expression.searchVal),fg("locale",t.grid.locale)("outlet",t.grid.outlet)("readOnly",!0)("placeholder",t.inputDatePlaceholder)("displayFormat",t.column.pipeArgs.format)("formatter",t.column.formatter)("disabled",t.expressionUI.expression.condition&&t.expressionUI.expression.condition.isUnary)}}function RH(e,t){if(1&e){let e=Wg();Mg(0,"igx-time-picker",22,2),Sp("valueChange",(function(t){Uo(e);let i=rp();return Cp(i.expressionUI.expression.searchVal,t)||(i.expressionUI.expression.searchVal=t),qo(t)})),ep("click",(function(){return Uo(e),qo(mp(1).open())})),Lg(2,"igx-picker-toggle")(3,"igx-picker-clear"),Ng()}if(2&e){let e=rp();fg("inputFormat",e.column.defaultTimeFormat),_p("value",e.expressionUI.expression.searchVal),fg("locale",e.grid.locale)("outlet",e.grid.outlet)("readOnly",!0)("placeholder",e.inputTimePlaceholder)("displayFormat",e.column.pipeArgs.format)("formatter",e.column.formatter)("disabled",e.expressionUI.expression.condition&&e.expressionUI.expression.condition.isUnary)}}function AH(e,t){if(1&e){let e=Wg();Mg(0,"igx-input-group",23,3)(3,"input",24,4),Sp("ngModelChange",(function(t){Uo(e);let i=rp();return Cp(i.expressionUI.expression.searchVal,t)||(i.expressionUI.expression.searchVal=t),qo(t)})),Ng()()}if(2&e){let e=rp();Ac(3),fg("placeholder",e.inputDatePlaceholder)("igxDateTimeEditor",e.column.defaultDateTimeFormat),_p("ngModel",e.expressionUI.expression.searchVal),fg("disabled",e.expressionUI.expression.condition&&e.expressionUI.expression.condition.isUnary)}}function kH(e,t){if(1&e){let e=Wg();Mg(0,"button",25),ep("click",(function(){return Uo(e),qo(rp().onRemoveButtonClick())})),Lg(1,"igx-icon",26),Ng()}}function OH(e,t){if(1&e){let e=Wg();Mg(0,"igx-buttongroup",null,5)(2,"span",27,6),ep("keydown",(function(t){return Uo(e),qo(rp().onLogicOperatorKeyDown(t,0))}))("click",(function(t){return Uo(e),qo(rp().onLogicOperatorButtonClicked(t,0))})),fp(4),Ng(),Mg(5,"span",27,7),ep("keydown",(function(t){return Uo(e),qo(rp().onLogicOperatorKeyDown(t,1))}))("click",(function(t){return Uo(e),qo(rp().onLogicOperatorButtonClicked(t,1))})),fp(7),Ng()()}if(2&e){let e=rp();Ac(2),fg("selected",0===e.expressionUI.afterOperator),Ac(2),xp(" ",e.grid.resourceStrings.igx_grid_filter_operator_and," "),Ac(),fg("selected",1===e.expressionUI.afterOperator),Ac(2),xp(" ",e.grid.resourceStrings.igx_grid_filter_operator_or," ")}}var PH=(()=>{let e=class extends CH{get inputValuesElement(){return this.picker?.getEditElement()||this.input?.nativeElement}get inputDatePlaceholder(){return this.grid.resourceStrings.igx_grid_filter_row_date_placeholder}get inputTimePlaceholder(){return this.grid.resourceStrings.igx_grid_filter_row_time_placeholder}get weekStart(){return gf(this.grid.locale)}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵcmp=es({type:e,selectors:[["igx-excel-style-date-expression"]],viewQuery:function(e,t){if(1&e&&(up(SH,5,pT),up(bH,5)),2&e){let e;gp(e=pp())&&(t.input=e.first),gp(e=pp())&&(t.picker=e.first)}},standalone:!0,features:[Ru,Pp],decls:13,vars:10,consts:[["dropdownConditions",""],["overlayOutlet",""],["picker",""],["dropDownTarget","","inputGroup",""],["input",""],["logicOperatorButtonGroup",""],["andButton",""],["orButton",""],["type","box",3,"selectionChanging","placeholder","overlaySettings"],["family","default",3,"name",4,"ngIf"],["family","default","name","filter_list",4,"ngIf"],[3,"value","text","selected",4,"ngFor","ngForOf"],["type","box",3,"weekStart","value","locale","outlet","readOnly","placeholder","displayFormat","formatter","disabled","valueChange","click",4,"ngIf"],["type","box",3,"inputFormat","value","locale","outlet","readOnly","placeholder","displayFormat","formatter","disabled","valueChange","click",4,"ngIf"],["type","box",4,"ngIf"],["type","button","igxIconButton","flat",3,"click",4,"ngIf"],[4,"ngIf"],["igxOverlayOutlet","",3,"pointerdown"],["family","default",3,"name"],["family","default","name","filter_list"],[3,"value","text","selected"],["type","box",3,"valueChange","click","weekStart","value","locale","outlet","readOnly","placeholder","displayFormat","formatter","disabled"],["type","box",3,"valueChange","click","inputFormat","value","locale","outlet","readOnly","placeholder","displayFormat","formatter","disabled"],["type","box"],["igxInput","","tabindex","0",3,"ngModelChange","placeholder","igxDateTimeEditor","ngModel","disabled"],["type","button","igxIconButton","flat",3,"click"],["family","default","name","remove"],["igxButton","","tabindex","0","type","button",3,"keydown","click","selected"]],template:function(e,t){if(1&e){let e=Wg();Mg(0,"igx-select",8,0),ep("selectionChanging",(function(i){return Uo(e),qo(t.onConditionsChanged(i))})),Mg(2,"igx-prefix"),Xu(3,DH,1,1,"igx-icon",9)(4,IH,1,0,"igx-icon",10),Ng(),Xu(5,EH,4,5,"igx-select-item",11),Ng(),Xu(6,TH,4,9,"igx-date-picker",12)(7,RH,4,9,"igx-time-picker",13)(8,AH,5,4,"igx-input-group",14)(9,kH,2,0,"button",15)(10,OH,8,4,"igx-buttongroup",16),Mg(11,"div",17,1),ep("pointerdown",(function(i){return Uo(e),qo(t.onOutletPointerDown(i))})),Ng()}2&e&&(fg("placeholder",t.conditionsPlaceholder)("overlaySettings",t.dropDownOverlaySettings),Ac(3),fg("ngIf",t.expressionUI.expression.condition),Ac(),fg("ngIf",!t.expressionUI.expression.condition),Ac(),fg("ngForOf",t.conditions),Ac(),fg("ngIf","date"===t.column.dataType),Ac(),fg("ngIf","time"===t.column.dataType),Ac(),fg("ngIf","dateTime"===t.column.dataType),Ac(),fg("ngIf",!t.isSingle),Ac(),fg("ngIf",!t.isLast))},dependencies:[fN,vT,cv,FT,lv,QM,mM,jV,UV,QN,PR,iw,zy,px,Ux,pT,$A,ST,_P,FA,cA],encapsulation:2}),e})(),FH=class{constructor(){this.isSpecial=!1,this.isBlanks=!1}},VH=class{constructor(){this.isSelected=!1,this.isVisible=!0}};function MH(e,t,i){NH(e,t,i),i.length&&(i[i.length-1].afterOperator=null)}function NH(e,t,i){if(e)if(e instanceof iS){let n=e;for(let e of n.filteringOperands)NH(e,n.operator,i);i.length&&(i[i.length-1].afterOperator=t)}else{let n=new VH;n.expression=e,n.afterOperator=t;let r=i[i.length-1];r&&(n.beforeOperator=r.afterOperator),i.push(n)}}var LH=["toggle"],HH=["defaultExpressionTemplate"],zH=["dateExpressionTemplate"],BH=["expressionsContainer"],GH=(e,t)=>({"igx-excel-filter__secondary--cosy":e,"igx-excel-filter__secondary--compact":t});function $H(e,t){if(1&e){let e=Wg();Mg(0,"igx-excel-style-date-expression",16),ep("expressionRemoved",(function(t){return Uo(e),qo(rp(2).onExpressionRemoved(t))}))("logicOperatorChanged",(function(t){return Uo(e),qo(rp(2).onLogicOperatorChanged(t))})),Ng()}if(2&e){let e=t.$implicit,i=rp(2);fg("expressionUI",e)("column",i.column)("grid",i.grid)("expressionsList",i.expressionsList)}}function WH(e,t){if(1&e&&(zg(0),Xu(1,$H,1,4,"igx-excel-style-date-expression",15),Bg()),2&e){let e=rp();Ac(),fg("ngForOf",e.expressionsList)}}function KH(e,t){if(1&e){let e=Wg();Mg(0,"igx-excel-style-default-expression",16),ep("expressionRemoved",(function(t){return Uo(e),qo(rp(2).onExpressionRemoved(t))}))("logicOperatorChanged",(function(t){return Uo(e),qo(rp(2).onLogicOperatorChanged(t))})),Ng()}if(2&e){let e=t.$implicit,i=rp(2);fg("expressionUI",e)("column",i.column)("grid",i.grid)("expressionsList",i.expressionsList)}}function jH(e,t){if(1&e&&(zg(0),Xu(1,KH,1,4,"igx-excel-style-default-expression",15),Bg()),2&e){let e=rp();Ac(),fg("ngForOf",e.expressionsList)}}var UH=(()=>{let e=class{constructor(e,t,i){this.overlayService=e,this.cdr=t,this.platform=i,this.expressionsList=new Array,this._customDialogPositionSettings={verticalDirection:PE.Middle,horizontalDirection:OE.Center,horizontalStartPoint:OE.Center,verticalStartPoint:PE.Middle},this._customDialogOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new GE(this._customDialogPositionSettings),scrollStrategy:new XE}}ngAfterViewInit(){this._customDialogOverlaySettings.outlet=this.grid.outlet}get template(){return this.column.dataType===QC.Date?this.dateExpressionTemplate:this.defaultExpressionTemplate}get grid(){return this.filteringService.grid}onCustomDialogOpening(){this.selectedOperator&&this.createInitialExpressionUIElement()}onCustomDialogOpened(){this.expressionComponents.first&&this.expressionComponents.first.focus()}open(e){this._customDialogOverlaySettings.target=this.overlayComponentId?this.grid.rootGrid?this.grid.rootGrid.nativeElement:this.grid.nativeElement:e,this.toggle.open(this._customDialogOverlaySettings),this.overlayComponentId=this.toggle.overlayId}onClearButtonClick(){this.filteringService.clearFilter(this.column.field),this.createInitialExpressionUIElement(),this.cdr.detectChanges()}closeDialog(){this.overlayComponentId?(this.overlayService.hide(this.overlayComponentId),this.overlayComponentId=null):this.toggle.close()}onApplyButtonClick(){this.expressionsList=this.expressionsList.filter((e=>e.expression.condition&&(e.expression.searchVal||0===e.expression.searchVal||e.expression.condition.isUnary))),this.expressionsList.length>0&&(this.expressionsList[0].beforeOperator=null,this.expressionsList[this.expressionsList.length-1].afterOperator=null),this.filteringService.filterInternal(this.column.field,this.expressionsList),this.closeDialog()}onAddButtonClick(){let e=new VH;e.expression={condition:null,fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:null},this.expressionsList[this.expressionsList.length-1].afterOperator=nS.And,e.beforeOperator=this.expressionsList[this.expressionsList.length-1].afterOperator,this.expressionsList.push(e),this.markChildrenForCheck(),this.scrollToBottom()}onExpressionRemoved(e){let t=this.expressionsList.indexOf(e);0===t&&this.expressionsList.length>1?this.expressionsList[1].beforeOperator=null:t===this.expressionsList.length-1?this.expressionsList[t-1].afterOperator=null:(this.expressionsList[t-1].afterOperator=this.expressionsList[t+1].beforeOperator,this.expressionsList[0].beforeOperator=null,this.expressionsList[this.expressionsList.length-1].afterOperator=null),this.expressionsList.splice(t,1),this.cdr.detectChanges(),this.markChildrenForCheck()}onLogicOperatorChanged(e){let t=this.expressionsList.indexOf(e.target);e.target.afterOperator=e.newValue,t+1<this.expressionsList.length&&(this.expressionsList[t+1].beforeOperator=e.newValue)}onKeyDown(e){e.stopPropagation()}onApplyButtonKeyDown(e){e.key===this.platform.KEYMAP.TAB&&!e.shiftKey&&(e.stopPropagation(),e.preventDefault())}createCondition(e){switch(this.column.dataType){case QC.Boolean:return KA.instance().condition(e);case QC.Number:case QC.Currency:case QC.Percent:return XA.instance().condition(e);case QC.Date:return UA.instance().condition(e);case QC.Time:return YA.instance().condition(e);case QC.DateTime:return qA.instance().condition(e);default:return ZA.instance().condition(e)}}markChildrenForCheck(){this.expressionComponents.forEach((e=>e.cdr.markForCheck())),this.expressionDateComponents.forEach((e=>e.cdr.markForCheck()))}createInitialExpressionUIElement(){let e=new VH;1==this.expressionsList.length&&this.expressionsList[0].expression.condition.name===this.selectedOperator?e=this.expressionsList.pop():(this.expressionsList=[],e.expression={condition:this.createCondition(this.selectedOperator),fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:null}),e.afterOperator=nS.And,this.expressionsList.push(e);let t=new VH;t.expression={condition:null,fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:null},t.beforeOperator=nS.And,this.expressionsList.push(t)}scrollToBottom(){requestAnimationFrame((()=>{this.expressionsContainer.nativeElement.scrollTop=this.expressionsContainer.nativeElement.scrollHeight}))}};return e.ɵfac=function(t){return new(t||e)(Oc(YE),Oc(Pm),Oc(fC))},e.ɵcmp=es({type:e,selectors:[["igx-excel-style-custom-dialog"]],viewQuery:function(e,t){if(1&e&&(up(LH,7,OA),up(HH,5,Oh),up(zH,5,Oh),up(BH,7),up(CH,5),up(PH,5)),2&e){let e;gp(e=pp())&&(t.toggle=e.first),gp(e=pp())&&(t.defaultExpressionTemplate=e.first),gp(e=pp())&&(t.dateExpressionTemplate=e.first),gp(e=pp())&&(t.expressionsContainer=e.first),gp(e=pp())&&(t.expressionComponents=e),gp(e=pp())&&(t.expressionDateComponents=e)}},inputs:{expressionsList:"expressionsList",column:"column",selectedOperator:"selectedOperator",filteringService:"filteringService",overlayComponentId:"overlayComponentId"},standalone:!0,features:[Pp],decls:23,vars:12,consts:[["toggle",""],["expressionsContainer",""],["igxToggle","",1,"igx-excel-filter__secondary",3,"keydown","opening","opened","ngClass"],[1,"igx-excel-filter__secondary-header"],[1,"ig-typography__h6"],[1,"igx-excel-filter__secondary-main"],[4,"ngIf"],["type","button","igxButton","",1,"igx-excel-filter__add-filter",3,"click"],["family","default","name","add"],[1,"igx-excel-filter__secondary-footer"],[1,"igx-excel-filter__clear"],["type","button","igxButton","flat",3,"click"],[1,"igx-excel-filter__cancel"],[1,"igx-excel-filter__apply"],["type","button","igxButton","contained",3,"click","keydown"],["class","igx-excel-filter__condition",3,"expressionUI","column","grid","expressionsList","expressionRemoved","logicOperatorChanged",4,"ngFor","ngForOf"],[1,"igx-excel-filter__condition",3,"expressionRemoved","logicOperatorChanged","expressionUI","column","grid","expressionsList"]],template:function(e,t){if(1&e){let e=Wg();Mg(0,"article",2,0),ep("keydown",(function(i){return Uo(e),qo(t.onKeyDown(i))}))("opening",(function(){return Uo(e),qo(t.onCustomDialogOpening())}))("opened",(function(){return Uo(e),qo(t.onCustomDialogOpened())})),Mg(2,"header",3)(3,"h4",4),fp(4),Ng()(),Mg(5,"article",5,1),Xu(7,WH,2,1,"ng-container",6)(8,jH,2,1,"ng-container",6),Mg(9,"button",7),ep("click",(function(){return Uo(e),qo(t.onAddButtonClick())})),Lg(10,"igx-icon",8),Mg(11,"span"),fp(12),Ng()()(),Mg(13,"footer",9)(14,"div",10)(15,"button",11),ep("click",(function(){return Uo(e),qo(t.onClearButtonClick())})),fp(16),Ng()(),Mg(17,"div",12)(18,"button",11),ep("click",(function(){return Uo(e),qo(t.closeDialog())})),fp(19),Ng()(),Mg(20,"div",13)(21,"button",14),ep("click",(function(){return Uo(e),qo(t.onApplyButtonClick())}))("keydown",(function(i){return Uo(e),qo(t.onApplyButtonKeyDown(i))})),fp(22),Ng()()()()}2&e&&(fg("ngClass",Mp(9,GH,"2"===t.grid.gridSize,"1"===t.grid.gridSize)),Ac(4),wp(" ",t.grid.resourceStrings.igx_grid_excel_custom_dialog_header,"",t.column.header||t.column.field," "),Ac(3),fg("ngIf","date"===t.column.dataType||"dateTime"===t.column.dataType||"time"===t.column.dataType),Ac(),fg("ngIf","date"!==t.column.dataType&&"dateTime"!==t.column.dataType&&"time"!==t.column.dataType),Ac(4),yp(t.grid.resourceStrings.igx_grid_excel_custom_dialog_add),Ac(4),xp(" ",t.grid.resourceStrings.igx_grid_excel_custom_dialog_clear," "),Ac(3),xp(" ",t.grid.resourceStrings.igx_grid_excel_cancel," "),Ac(3),xp(" ",t.grid.resourceStrings.igx_grid_excel_apply," "))},dependencies:[OA,av,cv,lv,PH,CH,ST,FT],encapsulation:2}),e})(),qH=["customDialog"],YH=["subMenu"];function XH(e,t){if(1&e&&(zg(0),fp(1),Bg()),2&e){let e=rp(2);Ac(),xp("(",e.filterNumber,")")}}function ZH(e,t){if(1&e&&(Mg(0,"igx-drop-down-item",10)(1,"div",11),Lg(2,"igx-icon",12),Mg(3,"span",13),fp(4),Ng()()()),2&e){let e=t.$implicit,i=rp(2);fg("selected",i.getSelectedCondition(e))("value",e),Ac(2),fg("name",i.getCondition(e).iconName),Ac(2),yp(i.translateCondition(e))}}function QH(e,t){if(1&e&&(Mg(0,"igx-drop-down-item",14)(1,"div",11),Lg(2,"igx-icon",15),Mg(3,"span",13),fp(4),Ng()()()),2&e){let e=rp(2);fg("selected",e.getSelectedCondition("custom")),Ac(4),yp(e.esf.grid.resourceStrings.igx_grid_excel_custom_filter)}}function JH(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"div",3),ep("keydown",(function(t){return Uo(e),qo(rp().onTextFilterKeyDown(t))}))("click",(function(t){return Uo(e),qo(rp().onTextFilterClick(t))})),Mg(2,"span",4),fp(3),Xu(4,XH,2,1,"ng-container",2),Ng(),Lg(5,"igx-icon",5),Ng(),Mg(6,"igx-drop-down",6,0),ep("selectionChanging",(function(t){return Uo(e),qo(rp().onSubMenuSelection(t))}))("closed",(function(){return Uo(e),qo(rp().onSubMenuClosed())})),Mg(8,"div"),Xu(9,ZH,5,4,"igx-drop-down-item",7)(10,QH,5,2,"igx-drop-down-item",8),Ng()(),Lg(11,"igx-excel-style-custom-dialog",9,1),Bg()}if(2&e){let e=mp(7),t=rp();Ac(),fg("ngClass",t.filterNumber>0?"igx-excel-filter__actions-filter--active":"")("igxDropDownItemNavigation",e),tg("aria-controls",e.listId)("aria-activedescendant",e.collapsed||null==e.focusedItem?null:e.focusedItem.id),Ac(2),xp("",t.subMenuText," "),Ac(),fg("ngIf",t.filterNumber>0),Ac(2),fg("maxHeight","397px"),Ac(3),fg("ngForOf",t.conditions),Ac(),fg("ngIf",t.showCustomFilterItem()),Ac(),fg("column",t.esf.column)("filteringService",t.esf.grid.filteringService)("overlayComponentId",t.esf.overlayComponentId)}}var ez=(()=>{let e=class{get filterNumber(){return this.esf.expressionsList.length}constructor(e,t){this.esf=e,this.platform=t,this.shouldOpenSubMenu=!0,this.destroy$=new ei,this._subMenuPositionSettings={verticalStartPoint:PE.Top},this._subMenuOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new GE(this._subMenuPositionSettings),scrollStrategy:new XE},this.esf.columnChange.pipe(mn(this.destroy$)).subscribe((()=>{this.esf.grid&&(this.shouldOpenSubMenu=!0,this._subMenuOverlaySettings.outlet=this.esf.grid.outlet)})),this.esf.grid&&(this._subMenuOverlaySettings.outlet=this.esf.grid.outlet)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onTextFilterKeyDown(e){e.key===this.platform.KEYMAP.ENTER?this.onTextFilterClick(e):e.key===this.platform.KEYMAP.TAB&&this.subMenu.close()}onTextFilterClick(e){if(this.shouldOpenSubMenu){this._subMenuOverlaySettings.target=e.currentTarget;let t=this.esf.grid.nativeElement.getBoundingClientRect(),i=this.esf.mainDropdown.nativeElement.getBoundingClientRect(),n=i.left+i.width,r=t.left+t.width;n+=window.pageXOffset,r+=window.pageXOffset,Math.abs(n-r)<200?(this._subMenuOverlaySettings.positionStrategy.settings.horizontalDirection=OE.Left,this._subMenuOverlaySettings.positionStrategy.settings.horizontalStartPoint=OE.Left):(this._subMenuOverlaySettings.positionStrategy.settings.horizontalDirection=OE.Right,this._subMenuOverlaySettings.positionStrategy.settings.horizontalStartPoint=OE.Right),this.subMenu.open(this._subMenuOverlaySettings),this.shouldOpenSubMenu=!1}}getCondition(e){return this.esf.column.filters.condition(e)}getSelectedCondition(e){let t=this.esf.expressionsList;return!(t.length<1)&&(1===t.length?t[0].expression.condition.name===e:"custom"===e)}translateCondition(e){return this.esf.grid.resourceStrings[`igx_grid_filter_${this.getCondition(e).name}`]||e}onSubMenuSelection(e){this.esf.expressionsList&&this.esf.expressionsList.length&&"in"!==this.esf.expressionsList[0].expression.condition.name&&(this.customDialog.expressionsList=this.esf.expressionsList),this.customDialog.selectedOperator=e.newSelection.value,e.cancel=!0,this.esf.overlayComponentId&&this.esf.hide(),this.subMenu.close(),this.customDialog.open(this.esf.mainDropdown.nativeElement)}onSubMenuClosed(){requestAnimationFrame((()=>{this.shouldOpenSubMenu=!0}))}showCustomFilterItem(){let e=this.esf.column.filteringExpressionsTree;return e&&e.filteringOperands&&e.filteringOperands.length&&!(e.filteringOperands[0].condition&&"in"===e.filteringOperands[0].condition.name)}get subMenuText(){switch(this.esf.column.dataType){case QC.Boolean:return this.esf.grid.resourceStrings.igx_grid_excel_boolean_filter;case QC.Number:case QC.Percent:return this.esf.grid.resourceStrings.igx_grid_excel_number_filter;case QC.Date:case QC.DateTime:case QC.Time:return this.esf.grid.resourceStrings.igx_grid_excel_date_filter;case QC.Currency:return this.esf.grid.resourceStrings.igx_grid_excel_currency_filter;default:return this.esf.grid.resourceStrings.igx_grid_excel_text_filter}}get conditions(){return this.esf.column.filters.conditionList()}};return e.ɵfac=function(t){return new(t||e)(Oc(cH),Oc(fC))},e.ɵcmp=es({type:e,selectors:[["igx-excel-style-conditional-filter"]],viewQuery:function(e,t){if(1&e&&(up(qH,5,UH),up(YH,5,Hk)),2&e){let e;gp(e=pp())&&(t.customDialog=e.first),gp(e=pp())&&(t.subMenu=e.first)}},standalone:!0,features:[Pp],decls:1,vars:1,consts:[["subMenu",""],["customDialog",""],[4,"ngIf"],["tabindex","0","role","menuitem","aria-haspopup","true",1,"igx-excel-filter__actions-filter",3,"keydown","click","ngClass","igxDropDownItemNavigation"],[1,"igx-excel-filter__filter-number"],["name","chevron_right","family","default"],[3,"selectionChanging","closed","maxHeight"],[3,"selected","value",4,"ngFor","ngForOf"],[3,"selected",4,"ngIf"],[3,"column","filteringService","overlayComponentId"],[3,"selected","value"],[1,"igx-grid__filtering-dropdown-items"],["family","default",3,"name"],[1,"igx-grid__filtering-dropdown-text"],[3,"selected"],["name","filter_list","family","default"]],template:function(e,t){1&e&&Xu(0,JH,13,12,"ng-container",2),2&e&&fg("ngIf",t.esf.column)},dependencies:[cv,av,lT,FT,Hk,lv,Pk,UH],encapsulation:2}),e})();function tz(e,t){if(1&e){let e=Wg();Mg(0,"button",5),ep("click",(function(){return Uo(e),qo(rp(2).esf.onSelect())})),Lg(1,"igx-icon",6),Ng()}if(2&e){let e=rp(2);fg("ngClass",e.esf.column.selected?"igx-excel-filter__actions-selected":"igx-excel-filter__actions-select"),tg("aria-label",e.esf.column.selected?e.esf.grid.resourceStrings.igx_grid_excel_deselect:e.esf.grid.resourceStrings.igx_grid_excel_select)}}function iz(e,t){if(1&e){let e=Wg();Mg(0,"button",7),ep("click",(function(){return Uo(e),qo(rp(2).esf.onPin())})),Lg(1,"igx-icon",8),Ng()}if(2&e){let e=rp(2);tg("aria-label",e.esf.column.pinned?e.esf.grid.resourceStrings.igx_grid_excel_unpin:e.esf.grid.resourceStrings.igx_grid_excel_pin),Ac(),fg("name",e.esf.column.pinned?"unpin":"pin")}}function nz(e,t){if(1&e){let e=Wg();Mg(0,"button",7),ep("click",(function(){return Uo(e),qo(rp(2).esf.onHideToggle())})),Lg(1,"igx-icon",8),Ng()}if(2&e){let e=rp(2);tg("aria-label",e.esf.column.hidden?e.esf.grid.resourceStrings.igx_grid_excel_show:e.esf.grid.resourceStrings.igx_grid_excel_hide),Ac(),fg("name",e.esf.column.hidden?"show":"hide")}}function rz(e,t){if(1&e&&(Mg(0,"header",1)(1,"h4"),fp(2),Ng(),Mg(3,"div",2),Xu(4,tz,2,2,"button",3)(5,iz,2,2,"button",4)(6,nz,2,2,"button",4),Ng()()),2&e){let e=rp();Ac(2),yp(e.esf.column.header||e.esf.column.field),Ac(2),fg("ngIf",e.showSelecting),Ac(),fg("ngIf",e.showPinning),Ac(),fg("ngIf",e.showHiding)}}var sz=(()=>{let e=class{constructor(e){this.esf=e}};return e.ɵfac=function(t){return new(t||e)(Oc(cH))},e.ɵcmp=es({type:e,selectors:[["igx-excel-style-header"]],inputs:{showPinning:[2,"showPinning","showPinning",Zm],showSelecting:[2,"showSelecting","showSelecting",Zm],showHiding:[2,"showHiding","showHiding",Zm]},standalone:!0,features:[Vu,Pp],decls:1,vars:1,consts:[["class","igx-excel-filter__menu-header",4,"ngIf"],[1,"igx-excel-filter__menu-header"],[1,"igx-excel-filter__menu-header-actions"],["type","button","igxIconButton","flat",3,"ngClass","click",4,"ngIf"],["type","button","igxIconButton","flat",3,"click",4,"ngIf"],["type","button","igxIconButton","flat",3,"click","ngClass"],["family","default","name","selected"],["type","button","igxIconButton","flat",3,"click"],["family","default",3,"name"]],template:function(e,t){1&e&&Xu(0,rz,7,4,"header",0),2&e&&fg("ngIf",t.esf.column)},dependencies:[cv,av,FT,cA],encapsulation:2}),e})();function oz(e,t){if(1&e){let e=Wg();Mg(0,"div",1),ep("click",(function(){return Uo(e),qo(rp().esf.onHideToggle())})),Mg(1,"span"),fp(2),Ng(),Lg(3,"igx-icon",2),Ng()}if(2&e){let e=rp();Ac(2),yp(e.esf.column.hidden?e.esf.grid.resourceStrings.igx_grid_excel_show:e.esf.grid.resourceStrings.igx_grid_excel_hide),Ac(),fg("name",e.esf.column.hidden?"show":"hide")}}var az=(()=>{let e=class{constructor(e){this.esf=e}};return e.ɵfac=function(t){return new(t||e)(Oc(cH))},e.ɵcmp=es({type:e,selectors:[["igx-excel-style-hiding"]],standalone:!0,features:[Pp],decls:1,vars:1,consts:[["class","igx-excel-filter__actions-hide","tabindex","0","role","menuitem",3,"click",4,"ngIf"],["tabindex","0","role","menuitem",1,"igx-excel-filter__actions-hide",3,"click"],["family","default",3,"name"]],template:function(e,t){1&e&&Xu(0,oz,4,2,"div",0),2&e&&fg("ngIf",t.esf.column)},dependencies:[cv,FT],encapsulation:2}),e})();function lz(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"header"),fp(2),Ng(),Mg(3,"igx-buttongroup")(4,"button",1),ep("click",(function(){return Uo(e),qo(rp().onMoveButtonClicked(0))})),Lg(5,"igx-icon",2),Mg(6,"span"),fp(7),Ng()(),Mg(8,"button",1),ep("click",(function(){return Uo(e),qo(rp().onMoveButtonClicked(1))})),Mg(9,"span"),fp(10),Ng(),Lg(11,"igx-icon",3),Ng()(),Bg()}if(2&e){let e=rp();Ac(2),xp(" ",e.esf.grid.resourceStrings.igx_grid_excel_filter_moving_header,"\n"),Ac(2),fg("disabled",e.canNotMoveLeft),Ac(3),xp(" ","1"===e.esfSize?e.esf.grid.resourceStrings.igx_grid_excel_filter_moving_left_short:e.esf.grid.resourceStrings.igx_grid_excel_filter_moving_left," "),Ac(),fg("disabled",e.canNotMoveRight),Ac(2),xp(" ","1"===e.esfSize?e.esf.grid.resourceStrings.igx_grid_excel_filter_moving_right_short:e.esf.grid.resourceStrings.igx_grid_excel_filter_moving_right," ")}}var dz=(()=>{let e=class{constructor(e){this.esf=e,this.defaultClass=!0}get visibleColumns(){return this.esf.grid.visibleColumns.filter((e=>!e.columnGroup))}get canNotMoveLeft(){return 0===this.esf.column.visibleIndex||0===this.esf.grid.unpinnedColumns.indexOf(this.esf.column)&&this.esf.column.disablePinning||0!==this.esf.column.level&&!this.findColumn(0,this.visibleColumns)}get canNotMoveRight(){return this.esf.column.visibleIndex===this.visibleColumns.length-1||0!==this.esf.column.level&&!this.findColumn(1,this.visibleColumns)}onMoveButtonClicked(e){let t;this.esf.column.pinned?this.esf.column.isLastPinned&&1===e&&this.esf.grid.isPinningToStart?(t=this.esf.grid.unpinnedColumns[0],e=0):this.esf.column.isFirstPinned&&0===e&&!this.esf.grid.isPinningToStart?(t=this.esf.grid.unpinnedColumns[this.esf.grid.unpinnedColumns.length-1],e=1):t=this.findColumn(e,this.esf.grid.pinnedColumns):0===this.esf.grid.unpinnedColumns.indexOf(this.esf.column)&&0===e&&this.esf.grid.isPinningToStart?(t=this.esf.grid.pinnedColumns[this.esf.grid.pinnedColumns.length-1],t.parent&&(t=t.topLevelParent),e=1):this.esf.grid.unpinnedColumns.indexOf(this.esf.column)!==this.esf.grid.unpinnedColumns.length-1||1!==e||this.esf.grid.isPinningToStart?t=this.findColumn(e,this.esf.grid.unpinnedColumns):(t=this.esf.grid.pinnedColumns[0],e=0),this.esf.grid.moveColumn(this.esf.column,t,e)}get esfSize(){return this.esf.size}findColumn(e,t){let i=t.indexOf(this.esf.column);if(0===e){for(;i>0;)if(i--,t[i].level===this.esf.column.level&&t[i].parent===this.esf.column.parent)return t[i];return t[0]}for(;i<t.length-1;)if(i++,t[i].level===this.esf.column.level&&t[i].parent===this.esf.column.parent)return t[i]}};return e.ɵfac=function(t){return new(t||e)(Oc(cH))},e.ɵcmp=es({type:e,selectors:[["igx-excel-style-moving"]],hostVars:2,hostBindings:function(e,t){2&e&&xg("igx-excel-filter__move",t.defaultClass)},standalone:!0,features:[Pp],decls:1,vars:1,consts:[[4,"ngIf"],["type","button","igxButton","",3,"click","disabled"],["family","default","name","arrow_back"],["family","default","name","arrow_forward"]],template:function(e,t){1&e&&Xu(0,lz,12,5,"ng-container",0),2&e&&fg("ngIf",t.esf.column)},dependencies:[cv,_P,ST,FT],encapsulation:2}),e})();function cz(e,t){if(1&e){let e=Wg();Mg(0,"div",1),ep("click",(function(){return Uo(e),qo(rp().esf.onPin())})),Mg(1,"span"),fp(2),Ng(),Lg(3,"igx-icon",2),Ng()}if(2&e){let e=rp();fg("ngClass",e.esf.column.pinned?"igx-excel-filter__actions-unpin":"igx-excel-filter__actions-pin"),Ac(2),yp(e.esf.column.pinned?e.esf.grid.resourceStrings.igx_grid_excel_unpin:e.esf.grid.resourceStrings.igx_grid_excel_pin),Ac(),fg("name",e.esf.column.pinned?"unpin":"pin")}}var hz=(()=>{let e=class{constructor(e){this.esf=e}};return e.ɵfac=function(t){return new(t||e)(Oc(cH))},e.ɵcmp=es({type:e,selectors:[["igx-excel-style-pinning"]],standalone:!0,features:[Pp],decls:1,vars:1,consts:[["tabindex","0","role","menuitem",3,"ngClass","click",4,"ngIf"],["tabindex","0","role","menuitem",3,"click","ngClass"],["family","default",3,"name"]],template:function(e,t){1&e&&Xu(0,cz,4,3,"div",0),2&e&&fg("ngIf",t.esf.column)},dependencies:[cv,av,FT],encapsulation:2}),e})(),uz=(()=>{let e=class{constructor(e){this.template=e}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxProgressBarText",""]],standalone:!0}),e})(),gz=(()=>{let e=class{constructor(e){this.template=e}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxProgressBarGradient",""]],standalone:!0}),e})(),pz=["indicator"],mz=(e,t,i,n,r)=>({"igx-linear-bar__value--start":e,"igx-linear-bar__value--center":t,"igx-linear-bar__value--end":i,"igx-linear-bar__value--top":n,"igx-linear-bar__value--hidden":r}),fz=["circle"],vz=e=>({$implicit:e});function yz(e,t){1&e&&(wa(),Gg(0))}function xz(e,t){1&e&&(wa(),Mg(0,"linearGradient",9),Lg(1,"stop",10)(2,"stop",11),Ng()),2&e&&fg("id",rp().gradientId)}function wz(e,t){1&e&&Gg(0)}function _z(e,t){if(1&e&&(Mg(0,"span",12),Xu(1,wz,1,0,"ng-container",7),Ng()),2&e){let e=rp(),t=mp(11);Ac(),fg("ngTemplateOutlet",e.textTemplate?e.textTemplate.template:t)("ngTemplateOutletContext",e.context)}}function Cz(e,t){if(1&e&&fp(0),2&e){let e=rp();xp(" ",e.textContent?e.textContent:e.valueInPercent+"%","\n")}}var Sz="start",bz="error",Dz="info",Iz="warning",Ez="success",Tz=(()=>{let e=class{constructor(){this.progressChanged=new yl,this.indeterminate=!1,this.animationDuration=2e3,this._initValue=0,this._contentInit=!1,this._max=100,this._value=0,this._newVal=0,this._animate=!0,this._internalState={oldVal:0,newVal:0}}get step(){return this._step?this._step:.01*this._max}set step(e){let t=Number(e);t>this.max||(this._step=t)}set animate(e){this._animate=e,this.animationDuration=e?2e3:0}get animate(){return this._animate}set max(e){e<0||this._max===e||this._animation&&"finished"!==this._animation.playState||(this._internalState.newVal=Math.round(Mz(Vz(this.value,e),e)),this._value=this._internalState.oldVal=Math.round(Mz(this.valueInPercent,e)),this._max=e,this.triggerProgressTransition(this._internalState.oldVal,this._internalState.newVal,!0))}get max(){return this._max}get valueInPercent(){return Vz(this._value,this._max)}get value(){return this._value}set value(e){if(this._animation&&"finished"!==this._animation.playState||e<0)return;let t=Fz(e,this.max);isNaN(t)||this._value===e||this.indeterminate||(this._contentInit?this.triggerProgressTransition(this._value,t):this._initValue=t)}triggerProgressTransition(e,t,i=!1){if(e===t)return;let n={currentValue:t,previousValue:e},r=this.directionFlow(e,t);if(this._animate){let i=Vz(t,this.max),n=Vz(e,this.max),s=this.animationDuration/Math.abs(i-n)/(this._step?this._step:1);this.runAnimation(t),this._interval=setInterval((()=>this.increase(t,r)),s)}else this.updateProgress(t);i||this.progressChanged.emit(n)}increase(e,t){let i=Vz(e,this._max);if(this._value=Fz(this._value,this._max)+t,t>0&&this.valueInPercent>=i||t<0&&this.valueInPercent<=i)return this._value!==e&&(this._value=e),clearInterval(this._interval)}directionFlow(e,t){return e<t?this.step:-this.step}updateProgress(e){this._value=Fz(e,this._max),this.runAnimation(e)}};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,hostVars:2,hostBindings:function(e,t){2&e&&tg("aria-valuemax",t.max)("aria-valuenow",t.value)},inputs:{indeterminate:[2,"indeterminate","indeterminate",Zm],animationDuration:"animationDuration",step:"step",animate:[2,"animate","animate",Zm],max:"max",value:"value"},outputs:{progressChanged:"progressChanged"},features:[Vu]}),e})(),Rz=0,Az=0,kz=0,Oz=(()=>{let e=class extends Tz{constructor(){super(...arguments),this.valueMin=0,this.cssClass="igx-linear-bar",this.striped=!1,this.role="progressbar",this.id="igx-linear-bar-"+Rz++,this.textAlign=Sz,this.textVisibility=!0,this.textTop=!1,this.type="default",this.animationState={width:"0%"}}get isIndeterminate(){return this.indeterminate}get error(){return this.type===bz}get info(){return this.type===Dz}get warning(){return this.type===Iz}get success(){return this.type===Ez}ngAfterContentInit(){this.triggerProgressTransition(0,this._initValue),this._contentInit=!0}runAnimation(e){if(this._animation&&"finished"!==this._animation.playState)return;let t=this.max<=0?0:Vz(e,this.max),i=[];i[0]=ke({},this.animationState),this.animationState.width=t+"%",i[1]=ke({},this.animationState),this._animation=this._progressIndicator.nativeElement.animate(i,{easing:"ease-out",fill:"forwards",duration:this.animationDuration})}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵcmp=es({type:e,selectors:[["igx-linear-bar"]],viewQuery:function(e,t){if(1&e&&up(pz,7),2&e){let e;gp(e=pp())&&(t._progressIndicator=e.first)}},hostVars:17,hostBindings:function(e,t){2&e&&(tg("aria-valuemin",t.valueMin)("role",t.role)("id",t.id),xg("igx-linear-bar",t.cssClass)("igx-linear-bar--striped",t.striped)("igx-linear-bar--indeterminate",t.isIndeterminate)("igx-linear-bar--danger",t.error)("igx-linear-bar--info",t.info)("igx-linear-bar--warning",t.warning)("igx-linear-bar--success",t.success))},inputs:{striped:[2,"striped","striped",Zm],role:"role",id:"id",textAlign:"textAlign",textVisibility:[2,"textVisibility","textVisibility",Zm],textTop:[2,"textTop","textTop",Zm],text:"text",type:"type"},standalone:!0,features:[Vu,Ru,Pp],decls:6,vars:10,consts:[["indicator",""],[1,"igx-linear-bar__base"],[1,"igx-linear-bar__indicator"],[1,"igx-linear-bar__indicator-secondary"],[1,"igx-linear-bar__value",3,"ngClass"]],template:function(e,t){1&e&&(Mg(0,"div",1),Lg(1,"div",2,0)(3,"div",3),Ng(),Mg(4,"span",4),fp(5),Ng()),2&e&&(Ac(),yg("width",0),Ac(3),fg("ngClass",Hp(4,mz,"start"===t.textAlign,"center"===t.textAlign,"end"===t.textAlign,t.textTop,!t.textVisibility)),Ac(),xp(" ",t.text?t.text:t.valueInPercent+"%","\n"))},dependencies:[av],encapsulation:2}),e})(),Pz=(()=>{let e=class extends Tz{get isIndeterminate(){return this.indeterminate}get context(){return{$implicit:{value:this.value,valueInPercent:this.valueInPercent,max:this.max}}}constructor(e,t){super(),this.renderer=e,this._directionality=t,this.cssClass="igx-circular-bar",this.id="igx-circular-bar-"+Az++,this.textVisibility=!0,this.gradientId="igx-circular-gradient-"+kz++,this._circleRadius=46,this._circumference=2*Math.PI*this._circleRadius,this.STROKE_OPACITY_DVIDER=100,this.STROKE_OPACITY_ADDITION=.2,this.animationState={strokeDashoffset:289,strokeOpacity:1}}ngAfterContentInit(){this.triggerProgressTransition(0,this._initValue),this._contentInit=!0}ngAfterViewInit(){this.renderer.setStyle(this._svgCircle.nativeElement,"stroke",`url(#${this.gradientId})`)}get textContent(){return this.text}runAnimation(e){if(this._animation&&"finished"!==this._animation.playState)return;let t=this.max<=0?0:Vz(e,this.max),i=[];i[0]=ke({},this.animationState),this.animationState.strokeDashoffset=this.getProgress(t),this.animationState.strokeOpacity=Vz(e,this.max)/this.STROKE_OPACITY_DVIDER+this.STROKE_OPACITY_ADDITION,i[1]=ke({},this.animationState),this._animation=this._svgCircle.nativeElement.animate(i,{easing:"ease-out",fill:"forwards",duration:this.animationDuration})}getProgress(e){return this._directionality.rtl?this._circumference+e*this._circumference/100:this._circumference-e*this._circumference/100}};return e.ɵfac=function(t){return new(t||e)(Oc(qh),Oc(EA))},e.ɵcmp=es({type:e,selectors:[["igx-circular-bar"]],contentQueries:function(e,t,i){if(1&e&&(hp(i,uz,5,uz),hp(i,gz,5,gz)),2&e){let e;gp(e=pp())&&(t.textTemplate=e.first),gp(e=pp())&&(t.gradientTemplate=e.first)}},viewQuery:function(e,t){if(1&e&&up(fz,7),2&e){let e;gp(e=pp())&&(t._svgCircle=e.first)}},hostVars:5,hostBindings:function(e,t){2&e&&(tg("id",t.id),xg("igx-circular-bar",t.cssClass)("igx-circular-bar--indeterminate",t.isIndeterminate))},inputs:{id:"id",isIndeterminate:"isIndeterminate",textVisibility:[2,"textVisibility","textVisibility",Zm],text:"text"},standalone:!0,features:[Vu,Ru,Pp],decls:12,vars:7,consts:[["svg",""],["circle",""],["defaultGradientTemplate",""],["defaultTextTemplate",""],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","viewBox","0 0 100 100","preserveAspectRatio","xMidYMid meet","role","progressbar","aria-valuemin","0"],["cx","50","cy","50","r","46",1,"igx-circular-bar__inner"],["cx","50","cy","50","r","46",1,"igx-circular-bar__outer"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","igx-circular-bar__text",4,"ngIf"],["gradientTransform","rotate(90)",3,"id"],["offset","0%",1,"igx-circular-bar__gradient-start"],["offset","100%",1,"igx-circular-bar__gradient-end"],[1,"igx-circular-bar__text"]],template:function(e,t){if(1&e&&(wa(),Mg(0,"svg",4,0),Lg(2,"circle",5)(3,"circle",6,1),Mg(5,"defs"),Xu(6,yz,1,0,"ng-container",7),Ng(),Xu(7,xz,3,1,"ng-template",null,2,nm),Ng(),Xu(9,_z,2,2,"span",8)(10,Cz,1,1,"ng-template",null,3,nm)),2&e){let e=mp(8);tg("aria-valuemax",t.max)("aria-valuenow",t.value),Ac(6),fg("ngTemplateOutlet",t.gradientTemplate?t.gradientTemplate.template:e)("ngTemplateOutletContext",Vp(5,vz,t.gradientId)),Ac(3),fg("ngIf",t.textVisibility)}},dependencies:[yv,cv],encapsulation:2}),e})(),Fz=(e,t,i=0)=>Math.max(Math.min(e,t),i),Vz=(e,t)=>t?Math.floor(100*e/t):0,Mz=(e,t)=>t*e/100,Nz={igx_expand:"Expand",igx_collapse:"Collapse"},Lz="None",Hz="Cascading",zz=new Gn("IgxTreeToken"),Bz=new Gn("IgxTreeNodeToken"),Gz=(()=>{let e=class{constructor(){this.expandedNodes=new Set,this.collapsingNodes=new Set,this.siblingComparer=(e,t)=>t!==e&&t.level===e.level}expand(e,t){this.collapsingNodes.delete(e),this.expandedNodes.has(e)||(e.expandedChange.emit(!0),this.expandedNodes.add(e),this.tree.singleBranchExpand&&this.tree.findNodes(e,this.siblingComparer)?.forEach((e=>{t?e.collapse():e.expanded=!1})))}collapsing(e){this.collapsingNodes.add(e)}collapse(e){this.expandedNodes.has(e)&&e.expandedChange.emit(!1),this.collapsingNodes.delete(e),this.expandedNodes.delete(e)}isExpanded(e){return this.expandedNodes.has(e)}register(e){this.tree=e}};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),$z=(()=>{let e=class{constructor(){this.nodeSelection=new Set,this.indeterminateNodes=new Set}register(e){this.tree=e}selectMultipleNodes(e,t){if(!this.nodeSelection.size)return void this.selectNode(e);let i=this.tree.nodes.toArray().indexOf(this.getSelectedNodes()[this.nodeSelection.size-1]),n=this.tree.nodes.toArray().indexOf(e),r=this.tree.nodes.toArray().slice(Math.min(n,i),Math.max(n,i)+1).filter((e=>!this.isNodeSelected(e))),s=this.getSelectedNodes().concat(r);this.emitNodeSelectionEvent(s,r,[],t)}selectNode(e,t){this.tree.selection!==Lz&&this.emitNodeSelectionEvent([...this.getSelectedNodes(),e],[e],[],t)}deselectNode(e,t){let i=this.getSelectedNodes().filter((t=>t!==e));this.emitNodeSelectionEvent(i,[],[e],t)}clearNodesSelection(){this.nodeSelection.clear(),this.indeterminateNodes.clear()}isNodeSelected(e){return this.nodeSelection.has(e)}isNodeIndeterminate(e){return this.indeterminateNodes.has(e)}selectNodesWithNoEvent(e,t=!1,i=!0){if(this.tree&&this.tree.selection===Hz)return void this.cascadeSelectNodesWithNoEvent(e,t);let n=this.getSelectedNodes();t&&this.nodeSelection.clear(),e.forEach((e=>this.nodeSelection.add(e))),i&&this.emitSelectedChangeEvent(n)}deselectNodesWithNoEvent(e,t=!0){let i=this.getSelectedNodes();e?this.tree&&this.tree.selection===Hz?this.cascadeDeselectNodesWithNoEvent(e):e.forEach((e=>this.nodeSelection.delete(e))):this.nodeSelection.clear(),t&&this.emitSelectedChangeEvent(i)}ensureStateOnNodeDelete(e){this.tree?.selection===Hz&&requestAnimationFrame((()=>{if(this.isNodeSelected(e))this.deselectNodesWithNoEvent([e],!1);else{if(!e.parentNode)return;let t=e.parentNode?.allChildren.find((e=>!e._children?.length));if(!t)return;this.retriggerNodeState(t)}}))}retriggerNodeState(e){e.selected?(this.nodeSelection.delete(e),this.selectNodesWithNoEvent([e],!1,!1)):(this.nodeSelection.add(e),this.deselectNodesWithNoEvent([e],!1))}getSelectedNodes(){return this.nodeSelection.size?Array.from(this.nodeSelection):[]}getIndeterminateNodes(){return this.indeterminateNodes.size?Array.from(this.indeterminateNodes):[]}emitNodeSelectionEvent(e,t,i,n){if(this.tree.selection===Hz)return void this.emitCascadeNodeSelectionEvent(e,t,i,n);let r=this.getSelectedNodes();if(this.areEqualCollections(r,e))return;let s={oldSelection:r,newSelection:e,added:t,removed:i,event:n,cancel:!1,owner:this.tree};this.tree.nodeSelection.emit(s),!s.cancel&&this.selectNodesWithNoEvent(s.newSelection,!0)}areEqualCollections(e,t){return e.length===t.length&&new Set(e.concat(t)).size===e.length}cascadeSelectNodesWithNoEvent(e,t=!1){let i=this.getSelectedNodes();if(t)this.indeterminateNodes.clear(),this.nodeSelection.clear(),this.calculateNodesNewSelectionState({added:e,removed:[]});else{let t={oldSelection:i,newSelection:[...i,...e]};this.populateAddRemoveArgs(t),this.calculateNodesNewSelectionState(t)}this.nodeSelection=new Set(this.nodesToBeSelected),this.indeterminateNodes=new Set(this.nodesToBeIndeterminate),this.emitSelectedChangeEvent(i)}cascadeDeselectNodesWithNoEvent(e){let t={added:[],removed:e};this.calculateNodesNewSelectionState(t),this.nodeSelection=new Set(this.nodesToBeSelected),this.indeterminateNodes=new Set(this.nodesToBeIndeterminate)}calculateNodesNewSelectionState(e){this.nodesToBeSelected=new Set(e.oldSelection?e.oldSelection:this.getSelectedNodes()),this.nodesToBeIndeterminate=new Set(this.getIndeterminateNodes()),this.cascadeSelectionState(e.removed,!1),this.cascadeSelectionState(e.added,!0)}cascadeSelectionState(e,t){if(e&&0!==e.length&&e&&e.length>0){let i=this.getCascadingNodeCollection(e);i.nodes.forEach((e=>{t?this.nodesToBeSelected.add(e):this.nodesToBeSelected.delete(e),this.nodesToBeIndeterminate.delete(e)})),Array.from(i.parents).forEach((e=>{this.handleParentSelectionState(e)}))}}emitCascadeNodeSelectionEvent(e,t,i,n){let r=this.getSelectedNodes();if(this.areEqualCollections(r,e))return;let s={oldSelection:r,newSelection:e,added:t,removed:i,event:n,cancel:!1,owner:this.tree};this.calculateNodesNewSelectionState(s),s.newSelection=Array.from(this.nodesToBeSelected),this.populateAddRemoveArgs(s),this.tree.nodeSelection.emit(s),!s.cancel&&(this.areEqualCollections(Array.from(this.nodesToBeSelected),s.newSelection)?(this.nodeSelection=new Set(this.nodesToBeSelected),this.indeterminateNodes=new Set(this.nodesToBeIndeterminate),this.emitSelectedChangeEvent(r)):this.cascadeSelectNodesWithNoEvent(s.newSelection,!0))}handleParentSelectionState(e){e&&(this.handleNodeSelectionState(e),e.parentNode&&this.handleParentSelectionState(e.parentNode))}handleNodeSelectionState(e){let t=e&&e._children?e._children.toArray():[];t.length?t.every((e=>this.nodesToBeSelected.has(e)))?(this.nodesToBeSelected.add(e),this.nodesToBeIndeterminate.delete(e)):t.some((e=>this.nodesToBeSelected.has(e)||this.nodesToBeIndeterminate.has(e)))?(this.nodesToBeIndeterminate.add(e),this.nodesToBeSelected.delete(e)):(this.nodesToBeIndeterminate.delete(e),this.nodesToBeSelected.delete(e)):(this.isNodeSelected(e)?this.nodesToBeSelected.add(e):this.nodesToBeSelected.delete(e),this.nodesToBeIndeterminate.delete(e))}getCascadingNodeCollection(e){let t={parents:new Set,nodes:new Set(e)};return Array.from(t.nodes).forEach((e=>{(e.allChildren?.toArray()||[]).forEach((e=>{t.nodes.add(e)})),e&&e.parentNode&&t.parents.add(e.parentNode)})),t}populateAddRemoveArgs(e){e.removed=e.oldSelection.filter((t=>e.newSelection.indexOf(t)<0)),e.added=e.newSelection.filter((t=>e.oldSelection.indexOf(t)<0))}emitSelectedChangeEvent(e){this.getSelectedNodes().forEach((t=>{e.indexOf(t)<0&&t.selectedChange.emit(!0)})),e.forEach((e=>{this.nodeSelection.has(e)||e.selectedChange.emit(!1)}))}};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),Wz=(()=>{let e=class{constructor(e,t){this.treeService=e,this.selectionService=t,this._focusedNode=null,this._lastFocusedNode=null,this._activeNode=null,this._visibleChildren=[],this._invisibleChildren=new Set,this._disabledChildren=new Set,this._cacheChange=new ei,this._cacheChange.subscribe((()=>{this._visibleChildren=this.tree?.nodes?this.tree.nodes.filter((e=>!(this._invisibleChildren.has(e)||this._disabledChildren.has(e)))):[]}))}register(e){this.tree=e}get focusedNode(){return this._focusedNode}set focusedNode(e){this._focusedNode!==e&&(this._lastFocusedNode=this._focusedNode,this._lastFocusedNode&&(this._lastFocusedNode.tabIndex=-1),this._focusedNode=e,null!==this._focusedNode&&(this._focusedNode.tabIndex=0,this._focusedNode.header.nativeElement.focus()))}get activeNode(){return this._activeNode}set activeNode(e){this._activeNode!==e&&(this._activeNode=e,this.tree.activeNodeChanged.emit(this._activeNode))}get visibleChildren(){return this._visibleChildren}update_disabled_cache(e){e.disabled?this._disabledChildren.add(e):this._disabledChildren.delete(e),this._cacheChange.next()}init_invisible_cache(){this.tree.nodes.filter((e=>0===e.level)).forEach((e=>{this.update_visible_cache(e,e.expanded,!1)})),this._cacheChange.next()}update_visible_cache(e,t,i=!0){t?e._children.forEach((e=>{this._invisibleChildren.delete(e),this.update_visible_cache(e,e.expanded,!1)})):e.allChildren.forEach((e=>this._invisibleChildren.add(e))),i&&this._cacheChange.next()}setFocusedAndActiveNode(e,t=!0){t&&(this.activeNode=e),this.focusedNode=e}handleKeydown(e){let t=e.key.toLowerCase();if(this.focusedNode){if(!xC.has(t)&&"*"!==t)return void("enter"===t&&(this.activeNode=this.focusedNode));e.preventDefault(),e.repeat?setTimeout((()=>this.handleNavigation(e)),1):this.handleNavigation(e)}}ngOnDestroy(){this._cacheChange.next(),this._cacheChange.complete()}handleNavigation(e){switch(e.key.toLowerCase()){case"home":this.setFocusedAndActiveNode(this.visibleChildren[0]);break;case"end":this.setFocusedAndActiveNode(this.visibleChildren[this.visibleChildren.length-1]);break;case"arrowleft":case"left":this.handleArrowLeft();break;case"arrowright":case"right":this.handleArrowRight();break;case"arrowup":case"up":this.handleUpDownArrow(!0,e);break;case"arrowdown":case"down":this.handleUpDownArrow(!1,e);break;case"*":this.handleAsterisk();break;case" ":case"spacebar":case"space":this.handleSpace(e.shiftKey);break;default:return}}handleArrowLeft(){if(this.focusedNode.expanded&&!this.treeService.collapsingNodes.has(this.focusedNode)&&this.focusedNode._children?.length)this.activeNode=this.focusedNode,this.focusedNode.collapse();else{let e=this.focusedNode.parentNode;e&&!e.disabled&&this.setFocusedAndActiveNode(e)}}handleArrowRight(){if(this.focusedNode._children.length>0)if(this.focusedNode.expanded){if(this.treeService.collapsingNodes.has(this.focusedNode))return void this.focusedNode.expand();let e=this.focusedNode._children.find((e=>!e.disabled));e&&this.setFocusedAndActiveNode(e)}else this.activeNode=this.focusedNode,this.focusedNode.expand()}handleUpDownArrow(e,t){let i=this.getVisibleNode(this.focusedNode,e?-1:1);i!==this.focusedNode&&(t.ctrlKey?this.setFocusedAndActiveNode(i,!1):this.setFocusedAndActiveNode(i))}handleAsterisk(){(this.focusedNode.parentNode?this.focusedNode.parentNode._children:this.tree.rootNodes)?.forEach((e=>{!e.disabled&&(!e.expanded||this.treeService.collapsingNodes.has(e))&&e.expand()}))}handleSpace(e=!1){if(this.tree.selection!==Lz){if(this.activeNode=this.focusedNode,e)return void this.selectionService.selectMultipleNodes(this.focusedNode);this.focusedNode.selected?this.selectionService.deselectNode(this.focusedNode):this.selectionService.selectNode(this.focusedNode)}}getVisibleNode(e,t=1){let i=this.visibleChildren.indexOf(e);return this.visibleChildren[i+t]||e}};return e.ɵfac=function(t){return new(t||e)(gr(Gz),gr($z))},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),Kz=["ghostTemplate"],jz=["defaultIndicator"],Uz=["childrenContainer"],qz=[[["igx-tree-node"]],"*"],Yz=["igx-tree-node","*"],Xz=(e,t,i,n)=>({"igx-tree-node__wrapper--selected":e,"igx-tree-node__wrapper--active":t,"igx-tree-node__wrapper--focused":i,"igx-tree-node__wrapper--disabled":n}),Zz=()=>[],Qz=e=>({"igx-tree-node__toggle-button--hidden":e}),Jz=e=>({$implicit:e});function eB(e,t){}function tB(e,t){1&e&&Xu(0,eB,0,0,"ng-template")}function iB(e,t){1&e&&Xu(0,tB,1,0,null,7),2&e&&(rp(),fg("ngTemplateOutlet",mp(9)))}function nB(e,t){}function rB(e,t){1&e&&Xu(0,nB,0,0,"ng-template")}function sB(e,t){1&e&&(Mg(0,"div",9,5),ap(2),Ng())}function oB(e,t){if(1&e&&Lg(0,"igx-icon",10),2&e){let e=rp();fg("name",e.expanded?"tree_collapse":"tree_expand"),tg("aria-label",e.expanded?e.resourceStrings.igx_collapse:e.resourceStrings.igx_expand)}}function aB(e,t){if(1&e&&Lg(0,"igx-checkbox",11),2&e){let e=rp();fg("checked",e.selected)("disabled",e.disabled)("readonly",!0)("indeterminate",e.indeterminate)("tabindex",-1)}}function lB(e,t){1&e&&Lg(0,"span",20)}function dB(e,t){1&e&&Gg(0)}function cB(e,t){if(1&e){let e=Wg();Mg(0,"span",21),ep("click",(function(){return Uo(e),qo(rp(2).indicatorClick())})),Xu(1,dB,1,0,"ng-container",22),Ng()}if(2&e){let e=rp(2);fg("ngClass",Vp(3,Qz,!(null!=e._children&&e._children.length))),Ac(),fg("ngTemplateOutlet",e.expandIndicatorTemplate)("ngTemplateOutletContext",Vp(5,Jz,e.expanded))}}function hB(e,t){1&e&&(Mg(0,"span",23),Lg(1,"igx-circular-bar",24),Ng()),2&e&&(Ac(),fg("animate",!1)("indeterminate",!0)("textVisibility",!1))}function uB(e,t){1&e&&Gg(0)}function gB(e,t){if(1&e){let e=Wg();Mg(0,"div",25),ep("pointerdown",(function(t){return Uo(e),qo(rp(2).onSelectorPointerDown(t))}))("click",(function(t){return Uo(e),qo(rp(2).onSelectorClick(t))})),Xu(1,uB,1,0,"ng-container",7),Ng()}if(2&e){rp(2);let e=mp(7);Ac(),fg("ngTemplateOutlet",e)}}function pB(e,t){1&e&&Lg(0,"span",20)}function mB(e,t){if(1&e){let e=Wg();Mg(0,"div",12,6),ep("pointerdown",(function(t){return Uo(e),qo(rp().onPointerDown(t))}))("focus",(function(){return Uo(e),qo(rp().handleFocus())}))("blur",(function(){return Uo(e),qo(rp().clearFocus())})),Mg(2,"div",13),Xu(3,lB,1,0,"span",14),Ng(),Xu(4,cB,2,7,"span",15)(5,hB,2,3,"span",16)(6,gB,2,1,"div",17),Mg(7,"div",18),ap(8,1),Ng()(),Mg(9,"div",19),Xu(10,pB,1,0,"span",14),Lg(11,"div"),Ng()}if(2&e){let e=rp();fg("tabIndex",e.tabIndex)("ngClass",Lp(8,Xz,e.selected,e.active,e.focused,e.disabled)),tg("role",e.role),Ac(3),fg("ngForOf",Fp(13,Zz).constructor(e.level)),Ac(),fg("ngIf",!e.loading),Ac(),fg("ngIf",e.loading),Ac(),fg("ngIf",e.showSelectors),Ac(4),fg("ngForOf",Fp(14,Zz).constructor(e.level))}}function fB(e,t){}function vB(e,t){1&e&&Xu(0,fB,0,0,"ng-template")}function yB(e,t){if(1&e&&(Mg(0,"div",26),Xu(1,vB,1,0,null,7),Ng()),2&e){rp();let e=mp(9);Ac(),fg("ngTemplateOutlet",e)}}var xB=(()=>{let e=class{set parentNode(e){e&&(this._parentNode=e,this._parentNode.addLinkChild(this))}get parentNode(){return this._parentNode}get target(){return this.node||this.parentNode}constructor(e,t,i){this.node=e,this.navService=t,this.elementRef=i,this.role="treeitem",this._parentNode=null}get tabIndex(){return this.navService.focusedNode===this.target?this.target?.disabled?-1:0:-1}handleBlur(){this.target.isFocused=!1}handleFocus(){this.target&&!this.target.disabled&&(this.navService.focusedNode!==this.target&&(this.navService.focusedNode=this.target),this.target.isFocused=!0)}ngOnDestroy(){this.target.removeLinkChild(this)}};return e.ɵfac=function(t){return new(t||e)(Oc(Bz,8),Oc(Wz),Oc(Nl))},e.ɵdir=ss({type:e,selectors:[["","igxTreeNodeLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&ep("blur",(function(){return t.handleBlur()}))("focus",(function(){return t.handleFocus()})),2&e&&tg("role",t.role)("tabindex",t.tabIndex)},inputs:{parentNode:[0,"igxTreeNodeLink","parentNode"]},standalone:!0}),e})(),wB=(()=>{let e=class extends gk{set tabIndex(e){this._tabIndex=e}get tabIndex(){return this.disabled?-1:null===this._tabIndex?null===this.navService.focusedNode?this.hasLinkChildren?-1:0:-1:this.hasLinkChildren?-1:this._tabIndex}get animationSettings(){return this.tree.animationSettings}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}set active(e){e&&(this.navService.activeNode=this,this.tree.activeNodeBindingChange.emit(this))}get active(){return this.navService.activeNode===this}get focused(){return this.isFocused&&this.navService.focusedNode===this}get path(){return this.parentNode?.path?[...this.parentNode.path,this]:[this]}get disabled(){return this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.tree.disabledChange.emit(this))}get role(){return this.hasLinkChildren?"none":"treeitem"}get children(){return this._children?.length?this._children.toArray():null}get hasLinkChildren(){return this.linkChildren?.length>0||this.registeredChildren?.length>0}constructor(e,t,i,n,r,s,o,a){super(s),this.tree=e,this.selectionService=t,this.treeService=i,this.navService=n,this.cdr=r,this.element=o,this.parentNode=a,this.loading=!1,this.selectedChange=new yl,this.expandedChange=new yl,this.cssClass="igx-tree-node",this.registeredChildren=[],this._resourceStrings=MT(Nz),this._tabIndex=null,this._disabled=!1}get showSelectors(){return this.tree.selection!==Lz}get indeterminate(){return this.selectionService.isNodeIndeterminate(this)}get level(){return this.parentNode?this.parentNode.level+1:0}get selected(){return this.selectionService.isNodeSelected(this)}set selected(e){this.tree?.nodes&&this.tree.nodes.find((e=>e===this))||!e?(e&&!this.selectionService.isNodeSelected(this)&&this.selectionService.selectNodesWithNoEvent([this]),!e&&this.selectionService.isNodeSelected(this)&&this.selectionService.deselectNodesWithNoEvent([this])):this.tree.forceSelect.push(this)}get expanded(){return this.treeService.isExpanded(this)}set expanded(e){e?this.treeService.expand(this,!1):this.treeService.collapse(this)}get expandIndicatorTemplate(){return this.tree?.expandIndicator||this._defaultExpandIndicatorTemplate}get nativeElement(){return this.element.nativeElement}ngOnInit(){this.openAnimationDone.pipe(mn(this.destroy$)).subscribe((()=>{this.tree.nodeExpanded.emit({owner:this.tree,node:this})})),this.closeAnimationDone.pipe(mn(this.destroy$)).subscribe((()=>{this.tree.nodeCollapsed.emit({owner:this.tree,node:this}),this.treeService.collapse(this),this.cdr.markForCheck()}))}handleFocus(){if(!this.disabled){if(this.navService.focusedNode!==this&&(this.navService.focusedNode=this),this.isFocused=!0,this.linkChildren?.length)return void this.linkChildren.first.nativeElement.focus();if(this.registeredChildren.length)return void this.registeredChildren[0].elementRef.nativeElement.focus()}}clearFocus(){this.isFocused=!1}onSelectorPointerDown(e){e.preventDefault(),e.stopPropagation()}onSelectorClick(e){e.preventDefault(),e.shiftKey?this.selectionService.selectMultipleNodes(this,e):this.selected?this.selectionService.deselectNode(this,e):this.selectionService.selectNode(this,e)}toggle(){this.expanded?this.collapse():this.expand()}indicatorClick(){this.tree.toggleNodeOnClick||(this.toggle(),this.navService.setFocusedAndActiveNode(this))}onPointerDown(e){e.stopPropagation(),this.tree.toggleNodeOnClick&&0===e.button&&this.toggle(),this.navService.setFocusedAndActiveNode(this)}ngOnDestroy(){super.ngOnDestroy(),this.selectionService.ensureStateOnNodeDelete(this)}expand(){if(this.expanded&&!this.treeService.collapsingNodes.has(this))return;let e={owner:this.tree,node:this,cancel:!1};this.tree.nodeExpanding.emit(e),e.cancel||(this.treeService.expand(this,!0),this.cdr.detectChanges(),this.playOpenAnimation(this.childrenContainer))}collapse(){if(!this.expanded||this.treeService.collapsingNodes.has(this))return;let e={owner:this.tree,node:this,cancel:!1};this.tree.nodeCollapsing.emit(e),e.cancel||(this.treeService.collapsing(this),this.playCloseAnimation(this.childrenContainer))}addLinkChild(e){this._tabIndex=-1,this.registeredChildren.push(e)}removeLinkChild(e){let t=this.registeredChildren.indexOf(e);-1!==t&&this.registeredChildren.splice(t,1)}};return e.ɵfac=function(t){return new(t||e)(Oc(zz),Oc($z),Oc(Gz),Oc(Wz),Oc(Pm),Oc(kE),Oc(Nl),Oc(Bz,12))},e.ɵcmp=es({type:e,selectors:[["igx-tree-node"]],contentQueries:function(e,t,i){if(1&e&&(hp(i,xB,4,Nl),hp(i,Bz,4,Bz),hp(i,Bz,5,Bz)),2&e){let e;gp(e=pp())&&(t.linkChildren=e),gp(e=pp())&&(t._children=e),gp(e=pp())&&(t.allChildren=e)}},viewQuery:function(e,t){if(1&e&&(up(Kz,5,Nl),up(jz,7,Oh),up(Uz,5,Nl)),2&e){let e;gp(e=pp())&&(t.header=e.first),gp(e=pp())&&(t._defaultExpandIndicatorTemplate=e.first),gp(e=pp())&&(t.childrenContainer=e.first)}},hostVars:5,hostBindings:function(e,t){2&e&&(tg("role",t.role),xg("igx-tree-node--disabled",t.disabled)("igx-tree-node",t.cssClass))},inputs:{data:"data",loading:[2,"loading","loading",Zm],resourceStrings:"resourceStrings",active:[2,"active","active",Zm],disabled:[2,"disabled","disabled",Zm],selected:[2,"selected","selected",Zm],expanded:[2,"expanded","expanded",Zm]},outputs:{selectedChange:"selectedChange",expandedChange:"expandedChange"},standalone:!0,features:[kp([{provide:Bz,useExisting:e}]),Vu,Ru,Pp],ngContentSelectors:Yz,decls:12,vars:2,consts:[["noDragTemplate",""],["defaultIndicator",""],["selectMarkerTemplate",""],["headerTemplate",""],["dragTemplate",""],["childrenContainer",""],["ghostTemplate",""],[4,"ngTemplateOutlet"],["class","igx-tree-node__group","role","group",4,"ngIf"],["role","group",1,"igx-tree-node__group"],["family","default",3,"name"],[3,"checked","disabled","readonly","indeterminate","tabindex"],[1,"igx-tree-node__wrapper",3,"pointerdown","focus","blur","tabIndex","ngClass"],["aria-hidden","true"],["aria-hidden","true","class","igx-tree-node__spacer",4,"ngFor","ngForOf"],["class","igx-tree-node__toggle-button",3,"ngClass","click",4,"ngIf"],["class","igx-tree-node__toggle-button",4,"ngIf"],["class","igx-tree-node__select",3,"pointerdown","click",4,"ngIf"],[1,"igx-tree-node__content"],[1,"igx-tree-node__drop-indicator"],["aria-hidden","true",1,"igx-tree-node__spacer"],[1,"igx-tree-node__toggle-button",3,"click","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-tree-node__toggle-button"],[3,"animate","indeterminate","textVisibility"],[1,"igx-tree-node__select",3,"pointerdown","click"],[1,"igx-tree-node__drag-wrapper"]],template:function(e,t){if(1&e&&(op(qz),Xu(0,iB,1,1,"ng-template",null,0,nm)(2,rB,1,0,null,7)(3,sB,3,0,"div",8)(4,oB,1,2,"ng-template",null,1,nm)(6,aB,1,5,"ng-template",null,2,nm)(8,mB,12,15,"ng-template",null,3,nm)(10,yB,2,1,"ng-template",null,4,nm)),2&e){let e=mp(1);Ac(2),fg("ngTemplateOutlet",e),Ac(),fg("ngIf",t.expanded&&!t.loading)}},dependencies:[yv,cv,FT,DA,av,lv,Pz],encapsulation:2}),e})(),_B=[[["igx-tree-node"]]],CB=["igx-tree-node"],SB=(()=>{let e=class{};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","igxTreeExpandIndicator",""]],standalone:!0}),e})(),bB=(()=>{let e=class{get selection(){return this._selection}set selection(e){this._selection=e,this.selectionService.clearNodesSelection()}get rootNodes(){return this.nodes?.filter((e=>0===e.level))}constructor(e,t,i,n){this.navService=e,this.selectionService=t,this.treeService=i,this.element=n,this.cssClass="igx-tree",this.singleBranchExpand=!1,this.toggleNodeOnClick=!1,this.animationSettings={openAnimation:DD,closeAnimation:ID},this.nodeSelection=new yl,this.nodeExpanding=new yl,this.nodeExpanded=new yl,this.nodeCollapsing=new yl,this.nodeCollapsed=new yl,this.activeNodeChanged=new yl,this.disabledChange=new yl,this.activeNodeBindingChange=new yl,this.forceSelect=[],this.resizeNotify=new ei,this._selection=Lz,this.destroy$=new ei,this.unsubChildren$=new ei,this._comparer=(e,t)=>t.data===e,this.selectionService.register(this),this.treeService.register(this),this.navService.register(this)}get nativeElement(){return this.element.nativeElement}expandAll(e){(e=e||this.nodes.toArray()).forEach((e=>e.expanded=!0))}collapseAll(e){(e=e||this.nodes.toArray()).forEach((e=>e.expanded=!1))}deselectAll(e){this.selectionService.deselectNodesWithNoEvent(e)}findNodes(e,t){let i=t||this._comparer,n=this.nodes.filter((t=>i(e,t)));return 0===n?.length?null:n}handleKeydown(e){this.navService.handleKeydown(e)}ngOnInit(){this.disabledChange.pipe(mn(this.destroy$)).subscribe((e=>{this.navService.update_disabled_cache(e)})),this.activeNodeBindingChange.pipe(mn(this.destroy$)).subscribe((e=>{this.expandToNode(this.navService.activeNode),this.scrollNodeIntoView(e?.header?.nativeElement)})),this.subToCollapsing(),this.resizeNotify.pipe(yn(40,null,{trailing:!0}),mn(this.destroy$)).subscribe((()=>{requestAnimationFrame((()=>{this.scrollNodeIntoView(this.navService.activeNode?.header.nativeElement)}))}))}ngAfterViewInit(){this.nodes.changes.pipe(mn(this.destroy$)).subscribe((()=>{this.subToChanges()})),this.scrollNodeIntoView(this.navService.activeNode?.header?.nativeElement),this.subToChanges(),IC(this.nativeElement).pipe(mn(this.destroy$)).subscribe((()=>this.resizeNotify.next()))}ngOnDestroy(){this.unsubChildren$.next(),this.unsubChildren$.complete(),this.destroy$.next(),this.destroy$.complete()}expandToNode(e){e&&e.parentNode&&e.path.forEach((t=>{t!==e&&!t.expanded&&(t.expanded=!0)}))}subToCollapsing(){this.nodeCollapsing.pipe(mn(this.destroy$)).subscribe((e=>{e.cancel||this.navService.update_visible_cache(e.node,!1)})),this.nodeExpanding.pipe(mn(this.destroy$)).subscribe((e=>{e.cancel||this.navService.update_visible_cache(e.node,!0)}))}subToChanges(){this.unsubChildren$.next();let e=[...this.forceSelect];requestAnimationFrame((()=>{this.selectionService.selectNodesWithNoEvent(e)})),this.forceSelect=[],this.nodes.forEach((e=>{e.expandedChange.pipe(mn(this.unsubChildren$)).subscribe((t=>{this.navService.update_visible_cache(e,t)})),e.closeAnimationDone.pipe(mn(this.unsubChildren$)).subscribe((()=>{let e=this.navService.focusedNode?.header.nativeElement;this.scrollNodeIntoView(e)})),e.openAnimationDone.pipe(mn(this.unsubChildren$)).subscribe((()=>{let e=this.navService.focusedNode?.header.nativeElement;this.scrollNodeIntoView(e)}))})),this.navService.init_invisible_cache()}scrollNodeIntoView(e){if(!e)return;let t=e.getBoundingClientRect(),i=this.nativeElement.getBoundingClientRect(),n=i.top>t.top?t.top-i.top:0,r=i.bottom<t.bottom?t.bottom-i.bottom:0;(n||r)&&this.nativeElement.scrollHeight>this.nativeElement.clientHeight&&(this.nativeElement.scrollTop=this.nativeElement.scrollTop+r+n+(n?-1:1)*t.height)}};return e.ɵfac=function(t){return new(t||e)(Oc(Wz),Oc($z),Oc(Gz),Oc(Nl))},e.ɵcmp=es({type:e,selectors:[["igx-tree"]],contentQueries:function(e,t,i){if(1&e&&(hp(i,SB,5,Oh),hp(i,wB,5)),2&e){let e;gp(e=pp())&&(t.expandIndicator=e.first),gp(e=pp())&&(t.nodes=e)}},hostVars:2,hostBindings:function(e,t){2&e&&xg("igx-tree",t.cssClass)},inputs:{selection:"selection",singleBranchExpand:[2,"singleBranchExpand","singleBranchExpand",Zm],toggleNodeOnClick:[2,"toggleNodeOnClick","toggleNodeOnClick",Zm],animationSettings:"animationSettings"},outputs:{nodeSelection:"nodeSelection",nodeExpanding:"nodeExpanding",nodeExpanded:"nodeExpanded",nodeCollapsing:"nodeCollapsing",nodeCollapsed:"nodeCollapsed",activeNodeChanged:"activeNodeChanged"},standalone:!0,features:[kp([Gz,$z,Wz,{provide:zz,useExisting:e}]),Vu,Pp],ngContentSelectors:CB,decls:2,vars:0,consts:[["role","tree",1,"igx-tree__root",3,"keydown"]],template:function(e,t){1&e&&(op(_B),Mg(0,"div",0),ep("keydown",(function(e){return t.handleKeydown(e)})),ap(1),Ng())},encapsulation:2}),e})(),DB=(()=>{let e=class{constructor(e){this.el=e}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl,8))},e.ɵdir=ss({type:e,selectors:[["","igxListBase",""]],standalone:!0}),e})(),IB=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e}(IB||{}),EB=(()=>{let e=class{constructor(e){this.template=e}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxEmptyList",""]],standalone:!0}),e})(),TB=(()=>{let e=class{constructor(e){this.template=e}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxDataLoading",""]],standalone:!0}),e})(),RB=(()=>{let e=class{constructor(e){this.template=e}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxListItemLeftPanning",""]],standalone:!0}),e})(),AB=(()=>{let e=class{constructor(e){this.template=e}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxListItemRightPanning",""]],standalone:!0}),e})(),kB=["leftPanningTmpl"],OB=["rightPanningTmpl"],PB=["*",[["","igxListThumbnail",""],["igx-list__item-thumbnail"],["igx-avatar"]],[["","igxListLine",""],["",8,"igx-list__item-lines"],["","igxListLineTitle",""],["","igxListLineSubTitle",""],["",8,"igx-list__item-line-title"],["",8,"igx-list__item-line-subtitle"]],[["","igxListAction",""],["",8,"igx-list__item-actions"]]],FB=["*","[igxListThumbnail], igx-list__item-thumbnail, igx-avatar","[igxListLine], .igx-list__item-lines, [igxListLineTitle], [igxListLineSubTitle], .igx-list__item-line-title, .igx-list__item-line-subtitle","[igxListAction], .igx-list__item-actions"];function VB(e,t){1&e&&Gg(0)}function MB(e,t){if(1&e&&(Mg(0,"div",9,4),Xu(2,VB,1,0,"ng-container",10),Ng()),2&e){let e=rp();yg("width",e.offsetWidthInRem,"rem")("height",e.offsetHeightInRem,"rem"),Ac(2),fg("ngTemplateOutlet",e.list.listItemLeftPanningTemplate.template)("ngTemplateOutletContext",e.context)}}function NB(e,t){1&e&&Gg(0)}function LB(e,t){if(1&e&&(Mg(0,"div",11,5),Xu(2,NB,1,0,"ng-container",10),Ng()),2&e){let e=rp();yg("width",e.offsetWidthInRem,"rem")("height",e.offsetHeightInRem,"rem"),Ac(2),fg("ngTemplateOutlet",e.list.listItemRightPanningTemplate.template)("ngTemplateOutletContext",e.context)}}function HB(e,t){1&e&&ap(0)}function zB(e,t){1&e&&(Mg(0,"div",12),ap(1,1),Ng())}function BB(e,t){1&e&&(Mg(0,"div",13),ap(1,2),Ng())}function GB(e,t){1&e&&(Mg(0,"div",14),ap(1,3),Ng())}function $B(e,t){1&e&&Gg(0)}function WB(e,t){if(1&e&&(zg(0),Xu(1,$B,1,0,"ng-container",15),Bg()),2&e){rp();let e=mp(3);Ac(),fg("ngTemplateOutlet",e)}}function KB(e,t){1&e&&Gg(0)}function jB(e,t){1&e&&Gg(0)}function UB(e,t){1&e&&Gg(0)}function qB(e,t){1&e&&Gg(0)}function YB(e,t){if(1&e&&(zg(0),Mg(1,"div",16),Xu(2,KB,1,0,"ng-container",15)(3,jB,1,0,"ng-container",15)(4,UB,1,0,"ng-container",15)(5,qB,1,0,"ng-container",15),Ng(),Bg()),2&e){rp();let e=mp(3),t=mp(5),i=mp(7),n=mp(9);Ac(2),fg("ngTemplateOutlet",t),Ac(),fg("ngTemplateOutlet",i),Ac(),fg("ngTemplateOutlet",n),Ac(),fg("ngTemplateOutlet",e)}}var XB=(()=>{let e=class{get panState(){return this._panState}get index(){return null!==this._index?this._index:this.list.children.toArray().indexOf(this)}set index(e){this._index=e}get element(){return this.elementRef.nativeElement}get contentElement(){let e=this.element.getElementsByClassName("igx-list__item-content");return e&&e.length>0?e[0]:null}get context(){return{$implicit:this}}get width(){if(this.element)return this.element.offsetWidth}get maxLeft(){return-this.width}get maxRight(){return this.width}get offsetWidthInRem(){return OC(this.element.offsetWidth)}get offsetHeightInRem(){return OC(this.element.offsetHeight)}constructor(e,t,i){this.list=e,this.elementRef=t,this._renderer=i,this.hidden=!1,this.touchAction="pan-y",this._panState=IB.NONE,this.panOffset=0,this._index=null,this.lastPanDir=IB.NONE,this._role=""}get role(){return this._role?this._role:this.isHeader?"separator":"listitem"}set role(e){this._role=e}get headerStyle(){return this.isHeader}get innerStyle(){return!this.isHeader}get display(){return this.hidden?"none":""}clicked(e){this.list.itemClicked.emit({item:this,event:e,direction:this.lastPanDir}),this.lastPanDir=IB.NONE}panStart(){this.isTrue(this.isHeader)||!this.isTrue(this.list.allowLeftPanning)&&!this.isTrue(this.list.allowRightPanning)||this.list.startPan.emit({item:this,direction:this.lastPanDir,keepitem:!1})}panCancel(){this.resetPanPosition(),this.list.endPan.emit({item:this,direction:this.lastPanDir,keepItem:!1})}panMove(e){if(this.isTrue(this.isHeader)||!this.isTrue(this.list.allowLeftPanning)&&!this.isTrue(this.list.allowRightPanning))return;let t=e.deltaX<0;t&&this.isTrue(this.list.allowLeftPanning)?(this.showLeftPanTemplate(),this.setContentElementLeft(Math.max(this.maxLeft,e.deltaX))):!t&&this.isTrue(this.list.allowRightPanning)&&(this.showRightPanTemplate(),this.setContentElementLeft(Math.min(this.maxRight,e.deltaX)))}panEnd(){if(this.isTrue(this.isHeader)||!this.isTrue(this.list.allowLeftPanning)&&!this.isTrue(this.list.allowRightPanning))return;let e=this.panOffset,t=this.width*this.list.panEndTriggeringThreshold;if(0===e)return;let i=e>0?IB.RIGHT:IB.LEFT;this.lastPanDir=i;let n={item:this,direction:i,keepItem:!1};this.list.endPan.emit(n);let r=this._panState;if(Math.abs(e)<t)return this.resetPanPosition(),void this.list.resetPan.emit(this);if(i===IB.LEFT?this.list.leftPan.emit(n):this.list.rightPan.emit(n),!0===n.keepItem?(this.setContentElementLeft(0),this._panState=IB.NONE):i===IB.LEFT?(this.setContentElementLeft(this.maxLeft),this._panState=IB.LEFT):(this.setContentElementLeft(this.maxRight),this._panState=IB.RIGHT),r!==this._panState){let e={oldState:r,newState:this._panState,item:this};this.list.panStateChange.emit(e)}this.hideLeftAndRightPanTemplates()}showLeftPanTemplate(){this.setLeftAndRightTemplatesVisibility("visible","hidden")}showRightPanTemplate(){this.setLeftAndRightTemplatesVisibility("hidden","visible")}hideLeftAndRightPanTemplates(){setTimeout((()=>{this.setLeftAndRightTemplatesVisibility("hidden","hidden")}),500)}setLeftAndRightTemplatesVisibility(e,t){this.leftPanningTemplateElement&&this.leftPanningTemplateElement.nativeElement&&(this.leftPanningTemplateElement.nativeElement.style.visibility=e),this.rightPanningTemplateElement&&this.rightPanningTemplateElement.nativeElement&&(this.rightPanningTemplateElement.nativeElement.style.visibility=t)}setContentElementLeft(e){this.panOffset=e,this.contentElement.style.transform="translateX("+e+"px)"}isTrue(e){return"boolean"==typeof e?e:"true"===e}resetPanPosition(){this.setContentElementLeft(0),this._panState=IB.NONE,this.hideLeftAndRightPanTemplates()}};return e.ɵfac=function(t){return new(t||e)(Oc(DB),Oc(Nl),Oc(qh))},e.ɵcmp=es({type:e,selectors:[["igx-list-item"]],viewQuery:function(e,t){if(1&e&&(up(kB,5),up(OB,5)),2&e){let e;gp(e=pp())&&(t.leftPanningTemplateElement=e.first),gp(e=pp())&&(t.rightPanningTemplateElement=e.first)}},hostVars:10,hostBindings:function(e,t){1&e&&ep("click",(function(e){return t.clicked(e)}))("panstart",(function(){return t.panStart()}))("pancancel",(function(){return t.panCancel()}))("panmove",(function(e){return t.panMove(e)}))("panend",(function(){return t.panEnd()})),2&e&&(tg("aria-label",t.ariaLabel)("role",t.role),yg("touch-action",t.touchAction)("display",t.display),xg("igx-list__header",t.headerStyle)("igx-list__item-base",t.innerStyle))},inputs:{isHeader:[2,"isHeader","isHeader",Zm],hidden:[2,"hidden","hidden",Zm],index:"index",role:"role"},standalone:!0,features:[kp([CV]),Vu,Pp],ngContentSelectors:FB,decls:12,vars:4,consts:[["itemsContent",""],["itemThumbnails",""],["itemLines",""],["itemActions",""],["leftPanningTmpl",""],["rightPanningTmpl",""],["class","igx-list__item-right",3,"width","height",4,"ngIf"],["class","igx-list__item-left",3,"width","height",4,"ngIf"],[4,"ngIf"],[1,"igx-list__item-right"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-list__item-left"],[1,"igx-list__item-thumbnail"],[1,"igx-list__item-lines"],[1,"igx-list__item-actions"],[4,"ngTemplateOutlet"],[1,"igx-list__item-content"]],template:function(e,t){1&e&&(op(PB),Xu(0,MB,3,6,"div",6)(1,LB,3,6,"div",7)(2,HB,1,0,"ng-template",null,0,nm)(4,zB,2,0,"ng-template",null,1,nm)(6,BB,2,0,"ng-template",null,2,nm)(8,GB,2,0,"ng-template",null,3,nm)(10,WB,2,1,"ng-container",8)(11,YB,6,4,"ng-container",8)),2&e&&(fg("ngIf",!t.isHeader&&t.list.listItemLeftPanningTemplate),Ac(),fg("ngIf",!t.isHeader&&t.list.listItemRightPanningTemplate),Ac(9),fg("ngIf",t.isHeader),Ac(),fg("ngIf",!t.isHeader))},dependencies:[cv,yv],encapsulation:2,changeDetection:0}),e})(),ZB={igx_list_no_items:"There are no items in the list.",igx_list_loading:"Loading data from the server..."},QB=["defaultEmptyList"],JB=["defaultDataLoading"],eG=["*"];function tG(e,t){if(1&e&&(Mg(0,"article",3),fp(1),Ng()),2&e){let e=rp();Ac(),xp(" ",e.resourceStrings.igx_list_no_items," ")}}function iG(e,t){if(1&e&&(Mg(0,"article",3),fp(1),Ng()),2&e){let e=rp();Ac(),xp(" ",e.resourceStrings.igx_list_loading," ")}}function nG(e,t){1&e&&Gg(0)}function rG(e,t){if(1&e&&(zg(0),Xu(1,nG,1,0,"ng-container",4),Bg()),2&e){let e=rp();Ac(),fg("ngTemplateOutlet",e.template)("ngTemplateOutletContext",e.context)}}var sG=0,oG=(()=>{let e=class extends DB{set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}constructor(e){super(e),this.element=e,this.panEndTriggeringThreshold=.5,this.id="igx-list-"+sG++,this.allowLeftPanning=!1,this.allowRightPanning=!1,this.isLoading=!1,this.leftPan=new yl,this.rightPan=new yl,this.startPan=new yl,this.endPan=new yl,this.resetPan=new yl,this.panStateChange=new yl,this.itemClicked=new yl,this._resourceStrings=MT(ZB),this._role="list"}get sortedChildren(){return void 0!==this.children?this.children.toArray().sort(((e,t)=>e.index-t.index)):null}get role(){return this._role}set role(e){this._role=e}get isListEmpty(){return!this.children||0===this.children.length}get cssClass(){return!this.isListEmpty}get items(){let e=[];if(void 0!==this.children)for(let t of this.sortedChildren)t.isHeader||e.push(t);return e}get headers(){let e=[];if(void 0!==this.children)for(let t of this.children.toArray())t.isHeader&&e.push(t);return e}get context(){return{$implicit:this}}get template(){return this.isLoading?this.dataLoadingTemplate?this.dataLoadingTemplate.template:this.defaultDataLoadingTemplate:this.emptyListTemplate?this.emptyListTemplate.template:this.defaultEmptyListTemplate}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl))},e.ɵcmp=es({type:e,selectors:[["igx-list"]],contentQueries:function(e,t,i){if(1&e&&(hp(i,EB,5,EB),hp(i,TB,5,TB),hp(i,RB,5,RB),hp(i,AB,5,AB),hp(i,XB,5)),2&e){let e;gp(e=pp())&&(t.emptyListTemplate=e.first),gp(e=pp())&&(t.dataLoadingTemplate=e.first),gp(e=pp())&&(t.listItemLeftPanningTemplate=e.first),gp(e=pp())&&(t.listItemRightPanningTemplate=e.first),gp(e=pp())&&(t.children=e)}},viewQuery:function(e,t){if(1&e&&(up(QB,7,Oh),up(JB,7,Oh)),2&e){let e;gp(e=pp())&&(t.defaultEmptyListTemplate=e.first),gp(e=pp())&&(t.defaultDataLoadingTemplate=e.first)}},hostVars:6,hostBindings:function(e,t){2&e&&(tg("id",t.id)("role",t.role),xg("igx-list--empty",t.isListEmpty)("igx-list",t.cssClass))},inputs:{panEndTriggeringThreshold:"panEndTriggeringThreshold",id:"id",allowLeftPanning:[2,"allowLeftPanning","allowLeftPanning",Zm],allowRightPanning:[2,"allowRightPanning","allowRightPanning",Zm],isLoading:[2,"isLoading","isLoading",Zm],resourceStrings:"resourceStrings",role:"role"},outputs:{leftPan:"leftPan",rightPan:"rightPan",startPan:"startPan",endPan:"endPan",resetPan:"resetPan",panStateChange:"panStateChange",itemClicked:"itemClicked"},standalone:!0,features:[kp([{provide:DB,useExisting:e}]),Vu,Ru,Pp],ngContentSelectors:eG,decls:6,vars:1,consts:[["defaultEmptyList",""],["defaultDataLoading",""],[4,"ngIf"],[1,"igx-list__message"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(op(),ap(0),Xu(1,tG,2,1,"ng-template",null,0,nm)(3,iG,2,1,"ng-template",null,1,nm)(5,rG,2,2,"ng-container",2)),2&e&&(Ac(5),fg("ngIf",!t.children||0===t.children.length||t.isLoading))},dependencies:[cv,yv],encapsulation:2}),e})(),aG=["input"],lG=["cancelButton"],dG=["list"],cG=["selectAllCheckbox"],hG=["addToCurrentFilterCheckbox"],uG=["tree"],gG=["defaultExcelStyleLoadingValuesTemplate"];function pG(e,t){if(1&e){let e=Wg();Mg(0,"igx-icon",19),ep("click",(function(){return Uo(e),qo(rp().clearInput())})),Ng()}}function mG(e,t){if(1&e){let e=Wg();Mg(0,"igx-list-item",26)(1,"igx-checkbox",27),ep("change",(function(t){return Uo(e),qo(rp(2).onCheckboxChange(t))})),fp(2),Ng()()}if(2&e){let e=t.$implicit,i=t.index,n=rp(2);xg("igx-list__item-base--active",(null==n.focusedItem?null:n.focusedItem.id)===n.getItemId(i)),tg("id",n.getItemId(i)),Ac(),fg("value",e)("tabindex",-1)("checked",null==e?null:e.isSelected)("disableRipple",!0)("indeterminate",null==e?null:e.indeterminate)("disableTransitions",!0),Ac(),xp(" ",e.label," ")}}function fG(e,t){1&e&&Gg(0)}function vG(e,t){if(1&e&&(Mg(0,"div",28),Xu(1,fG,1,0,"ng-container",29),Ng()),2&e){let e=rp(2);Ac(),fg("ngTemplateOutlet",e.valuesLoadingTemplate)}}function yG(e,t){1&e&&Gg(0)}function xG(e,t){1&e&&Xu(0,yG,1,0,"ng-container",29),2&e&&(rp(2),fg("ngTemplateOutlet",mp(8)))}function wG(e,t){if(1&e){let e=Wg();Mg(0,"igx-list",20,4),ep("keydown",(function(t){return Uo(e),qo(rp().handleKeyDown(t))}))("focus",(function(){return Uo(e),qo(rp().onFocus())}))("focusout",(function(){return Uo(e),qo(rp().onFocusOut())})),Mg(2,"div",21),Xu(3,mG,3,10,"igx-list-item",22),Ng(),Xu(4,vG,2,1,"ng-template",23)(5,xG,1,1,"ng-template",24),Mg(6,"div",25),fp(7),Ng()()}if(2&e){let e=rp();fg("isLoading",e.isLoading),tg("aria-activedescendant",e.activeDescendant),Ac(3),fg("igxForOf",e.displayedListData)("igxForScrollOrientation","vertical")("igxForContainerSize",e.containerSize)("igxForItemSize",e.itemSize),Ac(4),xp(" ",null==e.esf.grid?null:e.esf.grid.resourceStrings.igx_grid_excel_matches_count.replace("{0}",e.matchesCount)," ")}}function _G(e,t){if(1&e&&(Mg(0,"div",36)(1,"igx-checkbox",39,7),fp(3),Ng()()),2&e){let e=rp(3);Ac(),fg("value",e.addToCurrentFilterItem)("checked",e.addToCurrentFilterItem.isSelected)("disableRipple",!0)("disableTransitions",!0),Ac(2),xp(" ",e.addToCurrentFilterItem.label," ")}}function CG(e,t){if(1&e){let e=Wg();Mg(0,"div",35)(1,"div",36)(2,"igx-checkbox",37,6),ep("change",(function(t){return Uo(e),qo(rp(2).onSelectAllCheckboxChange(t))})),fp(4),Ng()(),Xu(5,_G,4,5,"div",38),Ng()}if(2&e){let e=rp(2);Ac(2),fg("value",e.selectAllItem)("checked",null==e.selectAllItem?null:e.selectAllItem.isSelected)("disableRipple",!0)("indeterminate",null==e.selectAllItem?null:e.selectAllItem.indeterminate)("disableTransitions",!0),Ac(2),xp(" ",e.selectAllItem.label," "),Ac(),fg("ngIf",e.searchValue)}}function SG(e,t){if(1&e&&(Mg(0,"igx-tree-node",40)(1,"div"),fp(2),Ng()()),2&e){let e=t.$implicit;fg("data",e)("selected",e.isSelected),Ac(2),yp(e.label)}}function bG(e,t){if(1&e&&(Mg(0,"igx-tree-node",40)(1,"div"),fp(2),Ng(),Xu(3,SG,3,3,"igx-tree-node",33),Ng()),2&e){let e=t.$implicit;fg("data",e)("selected",e.isSelected),Ac(2),yp(e.label),Ac(),fg("ngForOf",e.children)}}function DG(e,t){if(1&e&&(Mg(0,"igx-tree-node",40)(1,"div"),fp(2),Ng(),Xu(3,bG,4,4,"igx-tree-node",33),Ng()),2&e){let e=t.$implicit;fg("data",e)("selected",e.isSelected),Ac(2),yp(e.label),Ac(),fg("ngForOf",e.children)}}function IG(e,t){if(1&e&&(Mg(0,"igx-tree-node",40)(1,"div"),fp(2),Ng(),Xu(3,DG,4,4,"igx-tree-node",33),Ng()),2&e){let e=t.$implicit;fg("data",e)("selected",e.isSelected),Ac(2),yp(e.label),Ac(),fg("ngForOf",e.children)}}function EG(e,t){if(1&e&&(Mg(0,"igx-tree-node",40)(1,"div"),fp(2),Ng(),Xu(3,IG,4,4,"igx-tree-node",33),Ng()),2&e){let e=t.$implicit;fg("data",e)("selected",e.isSelected),Ac(2),yp(e.label),Ac(),fg("ngForOf",e.children)}}function TG(e,t){if(1&e&&(Mg(0,"igx-tree-node",40)(1,"div"),fp(2),Ng(),Xu(3,EG,4,4,"igx-tree-node",33),Ng()),2&e){let e=t.$implicit;fg("data",e)("selected",e.isSelected),Ac(2),yp(e.label),Ac(),fg("ngForOf",e.children)}}function RG(e,t){if(1&e&&(Mg(0,"igx-tree-node",40)(1,"div"),fp(2),Ng(),Xu(3,TG,4,4,"igx-tree-node",33),Ng()),2&e){let e=t.$implicit;fg("data",e)("selected",e.isSelected),Ac(2),yp(e.label),Ac(),fg("ngForOf",e.children)}}function AG(e,t){if(1&e&&(Mg(0,"igx-tree-node",40)(1,"div"),fp(2),Ng(),Xu(3,RG,4,4,"igx-tree-node",33),Ng()),2&e){let e=t.$implicit;fg("data",e)("selected",e.isSelected),Ac(2),yp(e.label),Ac(),fg("ngForOf",e.children)}}function kG(e,t){if(1&e&&(Mg(0,"igx-tree-node",40)(1,"div"),fp(2),Ng(),Xu(3,AG,4,4,"igx-tree-node",33),Ng()),2&e){let e=t.$implicit;fg("data",e)("selected",e.isSelected),Ac(2),yp(e.label),Ac(),fg("ngForOf",e.children)}}function OG(e,t){if(1&e&&(Mg(0,"igx-tree-node",40)(1,"div"),fp(2),Ng(),Xu(3,kG,4,4,"igx-tree-node",33),Ng()),2&e){let e=t.$implicit;fg("data",e)("selected",e.isSelected),Ac(2),yp(e.label),Ac(),fg("ngForOf",e.children)}}function PG(e,t){1&e&&Gg(0)}function FG(e,t){if(1&e&&(Mg(0,"div",28),Xu(1,PG,1,0,"ng-container",29),Ng()),2&e){let e=rp(2);Ac(),fg("ngTemplateOutlet",e.valuesLoadingTemplate)}}function VG(e,t){1&e&&Gg(0)}function MG(e,t){1&e&&Xu(0,VG,1,0,"ng-container",29),2&e&&(rp(2),fg("ngTemplateOutlet",mp(8)))}function NG(e,t){if(1&e){let e=Wg();Mg(0,"div",30),Xu(1,CG,6,7,"div",31),Mg(2,"igx-tree",32,5),ep("nodeSelection",(function(t){return Uo(e),qo(rp().onNodeSelectionChange(t))})),Xu(4,OG,4,4,"igx-tree-node",33),Ng(),Xu(5,FG,2,1,"ng-template",23)(6,MG,1,1,"ng-template",34),Ng()}if(2&e){let e=rp();Ac(),fg("ngIf",!e.isTreeEmpty()),Ac(3),fg("ngForOf",e.displayedListData),Ac(2),fg("ngIf",e.isTreeEmpty())}}function LG(e,t){if(1&e&&(Mg(0,"div",41),fp(1),Ng()),2&e){let e=rp();Ac(),xp(" ",null==e.esf.grid?null:e.esf.grid.resourceStrings.igx_grid_excel_no_matches," ")}}function HG(e,t){1&e&&Lg(0,"igx-circular-bar",42),2&e&&fg("indeterminate",!0)}var zG=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}constructor(e){this.template=e}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxExcelStyleLoading",""]],standalone:!0}),e})(),BG=0,GG=(()=>{let e=class e{get selectAllItem(){if(!this._selectAllItem){let e={isSelected:!1,isFiltered:!1,indeterminate:!1,isSpecial:!0,isBlanks:!1,value:this.esf.grid.resourceStrings.igx_grid_excel_select_all,label:this.esf.grid.resourceStrings.igx_grid_excel_select_all};this._selectAllItem=e}return this._selectAllItem}get addToCurrentFilterItem(){if(!this._addToCurrentFilterItem){let e={isSelected:!1,isFiltered:!1,indeterminate:!1,isSpecial:!0,isBlanks:!1,value:this.esf.grid.resourceStrings.igx_grid_excel_add_to_filter,label:this.esf.grid.resourceStrings.igx_grid_excel_add_to_filter};this._addToCurrentFilterItem=e}return this._addToCurrentFilterItem}get isLoading(){return this._isLoading}set isLoading(e){this._isLoading=e,this.cdr.destroyed||this.cdr.detectChanges()}get valuesLoadingTemplate(){return this.esf.grid?.excelStyleLoadingValuesTemplateDirective?this.esf.grid.excelStyleLoadingValuesTemplateDirective.template:this.defaultExcelStyleLoadingValuesTemplate}constructor(e,t,i){this.cdr=e,this.esf=t,this.platform=i,this.defaultClass=!0,this.displayedListData=[],this.activeDescendant="",this._id="igx-excel-style-search-"+BG++,this._focusedItem=null,this.destroy$=new ei,this.refreshSize=()=>{this.virtDir&&(this.virtDir.igxForContainerSize=this.containerSize,this.virtDir.igxForItemSize=this.itemSize,this.virtDir.recalcUpdateSizes(),this.cdr.detectChanges())},t.loadingStart.pipe(mn(this.destroy$)).subscribe((()=>{this.displayedListData=[],this.isLoading=!0})),t.loadingEnd.pipe(mn(this.destroy$)).subscribe((()=>{this.refreshSize(),this.isLoading=!1})),t.initialized.pipe(mn(this.destroy$)).subscribe((()=>{requestAnimationFrame((()=>{this.refreshSize(),this.searchInput.nativeElement.focus()}))})),t.columnChange.pipe(mn(this.destroy$)).subscribe((()=>{this.virtDir?.resetScrollPosition(),this.virtDir&&(this.virtDir.state.startIndex=0)})),t.listDataLoaded.pipe(mn(this.destroy$)).subscribe((()=>{this._selectAllItem=this.esf.listData[0],this.isHierarchical()&&this.esf.listData[0].isSpecial&&this.esf.listData.splice(0,1),this.searchValue?this.clearInput():this.filterListData(),this.cdr.detectChanges(),requestAnimationFrame((()=>{this.refreshSize(),this.searchInput.nativeElement.focus()}))}))}ngAfterViewInit(){requestAnimationFrame(this.refreshSize)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}clearInput(){this.searchValue=null,this.filterListData()}onCheckboxChange(e){let t=this.displayedListData.indexOf(e.owner.value),i=this.displayedListData[0];if(0===t)this.displayedListData.forEach((t=>{t!==this.addToCurrentFilterItem&&(t.isSelected=e.checked)})),i.indeterminate=!1;else{e.owner.value.isSelected=e.checked;let t=this.displayedListData.indexOf(this.addToCurrentFilterItem)>-1?2:1,n=this.displayedListData.slice(t,this.displayedListData.length);n.find((e=>!1===e.isSelected))?n.find((e=>!0===e.isSelected))?i.indeterminate=!0:(i.indeterminate=!1,i.isSelected=!1):(i.indeterminate=!1,i.isSelected=!0)}}onSelectAllCheckboxChange(e){this._selectAllItem.isSelected=e.checked,this._selectAllItem.indeterminate=!1,this.tree.nodes.forEach((t=>t.data.isSelected=e.checked))}onNodeSelectionChange(e){e.added.forEach((e=>{e.data.isSelected=!0})),e.removed.forEach((e=>{e.data.isSelected=!1})),this._hierarchicalSelectedItems=e.newSelection.map((e=>e.data));let t=this.selectAllItem;0===this._hierarchicalSelectedItems.length?(t.indeterminate=!1,t.isSelected=!1):this._hierarchicalSelectedItems.length===this.tree.nodes.length?(t.indeterminate=!1,t.isSelected=!0):(t.indeterminate=!0,t.isSelected=!1)}get itemSize(){let e="40px";switch(this.esf.size){case IS:e="32px";break;case DS:e="24px"}return e}get containerSize(){return this.esf.listData.length?this.list?.element.nativeElement.offsetHeight:0}get id(){return this._id}set id(e){this._id=e}getItemId(e){return`${this.id}-item-${e}`}setActiveDescendant(){this.activeDescendant=this.focusedItem?.id||""}get focusedItem(){return this._focusedItem}set focusedItem(e){this._focusedItem=e}get applyButtonDisabled(){return this._selectAllItem&&!this._selectAllItem.isSelected&&!this._selectAllItem.indeterminate||this.displayedListData&&0===this.displayedListData.length}onInputKeyDown(e){switch(e.key){case this.platform.KEYMAP.ENTER:return e.preventDefault(),void this.applyFilter();case this.platform.KEYMAP.ESCAPE:return void(this.searchValue&&(e.stopPropagation(),this.clearInput()))}}filterListData(){if((this.esf.column?.dataType===QC.Number||this.esf.column?.dataType===QC.Currency||this.esf.column?.dataType===QC.Percent)&&this.rejectNonNumericalEntries(),!this.esf.listData||!this.esf.listData.length)return void(this.displayedListData=[]);let e;if(e=this._selectAllItem?this._selectAllItem:this.esf.listData[0],!this.searchValue){let t=this.esf.listData.some((e=>e.isFiltered)),i=this.esf.listData.some((e=>!e.isFiltered));return e.indeterminate=t&&i,this.isHierarchical()&&this.tree&&(this._hierarchicalSelectedItems=this.tree.nodes.map((e=>e.data)).filter((e=>e.isFiltered))),this.esf.listData.forEach((e=>e.isSelected=e.isFiltered)),this.displayedListData!==this.esf.listData&&(this.displayedListData=this.esf.listData,this.isHierarchical()&&(this.cdr.detectChanges(),this.tree.nodes.forEach((e=>{let n=e.data;e.selected=n.isSelected||n.isFiltered,t=t||e.selected,i=i||!e.selected})),e.indeterminate=t&&i)),e.label=this.esf.grid.resourceStrings.igx_grid_excel_select_all,this.matchesCount=this.displayedListData.length-1,void this.cdr.detectChanges()}let t=this.searchValue.toLowerCase();if(this.isHierarchical()){this._hierarchicalSelectedItems=[],this.esf.listData.forEach((e=>e.isSelected=!1));let e=dC(this.esf.listData,"children");this.displayedListData=this.hierarchicalSelectMatches(e,t),this.cdr.detectChanges(),this.tree.nodes.forEach((e=>{e.selected=!0,e.data.label.toString().toLowerCase().indexOf(t)>-1&&this.expandAllParentNodes(e)}))}else this.displayedListData=this.esf.listData.filter(((e,i)=>0===i&&e.isSpecial||null!==e.label&&void 0!==e.label&&!e.isBlanks&&e.label.toString().toLowerCase().indexOf(t)>-1)),this.esf.listData.forEach((e=>e.isSelected=!1)),this.displayedListData.forEach((e=>e.isSelected=!0)),this.displayedListData.splice(1,0,this.addToCurrentFilterItem),2===this.displayedListData.length&&(this.displayedListData=[]);this.displayedListData.length>2?this.matchesCount=this.displayedListData.length-2:this.matchesCount=0,e.indeterminate=!1,e.isSelected=!0,e.label=this.esf.grid.resourceStrings.igx_grid_excel_select_all_search_results,this.cdr.detectChanges()}applyFilter(){let t,i=new iS(nS.Or,this.esf.column.field),n=[];if(this.isHierarchical())this.addToCurrentFilterCheckbox&&this.addToCurrentFilterCheckbox.checked&&this.addFilteredToSelectedItems(this.esf.listData),n=this._hierarchicalSelectedItems;else{let e=this.displayedListData[1];n=e===this.addToCurrentFilterItem&&e.isSelected?this.esf.listData.slice(1,this.esf.listData.length).filter((e=>e.isSelected||e.isFiltered)):this.esf.listData.slice(1,this.esf.listData.length).filter((e=>e.isSelected))}if(t=this.isHierarchical()?this.esf.listData.find((e=>!1===e.isSelected)):this.esf.listData.slice(1,this.esf.listData.length).find((e=>!1===e.isSelected)),t){if(n.length<=e.filterOptimizationThreshold)n.forEach((e=>{let t=null;if(null!==e.value&&void 0!==e.value)if(this.esf.column.dataType===QC.Boolean)t=this.createCondition(e.value.toString());else{let e=this.esf.column.dataType===QC.Time?"at":"equals";t=this.createCondition(e)}else t=this.createCondition("empty");i.filteringOperands.push({condition:t,fieldName:this.esf.column.field,ignoreCase:this.esf.column.filteringIgnoreCase,searchVal:e.value})}));else{let e,t=n.findIndex((e=>null===e.value||void 0===e.value));t>=0&&(e=n[t],n.splice(t,1)),i.filteringOperands.push({condition:this.createCondition("in"),fieldName:this.esf.column.field,ignoreCase:this.esf.column.filteringIgnoreCase,searchVal:new Set(this.esf.column.dataType===QC.Date||this.esf.column.dataType===QC.DateTime?n.map((e=>e.value.toISOString())):this.esf.column.dataType===QC.Time?n.map((e=>e.value.toLocaleTimeString())):n.map((e=>e.value)))}),e&&i.filteringOperands.push({condition:this.createCondition("empty"),fieldName:this.esf.column.field,ignoreCase:this.esf.column.filteringIgnoreCase,searchVal:e.value})}let t=this.esf.grid,r=this.esf.column;t.filteringService.filterInternal(r.field,i),this.esf.expressionsList=new Array,t.filteringService.generateExpressionsList(r.filteringExpressionsTree,t.filteringLogic,this.esf.expressionsList)}else this.esf.grid.filteringService.clearFilter(this.esf.column.field);this.esf.closeDropdown()}handleKeyDown(e){if(e){let t=e.key.toLowerCase();if(-1===["space","spacebar"," ","arrowup","up","arrowdown","down","home","end"].indexOf(t))return;switch(e.preventDefault(),e.stopPropagation(),t){case"arrowup":case"up":this.onArrowUpKeyDown();break;case"arrowdown":case"down":this.onArrowDownKeyDown();break;case"home":this.onHomeKeyDown();break;case"end":this.onEndKeyDown();break;case"space":case"spacebar":case" ":this.onActionKeyDown();break;default:return}}}onFocus(){let e=this.virtDir.state.startIndex;this.virtDir.igxForOf.length>0&&(this.focusedItem={id:this.getItemId(e),index:e,checked:this.virtDir.igxForOf[e].isSelected}),this.setActiveDescendant()}onFocusOut(){this.focusedItem=null,this.setActiveDescendant()}isHierarchical(){return this.esf.isHierarchical}isTreeEmpty(){return this.esf.isHierarchical&&0===this.displayedListData.length}hierarchicalSelectMatches(e,t){return e.forEach((e=>{e.indeterminate=!1,e.isSelected=!1;let i=this.tree.nodes.filter((t=>t.data.label===e.label))[0];i&&(i.expanded=!1),e.label.toString().toLowerCase().indexOf(t)>-1?(e.isSelected=!0,this.hierarchicalSelectAllChildren(e),this._hierarchicalSelectedItems.push(e)):e.children.length>0&&(e.children=this.hierarchicalSelectMatches(e.children,t),e.children.length>0&&(e.isSelected=!0,i&&(i.expanded=!0)))})),e.filter((e=>!0===e.isSelected))}hierarchicalSelectAllChildren(e){e.children.forEach((e=>{e.indeterminate=!1,e.isSelected=!0,this._hierarchicalSelectedItems.push(e),e.children&&this.hierarchicalSelectAllChildren(e)}))}expandAllParentNodes(e){e.parentNode&&(e.parentNode.expanded=!0,this.expandAllParentNodes(e.parentNode))}addFilteredToSelectedItems(e){e.forEach((e=>{e.children&&this.addFilteredToSelectedItems(e.children),e.isFiltered&&this._hierarchicalSelectedItems.indexOf(e)<0&&this._hierarchicalSelectedItems.push(e)}))}createCondition(e){switch(this.esf.column.dataType){case QC.Boolean:return KA.instance().condition(e);case QC.Number:case QC.Currency:case QC.Percent:return XA.instance().condition(e);case QC.Date:return UA.instance().condition(e);case QC.Time:return YA.instance().condition(e);case QC.DateTime:return qA.instance().condition(e);default:return ZA.instance().condition(e)}}rejectNonNumericalEntries(){let e=/[^0-9\.,eE\-]/g;this.searchValue&&e.test(this.searchValue)&&(this.searchInput.value=this.searchValue.replace(e,""),this.searchValue=this.searchInput.value)}onArrowUpKeyDown(){this.focusedItem&&0===this.focusedItem.index&&0===this.virtDir.state.startIndex||(this.navigateItem(this.focusedItem?this.focusedItem.index-1:0),this.setActiveDescendant())}onArrowDownKeyDown(){let e=this.virtDir.igxForOf.length-1;this.focusedItem&&this.focusedItem.index===e||(this.navigateItem(this.focusedItem?this.focusedItem.index+1:0),this.setActiveDescendant())}onHomeKeyDown(){this.navigateItem(0),this.setActiveDescendant()}onEndKeyDown(){this.navigateItem(this.virtDir.igxForOf.length-1),this.setActiveDescendant()}onActionKeyDown(){let e=this.displayedListData[this.focusedItem.index],t={checked:!e.isSelected,owner:{value:e}};this.onCheckboxChange(t)}navigateItem(e){if(-1===e||e>=this.virtDir.igxForOf.length)return;let t=e>(this.focusedItem?this.focusedItem.index:-1)?nT.Down:nT.Up,i=this.isIndexOutOfBounds(e,t);this.focusedItem={id:this.getItemId(e),index:e,checked:this.virtDir.igxForOf[e].isSelected},i&&this.virtDir.scrollTo(e)}isIndexOutOfBounds(e,t){let i=this.virtDir.state,n=this.virtDir.getScroll().scrollTop,r=this.virtDir.getScrollForIndex(e,t===nT.Down),s=e<i.startIndex||e>i.chunkSize+i.startIndex,o=t===nT.Down?n<r:n>r;return s||o}};return e.filterOptimizationThreshold=2,e.ɵfac=function(t){return new(t||e)(Oc(Pm),Oc(cH),Oc(fC))},e.ɵcmp=es({type:e,selectors:[["igx-excel-style-search"]],viewQuery:function(e,t){if(1&e&&(up(aG,7,pT),up(lG,7,ST),up(dG,5,oG),up(cG,5,DA),up(hG,5,DA),up(uG,5,bB),up(oA,5),up(gG,5,Oh)),2&e){let e;gp(e=pp())&&(t.searchInput=e.first),gp(e=pp())&&(t.cancelButton=e.first),gp(e=pp())&&(t.list=e.first),gp(e=pp())&&(t.selectAllCheckbox=e.first),gp(e=pp())&&(t.addToCurrentFilterCheckbox=e.first),gp(e=pp())&&(t.tree=e.first),gp(e=pp())&&(t.virtDir=e.first),gp(e=pp())&&(t.defaultExcelStyleLoadingValuesTemplate=e.first)}},hostVars:3,hostBindings:function(e,t){2&e&&(tg("id",t.id),xg("igx-excel-filter__menu-main",t.defaultClass))},inputs:{id:"id"},standalone:!0,features:[Pp],decls:19,vars:8,consts:[["input",""],["emptySearch",""],["defaultExcelStyleLoadingValuesTemplate",""],["cancelButton",""],["list",""],["tree",""],["selectAllCheckbox",""],["addToCurrentFilterCheckbox",""],["type","box"],["igxPrefix","","family","default","name","search"],["igxInput","","tabindex","0","autocomplete","off",3,"ngModelChange","keydown","ngModel","placeholder"],["family","default","name","input_clear","igxSuffix","","tabindex","0",3,"click",4,"ngIf"],["role","listbox","tabindex","0",3,"isLoading","keydown","focus","focusout",4,"ngIf"],["class","igx-excel-filter__tree",4,"ngIf"],[1,"igx-excel-filter__menu-footer"],[1,"igx-excel-filter__cancel"],["type","button","igxButton","flat",3,"click"],[1,"igx-excel-filter__apply"],["type","button","igxButton","contained",3,"click","disabled"],["family","default","name","input_clear","igxSuffix","","tabindex","0",3,"click"],["role","listbox","tabindex","0",3,"keydown","focus","focusout","isLoading"],[2,"overflow","hidden","position","relative"],["role","option",3,"igx-list__item-base--active",4,"igxFor","igxForOf","igxForScrollOrientation","igxForContainerSize","igxForItemSize"],["igxDataLoading",""],["igxEmptyList",""],["aria-live","polite","aria-atomic","true",1,"igx-excel-filter__filter-results"],["role","option"],[3,"change","value","tabindex","checked","disableRipple","indeterminate","disableTransitions"],[1,"igx-excel-filter__loading"],[4,"ngTemplateOutlet"],[1,"igx-excel-filter__tree"],["class","igx-excel-filter__tree-alike",4,"ngIf"],["selection","Cascading",3,"nodeSelection"],[3,"data","selected",4,"ngFor","ngForOf"],[3,"ngIf"],[1,"igx-excel-filter__tree-alike"],[1,"igx-excel-filter__tree-alike-item"],[3,"change","value","checked","disableRipple","indeterminate","disableTransitions"],["class","igx-excel-filter__tree-alike-item",4,"ngIf"],[3,"value","checked","disableRipple","disableTransitions"],[3,"data","selected"],[1,"igx-excel-filter__empty"],[3,"indeterminate"]],template:function(e,t){if(1&e){let e=Wg();Mg(0,"igx-input-group",8),Lg(1,"igx-icon",9),Mg(2,"input",10,0),Sp("ngModelChange",(function(i){return Uo(e),Cp(t.searchValue,i)||(t.searchValue=i),qo(i)})),ep("ngModelChange",(function(){return Uo(e),qo(t.filterListData())}))("keydown",(function(i){return Uo(e),qo(t.onInputKeyDown(i))})),Ng(),Xu(4,pG,1,0,"igx-icon",11),Ng(),Xu(5,wG,8,7,"igx-list",12)(6,NG,7,3,"div",13)(7,LG,2,1,"ng-template",null,1,nm)(9,HG,1,1,"ng-template",null,2,nm),Mg(11,"footer",14)(12,"div",15)(13,"button",16,3),ep("click",(function(){return Uo(e),qo(t.esf.cancel())})),fp(15),Ng()(),Mg(16,"div",17)(17,"button",18),ep("click",(function(){return Uo(e),qo(t.applyFilter())})),fp(18),Ng()()()}2&e&&(Ac(2),_p("ngModel",t.searchValue),fg("placeholder",null==t.esf.column?null:t.esf.column.grid.resourceStrings.igx_grid_excel_search_placeholder),Ac(2),fg("ngIf",t.searchValue||0===t.searchValue),Ac(),fg("ngIf",!t.isHierarchical()),Ac(),fg("ngIf",t.isHierarchical()),Ac(9),xp(" ",null==t.esf.grid?null:t.esf.grid.resourceStrings.igx_grid_excel_cancel," "),Ac(2),fg("disabled",t.applyButtonDisabled),Ac(),xp(" ",null==t.esf.grid?null:t.esf.grid.resourceStrings.igx_grid_excel_apply," "))},dependencies:[PR,FT,vT,iw,zy,px,Ux,pT,cv,yT,oG,oA,XB,DA,TB,yv,EB,bB,lv,wB,Pz,ST],encapsulation:2}),e})();function $G(e,t){if(1&e){let e=Wg();Mg(0,"div",1),ep("click",(function(){return Uo(e),qo(rp().esf.onSelect())})),Mg(1,"span"),fp(2),Ng(),Lg(3,"igx-icon",2),Ng()}if(2&e){let e=rp();fg("ngClass",e.esf.column.selected?"igx-excel-filter__actions-selected":"igx-excel-filter__actions-select"),tg("aria-pressed",e.esf.column.selected),Ac(2),yp(e.esf.grid.resourceStrings.igx_grid_excel_select)}}var WG=(()=>{let e=class{constructor(e){this.esf=e}};return e.ɵfac=function(t){return new(t||e)(Oc(cH))},e.ɵcmp=es({type:e,selectors:[["igx-excel-style-selecting"]],standalone:!0,features:[Pp],decls:1,vars:1,consts:[["tabindex","0","role","button",3,"ngClass","click",4,"ngIf"],["tabindex","0","role","button",3,"click","ngClass"],["family","default","name","selected"]],template:function(e,t){1&e&&Xu(0,$G,4,3,"div",0),2&e&&fg("ngIf",t.esf.column)},dependencies:[cv,av,FT],encapsulation:2}),e})(),KG=["sortButtonGroup"];function jG(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"header"),fp(2),Ng(),Mg(3,"igx-buttongroup",null,0)(5,"button",2),ep("buttonSelected",(function(){return Uo(e),qo(rp().onSortButtonClicked(1))})),Lg(6,"igx-icon",3),Mg(7,"span"),fp(8),Ng()(),Mg(9,"button",2),ep("buttonSelected",(function(){return Uo(e),qo(rp().onSortButtonClicked(2))})),Lg(10,"igx-icon",4),Mg(11,"span"),fp(12),Ng()()(),Bg()}if(2&e){let e=rp();Ac(2),xp(" ",e.esf.grid.resourceStrings.igx_grid_excel_filter_sorting_header,"\n"),Ac(3),tg("data-togglable",!0),Ac(3),xp(" ","1"===e.esfSize?e.esf.grid.resourceStrings.igx_grid_excel_filter_sorting_asc_short:e.esf.grid.resourceStrings.igx_grid_excel_filter_sorting_asc," "),Ac(),tg("data-togglable",!0),Ac(3),xp(" ","1"===e.esfSize?e.esf.grid.resourceStrings.igx_grid_excel_filter_sorting_desc_short:e.esf.grid.resourceStrings.igx_grid_excel_filter_sorting_desc," ")}}var UG=(()=>{let e=class{constructor(e,t){this.esf=e,this.cdr=t,this.defaultClass=!0,this.destroy$=new ei,this.esf.sortingChanged.pipe(mn(this.destroy$)).subscribe((()=>{this.updateSelectedButtons(this.esf.column.field)}))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onSortButtonClicked(e){0===this.sortButtonGroup.buttons.filter((e=>e.selected)).length?this.esf.grid.isColumnGrouped(this.esf.column.field)?this.sortButtonGroup.selectButton(e-1):this.esf.grid.clearSort(this.esf.column.field):this.esf.grid.sort({fieldName:this.esf.column.field,dir:e,ignoreCase:!0})}get esfSize(){return this.esf.size}updateSelectedButtons(e){let t=this.esf.grid.sortingExpressions.findIndex((t=>t.fieldName===e));if(this.cdr.detectChanges(),this.sortButtonGroup.buttons.forEach(((e,t)=>{this.sortButtonGroup.deselectButton(t)})),-1!==t){let e=this.esf.grid.sortingExpressions[t].dir;this.sortButtonGroup.selectButton(e-1)}}};return e.ɵfac=function(t){return new(t||e)(Oc(cH),Oc(Pm))},e.ɵcmp=es({type:e,selectors:[["igx-excel-style-sorting"]],viewQuery:function(e,t){if(1&e&&up(KG,5,_P),2&e){let e;gp(e=pp())&&(t.sortButtonGroup=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&xg("igx-excel-filter__sort",t.defaultClass)},standalone:!0,features:[Pp],decls:1,vars:1,consts:[["sortButtonGroup",""],[4,"ngIf"],["type","button","igxButton","",3,"buttonSelected"],["family","default","name","sort_asc"],["family","default","name","sort_desc"]],template:function(e,t){1&e&&Xu(0,jG,13,5,"ng-container",1),2&e&&fg("ngIf",t.esf.column)},dependencies:[cv,_P,ST,FT],encapsulation:2}),e})(),qG=["mainDropdown"],YG=["defaultExcelColumnOperations"],XG=["defaultExcelFilterOperations"],ZG=[[["igx-excel-style-column-operations"],["","igxExcelStyleColumnOperations",""]],[["igx-excel-style-filter-operations"],["","igxExcelStyleFilterOperations",""]]],QG=["igx-excel-style-column-operations,[igxExcelStyleColumnOperations]","igx-excel-style-filter-operations,[igxExcelStyleFilterOperations]"],JG=(e,t,i)=>({"igx-excel-filter__sizing":e,"igx-excel-filter__menu--cosy":t,"igx-excel-filter__menu--compact":i});function e$(e,t){1&e&&Lg(0,"igx-excel-style-sorting")}function t$(e,t){1&e&&Lg(0,"igx-excel-style-moving")}function i$(e,t){1&e&&Lg(0,"igx-excel-style-pinning")}function n$(e,t){1&e&&Lg(0,"igx-excel-style-hiding")}function r$(e,t){1&e&&Lg(0,"igx-excel-style-selecting")}function s$(e,t){if(1&e&&(Lg(0,"igx-excel-style-header",5),Xu(1,e$,1,0,"igx-excel-style-sorting",6)(2,t$,1,0,"igx-excel-style-moving",6)(3,i$,1,0,"igx-excel-style-pinning",6)(4,n$,1,0,"igx-excel-style-hiding",6)(5,r$,1,0,"igx-excel-style-selecting",6)),2&e){let e=rp();fg("showHiding","3"!==e.size&&!(null!=e.column&&e.column.disableHiding))("showPinning","3"!==e.size&&!(null!=e.column&&e.column.disablePinning))("showSelecting","3"!==e.size&&e.columnSelectable()),Ac(),fg("ngIf",null==e.column?null:e.column.sortable),Ac(),fg("ngIf",null==e.grid?null:e.grid.moving),Ac(),fg("ngIf",!(null!=e.column&&e.column.disablePinning)&&"3"===e.size),Ac(),fg("ngIf",!(null!=e.column&&e.column.disableHiding)&&"3"===e.size),Ac(),fg("ngIf",e.columnSelectable()&&"3"===e.size)}}function o$(e,t){1&e&&Lg(0,"igx-excel-style-clear-filters")(1,"igx-excel-style-conditional-filter")(2,"igx-excel-style-search")}function a$(e,t){1&e&&(zg(0),ap(1),Bg())}function l$(e,t){1&e&&(zg(0),ap(1,1),Bg())}var d$=(()=>{let e=class{};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["igx-excel-style-column-operations"],["","igxExcelStyleColumnOperations",""]],standalone:!0}),e})(),c$=(()=>{let e=class{};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["igx-excel-style-filter-operations"],["","igxExcelStyleFilterOperations",""]],standalone:!0}),e})(),h$=(()=>{let e=class extends cH{get shouldApplySizes(){return!(this._minHeight||this._maxHeight)}set column(e){this._column=e,this.listData=new Array,this.columnChange.emit(this._column),this.subscriptions?.unsubscribe(),this._column&&(this.grid.filteringService.registerSVGIcons(),this.init(),this.sortingChanged.emit(),this.subscriptions=this.grid.columnPin.subscribe((()=>{requestAnimationFrame((()=>{this.cdr.destroyed||this.cdr.detectChanges()}))})),this.subscriptions.add(this.grid.columnVisibilityChanged.subscribe((()=>this.detectChanges()))),this.subscriptions.add(this.grid.sortingExpressionsChange.subscribe((()=>this.sortingChanged.emit()))),this.subscriptions.add(this.grid.filteringExpressionsTreeChange.subscribe((()=>this.init()))),this.subscriptions.add(this.grid.columnMovingEnd.subscribe((()=>this.cdr.markForCheck()))))}get column(){return this._column}get minHeight(){if(this._minHeight||0===this._minHeight)return this._minHeight}set minHeight(e){this._minHeight=e}get maxHeight(){if(this._maxHeight)return this._maxHeight}set maxHeight(e){this._maxHeight=e}get grid(){return this.column?.grid??this.gridAPI}constructor(e,t,i,n,r){super(e,t,i),this.document=n,this.gridAPI=r,this.defaultClass=!0,this.inline=!0,this.loadingStart=new yl,this.loadingEnd=new yl,this.initialized=new yl,this.sortingChanged=new yl,this.columnChange=new yl,this.listDataLoaded=new yl,this.expressionsList=new Array,this.listData=new Array,this.uniqueValues=[],this.isHierarchical=!1,this.containsNullOrEmpty=!1,this.selectAllSelected=!0,this.selectAllIndeterminate=!1,this.filterValues=new Set}ngOnDestroy(){this.subscriptions?.unsubscribe(),delete this.overlayComponentId}ngAfterViewInit(){this.computedStyles=this.document.defaultView.getComputedStyle(this.element.nativeElement)}initialize(e,t){this.inline=!1,this.column=e,this.overlayService=t,this._originalDisplay&&(this.element.nativeElement.style.display=this._originalDisplay),this.initialized.emit(),this.subscriptions.add(this.grid.columnMoving.subscribe((()=>this.closeDropdown())))}onPin(){this.closeDropdown(),this.column.pinned=!this.column.pinned}onSelect(){this.column.selected?this.grid.selectionService.deselectColumn(this.column.field):this.grid.selectionService.selectColumn(this.column.field,this.grid.columnSelection===vS),this.grid.notifyChanges()}columnSelectable(){return this.grid?.columnSelection!==fS&&this.column?.selectable}onHideToggle(){this.column.toggleVisibility(),this.closeDropdown()}cancel(){this.overlayComponentId||this.init(),this.closeDropdown()}closeDropdown(){this.overlayComponentId&&(this.overlayService.hide(this.overlayComponentId),this.overlayComponentId=null)}onKeyDown(e){this.platform.isFilteringKeyCombo(e)&&(e.preventDefault(),this.closeDropdown()),e.stopPropagation()}hide(){this._originalDisplay=this.computedStyles.display,this.element.nativeElement.style.display="none"}detectChanges(){this.cdr.detectChanges()}get size(){return this.computedStyles?.getPropertyValue("--component-size")}init(){this.expressionsList=new Array,MH(this.column.filteringExpressionsTree,this.grid.filteringLogic,this.expressionsList),this.populateColumnData()}areExpressionsSelectable(){return 1===this.expressionsList.length&&("equals"===this.expressionsList[0].expression.condition.name||"at"===this.expressionsList[0].expression.condition.name||"true"===this.expressionsList[0].expression.condition.name||"false"===this.expressionsList[0].expression.condition.name||"empty"===this.expressionsList[0].expression.condition.name||"in"===this.expressionsList[0].expression.condition.name)||this.expressionsList.filter((e=>!(1!==e.beforeOperator&&1!==e.afterOperator||"equals"!==e.expression.condition.name&&"at"!==e.expression.condition.name&&"true"!==e.expression.condition.name&&"false"!==e.expression.condition.name&&"empty"!==e.expression.condition.name&&"in"!==e.expression.condition.name))).length===this.expressionsList.length}populateColumnData(){this.cdr.detectChanges(),this.grid.uniqueColumnValuesStrategy?this.renderColumnValuesRemotely():this.renderColumnValuesFromData()}renderColumnValuesRemotely(){this.loadingStart.emit();let e=this.getColumnFilterExpressionsTree(),t=this.column;this.grid.uniqueColumnValuesStrategy(this.column,e,(e=>{if(!this.column||this.column!==t)return;let i=e.map((e=>({value:e})));this.uniqueValues=this.column.sortStrategy.sort(i,"value",LC.Asc,this.column.sortingIgnoreCase,((e,t)=>{let i=e[t];return this.column.dataType===QC.Time&&(i=(new Date).setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())),i})),this.renderValues(),this.loadingEnd.emit()}))}renderColumnValuesFromData(){this.loadingStart.emit();let e=this.getColumnFilterExpressionsTree();this.grid.filterStrategy.getFilterItems(this.column,e).then((e=>{this.isHierarchical=e.length>0&&e.some((e=>e.children&&e.children.length>0)),this.uniqueValues=e,this.renderValues(),this.loadingEnd.emit(),this.sortingChanged.emit()}))}renderValues(){this.filterValues=this.generateFilterValues(this.column.dataType===QC.Date||this.column.dataType===QC.DateTime),this.generateListData()}generateFilterValues(e=!1){let t;return t=e?new Set(this.expressionsList.reduce(((e,t)=>"in"===t.expression.condition.name?[...e,...Array.from(t.expression.searchVal.values()).map((e=>new Date(e).toISOString()))]:[...e,t.expression.searchVal?t.expression.searchVal.toISOString():t.expression.searchVal]),[])):this.column.dataType===QC.Time?new Set(this.expressionsList.reduce(((e,t)=>"in"===t.expression.condition.name?[...e,...Array.from(t.expression.searchVal.values()).map((e=>"string"==typeof e?e:new Date(e).toLocaleTimeString()))]:[...e,t.expression.searchVal?t.expression.searchVal.toLocaleTimeString():t.expression.searchVal]),[])):new Set(this.expressionsList.reduce(((e,t)=>"in"===t.expression.condition.name?[...e,...Array.from(t.expression.searchVal.values())]:[...e,t.expression.searchVal]),[])),t}generateListData(){this.listData=new Array;let e=this.areExpressionsSelectable();if(this.column.dataType===QC.Boolean?this.addBooleanItems():this.addItems(e),!this.isHierarchical&&this.containsNullOrEmpty){let t=this.generateBlanksItem(e);this.listData.unshift(t)}this.listData.length>0&&this.addSelectAllItem(),this.cdr.destroyed||this.cdr.detectChanges(),this.listDataLoaded.emit()}getColumnFilterExpressionsTree(){let e=this.grid.filteringExpressionsTree,t=new iS(e.operator,e.fieldName);for(let i of e.filteringOperands)i instanceof iS&&i.fieldName===this.column.field||t.filteringOperands.push(i);return t}addBooleanItems(){this.selectAllSelected=!0,this.selectAllIndeterminate=!1,this.uniqueValues.forEach((e=>{let t=e.value,i=new FH;null!=t&&""!==t?(this.column.filteringExpressionsTree?!0===t&&this.expressionsList.find((e=>"true"===e.expression.condition.name))||!1===t&&this.expressionsList.find((e=>"false"===e.expression.condition.name))?(i.isSelected=!0,i.isFiltered=!0,this.selectAllIndeterminate=!0):(i.isSelected=!1,i.isFiltered=!1):(i.isSelected=!0,i.isFiltered=!0),i.value=t,i.label=t?this.grid.resourceStrings.igx_grid_filter_true:this.grid.resourceStrings.igx_grid_filter_false,i.indeterminate=!1,this.listData.push(i)):this.containsNullOrEmpty=!0}))}addItems(e){this.selectAllSelected=!0,this.selectAllIndeterminate=!1,this.containsNullOrEmpty=!1,this.listData=this.generateFilterListItems(this.uniqueValues,e),this.containsNullOrEmpty=this.uniqueValues.length>this.listData.length}generateFilterListItems(e,t,i){let n=[];return e?.forEach((e=>{let r=e.value;if(null!=r&&""!==r){let s=new FH;if(s.parent=i,s.value=r,s.label=void 0!==e.label?e.label:this.getFilterItemLabel(r),s.indeterminate=!1,s.isSelected=!0,s.isFiltered=!0,this.column.filteringExpressionsTree)if(s.isSelected=!1,s.isFiltered=!1,t){let e=this.getExpressionValue(r);this.filterValues.has(e)&&(s.isSelected=!0,s.isFiltered=!0),this.selectAllIndeterminate=!0}else this.selectAllSelected=!1;s.children=this.generateFilterListItems(e.children??e.value?.children,t,s),n.push(s)}})),n}addSelectAllItem(){let e=new FH;e.isSelected=this.selectAllSelected,e.value=this.grid.resourceStrings.igx_grid_excel_select_all,e.label=this.grid.resourceStrings.igx_grid_excel_select_all,e.indeterminate=this.selectAllIndeterminate,e.isSpecial=!0,e.isFiltered=this.selectAllSelected,this.listData.unshift(e)}generateBlanksItem(e){let t=new FH;return this.column.filteringExpressionsTree?e&&(this.filterValues.has(null)?(t.isSelected=!0,t.isFiltered=!0):(t.isSelected=!1,t.isFiltered=!1)):(t.isSelected=!0,t.isFiltered=!0),t.value=null,t.label=this.grid.resourceStrings.igx_grid_excel_blanks,t.indeterminate=!1,t.isSpecial=!0,t.isBlanks=!0,t}getFilterItemLabel(e,t=!0,i){if(this.column.formatter)return t?this.column.formatter(e,i):e;let{display:n,format:r,digitsInfo:s,currencyCode:o,timezone:a}=this.column.pipeArgs,l=this.grid.locale;switch(this.column.dataType){case QC.Date:case QC.DateTime:case QC.Time:return AC(e,r,l,a);case QC.Currency:return kC(e,o||xf(l),n,s,l);case QC.Number:return iv(e,l,s);case QC.Percent:return tv(e,l,s);default:return e}}getExpressionValue(e){return this.column.dataType===QC.Date||this.column.dataType===QC.DateTime?e=e&&new Date(e).toISOString():this.column.dataType===QC.Time&&(e=e&&new Date(e).toLocaleTimeString()),e}};return e.ɵfac=function(t){return new(t||e)(Oc(Pm),Oc(Nl),Oc(fC),Oc(of),Oc(nO,9))},e.ɵcmp=es({type:e,selectors:[["igx-grid-excel-style-filtering"]],contentQueries:function(e,t,i){if(1&e&&(hp(i,d$,5,d$),hp(i,c$,5,c$)),2&e){let e;gp(e=pp())&&(t.excelColumnOperationsDirective=e.first),gp(e=pp())&&(t.excelFilterOperationsDirective=e.first)}},viewQuery:function(e,t){if(1&e&&(up(qG,5,Nl),up(YG,7,Oh),up(XG,7,Oh)),2&e){let e;gp(e=pp())&&(t.mainDropdown=e.first),gp(e=pp())&&(t.defaultExcelColumnOperations=e.first),gp(e=pp())&&(t.defaultExcelFilterOperations=e.first)}},hostVars:8,hostBindings:function(e,t){2&e&&(yg("max-height",t.maxHeight),xg("igx-excel-filter",t.defaultClass)("igx-excel-filter__sizing",t.shouldApplySizes)("igx-excel-filter--inline",t.inline))},inputs:{column:"column",minHeight:"minHeight",maxHeight:"maxHeight"},outputs:{loadingStart:"loadingStart",loadingEnd:"loadingEnd",initialized:"initialized",sortingChanged:"sortingChanged",columnChange:"columnChange",listDataLoaded:"listDataLoaded"},standalone:!0,features:[kp([{provide:cH,useExisting:An((()=>e))}]),Ru,Pp],ngContentSelectors:QG,decls:8,vars:14,consts:[["defaultExcelColumnOperations",""],["defaultExcelFilterOperations",""],["mainDropdown",""],["role","menu",1,"igx-excel-filter__menu",3,"keydown","ngClass","id"],[4,"ngIf","ngIfElse"],[3,"showHiding","showPinning","showSelecting"],[4,"ngIf"]],template:function(e,t){if(1&e){let e=Wg();op(ZG),Xu(0,s$,6,8,"ng-template",null,0,nm)(2,o$,3,0,"ng-template",null,1,nm),Mg(4,"article",3,2),ep("keydown",(function(i){return Uo(e),qo(t.onKeyDown(i))})),Xu(6,a$,2,0,"ng-container",4)(7,l$,2,0,"ng-container",4),Ng()}if(2&e){let e=mp(1),i=mp(3);Ac(4),yg("min-height",t.minHeight)("max-height",t.maxHeight),fg("ngClass",Np(10,JG,t.shouldApplySizes,"2"===t.size,"1"===t.size))("id",t.overlayComponentId),Ac(2),fg("ngIf",t.excelColumnOperationsDirective)("ngIfElse",e),Ac(),fg("ngIf",t.excelFilterOperationsDirective)("ngIfElse",i)}},dependencies:[sz,cv,UG,dz,hz,az,WG,uH,ez,GG,av],encapsulation:2,changeDetection:0}),e})(),u$=(()=>{let e=class extends $R{get draggable(){return this.column&&(this.column.grid.moving||this.column.groupable&&!this.column.columnGroup)}get icon(){return this.cms.icon}constructor(e,t,i,n,r,s,o){super(r,e,t,i,n,o),this.cms=s,this._ghostClass="igx-grid__drag-ghost-image",this.ghostImgIconClass="igx-grid__drag-ghost-image-icon",this.ghostImgIconGroupClass="igx-grid__drag-ghost-image-icon-group",this.columnSelectedClass="igx-grid-th--selected",this.ghostClass=this._ghostClass}ngOnDestroy(){this._unsubscribe(),super.ngOnDestroy()}onEscape(e){this.cms.cancelDrop=!0,this.onPointerUp(e)}onPointerDown(e){!this.draggable||"false"===e.target.getAttribute("draggable")||super.onPointerDown(e)}onPointerMove(e){if(this._clicked&&!this._dragStarted){this._removeOnDestroy=!1,this.cms.column=this.column,this.column.grid.cdr.detectChanges();let e={source:this.column};this.column.grid.columnMovingStart.emit(e),this.subscription$=en(this.column.grid.document.defaultView,"keydown").subscribe((e=>{e.key===this.platformUtil.KEYMAP.ESCAPE&&this.onEscape(e)}))}if(super.onPointerMove(e),this._dragStarted&&this.ghostElement&&!this.cms.column&&(this.cms.column=this.column,this.column.grid.cdr.detectChanges()),this.cms.column){let t={source:this.column,cancel:!1};this.column.grid.columnMoving.emit(t),t.cancel&&this.onEscape(e)}}onPointerUp(e){this.zone.run((()=>{super.onPointerUp(e),this.cms.column=null,this.column.grid.cdr.detectChanges()})),this._unsubscribe()}createGhost(e,t){super.createGhost(e,t),this.ghostElement.style.height=null,this.ghostElement.style.minWidth=null,this.ghostElement.style.flexBasis=null,this.ghostElement.style.position=null,this.ghostElement.classList.remove(this.columnSelectedClass);let i=document.createElement("i"),n=document.createTextNode("block");i.appendChild(n),i.classList.add("material-icons"),this.cms.icon=i,this.column.columnGroup?(this.ghostElement.insertBefore(i,this.ghostElement.childNodes[0]),i.classList.add(this.ghostImgIconGroupClass),this.ghostElement.children[0].style.paddingLeft="0px",this.ghostLeft=this._ghostStartX=e-this.ghostElement.getBoundingClientRect().width/3*2,this.ghostTop=this._ghostStartY=t-this.ghostElement.getBoundingClientRect().height/3*2):(i.classList.add(this.ghostImgIconClass),this.ghostElement.insertBefore(i,this.ghostElement.firstElementChild),this.ghostLeft=this._ghostStartX=e-this.ghostElement.getBoundingClientRect().width/3*2,this.ghostTop=this._ghostStartY=t-this.ghostElement.getBoundingClientRect().height/3*2)}_unsubscribe(){this.subscription$&&(this.subscription$.unsubscribe(),this.subscription$=null)}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(iu),Oc(Dl),Oc(qh),Oc(Pm),Oc(LM),Oc(fC))},e.ɵdir=ss({type:e,selectors:[["","igxColumnMovingDrag",""]],inputs:{column:[0,"igxColumnMovingDrag","column"]},standalone:!0,features:[Ru]}),e})(),g$=(()=>{let e=class{get expressions(){return this._expressions}set expressions(e){this._expressions=e,this.chipExpressions=this._expressions,this.expressionsChanged(),this.expressionsChange.emit(this._expressions)}get dropAreaMessage(){return this._dropAreaMessage??this.grid.resourceStrings.igx_grid_groupByArea_message}set dropAreaMessage(e){this._dropAreaMessage=e}get nativeElement(){return this.ref.nativeElement}constructor(e,t){this.ref=e,this.platform=t,this.defaultClass=!0,this.expressionsChange=new yl,this._expressions=[]}get dropAreaVisible(){return this.grid.columnInDrag&&this.grid.columnInDrag.groupable||!this.expressions.length}handleKeyDown(e,t){this.platform.isActivationKey(t)&&this.updateGroupSorting(e)}handleClick(e){this.grid.getColumnByName(e).groupable&&this.updateGroupSorting(e)}onDragDrop(e){let t=e.detail.owner;if(t instanceof u$){let e=t.column;if(!this.grid.columns.find((t=>t===e)))return;let i=-1!==this.expressions.findIndex((t=>t.fieldName===e.field));if(e.groupable&&!i&&!e.columnGroup&&e.field){let t={fieldName:e.field,dir:this.grid.sortingExpressions.find((t=>t.fieldName===e.field))?.dir||LC.Asc,ignoreCase:e.sortingIgnoreCase,strategy:e.sortStrategy,groupingComparer:e.groupingComparer};this.groupBy(t)}}}getReorderedExpressions(e){let t=[];return e.forEach((e=>{let i=this.expressions.find((t=>t.fieldName===e.id));this.grid.getColumnByName(i.fieldName)?.groupable&&t.push(i)})),t}updateGroupSorting(e){let t=this.expressions.find((t=>t.fieldName===e));t.dir=3-t.dir,(this.grid.groupingExpressionsChange||this.expressionsChange).emit(this.expressions),this.grid.pipeTrigger++,this.grid.notifyChanges()}expressionsChanged(){}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(fC))},e.ɵdir=ss({type:e,viewQuery:function(e,t){if(1&e&&up(GV,5),2&e){let e;gp(e=pp())&&(t.chips=e)}},hostVars:2,hostBindings:function(e,t){2&e&&xg("igx-grid-grouparea",t.defaultClass)},inputs:{dropAreaTemplate:"dropAreaTemplate",grid:"grid",expressions:"expressions",dropAreaMessage:"dropAreaMessage"},outputs:{expressionsChange:"expressionsChange"}}),e})(),p$=(()=>{let e=class{transform(e,t,i){let n=t.getColumnByName(e);return{groupable:!!n?.groupable,title:n?.header||e}}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"igxGroupByMeta",type:e,pure:!0,standalone:!0}),e})(),m$=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}constructor(e){this.template=e}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxGroupByRow",""]],standalone:!0}),e})(),f$=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","igxGridDetail",""]],standalone:!0}),e})(),v$=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","igxRowExpandedIndicator",""]],standalone:!0}),e})(),y$=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","igxRowCollapsedIndicator",""]],standalone:!0}),e})(),x$=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","igxHeaderExpandedIndicator",""]],standalone:!0}),e})(),w$=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","igxHeaderCollapsedIndicator",""]],standalone:!0}),e})(),_$=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","igxExcelStyleHeaderIcon",""]],standalone:!0}),e})(),C$=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","igxSortHeaderIcon",""]],standalone:!0}),e})(),S$=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","igxSortAscendingHeaderIcon",""]],standalone:!0}),e})(),b$=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","igxSortDescendingHeaderIcon",""]],standalone:!0}),e})(),D$=(()=>{let e=class extends WR{constructor(e,t,i,n){super(t,i,n),this.groupArea=e,this.elementRef=t,this.hovered=!1}onDragEnter(e){let t=e.detail.owner,i=t.column;if(!this.columnBelongsToGrid(i))return;let n=!!this.groupArea.expressions&&-1!==this.groupArea.expressions.findIndex((e=>e.fieldName===i.field));i.groupable&&!n&&!i.columnGroup&&i.field?(t.icon.innerText="group_work",this.hovered=!0):(t.icon.innerText="block",this.hovered=!1)}onDragLeave(e){let t=e.detail.owner.column;this.columnBelongsToGrid(t)&&(e.detail.owner.icon.innerText="block",this.hovered=!1)}closestParentByAttr(e,t){return e.hasAttribute(t)?e:this.closestParentByAttr(e.parentElement,t)}columnBelongsToGrid(e){let t=this.elementRef.nativeElement,i=this.closestParentByAttr(t,"igxGroupAreaDrop").getAttribute("gridId");if(e){let t=e.grid;return!(!t||t.id!==i)}return!1}};return e.ɵfac=function(t){return new(t||e)(Oc(g$),Oc(Nl),Oc(qh),Oc(Dl))},e.ɵdir=ss({type:e,selectors:[["","igxGroupAreaDrop",""]],hostVars:2,hostBindings:function(e,t){2&e&&xg("igx-drop-area--hover",t.hovered)},standalone:!0,features:[Ru]}),e})(),I$=(()=>{let e=class{transform(e,t){let i=t.findIndex((t=>t.fieldName===e));return-1!==i?++i:null}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"sortingIndex",type:e,pure:!0,standalone:!0}),e})(),E$=(()=>{let e=class{transform(e,t,i){return i?"":"fit-content"===e?e:`${Math.max(parseInt(e),t)}px`}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"igxHeaderGroupWidth",type:e,pure:!0,standalone:!0}),e})(),T$=(()=>{let e=class{transform(e,t,i){let n={};if(!e)return n;for(let i of Object.keys(e)){let r=e[i];n[i]="function"==typeof r?r(t):r}return n}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"igxHeaderGroupStyle",type:e,pure:!0,standalone:!0}),e})(),R$=(()=>{let e=class{constructor(e){this.zone=e,this.resizeCursor="col-resize",this.showResizer=!1}getColumnHeaderRenderedWidth(){return this.column.headerCell.nativeElement.getBoundingClientRect().width}get resizerHeight(){let e=this.column.grid.getVisibleContentHeight(),t=1;return this.column.columnLayoutChild&&(t=this.column.grid.multiRowLayoutRowSize-this.column.rowStart+1),0!==this.column.level&&(e-=this.column.topLevelParent.headerGroup.height-this.column.headerGroup.height*t),e}get restrictResizeMin(){let e=this.getColumnHeaderRenderedWidth();return e-(this.column.minWidthPx<e?this.column.minWidthPx:e)}get restrictResizeMax(){let e=this.getColumnHeaderRenderedWidth(),t=this.column.maxWidthPx;return this.column.maxWidth?t-e:Number.MAX_SAFE_INTEGER}autosizeColumnOnDblClick(){let e=this.getColumnHeaderRenderedWidth();this.column.width=this.column.getAutoSize(),this.zone.run((()=>{})),this.column.grid.columnResized.emit({column:this.column,prevWidth:e.toString(),newWidth:this.column.width})}resizeColumn(e){this.showResizer=!1;let t=e.clientX-this.startResizePos,i=this.column.width,n=i&&"string"==typeof i&&-1!==i.indexOf("%"),r=parseFloat(i),s=this.getColumnHeaderRenderedWidth();r=Number.isNaN(r)?parseFloat(s):r,this.column.grid.hasColumnLayouts?this.resizeColumnLayoutFor(this.column,t):n?this._handlePercentageResize(t,this.column):this._handlePixelResize(t,this.column),this.zone.run((()=>{})),r!==parseFloat(this.column.width)&&this.column.grid.columnResized.emit({column:this.column,prevWidth:n?r+"%":r+"px",newWidth:this.column.width}),this.isColumnResizing=!1}_handlePixelResize(e,t){let i=parseFloat(t.width),n=t.minWidthPx,r=t.maxWidthPx;t.width=i+e<n?n+"px":r&&i+e>r?r+"px":i+e+"px"}_handlePercentageResize(e,t){let i=parseFloat(t.width),n=e/t.grid.calcWidth*100,r=t.minWidthPercent,s=t.maxWidthPercent;t.width=i+n<r?r+"%":s&&i+n>s?s+"%":i+n+"%"}getColMinWidth(e){let t=parseFloat(e.width),i=e.headerCell.nativeElement.getBoundingClientRect().width;t=Number.isNaN(t)||t<i?i:t;let n=parseFloat(e.minWidth);return n<t?n:t}resizeColumnLayoutFor(e,t){let i=e.getResizableColUnderEnd(),n=i.reduce(((e,t)=>e+t.spanUsed),0),r=[...i],s=t,o=n,a=!1;do{a=!1;let e=o,i=[];r.forEach((n=>{let r=parseFloat(n.target.calcWidth),l=t/o*n.target.gridColumnSpan,d=n.target.width,c=d&&"string"==typeof d&&-1!==d.indexOf("%"),h=n.target.minWidthPx,u=n.target.maxWidthPx;r+l<h?(n.target.width=c?n.target.minWidthPercent+"%":h+"px",s+=r-h,e-=n.spanUsed,a=!0):u&&r+l>u?(n.target.width=c?n.target.maxWidthPercent+"%":n.target.maxWidthPx+"px",s-=u-r,e-=n.spanUsed,a=!0):i.push(n)})),o=e,r=i}while(a);r.forEach((e=>{let t=s/o*e.target.gridColumnSpan,i=e.target.width;i&&"string"==typeof i&&-1!==i.indexOf("%")?this._handlePercentageResize(t,e.target):this._handlePixelResize(t,e.target)}))}};return e.ɵfac=function(t){return new(t||e)(gr(Dl))},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),A$=["defaultESFHeaderIconTemplate"],k$=["defaultSortHeaderIconTemplate"],O$=["sortIconContainer"],P$=(e,t)=>({$implicit:e,column:t}),F$=e=>({$implicit:e});function V$(e,t){if(1&e&&(Mg(0,"span",7),fp(1),Ng()),2&e){let e=rp();fg("title",e.title),Ac(),yp(e.column.header||e.column.field)}}function M$(e,t){1&e&&Lg(0,"igx-icon",8)}function N$(e,t){1&e&&Lg(0,"igx-icon",9),2&e&&fg("name",rp().sortDirection<2?"sort_asc":"sort_desc")}function L$(e,t){1&e&&Gg(0)}function H$(e,t){1&e&&Gg(0)}function z$(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"div",11,3),Xp(3,"sortingIndex"),ep("pointerdown",(function(t){return Uo(e),qo(rp(2).onPointerDownIndicator(t))}))("click",(function(t){return Uo(e),qo(rp(2).onSortingIconClick(t))})),Xu(4,H$,1,0,"ng-container",5),Ng(),Bg()}if(2&e){let e=rp(2);Ac(),tg("data-sortIndex","single"===e.grid.sortingOptions.mode&&e.grid.sortingExpressions.length<=1?null:Qp(3,3,e.column.field,e.grid.sortingExpressions)),Ac(3),fg("ngTemplateOutlet",e.sortIconTemplate)("ngTemplateOutletContext",Vp(6,F$,e))}}function B$(e,t){1&e&&Gg(0)}function G$(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"div",12),ep("pointerdown",(function(t){return Uo(e),qo(rp(2).onPointerDownIndicator(t))}))("click",(function(t){return Uo(e),qo(rp(2).onFilteringIconClick(t))})),Xu(2,B$,1,0,"ng-container",5),Ng(),Bg()}if(2&e){let e=rp(2);Ac(),fg("ngClass",e.filterIconClassName),Ac(),fg("ngTemplateOutlet",e.esfIconTemplate)("ngTemplateOutletContext",Vp(3,F$,e))}}function $$(e,t){if(1&e&&(zg(0),Mg(1,"div",10),Xu(2,z$,5,8,"ng-container",6)(3,G$,3,5,"ng-container",6),Ng(),Bg()),2&e){let e=rp();Ac(2),fg("ngIf",e.column.sortable&&!e.disabled),Ac(),fg("ngIf",e.grid.allowFiltering&&e.column.filterable&&"excelStyleFilter"===e.grid.filterMode)}}var W$=(()=>{let e=class{get ariaSelected(){return this.column.selected}get columnGroupStyle(){return!this.column.columnGroup}get sortAscendingStyle(){return this.sortDirection===LC.Asc}get sortDescendingStyle(){return this.sortDirection===LC.Desc}get numberStyle(){return this.column.dataType===QC.Number}get sortableStyle(){return this.column.sortable}get selectableStyle(){return this.selectable}get filterableStyle(){return this.column.filterable&&this.grid.filteringService.isFilterRowVisible}get sortedStyle(){return this.sorted}get selectedStyle(){return this.selected}get height(){return this.grid.hasColumnGroups&&"pivot"!==this.grid.type?(this.grid.maxLevelHeaderDepth+1-this.column.level)*this.grid.defaultRowHeight/this.grid._baseFontSize:null}get esfIconTemplate(){return this.grid.excelStyleHeaderIconTemplate||this.defaultESFHeaderIconTemplate}get sortIconTemplate(){return this.sortDirection===LC.None&&this.grid.sortHeaderIconTemplate?this.grid.sortHeaderIconTemplate:this.sortDirection===LC.Asc&&this.grid.sortAscendingHeaderIconTemplate?this.grid.sortAscendingHeaderIconTemplate:this.sortDirection===LC.Desc&&this.grid.sortDescendingHeaderIconTemplate?this.grid.sortDescendingHeaderIconTemplate:this.defaultSortHeaderIconTemplate}get disabled(){let e=this.grid.groupArea||this.grid.treeGroupArea;return!!(e?.expressions&&e.expressions.length&&e.expressions.map((e=>e.fieldName)).includes(this.column.field))}get sorted(){return this.sortDirection!==LC.None}get filterIconClassName(){return this.column.filteringExpressionsTree||this.isAdvancedFilterApplied()?"igx-excel-filter__icon--filtered":"igx-excel-filter__icon"}get selectable(){return this.grid.columnSelection!==fS&&this.column.applySelectableClass&&!this.column.selected&&!this.grid.filteringService.isFilterRowVisible}get selected(){return this.column.selected&&(!this.grid.filteringService.isFilterRowVisible||this.grid.filteringService.filteredColumn!==this.column)}get title(){return this.column.title||this.column.header||this.column.field}get nativeElement(){return this.ref.nativeElement}constructor(e,t,i,n){this.grid=e,this.colResizingService=t,this.cdr=i,this.ref=n,this.sortDirection=LC.None,this._destroy$=new ei}onClick(e){if(!this.colResizingService.isColumnResizing)if(this.grid.filteringService.isFilterRowVisible){if(this.column.filterCellTemplate)return void this.grid.filteringRow.close();this.column.filterable&&!this.column.columnGroup&&!this.grid.filteringService.isFilterComplex(this.column.field)&&(this.grid.filteringService.filteredColumn=this.column)}else if(this.grid.columnSelection!==fS&&this.column.selectable){let t=this.grid.columnSelection===vS||!e.ctrlKey,i=this.grid.columnSelection===yS&&e.shiftKey;!this.column.selected||this.grid.selectionService.getSelectedColumns().length>1&&t?this.grid.selectionService.selectColumn(this.column.field,t,i,e):this.grid.selectionService.deselectColumn(this.column.field,e)}this.grid.theadRow.nativeElement.focus()}onPinterEnter(){this.column.applySelectableClass=!0}onPointerLeave(){this.column.applySelectableClass=!1}ngDoCheck(){this.getSortDirection(),this.cdr.markForCheck()}ngOnDestroy(){this._destroy$.next(!0),this._destroy$.complete()}onPointerDownIndicator(e){e.stopPropagation()}onFilteringIconClick(e){e.stopPropagation(),this.grid.filteringService.toggleFilterDropdown(this.nativeElement,this.column)}onSortingIconClick(e){e.stopPropagation(),this.triggerSort()}getSortDirection(){let e=this.grid.sortingExpressions.find((e=>e.fieldName===this.column.field));this.sortDirection=e?e.dir:LC.None}isAdvancedFilterApplied(){return!!this.grid.advancedFilteringExpressionsTree&&!!this.grid.advancedFilteringExpressionsTree.find(this.column.field)}triggerSort(){let e=(this.grid.groupingExpressions?this.grid.groupingExpressions.find((e=>e.fieldName===this.column.field)):this.grid.groupArea?.expressions&&this.grid.groupArea?.expressions.find((e=>e.fieldName===this.column.field)))?this.sortDirection+1>LC.Desc?LC.Asc:LC.Desc:this.sortDirection+1>LC.Desc?LC.None:this.sortDirection+1;this.sortDirection=e,this.grid.sort({fieldName:this.column.field,dir:this.sortDirection,ignoreCase:this.column.sortingIgnoreCase,strategy:this.column.sortStrategy})}};return e.ɵfac=function(t){return new(t||e)(Oc(nO),Oc(R$),Oc(Pm),Oc(Nl))},e.ɵcmp=es({type:e,selectors:[["igx-grid-header"]],viewQuery:function(e,t){if(1&e&&(up(A$,7,Oh),up(k$,7,Oh),up(O$,5,Nl)),2&e){let e;gp(e=pp())&&(t.defaultESFHeaderIconTemplate=e.first),gp(e=pp())&&(t.defaultSortHeaderIconTemplate=e.first),gp(e=pp())&&(t.sortIconContainer=e.first)}},hostVars:21,hostBindings:function(e,t){1&e&&ep("click",(function(e){return t.onClick(e)}))("pointerenter",(function(){return t.onPinterEnter()}))("pointerleave",(function(){return t.onPointerLeave()})),2&e&&(tg("aria-selected",t.ariaSelected),yg("height",t.height,"rem"),xg("igx-grid-th",t.columnGroupStyle)("asc",t.sortAscendingStyle)("desc",t.sortDescendingStyle)("igx-grid-th--number",t.numberStyle)("igx-grid-th--sortable",t.sortableStyle)("igx-grid-th--selectable",t.selectableStyle)("igx-grid-th--filtrable",t.filterableStyle)("igx-grid-th--sorted",t.sortedStyle)("igx-grid-th--selected",t.selectedStyle))},inputs:{column:"column"},standalone:!0,features:[Pp],decls:9,vars:6,consts:[["defaultColumn",""],["defaultESFHeaderIconTemplate",""],["defaultSortHeaderIconTemplate",""],["sortIconContainer",""],[1,"igx-grid-th__title"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[3,"title"],["family","default","name","more_vert"],["family","default",3,"name"],[1,"igx-grid-th__icons"],[1,"sort-icon",3,"pointerdown","click"],[3,"pointerdown","click","ngClass"]],template:function(e,t){if(1&e&&(Xu(0,V$,2,2,"ng-template",null,0,nm)(2,M$,1,0,"ng-template",null,1,nm)(4,N$,1,1,"ng-template",null,2,nm),Mg(6,"span",4),Xu(7,L$,1,0,"ng-container",5),Ng(),Xu(8,$$,4,2,"ng-container",6)),2&e){let e=mp(1);Ac(7),fg("ngTemplateOutlet",t.column.headerTemplate?t.column.headerTemplate:e)("ngTemplateOutletContext",Mp(3,P$,t.column,t.column)),Ac(),fg("ngIf",!t.column.columnGroup)}},dependencies:[FT,yv,cv,av,I$],encapsulation:2,changeDetection:0}),e})(),K$=class extends GE{shouldFitInViewPort(){return!0}fitInViewport(e,t){t.contentElementRect.height-t.viewPortRect.height>0?(e.style.width="auto",e.style.height=`${t.viewPortRect.height}px`):e.style.height=`${Math.max(t.viewPortRect.height-t.targetRect.bottom-1,t.contentElementRect.height)}px`,super.fitInViewport(e,t)}},j$=(()=>{let e=class{constructor(e,t){this.iconService=e,this._overlayService=t,this.isFilterRowVisible=!1,this.filteredColumn=null,this.selectedExpression=null,this.columnToMoreIconHidden=new Map,this.activeFilterCell=0,this.columnsWithComplexFilter=new Set,this.areEventsSubscribed=!1,this.destroy$=new ei,this.isFiltering=!1,this.columnToExpressionsMap=new Map,this.columnStartIndex=-1,this._filterMenuOverlaySettings={closeOnEscape:!0,closeOnOutsideClick:!0,modal:!1,positionStrategy:new K$({verticalStartPoint:PE.Bottom,openAnimation:nD(gD,{params:{duration:"250ms"}}),closeAnimation:null}),scrollStrategy:new XE}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}toggleFilterDropdown(e,t){let i=t.filteringExpressionsTree?"igx-excel-filter__icon--filtered":"igx-excel-filter__icon",n=e.querySelector(`.${i}`)||e,r=this.grid.createFilterDropdown(t,Oe(ke({},this._filterMenuOverlaySettings),{target:n}));this._overlayService.opening.pipe(un((e=>e.id===r)),mn(this.destroy$)).subscribe((e=>{e.componentRef&&(e.componentRef.instance.initialize(t,this._overlayService),e.componentRef.instance.overlayComponentId=r),this.lastActiveNode=this.grid.navigation.activeNode})),this._overlayService.closed.pipe(un((e=>e.id===r)),mn(this.destroy$)).subscribe((()=>{this._overlayService.detach(r),this.grid.navigation.activeNode=this.lastActiveNode,this.grid.theadRow.nativeElement.focus()})),this._overlayService.show(r)}subscribeToEvents(){this.areEventsSubscribed||(this.areEventsSubscribed=!0,this.grid.columnResized.pipe(mn(this.destroy$)).subscribe((e=>{this.updateFilteringCell(e.column)})),this.grid.parentVirtDir.chunkLoad.pipe(mn(this.destroy$)).subscribe((e=>{e.startIndex!==this.columnStartIndex&&(this.columnStartIndex=e.startIndex,this.grid.filterCellList.forEach((e=>{e.updateFilterCellArea()})))})),this.grid.columnMovingEnd.pipe(mn(this.destroy$)).subscribe((()=>{this.grid.filterCellList.forEach((e=>{e.updateFilterCellArea()}))})))}hideFilteringRowOnColumnVisibilityChange(e){let t=this.grid?.filteringRow;t&&t.column&&t.column===e&&t.close()}filterInternal(e,t=null){let i;this.isFiltering=!0,i=t instanceof iS?t:this.createSimpleFilteringTree(e,t),0===i.filteringOperands.length?this.clearFilter(e):this.filter(e,null,i),this.isFiltering=!1}filter(e,t,i,n){let r=this.grid,s=r.getColumnByName(e),o=n||!!s&&s.filteringIgnoreCase,a=r.filteringExpressionsTree,l=a.find(e);i=i??l;let d=a.findIndex(e),c={owner:r,filteringExpressions:this.prepare_filtering_expression(a,e,t,i,o,d,!0).find(e),cancel:!1};if(this.grid.filtering.emit(c),c.cancel)return;if(i)this.filter_internal(e,t,i,o);else{let i=this.grid.filteringExpressionsTree.find(e);if(!i)throw new Error("Invalid condition or Expression Tree!");if(i instanceof iS)this.filter_internal(e,t,i,o);else{let n=i;this.filter_internal(e,t,n.condition,o)}}let h=this.grid.filteringExpressionsTree.find(e);requestAnimationFrame((()=>this.grid.filteringDone.emit(h)))}filter_global(e,t,i){if(!t)return;let n=this.grid.filteringExpressionsTree;this.grid.crudService.endEdit(!1),this.grid.page=0,n.filteringOperands=[];for(let r of this.grid.columns)this.prepare_filtering_expression(n,r.field,e,t,i||r.filteringIgnoreCase);this.grid.filteringExpressionsTree=n}clearFilter(e){if(e&&!this.grid.getColumnByName(e))return;let t=new iS(null,e),i={owner:this.grid,filteringExpressions:t,cancel:!1};this.grid.filtering.emit(i),i.cancel||(this.isFiltering=!0,this.clear_filter(e),requestAnimationFrame((()=>this.grid.filteringDone.emit(t))),e?this.getExpressions(e).length=0:this.grid.columns.forEach((e=>{this.getExpressions(e.field).length=0})),this.isFiltering=!1)}clear_filter(e){let t=this.grid;t.crudService.endEdit(!1);let i=t.filteringExpressionsTree,n=i.findIndex(e);n>-1?i.filteringOperands.splice(n,1):e||(i.filteringOperands=[]),t.filteringExpressionsTree=i}filterGlobal(e,t,i){if(!t)return;let n=this.grid.filteringExpressionsTree,r=new iS(n.operator,n.fieldName);for(let n of this.grid.columns)this.prepare_filtering_expression(r,n.field,e,t,i||n.filteringIgnoreCase);let s={owner:this.grid,filteringExpressions:r,cancel:!1};this.grid.filtering.emit(s),!s.cancel&&(this.grid.crudService.endEdit(!1),this.grid.page=0,this.grid.filteringExpressionsTree=r,requestAnimationFrame((()=>this.grid.filteringDone.emit(this.grid.filteringExpressionsTree))))}registerSVGIcons(){WO.forEach((e=>{this.iconService.addSvgIconFromText(e.name,e.value,"imx-icons")})),this.iconService.addSvgIconFromText(HO.name,HO.value,"imx-icons"),this.iconService.addSvgIconFromText(zO.name,zO.value,"imx-icons")}getExpressions(e){if(!this.columnToExpressionsMap.has(e)){let t=this.grid.columns.find((t=>t.field===e)),i=new Array;return t&&(this.generateExpressionsList(t.filteringExpressionsTree,this.grid.filteringExpressionsTree.operator,i),this.columnToExpressionsMap.set(e,i)),i}return this.columnToExpressionsMap.get(e)}refreshExpressions(){this.isFiltering||(this.columnsWithComplexFilter.clear(),this.columnToExpressionsMap.forEach(((e,t)=>{let i=this.grid.columns.find((e=>e.field===t));i?(e.length=0,this.generateExpressionsList(i.filteringExpressionsTree,this.grid.filteringExpressionsTree.operator,e),this.isFilteringTreeComplex(i.filteringExpressionsTree)&&this.columnsWithComplexFilter.add(t),this.updateFilteringCell(i)):this.columnToExpressionsMap.delete(t)})))}removeExpression(e,t){let i=this.getExpressions(e);0===t&&i.length>1?i[1].beforeOperator=null:t===i.length-1?i[t-1].afterOperator=null:(i[t-1].afterOperator=i[t+1].beforeOperator,i[0].beforeOperator=null,i[i.length-1].afterOperator=null),i.splice(t,1)}createSimpleFilteringTree(e,t=null){let i,n=t||this.getExpressions(e),r=new iS(nS.Or,e);for(let t of n)t.expression.condition.isUnary||null!==t.expression.searchVal?void 0!==t.beforeOperator&&null!==t.beforeOperator&&t.beforeOperator!==nS.Or||t.afterOperator!==nS.And?t.beforeOperator===nS.And?i.filteringOperands.push(t.expression):(r.filteringOperands.push(t.expression),i=null):(i=new iS(nS.And,e),r.filteringOperands.push(i),i.filteringOperands.push(t.expression)):t.afterOperator===nS.And&&!i&&(i=new iS(nS.And,e),r.filteringOperands.push(i));return r}isFilterComplex(e){if(this.columnsWithComplexFilter.has(e))return!0;let t=this.grid.columns.find((t=>t.field===e)),i=t&&this.isFilteringTreeComplex(t.filteringExpressionsTree);return i&&this.columnsWithComplexFilter.add(e),i}getOperatorAsString(e){return 0===e?this.grid.resourceStrings.igx_grid_filter_operator_and:this.grid.resourceStrings.igx_grid_filter_operator_or}getChipLabel(e){if(e.condition.isUnary)return this.grid.resourceStrings[`igx_grid_filter_${e.condition.name}`]||e.condition.name;if(e.searchVal instanceof Date){let t=this.grid.getColumnByName(e.fieldName),i=t.formatter;if(i)return i(e.searchVal,void 0);let n=t.pipeArgs;return AC(e.searchVal,n.format,this.grid.locale)}return e.searchVal}updateFilteringCell(e){let t=e.filterCell;t&&t.updateFilterCellArea()}generateExpressionsList(e,t,i){MH(e,t,i)}isFilteringExpressionsTreeEmpty(e){if(iS.empty(e))return!0;for(let t of e.filteringOperands){if(!(t instanceof iS))return!1;{let e=t;if(e.filteringOperands&&e.filteringOperands.length)return!1}}return!0}filter_internal(e,t,i,n){let r=this.grid.filteringExpressionsTree;this.grid.crudService.endEdit(!1),this.grid.page=0;let s=r.findIndex(e);this.prepare_filtering_expression(r,e,t,i,n,s),this.grid.filteringExpressionsTree=r}prepare_filtering_expression(e,t,i,n,r,s=-1,o=!1){let a=n instanceof iS?n:null,l=n instanceof iS?null:n,d=e;if(o&&(d=new iS(e.operator,e.fieldName),d.filteringOperands=[...e.filteringOperands]),l){let n={fieldName:t,searchVal:i,condition:l,ignoreCase:r};a=new iS(e.operator,t),a.filteringOperands.push(n)}return a&&(s>-1?d.filteringOperands[s]=a:d.filteringOperands.push(a)),d}isFilteringTreeComplex(e){if(!e)return!1;if(e instanceof iS){let t=e;if(t.operator===nS.Or)return this.getChildAndOperatorsCount(t)>1;let i=!1;for(let e of t.filteringOperands)i=i||this.isFilteringTreeComplex(e);return i}return!1}getChildAndOperatorsCount(e){let t,i=0;for(let n=0;n<e.filteringOperands.length;n++)t=e[n],t instanceof iS&&(t.operator===nS.And&&i++,i+=this.getChildAndOperatorsCount(t));return i}};return e.ɵfac=function(t){return new(t||e)(gr(TT),gr(YE))},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),U$=["emptyFilter"],q$=["defaultFilter"],Y$=["complexFilter"],X$=["chipsArea"],Z$=["moreIcon"],Q$=["ghostChip"],J$=["complexChip"];function eW(e,t){if(1&e){let e=Wg();Mg(0,"igx-chips-area",9)(1,"igx-chip",10,3),ep("click",(function(){return Uo(e),qo(rp().onChipClicked())})),Lg(3,"igx-icon",11),Mg(4,"span"),fp(5),Ng()()()}if(2&e){let e=rp();tg("draggable",!1),Ac(),yg("--ig-size",e.filteringElementsSize),fg("tabIndex",-1),tg("draggable",!1),Ac(2),tg("draggable",!1),Ac(),tg("draggable",!1),Ac(),yp(e.filteringService.grid.resourceStrings.igx_grid_filter)}}function tW(e,t){if(1&e){let e=Wg();Mg(0,"igx-chip",18),ep("click",(function(){Uo(e);let t=rp().$implicit;return qo(rp(2).onChipClicked(t.expression))}))("remove",(function(t){Uo(e);let i=rp().$implicit;return qo(rp(2).onChipRemoved(t,i))})),Lg(1,"igx-icon",19),Mg(2,"span",null,6),fp(4),Ng()()}if(2&e){let e=rp().$implicit,t=rp(2);yg("--ig-size",t.filteringElementsSize),fg("removable",!0)("tabIndex",-1),Ac(),fg("name",e.expression.condition.iconName),Ac(3),xp(" ",t.filteringService.getChipLabel(e.expression)," ")}}function iW(e,t){if(1&e&&(Mg(0,"span",20),fp(1),Ng()),2&e){let e=rp().$implicit,t=rp(2);Ac(),yp(t.filteringService.getOperatorAsString(e.afterOperator))}}function nW(e,t){if(1&e&&(zg(0),Xu(1,tW,5,6,"igx-chip",16)(2,iW,2,1,"span",17),Bg()),2&e){let e=t.last,i=t.index,n=rp(2);Ac(),fg("ngIf",n.isChipVisible(i)),Ac(),fg("ngIf",!e&&n.isChipVisible(i+1))}}function rW(e,t){if(1&e){let e=Wg();Mg(0,"igx-chips-area",9,4),Xu(2,nW,3,2,"ng-container",12),Mg(3,"div",13,5),ep("click",(function(){return Uo(e),qo(rp().onChipClicked())})),Lg(5,"igx-icon",14)(6,"igx-badge",15),Ng()()}if(2&e){let e=rp();Ac(2),fg("ngForOf",e.expressionsList),Ac(),fg("ngClass",e.filteringIndicatorClass()),Ac(3),fg("value",e.moreFiltersCount)}}function sW(e,t){if(1&e){let e=Wg();Mg(0,"igx-chip",21,7),ep("remove",(function(){return Uo(e),qo(rp().clearFiltering())})),Lg(2,"igx-icon",11),Mg(3,"span"),fp(4),Ng()()}if(2&e){let e=rp();yg("--ig-size",e.filteringElementsSize),fg("removable",!0)("tabIndex",-1),Ac(4),yp(e.filteringService.grid.resourceStrings.igx_grid_complex_filter)}}function oW(e,t){1&e&&Gg(0)}var aW=(()=>{let e=class{get styleClasses(){return this.column&&this.column.selected?"igx-grid__filtering-cell--selected":"igx-grid__filtering-cell"}constructor(e,t){this.cdr=e,this.filteringService=t,this.moreFiltersCount=0,this.baseClass="igx-grid__filtering-cell-indicator",this.filteringService.subscribeToEvents()}ngOnInit(){this.filteringService.columnToMoreIconHidden.set(this.column.field,!0)}ngAfterViewInit(){this.updateFilterCellArea()}ngDoCheck(){this.updateFilterCellArea()}isChipVisible(e){let t=this.expressionsList[e];return!(!t||!t.isVisible)}updateFilterCellArea(){this.expressionsList=this.filteringService.getExpressions(this.column.field),this.updateVisibleFilters()}get template(){if(!this.column.filterable)return null;if(this.column.filterCellTemplate)return this.column.filterCellTemplate;let e=this.column.filteringExpressionsTree;return e&&0!==e.filteringOperands.length?this.filteringService.isFilterComplex(this.column.field)?this.complexFilter:this.defaultFilter:this.emptyFilter}get context(){return{$implicit:this.column,column:this.column}}onChipClicked(e){e?this.expressionsList.forEach((t=>{t.isSelected=t.expression===e})):this.expressionsList.length>0&&(this.expressionsList.forEach((e=>{e.isSelected=!1})),this.expressionsList[0].isSelected=!0),this.filteringService.grid.navigation.performHorizontalScrollToCell(this.column.visibleIndex),this.filteringService.filteredColumn=this.column,this.filteringService.isFilterRowVisible=!0,this.filteringService.selectedExpression=e}onChipRemoved(e,t){let i=this.expressionsList.indexOf(t);this.removeExpression(i),this.filteringService.grid.theadRow.nativeElement.focus()}clearFiltering(){this.filteringService.clearFilter(this.column.field),this.cdr.detectChanges()}filteringIndicatorClass(){return{[this.baseClass]:!this.isMoreIconHidden(),[`${this.baseClass}--hidden`]:this.isMoreIconHidden()}}get filteringElementsSize(){return this.column.grid.gridSize===ES?IS:this.column.grid.gridSize}removeExpression(e){0!==e||1!==this.expressionsList.length?(this.filteringService.removeExpression(this.column.field,e),this.updateVisibleFilters(),this.filteringService.filterInternal(this.column.field)):this.clearFiltering()}isMoreIconHidden(){return this.filteringService.columnToMoreIconHidden.get(this.column.field)}updateVisibleFilters(){if(this.expressionsList.forEach((e=>e.isVisible=!0)),this.moreIcon&&this.filteringService.columnToMoreIconHidden.set(this.column.field,!0),this.cdr.detectChanges(),this.chipsArea&&this.expressionsList.length>1){let e=this.chipsArea.element.nativeElement.offsetWidth,t=0,i=this.chipsArea.element.nativeElement.children,n=0,r=this.moreIcon.nativeElement.offsetWidth-parseInt(document.defaultView.getComputedStyle(this.moreIcon.nativeElement)["margin-left"],10);for(let s=0;s<i.length-1;s++){if(!(t+i[s].offsetWidth<e)){(s%2!=0&&t+r>e||n>0&&t-i[s-1].offsetWidth+r>e)&&n--,this.moreFiltersCount=this.expressionsList.length-n,this.filteringService.columnToMoreIconHidden.set(this.column.field,!1);break}t+=i[s].offsetWidth,s%2==0?n++:(t+=parseInt(document.defaultView.getComputedStyle(i[s])["margin-left"],10),t+=parseInt(document.defaultView.getComputedStyle(i[s])["margin-right"],10))}for(let e=n;e<this.expressionsList.length;e++)this.expressionsList[e].isVisible=!1;this.cdr.detectChanges()}}};return e.ɵfac=function(t){return new(t||e)(Oc(Pm),Oc(j$))},e.ɵcmp=es({type:e,selectors:[["igx-grid-filtering-cell"]],viewQuery:function(e,t){if(1&e&&(up(U$,7,Oh),up(q$,7,Oh),up(Y$,7,Oh),up(X$,5,WV),up(Z$,5,Nl),up(Q$,5,GV),up(J$,5,GV)),2&e){let e;gp(e=pp())&&(t.emptyFilter=e.first),gp(e=pp())&&(t.defaultFilter=e.first),gp(e=pp())&&(t.complexFilter=e.first),gp(e=pp())&&(t.chipsArea=e.first),gp(e=pp())&&(t.moreIcon=e.first),gp(e=pp())&&(t.ghostChip=e.first),gp(e=pp())&&(t.complexChip=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&wg(t.styleClasses)},inputs:{column:"column"},standalone:!0,features:[Pp],decls:7,vars:2,consts:[["emptyFilter",""],["defaultFilter",""],["complexFilter",""],["ghostChip",""],["chipsArea",""],["moreIcon",""],["label",""],["complexChip",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-filtering-chips"],[3,"click","tabIndex"],["igxPrefix","","family","default","name","filter_list"],[4,"ngFor","ngForOf"],[3,"click","ngClass"],["family","default","name","filter_list"],[3,"value"],[3,"removable","tabIndex","--ig-size","click","remove",4,"ngIf"],["class","igx-filtering-chips__connector",4,"ngIf"],[3,"click","remove","removable","tabIndex"],["igxPrefix","","family","default",3,"name"],[1,"igx-filtering-chips__connector"],[3,"remove","removable","tabIndex"]],template:function(e,t){1&e&&Xu(0,eW,6,8,"ng-template",null,0,nm)(2,rW,7,3,"ng-template",null,1,nm)(4,sW,5,5,"ng-template",null,2,nm)(6,oW,1,0,"ng-container",8),2&e&&(Ac(6),fg("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.context))},dependencies:[WV,GV,FT,vT,lv,cv,av,gP,yv],encapsulation:2,changeDetection:0}),e})(),lW=(()=>{let e=class{constructor(e,t,i){this.zone=e,this.element=t,this.colResizingService=i,this._dblClick=!1,this.destroy$=new ei,this.DEBOUNCE_TIME=200}onDoubleClick(){this._dblClick=!0,this.initResizeService(),this.colResizingService.autosizeColumnOnDblClick()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngAfterViewInit(){!this.column.columnGroup&&this.column.resizable&&(this.zone.runOutsideAngular((()=>{en(this.element.nativeElement,"mousedown").pipe(ln(this.DEBOUNCE_TIME),mn(this.destroy$)).subscribe((e=>{this._dblClick?this._dblClick=!1:0===e.button&&(this._onResizeAreaMouseDown(e),this.column.grid.resizeLine.resizer.onMousedown(e))}))})),en(this.element.nativeElement,"mouseup").pipe(ln(this.DEBOUNCE_TIME),mn(this.destroy$)).subscribe((()=>{this.colResizingService.isColumnResizing=!1,this.colResizingService.showResizer=!1,this.column.grid.cdr.detectChanges()})))}_onResizeAreaMouseDown(e){this.initResizeService(e),this.colResizingService.showResizer=!0,this.column.grid.cdr.detectChanges()}initResizeService(e=null){this.colResizingService.column=this.column,e&&(this.colResizingService.isColumnResizing=!0,this.colResizingService.startResizePos=e.clientX)}};return e.ɵfac=function(t){return new(t||e)(Oc(Dl),Oc(Nl),Oc(R$))},e.ɵdir=ss({type:e,selectors:[["","igxResizeHandle",""]],hostBindings:function(e,t){1&e&&ep("dblclick",(function(){return t.onDoubleClick()}))},inputs:{column:[0,"igxResizeHandle","column"]},standalone:!0}),e})(),dW=(()=>{let e=class extends WR{set data(e){e instanceof dA?this._displayContainer=e:this._column=e}get column(){return this._column}get isDropTarget(){return this.column&&this.column.grid.moving&&(!this.column.pinned&&this.cms.column?.disablePinning||!this.cms.column?.disablePinning)}get horizontalScroll(){if(this._displayContainer)return this._displayContainer}get nativeElement(){return this.ref.nativeElement}constructor(e,t,i,n){super(e,t,i),this.ref=e,this.renderer=t,this._=i,this.cms=n,this._dropIndicator=null,this._lastDropIndicator=null,this._dragLeave=new ei,this._dropIndicatorClass="igx-grid-th__drop-indicator--active"}ngOnDestroy(){this._dragLeave.next(!0),this._dragLeave.complete(),super.ngOnDestroy()}onDragOver(e){if(e.detail.owner instanceof u$&&this.isDropTarget&&this.cms.column!==this.column&&this.cms.column.level===this.column.level&&this.cms.column.parent===this.column.parent){this._lastDropIndicator&&this.renderer.removeClass(this._dropIndicator,this._dropIndicatorClass);let t=this.nativeElement.getBoundingClientRect(),i=t.left+t.width/2,n=this.nativeElement.parentElement;e.detail.pageX<i?(this._dropPos=NM.BeforeDropTarget,this._lastDropIndicator=this._dropIndicator=n.firstElementChild):(this._dropPos=NM.AfterDropTarget,this._lastDropIndicator=this._dropIndicator=n.lastElementChild),"block"!==this.cms.icon.innerText&&this.renderer.addClass(this._dropIndicator,this._dropIndicatorClass)}}onDragEnter(e){if(e.detail.owner instanceof u$){if(this.column&&this.cms.column.grid.id!==this.column.grid.id)return void(this.cms.icon.innerText="block");this.isDropTarget&&this.cms.column!==this.column&&this.cms.column.level===this.column.level&&this.cms.column.parent===this.column.parent?((!this.column.pinned||this.column.pinned&&this.cms.column.pinned)&&(this.cms.icon.innerText="swap_horiz"),this.cms.icon.innerText="save_alt"):this.cms.icon.innerText="block",this.horizontalScroll&&(this.cms.icon.innerText="right"===e.target.id?"arrow_forward":"arrow_back",rn(0,ui).pipe(mn(this._dragLeave)).subscribe((()=>{"right"===e.target.id?this.horizontalScroll.scrollPosition+=10:this.horizontalScroll.scrollPosition-=10})))}}onDragLeave(e){e.detail.owner instanceof u$&&(this.cms.icon.innerText="block",this._dropIndicator&&this.renderer.removeClass(this._dropIndicator,this._dropIndicatorClass),this.horizontalScroll&&this._dragLeave.next(!0))}onDragDrop(e){e.preventDefault();let t=e.detail.owner;!this.cms.cancelDrop&&t instanceof u$?this.column&&this.cms.column.grid.id!==this.column.grid.id||(this.horizontalScroll&&this._dragLeave.next(!0),this.isDropTarget&&(this.column.grid.moveColumn(this.cms.column,this.column,this._dropPos),this.cms.column=null,this.column.grid.cdr.detectChanges())):this.cms.cancelDrop=!1}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(qh),Oc(Dl),Oc(LM))},e.ɵdir=ss({type:e,selectors:[["","igxColumnMovingDrop",""]],inputs:{data:[0,"igxColumnMovingDrop","data"]},standalone:!0,features:[Ru]}),e})(),cW=(e,t)=>({"igx-grid-th--pinned-last":e,"igx-grid-th--pinned-first":t}),hW=(e,t)=>({"grid-template-rows":e,"grid-template-columns":t}),uW=(e,t,i,n,r,s)=>({"igx-grid-th--pinned-last":e,"igx-grid-th--pinned-first":t,"igx-grid-th--collapsible":i,"igx-grid-th--selectable":n,"igx-grid-th--selected":r,"igx-grid-th--active":s}),gW=(e,t)=>({$implicit:e,column:t});function pW(e,t){1&e&&Lg(0,"span",7)}function mW(e,t){if(1&e&&(Lg(0,"igx-grid-header-group",9),Xp(1,"igxHeaderGroupStyle")),2&e){let e=rp().$implicit,t=rp(2);fg("ngClass",e.headerGroupClasses)("ngStyle",Jp(1,3,e.headerGroupStyles,e,t.grid.pipeTrigger))("column",e)}}function fW(e,t){if(1&e&&(zg(0),Xu(1,mW,2,7,"igx-grid-header-group",8),Bg()),2&e){let e=t.$implicit;Ac(),fg("ngIf",!e.hidden)}}function vW(e,t){1&e&&Lg(0,"span",10)}function yW(e,t){if(1&e&&(zg(0),Xu(1,pW,1,0,"span",3),Mg(2,"div",4),Xu(3,fW,2,1,"ng-container",5),Ng(),Xu(4,vW,1,0,"span",6),Bg()),2&e){let e=rp();Ac(),fg("ngIf",e.grid.moving),Ac(),fg("ngClass",Mp(5,cW,e.hasLastPinnedChildColumn,e.hasFirstPinnedChildColumn))("ngStyle",Mp(8,hW,e.column.getGridTemplate(!0),e.column.getGridTemplate(!1))),Ac(),fg("ngForOf",e.column.children),Ac(),fg("ngIf",e.grid.moving)}}function xW(e,t){if(1&e&&(Mg(0,"span",11),fp(1),Ng()),2&e){let e=rp();fg("title",e.title),Ac(),yp(e.column.header)}}function wW(e,t){1&e&&Lg(0,"igx-icon",12),2&e&&fg("name",rp().column.expanded?"tree_collapse":"tree_expand")}function _W(e,t){1&e&&Lg(0,"span",7)}function CW(e,t){1&e&&Gg(0)}function SW(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"div",16),ep("pointerdown",(function(t){return Uo(e),qo(rp(2).onPointerDownIndicator(t))}))("click",(function(t){return Uo(e),qo(rp(2).toggleExpandState(t))})),Xu(2,CW,1,0,"ng-container",14),Ng(),Bg()}if(2&e){let e=rp(2),t=mp(4);Ac(2),fg("ngTemplateOutlet",e.column.collapsibleIndicatorTemplate?e.column.collapsibleIndicatorTemplate:t)("ngTemplateOutletContext",Mp(2,gW,e.column,e.column))}}function bW(e,t){1&e&&Gg(0)}function DW(e,t){if(1&e&&(Lg(0,"igx-grid-header-group",9),Xp(1,"igxHeaderGroupWidth"),Xp(2,"igxHeaderGroupWidth"),Xp(3,"igxHeaderGroupStyle")),2&e){let e=rp().$implicit,t=rp(3);yg("min-width",Jp(1,7,e.resolvedWidth,t.grid.defaultHeaderGroupMinWidth,t.grid.hasColumnLayouts))("flex-basis",Jp(2,11,e.resolvedWidth,t.grid.defaultHeaderGroupMinWidth,t.grid.hasColumnLayouts)),fg("ngClass",e.headerGroupClasses)("ngStyle",Jp(3,15,e.headerGroupStyles,e,t.grid.pipeTrigger))("column",e)}}function IW(e,t){if(1&e&&(zg(0),Xu(1,DW,4,19,"igx-grid-header-group",18),Bg()),2&e){let e=t.$implicit;Ac(),fg("ngIf",!e.hidden)}}function EW(e,t){if(1&e&&(Mg(0,"div",17),Xu(1,IW,2,1,"ng-container",5),Ng()),2&e){let e=rp(2);Ac(),fg("ngForOf",e.column.children)}}function TW(e,t){1&e&&Lg(0,"span",10)}function RW(e,t){if(1&e){let e=Wg();zg(0),Xu(1,_W,1,0,"span",3),Mg(2,"div",13),ep("pointerdown",(function(t){return Uo(e),qo(rp().pointerdown(t))}))("click",(function(t){return Uo(e),qo(rp().groupClicked(t))}))("pointerenter",(function(){return Uo(e),qo(rp().onPinterEnter())}))("pointerleave",(function(){return Uo(e),qo(rp().onPointerLeave())})),Xu(3,SW,3,5,"ng-container",2)(4,bW,1,0,"ng-container",14),Ng(),Xu(5,EW,2,1,"div",15)(6,TW,1,0,"span",6),Bg()}if(2&e){let e=rp(),t=mp(2);Ac(),fg("ngIf",e.grid.moving),Ac(),fg("ngClass",zp(14,uW,e.hasLastPinnedChildColumn,e.hasFirstPinnedChildColumn,e.column.collapsible,e.selectable,e.selected,e.activeGroup))("igxColumnMovingDrag",e.column)("ghostHost",e.grid.outlet.nativeElement)("igxColumnMovingDrop",e.column),tg("aria-label",e.column.header||e.column.field)("aria-expanded",e.column.expanded)("aria-selected",e.column.selected)("droppable",!0),Ac(),fg("ngIf",e.column.collapsible),Ac(),fg("ngTemplateOutlet",e.column.headerTemplate?e.column.headerTemplate:t)("ngTemplateOutletContext",Mp(21,gW,e.column,e.column)),Ac(),fg("ngIf","pivot"!==e.grid.type),Ac(),fg("ngIf",e.grid.moving)}}function AW(e,t){1&e&&Lg(0,"span",7)}function kW(e,t){1&e&&Lg(0,"igx-grid-filtering-cell",22),2&e&&(fg("column",rp(2).column),tg("draggable",!1))}function OW(e,t){if(1&e&&Lg(0,"span",23),2&e){let e=rp(2);yg("cursor",e.colResizingService.resizeCursor),fg("igxResizeHandle",e.column),tg("draggable",!1)}}function PW(e,t){1&e&&Lg(0,"span",10)}function FW(e,t){if(1&e){let e=Wg();zg(0),Xu(1,AW,1,0,"span",3),Mg(2,"igx-grid-header",19),Xp(3,"igxHeaderGroupStyle"),ep("pointerdown",(function(){return Uo(e),qo(rp().activate())})),Ng(),Xu(4,kW,1,2,"igx-grid-filtering-cell",20)(5,OW,1,4,"span",21)(6,PW,1,0,"span",6),Bg()}if(2&e){let e=rp();Ac(),fg("ngIf",e.grid.moving),Ac(),fg("id",e.grid.id+"_"+e.column.field)("ngClass",e.column.headerClasses)("ngStyle",Jp(3,12,e.column.headerStyles,e.column,e.grid.pipeTrigger))("igxColumnMovingDrag",e.column)("ghostHost",e.grid.outlet.nativeElement)("igxColumnMovingDrop",e.column)("column",e.column),tg("droppable",!0),Ac(2),fg("ngIf",e.grid.allowFiltering&&"quickFilter"===e.grid.filterMode),Ac(),fg("ngIf",!e.column.columnGroup&&e.column.resizable),Ac(),fg("ngIf",e.grid.moving)}}var VW=(()=>{let e=class{get rowEnd(){return this.column.rowEnd}get colEnd(){return this.column.colEnd}get rowStart(){return this.column.rowStart}get colStart(){return this.column.colStart}get headerID(){return`${this.grid.id}_-1_${this.column.level}_${this.column.visibleIndex}`}get active(){let e=this.grid.navigation.activeNode;return!(!e||this.column.columnGroup)&&-1===e.row&&e.column===this.column.visibleIndex&&e.level===this.column.level}get activeGroup(){let e=this.grid.navigation.activeNode;return!!e&&-1===e.row&&e.column===this.column.visibleIndex&&e.level===this.column.level}get width(){return this.grid.getHeaderGroupWidth(this.column)}constructor(e,t,i,n,r,s){this.cdr=e,this.grid=t,this.ref=i,this.colResizingService=n,this.filteringService=r,this.platform=s,this.defaultCss=!0}get pinnedCss(){return this.isPinned}get pinnedLastCss(){return this.isLastPinned}get pinnedFirstCSS(){return this.isFirstPinned}get headerDragCss(){return this.isHeaderDragged}get filteringCss(){return this.isFiltered}get zIndex(){return this.column.pinned?9999-this.grid.pinnedColumns.indexOf(this.column):null}get isFiltered(){return this.filteringService.filteredColumn===this.column}get isLastPinned(){return!this.grid.hasColumnLayouts&&this.column.isLastPinned}get isFirstPinned(){return!this.grid.hasColumnLayouts&&this.column.isFirstPinned}get groupDisplayStyle(){return this.grid.hasColumnLayouts&&this.column.children?"flex":""}get isPinned(){return this.column.pinned}get isHeaderDragged(){return this.grid.columnInDrag===this.column}get hasLastPinnedChildColumn(){return this.column.allChildren.some((e=>e.isLastPinned))}get hasFirstPinnedChildColumn(){return this.column.allChildren.some((e=>e.isFirstPinned))}get selectable(){let e=this.column.allChildren.filter((e=>!e.hidden&&e.selectable&&!e.columnGroup));return this.grid.columnSelection!==fS&&this.column.applySelectableClass&&!this.selected&&e.length>0&&!this.grid.filteringService.isFilterRowVisible}get selected(){return this.column.selected}get height(){return this.nativeElement.getBoundingClientRect().height}get title(){return this.column.title||this.column.header}get nativeElement(){return this.ref.nativeElement}onMouseDown(e){(!this.grid.allowFiltering||e.composedPath().findIndex((e=>"igx-grid-filtering-cell"===e.tagName?.toLowerCase()))<1)&&e.preventDefault()}groupClicked(e){let t=this.column.allChildren.filter((e=>!e.hidden&&e.selectable&&!e.columnGroup)).map((e=>e.field));if(this.grid.columnSelection!==fS&&t.length>0&&!this.grid.filteringService.isFilterRowVisible){let i=this.grid.columnSelection===vS||!e.ctrlKey,n=this.grid.columnSelection===yS&&e.shiftKey;if(this.selected){let r=this.grid.selectionService.getSelectedColumns();r.length===t.length&&r.every((e=>t.includes(e)))||!i?this.grid.selectionService.deselectColumns(t,e):this.grid.selectionService.selectColumns(t,i,n,e)}else this.grid.selectionService.selectColumns(t,i,n,e)}}onPointerDownIndicator(e){e.stopPropagation()}toggleExpandState(e){e.stopPropagation(),this.column.expanded=!this.column.expanded}pointerdown(e){e.stopPropagation(),this.activate(),this.grid.theadRow.nativeElement.focus()}activate(){this.grid.navigation.setActiveNode(this.activeNode),this.grid.theadRow.nativeElement.focus()}ngDoCheck(){this.cdr.markForCheck()}onPinterEnter(){this.column.applySelectableClass=!0}onPointerLeave(){this.column.applySelectableClass=!1}get activeNode(){return{row:-1,column:this.column.visibleIndex,level:this.column.level,mchCache:{level:this.column.level,visibleIndex:this.column.visibleIndex},layout:this.column.columnLayoutChild?{rowStart:this.column.rowStart,colStart:this.column.colStart,rowEnd:this.column.rowEnd,colEnd:this.column.colEnd,columnVisibleIndex:this.column.visibleIndex}:null}}};return e.ɵfac=function(t){return new(t||e)(Oc(Pm),Oc(nO),Oc(Nl),Oc(R$),Oc(j$),Oc(fC))},e.ɵcmp=es({type:e,selectors:[["igx-grid-header-group"]],viewQuery:function(t,i){if(1&t&&(up(W$,5),up(aW,5),up(e,5,e)),2&t){let e;gp(e=pp())&&(i.header=e.first),gp(e=pp())&&(i.filter=e.first),gp(e=pp())&&(i.children=e)}},hostVars:27,hostBindings:function(e,t){1&e&&ep("mousedown",(function(e){return t.onMouseDown(e)})),2&e&&(tg("id",t.headerID),yg("grid-row-end",t.rowEnd)("grid-column-end",t.colEnd)("grid-row-start",t.rowStart)("grid-column-start",t.colStart)("z-index",t.zIndex)("display",t.groupDisplayStyle),xg("igx-grid-th--active",t.active)("igx-grid-thead__item",t.defaultCss)("igx-grid-th--pinned",t.pinnedCss)("igx-grid-th--pinned-last",t.pinnedLastCss)("igx-grid-th--pinned-first",t.pinnedFirstCSS)("igx-grid__drag-col-header",t.headerDragCss)("igx-grid-th--filtering",t.filteringCss))},inputs:{column:"column"},standalone:!0,features:[Pp],decls:7,vars:3,consts:[["defaultColumn",""],["defaultCollapseIndicator",""],[4,"ngIf"],["class","igx-grid-th__drop-indicator-left",4,"ngIf"],[1,"igx-grid-thead__group","igx-grid__mrl-block",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf"],["class","igx-grid-th__drop-indicator-right",4,"ngIf"],[1,"igx-grid-th__drop-indicator-left"],["class","igx-grid-thead__subgroup",3,"ngClass","ngStyle","column",4,"ngIf"],[1,"igx-grid-thead__subgroup",3,"ngClass","ngStyle","column"],[1,"igx-grid-th__drop-indicator-right"],[1,"igx-grid-th__group-title",3,"title"],["family","default",3,"name"],["role","columnheader",1,"igx-grid-thead__title",3,"pointerdown","click","pointerenter","pointerleave","ngClass","igxColumnMovingDrag","ghostHost","igxColumnMovingDrop"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","igx-grid-thead__group",4,"ngIf"],[1,"igx-grid-th__expander",3,"pointerdown","click"],[1,"igx-grid-thead__group"],["class","igx-grid-thead__subgroup",3,"ngClass","ngStyle","column","min-width","flex-basis",4,"ngIf"],["role","columnheader",1,"igx-grid-th--fw",3,"pointerdown","id","ngClass","ngStyle","igxColumnMovingDrag","ghostHost","igxColumnMovingDrop","column"],[3,"column",4,"ngIf"],["class","igx-grid-th__resize-handle",3,"igxResizeHandle","cursor",4,"ngIf"],[3,"column"],[1,"igx-grid-th__resize-handle",3,"igxResizeHandle"]],template:function(e,t){1&e&&Xu(0,yW,5,11,"ng-container",2)(1,xW,2,2,"ng-template",null,0,nm)(3,wW,1,1,"ng-template",null,1,nm)(5,RW,7,24,"ng-container",2)(6,FW,7,16,"ng-container",2),2&e&&(fg("ngIf",t.grid.hasColumnLayouts&&t.column.columnGroup),Ac(5),fg("ngIf",!t.grid.hasColumnLayouts&&t.column.columnGroup),Ac(),fg("ngIf",!t.column.columnGroup))},dependencies:[e,cv,av,vv,lv,u$,dW,FT,yv,W$,aW,lW,E$,T$],encapsulation:2,changeDetection:0}),e})(),MW=["defaultFilterUI"],NW=["defaultDateUI"],LW=["defaultTimeUI"],HW=["defaultDateTimeUI"],zW=["input"],BW=["inputGroupConditions"],GW=["chipsArea"],$W=["inputGroup"],WW=["picker"],KW=["inputGroupPrefix"],jW=["container"],UW=["operand"],qW=["closeButton"],YW=["operators"],XW=e=>({$implicit:e});function ZW(e,t){if(1&e&&(Mg(0,"igx-drop-down-item",24)(1,"div",25),Lg(2,"igx-icon",26),Mg(3,"span",27),fp(4),Ng()()()),2&e){let e=t.$implicit,i=rp();fg("value",e)("selected",i.isConditionSelected(e)),Ac(2),fg("name",i.getCondition(e).iconName),Ac(2),yp(i.translateCondition(e))}}function QW(e,t){if(1&e){let e=Wg();Mg(0,"igx-suffix")(1,"igx-icon",31),ep("keydown",(function(t){return Uo(e),qo(rp(2).onCommitKeyDown(t))}))("click",(function(){return Uo(e),qo(rp(2).onCommitClick())})),Ng(),Mg(2,"igx-icon",32),ep("keydown",(function(t){return Uo(e),qo(rp(2).onClearKeyDown(t))}))("click",(function(){return Uo(e),qo(rp(2).onClearClick())})),Ng()()}}function JW(e,t){if(1&e){let e=Wg();Mg(0,"igx-input-group",28,8),ep("focusout",(function(){return Uo(e),qo(rp().onInputGroupFocusout())})),Mg(2,"igx-prefix",29,9),ep("click",(function(t){return Uo(e),qo(rp().inputGroupPrefixClick(t))}))("keydown",(function(t){return Uo(e),qo(rp().onPrefixKeyDown(t))})),Lg(4,"igx-icon",26),Ng(),Mg(5,"input",30,10),ep("input",(function(t){return Uo(e),qo(rp().onInput(t))}))("click",(function(){return Uo(e),qo(rp().onInputClick())}))("compositionstart",(function(){return Uo(e),qo(rp().onCompositionStart())}))("compositionend",(function(){return Uo(e),qo(rp().onCompositionEnd())}))("keydown",(function(t){return Uo(e),qo(rp().onInputKeyDown(t))}))("keyup",(function(){return Uo(e),qo(rp().onInputKeyUp())})),Ng(),Xu(7,QW,3,0,"igx-suffix",23),Ng()}if(2&e){let e=rp(),t=mp(1);yg("--ig-size",e.filteringElementsSize),Ac(2),fg("igxDropDownItemNavigation",t),Ac(2),fg("name",e.getIconName()),Ac(),fg("placeholder",e.placeholder)("value",e.value)("type",e.type)("readonly",e.isUnaryCondition),Ac(2),fg("ngIf",e.value||0===e.value)}}function eK(e,t){if(1&e){let e=Wg();Mg(0,"igx-suffix")(1,"igx-icon",31),ep("keydown",(function(t){return Uo(e),qo(rp(2).onCommitKeyDown(t))}))("click",(function(t){return Uo(e),qo(rp(2).onCommitClick(t))})),Ng(),Mg(2,"igx-icon",32),ep("keydown",(function(t){return Uo(e),qo(rp(2).onClearKeyDown(t))}))("click",(function(t){return Uo(e),qo(rp(2).clearInput(t))})),Ng()()}}function tK(e,t){if(1&e){let e=Wg();Mg(0,"igx-date-picker",33,11),Sp("valueChange",(function(t){Uo(e);let i=rp();return Cp(i.value,t)||(i.value=t),qo(t)})),ep("click",(function(){Uo(e);let t=mp(1);return qo(rp().expression.condition.isUnary?null:t.open())}))("keydown",(function(t){return Uo(e),qo(rp().onInputKeyDown(t))}))("focusout",(function(){return Uo(e),qo(rp().onInputGroupFocusout())}))("closed",(function(){return Uo(e),qo(rp().focusEditElement())})),Mg(2,"igx-prefix",29,9),ep("click",(function(t){return Uo(e),qo(rp().inputGroupPrefixClick(t))}))("keydown",(function(t){return Uo(e),qo(rp().onPrefixKeyDown(t))})),Lg(4,"igx-icon",26),Ng(),Xu(5,eK,3,0,"igx-suffix",23),Lg(6,"igx-picker-toggle")(7,"igx-picker-clear"),Ng()}if(2&e){let e=rp(),t=mp(1);_p("value",e.value),fg("readOnly",!0)("outlet",e.filteringService.grid.outlet)("locale",e.filteringService.grid.locale)("displayFormat",e.column.pipeArgs.format)("formatter",e.column.formatter)("placeholder",e.placeholder)("weekStart",e.column.pipeArgs.weekStart),Ac(2),fg("igxDropDownItemNavigation",t),Ac(2),fg("name",e.expression.condition.iconName),Ac(),fg("ngIf",e.value)}}function iK(e,t){if(1&e){let e=Wg();Mg(0,"igx-suffix")(1,"igx-icon",31),ep("keydown",(function(t){return Uo(e),qo(rp(2).onCommitKeyDown(t))}))("click",(function(t){return Uo(e),qo(rp(2).onCommitClick(t))})),Ng(),Mg(2,"igx-icon",32),ep("keydown",(function(t){return Uo(e),qo(rp(2).onClearKeyDown(t))}))("click",(function(t){return Uo(e),qo(rp(2).clearInput(t))})),Ng()()}}function nK(e,t){if(1&e){let e=Wg();Mg(0,"igx-time-picker",34,11),Sp("valueChange",(function(t){Uo(e);let i=rp();return Cp(i.value,t)||(i.value=t),qo(t)})),ep("closed",(function(){return Uo(e),qo(rp().focusEditElement())}))("focusout",(function(){return Uo(e),qo(rp().onInputGroupFocusout())}))("keydown",(function(t){return Uo(e),qo(rp().onInputKeyDown(t))}))("click",(function(){Uo(e);let t=mp(1);return qo(rp().expression.condition.isUnary?null:t.open())})),Mg(2,"igx-prefix",29,9),ep("click",(function(t){return Uo(e),qo(rp().inputGroupPrefixClick(t))}))("keydown",(function(t){return Uo(e),qo(rp().onPrefixKeyDown(t))})),Lg(4,"igx-icon",26),Ng(),Xu(5,iK,3,0,"igx-suffix",23),Lg(6,"igx-picker-toggle")(7,"igx-picker-clear"),Ng()}if(2&e){let e=rp(),t=mp(1);yg("--ig-size",e.filteringElementsSize),_p("value",e.value),fg("inputFormat",e.column.defaultTimeFormat)("locale",e.filteringService.grid.locale)("formatter",e.column.formatter)("outlet",e.filteringService.grid.outlet)("readOnly",!0)("placeholder",e.placeholder),Ac(2),fg("igxDropDownItemNavigation",t),Ac(2),fg("name",e.expression.condition.iconName),Ac(),fg("ngIf",e.value)}}function rK(e,t){if(1&e){let e=Wg();Mg(0,"igx-suffix")(1,"igx-icon",31),ep("keydown",(function(t){return Uo(e),qo(rp(2).onCommitKeyDown(t))}))("click",(function(){return Uo(e),qo(rp(2).onCommitClick())})),Ng(),Mg(2,"igx-icon",32),ep("keydown",(function(t){return Uo(e),qo(rp(2).onClearKeyDown(t))}))("click",(function(){return Uo(e),qo(rp(2).onClearClick())})),Ng()()}}function sK(e,t){if(1&e){let e=Wg();Mg(0,"igx-input-group",28,8),ep("focusout",(function(){return Uo(e),qo(rp().onInputGroupFocusout())})),Mg(2,"igx-prefix",29,9),ep("click",(function(t){return Uo(e),qo(rp().inputGroupPrefixClick(t))}))("keydown",(function(t){return Uo(e),qo(rp().onPrefixKeyDown(t))})),Lg(4,"igx-icon",26),Ng(),Mg(5,"input",35,10),ep("valueChange",(function(t){return Uo(e),qo(rp().onInput(t))}))("click",(function(){return Uo(e),qo(rp().onInputClick())}))("keydown",(function(t){return Uo(e),qo(rp().onInputKeyDown(t))}))("keyup",(function(){return Uo(e),qo(rp().onInputKeyUp())})),Ng(),Xu(7,rK,3,0,"igx-suffix",23),Ng()}if(2&e){let e=rp(),t=mp(1);yg("--ig-size",e.filteringElementsSize),Ac(2),fg("igxDropDownItemNavigation",t),Ac(2),fg("name",e.getIconName()),Ac(),fg("placeholder",e.placeholder)("igxDateTimeEditor",e.column.defaultDateTimeFormat)("value",e.value)("readonly",e.isUnaryCondition),Ac(2),fg("ngIf",e.value||0===e.value)}}function oK(e,t){1&e&&Gg(0)}function aK(e,t){if(1&e){let e=Wg();Mg(0,"button",36),ep("keydown",(function(t){return Uo(e),qo(rp().onLeftArrowKeyDown(t))}))("click",(function(){return Uo(e),qo(rp().scrollChipsOnArrowPress("left"))})),Lg(1,"igx-icon",37),Ng()}}function lK(e,t){if(1&e){let e=Wg();Mg(0,"span",42)(1,"button",43),ep("click",(function(t){Uo(e);let i=rp().index;return qo(rp().toggleOperatorsDropDown(t,i))})),Lg(2,"igx-icon",44),Mg(3,"span"),fp(4),Ng()(),Mg(5,"igx-drop-down",45,13),ep("selectionChanging",(function(t){Uo(e);let i=rp().$implicit;return qo(rp().onLogicOperatorChanged(t,i))})),Mg(7,"igx-drop-down-item",24),fp(8),Ng(),Mg(9,"igx-drop-down-item",24),fp(10),Ng()()()}if(2&e){let e=mp(6),t=rp().$implicit,i=rp();Ac(),yg("--ig-size",i.filteringElementsSize),fg("igxDropDownItemNavigation",e),Ac(3),yp(i.filteringService.getOperatorAsString(t.afterOperator)),Ac(3),fg("value",0)("selected",0===t.afterOperator),Ac(),yp(i.filteringService.grid.resourceStrings.igx_grid_filter_operator_and),Ac(),fg("value",1)("selected",1===t.afterOperator),Ac(),yp(i.filteringService.grid.resourceStrings.igx_grid_filter_operator_or)}}function dK(e,t){if(1&e){let e=Wg();zg(0,38),Mg(1,"igx-chip",39,12),ep("pointerdown",(function(t){Uo(e);let i=mp(2);return qo(rp().onChipPointerdown(t,i))}))("click",(function(t){let i=Uo(e).$implicit;return qo(rp().onChipClick(t,i))}))("keydown",(function(t){let i=Uo(e).$implicit;return qo(rp().onChipKeyDown(t,i))}))("remove",(function(t){let i=Uo(e).$implicit;return qo(rp().onChipRemoved(t,i))})),Lg(3,"igx-icon",40),Mg(4,"span"),fp(5),Ng()(),Xu(6,lK,11,10,"span",41),Bg()}if(2&e){let e=t.$implicit,i=t.last,n=rp();Ac(),yg("--ig-size",n.filteringElementsSize),fg("selectable",!1)("selected",e.isSelected)("removable",!0),Ac(2),fg("name",e.expression.condition.iconName),Ac(2),yp(n.filteringService.getChipLabel(e.expression)),Ac(),fg("ngIf",!i)}}function cK(e,t){if(1&e){let e=Wg();Mg(0,"button",46),ep("click",(function(){return Uo(e),qo(rp().scrollChipsOnArrowPress("right"))})),Lg(1,"igx-icon",47),Ng()}}function hK(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"button",48),ep("click",(function(){return Uo(e),qo(rp().clearFiltering())})),Lg(2,"igx-icon",49),Mg(3,"span"),fp(4),Ng()(),Mg(5,"button",50,14),ep("click",(function(){return Uo(e),qo(rp().close())})),Lg(7,"igx-icon",51),Mg(8,"span"),fp(9),Ng()(),Bg()}if(2&e){let e=rp();Ac(),yg("--ig-size",e.filteringElementsSize),fg("disabled",e.disabled)("tabindex",e.disabled),Ac(3),yp(e.filteringService.grid.resourceStrings.igx_grid_filter_row_reset),Ac(),yg("--ig-size",e.filteringElementsSize),Ac(4),yp(e.filteringService.grid.resourceStrings.igx_grid_filter_row_close)}}function uK(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"button",52),ep("click",(function(){return Uo(e),qo(rp().clearFiltering())})),Lg(2,"igx-icon",49),Ng(),Mg(3,"button",53,14),ep("click",(function(){return Uo(e),qo(rp().close())})),Lg(5,"igx-icon",51),Ng(),Bg()}if(2&e){let e=rp();Ac(),yg("--ig-size",e.filteringElementsSize),fg("disabled",e.disabled)("tabindex",e.disabled),Ac(2),yg("--ig-size",e.filteringElementsSize)}}var gK=(()=>{let e=class{get column(){return this._column}set column(e){this._column&&this.expressionsList.forEach((e=>e.isSelected=!1)),e&&(this._column=e,this.expressionsList=this.filteringService.getExpressions(this._column.field),this.resetExpression(),this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset))}get value(){return this._value}set value(e){if(e||0===e||!this.expression.searchVal&&0!==this.expression.searchVal){if(""===e)return;let t=this.expression.searchVal;if(mC(t,e))return;this._value=e,this.expression.searchVal=JC.parseValue(this.column.dataType,e),void 0===this.expressionsList.find((e=>e.expression===this.expression))&&this.addExpression(!0),this.filter()}else if(this.expression.searchVal=null,this._value=null,0===this.expressionsList.findIndex((e=>e.expression===this.expression))&&1===this.expressionsList.length)return this.filteringService.clearFilter(this.column.field),void(this.expression.condition.isUnary&&this.resetExpression(this.expression.condition.name))}get filteringElementsSize(){return this.column.grid.gridSize===ES?IS:this.column.grid.gridSize}get nativeElement(){return this.ref.nativeElement}constructor(e,t,i,n){this.filteringService=e,this.ref=t,this.cdr=i,this.platform=n,this.defaultCSSClass=!0,this._positionSettings={horizontalStartPoint:OE.Left,verticalStartPoint:PE.Bottom},this._conditionsOverlaySettings={closeOnOutsideClick:!0,modal:!1,scrollStrategy:new XE,positionStrategy:new zE(this._positionSettings)},this._operatorsOverlaySettings={closeOnOutsideClick:!0,modal:!1,scrollStrategy:new XE,positionStrategy:new zE(this._positionSettings)},this.chipAreaScrollOffset=0,this._column=null,this.isKeyPressed=!1,this.isComposing=!1,this._cancelChipClick=!1,this._value=null,this.NARROW_WIDTH_THRESHOLD=432,this.$destroyer=new ei}onKeydownHandler(e){this.platform.isFilteringKeyCombo(e)&&(e.preventDefault(),e.stopPropagation(),this.close())}ngAfterViewInit(){this._conditionsOverlaySettings.outlet=this.column.grid.outlet,this._operatorsOverlaySettings.outlet=this.column.grid.outlet;let e=this.expressionsList.find((e=>!0===e.isSelected));e&&(this.expression=e.expression,this._value=this.expression.searchVal),this.filteringService.grid.localeChange.pipe(mn(this.$destroyer)).subscribe((()=>{this.cdr.markForCheck()})),requestAnimationFrame((()=>this.focusEditElement()))}get disabled(){return!(this.column.filteringExpressionsTree&&this.column.filteringExpressionsTree.filteringOperands.length>0)}get template(){return this.column.dataType===QC.Date?this.defaultDateUI:this.column.dataType===QC.Time?this.defaultTimeUI:this.column.dataType===QC.DateTime?this.defaultDateTimeUI:this.defaultFilterUI}get type(){switch(this.column.dataType){case QC.String:case QC.Boolean:return"text";case QC.Number:case QC.Currency:return"number"}}get conditions(){return this.column.filters.conditionList()}get isUnaryCondition(){return!this.expression.condition||this.expression.condition.isUnary}get placeholder(){return this.expression.condition&&this.expression.condition.isUnary?this.filteringService.getChipLabel(this.expression):this.column.dataType===QC.Date?this.filteringService.grid.resourceStrings.igx_grid_filter_row_date_placeholder:this.column.dataType===QC.Boolean?this.filteringService.grid.resourceStrings.igx_grid_filter_row_boolean_placeholder:this.filteringService.grid.resourceStrings.igx_grid_filter_row_placeholder}onPrefixKeyDown(e){this.platform.isActivationKey(e)&&this.dropDownConditions.collapsed?(this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement),e.stopImmediatePropagation()):e.key===this.platform.KEYMAP.TAB&&!this.dropDownConditions.collapsed&&this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement)}onInputKeyDown(e){if(this.isKeyPressed=!0,e.stopPropagation(),this.column.dataType===QC.Boolean&&this.platform.isActivationKey(e))return this.inputGroupPrefix.nativeElement.focus(),void this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement);if(e.key===this.platform.KEYMAP.ENTER){if(this.isComposing)return;this.commitInput()}else e.altKey&&e.key===this.platform.KEYMAP.ARROW_DOWN?(this.inputGroupPrefix.nativeElement.focus(),this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement)):this.platform.isFilteringKeyCombo(e)&&(e.preventDefault(),this.close())}onInputKeyUp(){this.isKeyPressed=!1}onInput(e){if(!e)return;let t=e.target;this.column.dataType!==QC.DateTime?(this.platform.isEdge&&"number"!==t.type||this.isKeyPressed||t.value||t.checkValidity())&&(this.value=t.value):this.value=e}onCompositionStart(){this.isComposing=!0}onCompositionEnd(){this.isComposing=!1}onInputClick(){this.column.dataType===QC.Boolean&&this.dropDownConditions.collapsed&&(this.inputGroupPrefix.nativeElement.focus(),this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement))}getCondition(e){return this.column.filters.condition(e)}translateCondition(e){return this.filteringService.grid.resourceStrings[`igx_grid_filter_${this.getCondition(e).name}`]||e}getIconName(){return this.column.dataType===QC.Boolean&&null===this.expression.condition?this.getCondition(this.conditions[0]).iconName:this.expression.condition.iconName}isConditionSelected(e){return!!this.expression.condition&&this.expression.condition.name===e}clearFiltering(){this.filteringService.clearFilter(this.column.field),this.resetExpression(),this.input&&this.input.nativeElement.focus(),this.cdr.detectChanges(),this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset)}commitInput(){this.expressionsList.filter((e=>!0===e.isSelected)).forEach((e=>e.isSelected=!1));let e=-1;for(let t=0;t<this.expressionsList.length;t++){let i=this.expressionsList[t].expression;null===i.searchVal&&!i.condition.isUnary&&(e=t)}-1!==e&&this.removeExpression(e,this.expression),this.resetExpression(),this._value=this.expression.searchVal,this.scrollChipsWhenAddingExpression()}clearInput(e){e?.stopPropagation(),this.value=null}onClearKeyDown(e){this.platform.isActivationKey(e)&&(e.preventDefault(),this.clearInput(),this.focusEditElement())}onClearClick(){this.clearInput(),this.focusEditElement()}onCommitKeyDown(e){this.platform.isActivationKey(e)&&(e.preventDefault(),this.commitInput(),this.focusEditElement())}onCommitClick(e){e?.stopPropagation(),this.commitInput(),this.focusEditElement()}onInputGroupFocusout(){!this.value&&0!==this.value&&this.expression.condition&&!this.expression.condition.isUnary||requestAnimationFrame((()=>{let e=document.activeElement;e.classList.contains("igx-chip__remove")||"IGX-DAY-ITEM"===e.tagName||(!e||!this.editorsContain(e))&&this.dropDownConditions.collapsed&&this.commitInput()}))}close(){if(1===this.expressionsList.length&&null===this.expressionsList[0].expression.searchVal&&!1===this.expressionsList[0].expression.condition.isUnary)this.filteringService.getExpressions(this.column.field).pop(),this.filter();else{let e=this.expressionsList.filter((e=>null===e.expression.searchVal&&!e.expression.condition.isUnary));e&&e.length>0&&(e.forEach((e=>this.filteringService.removeExpression(this.column.field,this.expressionsList.indexOf(e)))),this.filter())}this.filteringService.isFilterRowVisible=!1,this.filteringService.updateFilteringCell(this.column),this.filteringService.filteredColumn=null,this.filteringService.selectedExpression=null,this.filteringService.grid.theadRow.nativeElement.focus(),this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset)}onDateSelected(e){this.value=e}inputGroupPrefixClick(e){e.stopPropagation(),e.currentTarget.focus(),this.toggleConditionsDropDown(e.currentTarget)}toggleConditionsDropDown(e){this._conditionsOverlaySettings.target=e,this._conditionsOverlaySettings.excludeFromOutsideClick=[e],this.dropDownConditions.toggle(this._conditionsOverlaySettings)}toggleOperatorsDropDown(e,t){this._operatorsOverlaySettings.target=e.target.parentElement,this._operatorsOverlaySettings.excludeFromOutsideClick=[e.target.parentElement],this.dropDownOperators.toArray()[t].toggle(this._operatorsOverlaySettings)}onConditionsChanged(e){let t=e.newSelection.value;this.expression.condition=this.getCondition(t),this.expression.condition.isUnary?requestAnimationFrame((()=>this.unaryConditionChangedCallback())):requestAnimationFrame((()=>this.conditionChangedCallback())),requestAnimationFrame((()=>this.focusEditElement()))}onChipPointerdown(e,t){let i=document.activeElement;this._cancelChipClick=t.selected&&i&&this.editorsContain(i)}onChipClick(e,t){this._cancelChipClick?this._cancelChipClick=!1:(this.expressionsList.forEach((e=>e.isSelected=!1)),this.toggleChip(t))}toggleChip(e){e.isSelected=!e.isSelected,e.isSelected&&(this.expression=e.expression,this._value=this.expression.searchVal,this.focusEditElement())}onChipKeyDown(e,t){e.key===this.platform.KEYMAP.ENTER&&(e.preventDefault(),this.toggleChip(t))}onLeftArrowKeyDown(e){e.key===this.platform.KEYMAP.TAB&&(this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset))}onChipRemoved(e,t){let i=this.expressionsList.indexOf(t);this.removeExpression(i,t.expression),this.scrollChipsOnRemove()}onLogicOperatorChanged(e,t){e.oldSelection&&(t.afterOperator=e.newSelection.value,this.expressionsList[this.expressionsList.indexOf(t)+1].beforeOperator=t.afterOperator,requestAnimationFrame((()=>this.filter())))}scrollChipsOnArrowPress(e){let t=0,i=this.chipsArea.element.nativeElement.children,n=this.container.nativeElement.getBoundingClientRect();if("right"===e){for(let e of i)Math.ceil(e.getBoundingClientRect().right)<Math.ceil(n.right)&&t++;t<i.length&&(this.chipAreaScrollOffset-=Math.ceil(i[t].getBoundingClientRect().right)-Math.ceil(n.right)+1,this.transform(this.chipAreaScrollOffset))}if("left"===e){for(let e of i)Math.ceil(e.getBoundingClientRect().left)<Math.ceil(n.left)&&t++;t>0&&(this.chipAreaScrollOffset+=Math.ceil(n.left)-Math.ceil(i[t-1].getBoundingClientRect().left)+1,this.transform(this.chipAreaScrollOffset))}}resetChipsArea(){this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset),this.showHideArrowButtons()}focusEditElement(){this.input?this.input.nativeElement.focus():this.picker&&this.picker.getEditElement().focus()}ngOnDestroy(){this.$destroyer.next()}showHideArrowButtons(){requestAnimationFrame((()=>{if(this.filteringService.isFilterRowVisible){let e=this.container.nativeElement.getBoundingClientRect().width;this.chipsAreaWidth=this.chipsArea.element.nativeElement.getBoundingClientRect().width,this.showArrows=this.chipsAreaWidth>=e&&this.isColumnFiltered,this.cdr.destroyed||this.cdr.detectChanges()}}))}addExpression(e){let t=new VH;t.expression=this.expression,t.beforeOperator=this.expressionsList.length>0?nS.And:null,t.isSelected=e,this.expressionsList.push(t);let i=this.expressionsList.length;this.expressionsList[i-2]&&(this.expressionsList[i-2].afterOperator=this.expressionsList[i-1].beforeOperator),this.showHideArrowButtons()}removeExpression(e,t){0!==e||1!==this.expressionsList.length?(this.filteringService.removeExpression(this.column.field,e),this.filter(),this.expression===t&&this.resetExpression(),this.showHideArrowButtons()):this.clearFiltering()}resetExpression(e){this.expression={fieldName:this.column.field,condition:null,searchVal:null,ignoreCase:this.column.filteringIgnoreCase},this.column.dataType!==QC.Boolean&&(this.expression.condition=this.getCondition(e??this.conditions[0])),this.column.dataType===QC.Date&&this.input&&(this.input.nativeElement.value=null),this.showHideArrowButtons()}scrollChipsWhenAddingExpression(){let e=this.chipsArea.element.nativeElement.children;if(!e||0===e.length)return;let t=this.container.nativeElement.offsetWidth,i=this.chipsArea.element.nativeElement.offsetWidth;i>t&&(this.chipAreaScrollOffset=t-i,this.transform(this.chipAreaScrollOffset))}transform(e){requestAnimationFrame((()=>{this.chipsArea.element.nativeElement.style.transform=`translate(${e}px)`}))}scrollChipsOnRemove(){let e=0,t=this.chipsArea.element.nativeElement.children,i=this.container.nativeElement.getBoundingClientRect();for(let n of t)Math.ceil(n.getBoundingClientRect().right)<Math.ceil(i.left)&&e++;if(e<=2)this.chipAreaScrollOffset=0;else{let n="chip"===t[e].id?e-2:e-1;this.chipAreaScrollOffset+=Math.ceil(i.left)-Math.ceil(t[n].getBoundingClientRect().left)+1}this.transform(this.chipAreaScrollOffset)}conditionChangedCallback(){this.expression.searchVal||0===this.expression.searchVal?this.filter():this.value&&(this.value=null)}unaryConditionChangedCallback(){this.value&&(this.value=null),void 0===this.expressionsList.find((e=>e.expression===this.expression))&&this.addExpression(!0),this.filter()}filter(){this.filteringService.filterInternal(this.column.field)}editorsContain(e){return!!(this.inputGroup&&this.inputGroup.nativeElement.contains(e)||this.picker&&this.picker.element.nativeElement.contains(e))}get isColumnFiltered(){return this.column.filteringExpressionsTree&&this.column.filteringExpressionsTree.filteringOperands.length>0}get isNarrowWidth(){return this.nativeElement.offsetWidth<this.NARROW_WIDTH_THRESHOLD}};return e.ɵfac=function(t){return new(t||e)(Oc(j$),Oc(Nl),Oc(Pm),Oc(fC))},e.ɵcmp=es({type:e,selectors:[["igx-grid-filtering-row"]],viewQuery:function(e,t){if(1&e&&(up(MW,7,Oh),up(NW,7,Oh),up(LW,7,Oh),up(HW,7,Oh),up(zW,5,Nl),up(BW,7,Hk),up(GW,7,WV),up($W,5,Nl),up(WW,5),up(KW,5,Nl),up(jW,7),up(UW,5),up(qW,7),up(YW,5,Hk)),2&e){let e;gp(e=pp())&&(t.defaultFilterUI=e.first),gp(e=pp())&&(t.defaultDateUI=e.first),gp(e=pp())&&(t.defaultTimeUI=e.first),gp(e=pp())&&(t.defaultDateTimeUI=e.first),gp(e=pp())&&(t.input=e.first),gp(e=pp())&&(t.dropDownConditions=e.first),gp(e=pp())&&(t.chipsArea=e.first),gp(e=pp())&&(t.inputGroup=e.first),gp(e=pp())&&(t.picker=e.first),gp(e=pp())&&(t.inputGroupPrefix=e.first),gp(e=pp())&&(t.container=e.first),gp(e=pp())&&(t.operand=e.first),gp(e=pp())&&(t.closeButton=e.first),gp(e=pp())&&(t.dropDownOperators=e)}},hostVars:2,hostBindings:function(e,t){1&e&&ep("keydown",(function(e){return t.onKeydownHandler(e)})),2&e&&xg("igx-grid__filtering-row",t.defaultCSSClass)},inputs:{column:"column",value:"value"},standalone:!0,features:[Pp],decls:24,vars:14,consts:[["inputGroupConditions",""],["defaultFilterUI",""],["defaultDateUI",""],["defaultTimeUI",""],["defaultDateTimeUI",""],["container",""],["chipsArea",""],["buttonsContainer",""],["inputGroup",""],["inputGroupPrefix",""],["input",""],["picker",""],["chip",""],["operators",""],["closeButton",""],[3,"selectionChanging","height"],[3,"value","selected",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["igxIconButton","flat","type","button","class","igx-grid__filtering-row-scroll-start",3,"keydown","click",4,"ngIf"],[1,"igx-grid__filtering-row-main"],["tabindex","0",4,"ngFor","ngForOf"],["igxIconButton","flat","type","button","class","igx-grid__filtering-row-scroll-end",3,"click",4,"ngIf"],[3,"ngClass"],[4,"ngIf"],[3,"value","selected"],[1,"igx-grid__filtering-dropdown-items"],["family","default",3,"name"],[1,"igx-grid__filtering-dropdown-text"],["type","box",3,"focusout"],["tabindex","0",3,"click","keydown","igxDropDownItemNavigation"],["igxInput","","tabindex","0","autocomplete","off",3,"input","click","compositionstart","compositionend","keydown","keyup","placeholder","value","type","readonly"],["tabindex","0","family","default","name","confirm",3,"keydown","click"],["tabindex","0","family","default","name","input_clear",3,"keydown","click"],["type","box",3,"valueChange","click","keydown","focusout","closed","value","readOnly","outlet","locale","displayFormat","formatter","placeholder","weekStart"],["type","box",3,"valueChange","closed","focusout","keydown","click","value","inputFormat","locale","formatter","outlet","readOnly","placeholder"],["igxInput","","tabindex","0",3,"valueChange","click","keydown","keyup","placeholder","igxDateTimeEditor","value","readonly"],["igxIconButton","flat","type","button",1,"igx-grid__filtering-row-scroll-start",3,"keydown","click"],["family","default","name","prev"],["tabindex","0"],["id","chip",3,"pointerdown","click","keydown","remove","selectable","selected","removable"],["igxPrefix","","family","default",3,"name"],["id","operand",4,"ngIf"],["id","operand"],["igxButton","","type","button",3,"click","igxDropDownItemNavigation"],["family","default","name","expand_more"],[3,"selectionChanging"],["igxIconButton","flat","type","button",1,"igx-grid__filtering-row-scroll-end",3,"click"],["family","default","name","next"],["igxButton","flat","type","button","igxRipple","",3,"click","disabled","tabindex"],["family","default","name","refresh"],["igxButton","flat","type","button","igxRipple","",3,"click"],["family","default","name","close"],["igxIconButton","flat","type","button","igxRipple","",3,"click","disabled","tabindex"],["igxIconButton","flat","type","button","igxRipple","",3,"click"]],template:function(e,t){if(1&e){let e=Wg();Mg(0,"igx-drop-down",15,0),ep("selectionChanging",(function(i){return Uo(e),qo(t.onConditionsChanged(i))})),Xu(2,ZW,5,4,"igx-drop-down-item",16),Ng(),Xu(3,JW,8,9,"ng-template",null,1,nm)(5,tK,8,11,"ng-template",null,2,nm)(7,nK,8,12,"ng-template",null,3,nm)(9,sK,8,9,"ng-template",null,4,nm)(11,oK,1,0,"ng-container",17)(12,aK,2,0,"button",18),Mg(13,"div",19,5)(15,"div")(16,"igx-chips-area",null,6),Xu(18,dK,7,8,"ng-container",20),Ng()()(),Xu(19,cK,2,0,"button",21),Mg(20,"div",22,7),Xu(22,hK,10,8,"ng-container",23)(23,uK,6,6,"ng-container",23),Ng()}2&e&&(yg("--ig-size",t.filteringElementsSize),fg("height","200px"),Ac(2),fg("ngForOf",t.conditions),Ac(9),fg("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Vp(12,XW,t)),Ac(),fg("ngIf",t.showArrows),Ac(6),fg("ngForOf",t.expressionsList),Ac(),fg("ngIf",t.showArrows),Ac(),fg("ngClass",t.isNarrowWidth?"igx-grid__filtering-row-editing-buttons--small":"igx-grid__filtering-row-editing-buttons"),Ac(2),fg("ngIf",!t.isNarrowWidth),Ac(),fg("ngIf",t.isNarrowWidth))},dependencies:[lv,Hk,Pk,WV,GV,FT,PR,vT,lT,pT,cv,yT,mM,jV,UV,QN,$A,yv,ST,av,vA,cA],encapsulation:2,changeDetection:0}),e})(),pK=class{get viewIndex(){return this.index+this.grid.page*this.grid.perPage}get key(){let e=this._data??this.grid.dataView[this.index],t=this.grid.primaryKey;return t?e[t]:e}get addRowUI(){return!!this.grid.crudService.row&&this.grid.crudService.row.getClassName()===Zk.name&&this.grid.crudService.row.id===this.key}get validation(){let e=this.grid.validation.getFormGroup(this.key);return{status:e?.status||"VALID",errors:e?.errors}}get data(){return this.inEditMode?tC(this.grid.dataCloneStrategy.clone(this._data??this.grid.dataView[this.index]),this.grid.transactions.getAggregatedValue(this.key,!1),((e,t)=>{if(Array.isArray(t))return t})):this._data??this.grid.dataView[this.index]}get inEditMode(){if(this.grid.rowEditable){let e=this.grid.crudService.row;return e&&e.id===this.key||!1}return!1}get pinned(){return this.grid.isRecordPinned(this.data)}set pinned(e){e?this.pin():this.unpin()}get expanded(){return this.grid.gridAPI.get_row_expansion_state(this.data)}set expanded(e){this.grid.gridAPI.set_row_expansion_state(this.key,e)}get selected(){return this.grid.selectionService.isRowSelected(this.key)}set selected(e){e?this.grid.selectionService.selectRowsWithNoEvent([this.key]):this.grid.selectionService.deselectRowsWithNoEvent([this.key]),this.grid.cdr.markForCheck()}get deleted(){return this.grid.gridAPI.row_deleted_transaction(this.key)}get hasChildren(){return!1}get disabled(){return this.grid.isGhostRecord(this.data)}get cells(){let e=[];return this.grid.columns.forEach((t=>{let i=new HM(this.grid,this.index,t);e.push(i)})),e}pin(){return this.grid.pinRow(this.key,this.index)}unpin(){return this.grid.unpinRow(this.key)}update(e){let t=this.grid.crudService;t.cellInEditMode&&t.cell.id.rowID===this.key&&this.grid.transactions.endPending(!1);let i=new Xk(this.key,this.index,this.data,this.grid);this.grid.gridAPI.update_row(i,e),this.grid.notifyChanges()}delete(){this.grid.deleteRowById(this.key)}},mK=class extends pK{constructor(e,t,i){super(),this.grid=e,this.index=t,this._data=i&&i.addRow&&i.recordRef?i.recordRef:i}get viewIndex(){if(this.grid.paginator){let e=[],t=[],i=this.grid.dataView[0],n=this.grid.expansionStates.size,r=this.grid.groupingExpressions.length,s=0,o=this.grid.groupingFlatResult.indexOf(i);return(n||r)&&this.grid.groupingFlatResult.forEach(((i,n)=>{let s=this.grid.primaryKey?i[this.grid.primaryKey]:i;r&&n<o&&this.grid.isGroupByRecord(i)&&t.push(i),this.grid.expansionStates.get(s)&&n<o&&!this.grid.isGroupByRecord(i)&&e.push(i)})),this.grid.summaryCalculationMode!==gS&&(s=t.filter((e=>this.grid.isExpandedGroup(e))).length,this.grid.summaryPosition===uS&&t.length&&t[t.length-1].records.indexOf(i)>-1&&(s+=-1)),e.length+s+o+this.index}return this.index}get parent(){let e;if(!this.grid.groupingExpressions.length)return;let t=this.index-1;for(;t>=0&&!e;){let i=this.grid.dataView[t];this.grid.isGroupByRecord(i)&&(e=new yK(this.grid,t,i)),t--}return e}},fK=class e extends pK{constructor(e,t,i,n){super(),this.grid=e,this.index=t,this._treeRow=n,this._data=i&&i.addRow&&i.recordRef?i.recordRef:i}get viewIndex(){return this.grid.hasSummarizedColumns&&this.grid.page>0&&this.grid.summaryCalculationMode!==gS?this.grid.processedExpandedFlatData.indexOf(this.grid.dataView[0].data)+(this.grid.summaryPosition===uS?this.grid.rootRecords.indexOf(this.getRootParent(this.grid.dataView[0])):this.grid.rootRecords.indexOf(this.getRootParent(this.grid.dataView[0]))+1)+this.index:this.index+this.grid.page*this.grid.perPage}get data(){if(this.inEditMode)return tC(this.grid.dataCloneStrategy.clone(this._data??this.grid.dataView[this.index]),this.grid.transactions.getAggregatedValue(this.key,!1),((e,t)=>{if(Array.isArray(t))return t}));let e=this.grid.dataView[this.index];return this._data?this._data:this.grid.isTreeRow(e)?e.data:e}get children(){let t=[];return this.treeRow.expanded&&this.treeRow.children.forEach(((i,n)=>{let r=new e(this.grid,this.index+1+n,i.data);t.push(r)})),t}get parent(){return this.grid.getRowByKey(this.treeRow.parent?.key)}get hasChildren(){return!!this.treeRow.children&&this.treeRow.children.length>0}get treeRow(){return this._treeRow??this.grid.records.get(this.key)}get pinned(){return this.grid.isRecordPinned(this)}set pinned(e){e?this.pin():this.unpin()}get expanded(){return this.grid.gridAPI.get_row_expansion_state(this.treeRow)}set expanded(e){this.grid.gridAPI.set_row_expansion_state(this.key,e)}get disabled(){return!!this.grid.isGhostRecord(this.data)&&void 0===this.treeRow.isFilteredOutParent}getRootParent(e){for(;e.parent;)e=e.parent;return e}},vK=class extends pK{constructor(e,t,i){super(),this.grid=e,this.index=t,this._data=i&&i.addRow&&i.recordRef?i.recordRef:i}get hasChildren(){return!!this.grid.childLayoutKeys.length}get viewIndex(){let e=this.grid.filteredSortedData.indexOf(this.grid.dataView[0]),t=this.grid.filteredSortedData.filter(((t,i)=>{let n=this.grid.primaryKey?t[this.grid.primaryKey]:t;return this.grid.expansionStates.get(n)&&i<e}));return e+t.length+this.index}get cells(){let e=[];return this.grid.columns.forEach((t=>{let i=new HM(this.grid,this.index,t);e.push(i)})),e}},yK=class{get groupRow(){return this._groupRow?this._groupRow:this.grid.dataView[this.index]}get children(){let e=[];return this.groupRow.records.forEach(((t,i)=>{let n=new mK(this.grid,this.index+1+i,t);e.push(n)})),e}get viewIndex(){if(this.grid.page){let e=[],t=[],i=this.grid.dataView[0],n=this.grid.expansionStates.size,r=this.grid.groupingExpressions.length,s=0,o=this.grid.groupingFlatResult.indexOf(i);return(n||r)&&this.grid.groupingFlatResult.forEach(((i,n)=>{let s=this.grid.primaryKey?i[this.grid.primaryKey]:i;r&&n<o&&this.grid.isGroupByRecord(i)&&t.push(i),this.grid.expansionStates.get(s)&&n<o&&!this.grid.isGroupByRecord(i)&&e.push(i)})),this.grid.summaryCalculationMode!==gS&&(s=t.filter((e=>this.grid.isExpandedGroup(e))).length,this.grid.summaryPosition===uS&&t.length&&t[t.length-1].records.indexOf(i)>-1&&(s+=-1)),e.length+s+o+this.index}return this.index}constructor(e,t,i){this._groupRow=i,this.grid=e,this.index=t,this.isGroupByRow=!0}get selected(){return this.children.every((e=>e.selected))}set selected(e){e?this.children.forEach((e=>{this.grid.selectionService.selectRowsWithNoEvent([e.key])})):this.children.forEach((e=>{this.grid.selectionService.deselectRowsWithNoEvent([e.key])})),this.grid.cdr.markForCheck()}get expanded(){return this.grid.isExpandedGroup(this.groupRow)}set expanded(e){this.gridAPI.set_grouprow_expansion_state(this.groupRow,e)}isActive(){return!!this.grid.navigation.activeNode&&this.grid.navigation.activeNode.row===this.index}toggle(){this.grid.toggleGroup(this.groupRow)}get gridAPI(){return this.grid.gridAPI}},xK=class{get summaries(){return this._summaries?this._summaries:this.grid.dataView[this.index].summaries}get viewIndex(){if(this.grid.hasSummarizedColumns&&this.grid.page>0){if("flat"===this.grid.type){if(this.grid.page){let e=[],t=[],i=this.grid.dataView[0],n=this.grid.expansionStates.size,r=this.grid.groupingExpressions.length,s=0,o=this.grid.groupingFlatResult.indexOf(i);return(n||r)&&this.grid.groupingFlatResult.forEach(((i,n)=>{let s=this.grid.primaryKey?i[this.grid.primaryKey]:i;r&&n<o&&this.grid.isGroupByRecord(i)&&t.push(i),this.grid.expansionStates.get(s)&&n<o&&!this.grid.isGroupByRecord(i)&&e.push(i)})),this.grid.summaryCalculationMode!==gS&&(s=t.filter((e=>this.grid.isExpandedGroup(e))).length,this.grid.summaryPosition===uS&&t.length&&t[t.length-1].records.indexOf(i)>-1&&(s+=-1)),e.length+s+o+this.index}return this.index}if("tree"===this.grid.type&&this.grid.summaryCalculationMode!==gS)return this.grid.processedExpandedFlatData.indexOf(this.grid.dataView[0].data)+(this.grid.summaryPosition===uS?this.grid.rootRecords.indexOf(this.getRootParent(this.grid.dataView[0])):this.grid.rootRecords.indexOf(this.getRootParent(this.grid.dataView[0]))+1)+this.index}return this.index+this.grid.page*this.grid.perPage}constructor(e,t,i){this._summaries=i,this.grid=e,this.index=t,this.isSummaryRow=!0}getRootParent(e){for(;e.parent;)e=e.parent;return e}},wK=(()=>{let e=class{transform(e,t,i,n,r,s){if(!e)return"";let o=[];for(let t of Object.keys(e)){let s=e[t];("function"==typeof s?s(i,n,TC(i,n),r):s)&&o.push(t)}return o.join(" ")}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"igxCellStyleClasses",type:e,pure:!0,standalone:!0}),e})(),_K=(()=>{let e=class{transform(e,t,i,n,r,s){let o={};if(!e)return o;for(let t of Object.keys(e)){let s=e[t];o[t]="function"==typeof s?s(i,n,TC(i,n),r):s}return o}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"igxCellStyles",type:e,pure:!0,standalone:!0}),e})(),CK=(()=>{let e=class{transform(e){if(e){let t=e.split("/"),i=t[t.length-1].split(".");return i.length?i[0]:""}return e}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"igxCellImageAlt",type:e,pure:!0,standalone:!0}),e})(),SK=(()=>{let e=class{constructor(e){this.grid=e,this.row=new mK(this.grid,-1,{})}transform(e,t,i,n,r,s,o,a,l,d,c,h){let u=new Set(["igx-grid__tr",a%2?"igx-grid__tr--even":"igx-grid__tr--odd"]),g=[[n,"igx-grid__tr--selected"],[i,"igx-grid__tr--edit"],[r,"igx-grid__tr--edited"],[s,"igx-grid__tr--deleted"],[o,"igx-grid__tr--drag"],[l,"igx-grid__tr--mrl"],[d,"igx-grid__tr--filtered"]];for(let[e,t]of g)e&&u.add(t);for(let i of Object.keys(e??{})){let n=e[i];this.row.index=a,this.row._data=t.data,("function"==typeof n?n(this.row):n)&&u.add(i)}return u}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"igxGridRowClasses",type:e,pure:!0,standalone:!0}),e})(),bK=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n){let r={};if(!e)return r;for(let n of Object.keys(e)){let s=e[n],o=this.grid.isTreeRow&&this.grid.isTreeRow(t)?t.data:t,a=new mK(this.grid,i,o);r[n]="function"==typeof s?s(a):s}return r}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"igxGridRowStyles",type:e,pure:!0,standalone:!0}),e})(),DK=(()=>{let e=class{transform(e){return e.filter((e=>!e.columnGroup))}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"igxNotGrouped",type:e,pure:!0,standalone:!0}),e})(),IK=(()=>{let e=class{transform(e){return e.filter((e=>0===e.level))}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"igxTopLevel",type:e,pure:!0,standalone:!0}),e})(),EK=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i){return this.grid.transactions.enabled?JC.mergeTransactions(lC(e),this.grid.transactions.getAggregatedChanges(!0),this.grid.primaryKey,this.grid.dataCloneStrategy):e}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"gridTransaction",type:e,pure:!0,standalone:!0}),e})(),TK=(()=>{let e=class{transform(e,t){return e&&e.length?t?e:[]:e}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"visibleColumns",type:e,pure:!0,standalone:!0}),e})(),RK=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i=!1,n){if(this.grid.hasPinnedRecords&&i){let t=e.filter((e=>!this.grid.isSummaryRow(e)&&this.grid.isRecordPinned(e)));return t.sort(((e,t)=>this.grid.getInitialPinnedIndex(e)-this.grid.getInitialPinnedIndex(t))),t}return this.grid.unpinnedRecords=e,this.grid.hasPinnedRecords?e.map((e=>!this.grid.isSummaryRow(e)&&this.grid.isRecordPinned(e)?{recordRef:e,ghostRecord:!0}:e)):(this.grid.pinnedRecords=[],i?[]:e)}};e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"gridRowPinning",type:e,pure:!0,standalone:!0});let t=e;return vi([function(e,t,i){let n=i.value;return i.value=function(...e){let t=n.apply(this,e);return this.grid.buildDataView(),t},i}],t.prototype,"transform",null),t})(),AK=(()=>{let e=class{transform(e,t,i,n,r){return r?TC(e,t):n}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"dataMapper",type:e,pure:!0,standalone:!0}),e})(),kK=(()=>{let e=class{transform(e,t,i){return e.replace(t,i)}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"igxStringReplace",type:e,pure:!0,standalone:!0}),e})(),OK=(()=>{let e=class{transform(e,t,i,n,r,s,o){if(!i){let i=n.getState(e),r=TC(i?.value??{},t);return i&&i.value&&(r||0===r||!1===r)}{let i=n.getAggregatedValue(e,!1);if(i)return null!=TC(i,t)}}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"transactionState",type:e,pure:!0,standalone:!0}),e})(),PK=(()=>{let e=class{transform(e,t,i,n){return t(e,i,n)}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"columnFormatter",type:e,pure:!0,standalone:!0}),e})(),FK=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t=!1,i){if(!this.grid.rowEditable||!this.grid.crudService.row||this.grid.crudService.row.getClassName()!==Zk.name||!this.grid.crudService.addRowParent||t!==this.grid.crudService.addRowParent.isPinned)return e;let n=e.slice(0),r=this.grid.crudService.row.recordRef;return n.splice(this.grid.crudService.row.index,0,r),n}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"gridAddRow",type:e,pure:!0,standalone:!0}),e})(),VK=["headerVirtualContainer"],MK=["headerDragContainer"],NK=["headerSelectorContainer"],LK=["headerGroupContainer"],HK=["headSelectorBaseTemplate"],zK=["headerHierarchyExpander"],BK=(e,t,i)=>({"igx-grid__hierarchical-expander igx-grid__hierarchical-expander--header igx-grid__tr-action":e,"igx-grid__hierarchical-expander--push":t,"igx-grid__hierarchical-expander--no-border":i}),GK=e=>({$implicit:e}),$K=e=>({visibility:e});function WK(e,t){if(1&e&&(zg(0),Lg(1,"span",15),Bg()),2&e){let e=rp();Ac(),yg("left",e.grid.pinnedWidth,"px"),fg("igxColumnMovingDrop",e.headerContainer)}}function KK(e,t){if(1&e&&(zg(0),Lg(1,"span",16),Bg()),2&e){let e=rp();Ac(),yg("left",e.grid.pinnedWidth,"px"),fg("igxColumnMovingDrop",e.headerContainer)}}function jK(e,t){1&e&&Gg(0)}function UK(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"div",17,2),ep("pointerdown",(function(t){return Uo(e),qo(t.preventDefault())})),Mg(3,"div",18),Xu(4,jK,1,0,"ng-container",19),Ng()(),Bg()}if(2&e){let e=rp();Ac(),xg("igx-grid__drag-indicator--header",!e.grid.isRowSelectable),Ac(3),fg("ngTemplateOutlet",e.grid.dragIndicatorIconTemplate||e.grid.dragIndicatorIconBase)}}function qK(e,t){1&e&&Gg(0,null,4)}function YK(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"div",20,3),ep("click",(function(t){return Uo(e),qo(rp().headerRowSelection(t))}))("pointerdown",(function(t){return Uo(e),qo(t.preventDefault())})),Xu(3,qK,2,0,"ng-container",21),Ng(),Bg()}if(2&e){let e=rp(),t=mp(17);Ac(),xg("igx-grid__cbx-selection--push",e.grid.filteringService.isFilterRowVisible),Ac(2),fg("ngTemplateOutlet",e.grid.headSelectorTemplate||t)("ngTemplateOutletContext",e.rowSelectorsContext)}}function XK(e,t){1&e&&Gg(0)}function ZK(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"div",22,5),ep("click",(function(){return Uo(e),qo(rp().grid.toggleAll())}))("pointerdown",(function(t){return Uo(e),qo(t.preventDefault())})),Xu(3,XK,1,0,"ng-container",21),Ng(),Bg()}if(2&e){let e=rp();Ac(),fg("hidden",!e.grid.hasExpandableChildren||!e.grid.hasVisibleColumns)("ngClass",Np(4,BK,e.grid.hasExpandableChildren,e.grid.filteringService.isFilterRowVisible,e.grid.isRowSelectable||e.grid.rowDraggable)),Ac(2),fg("ngTemplateOutlet",e.grid.iconTemplate)("ngTemplateOutletContext",Vp(8,GK,e.grid))}}function QK(e,t){1&e&&Gg(0)}function JK(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"div",23,6),ep("click",(function(){return Uo(e),qo(rp().grid.toggleAllGroupRows())}))("pointerdown",(function(t){return Uo(e),qo(t.preventDefault())})),Xu(3,QK,1,0,"ng-container",21),Ng(),Bg()}if(2&e){let e=rp();Ac(),wg(e.indentationCSSClasses),Ac(2),fg("ngTemplateOutlet",e.grid.iconTemplate)("ngTemplateOutletContext",Vp(5,GK,e.grid))}}function ej(e,t){if(1&e&&(zg(0),Lg(1,"igx-grid-header-group",25),Xp(2,"igxHeaderGroupWidth"),Xp(3,"igxHeaderGroupWidth"),Xp(4,"igxHeaderGroupStyle"),Bg()),2&e){let e=t.$implicit,i=rp(2);Ac(),yg("min-width",Jp(2,7,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("flex-basis",Jp(3,11,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL)),fg("ngClass",e.headerGroupClasses)("ngStyle",Jp(4,15,e.headerGroupStyles,e,i.grid.pipeTrigger))("column",e)}}function tj(e,t){if(1&e&&(zg(0),Xu(1,ej,5,19,"ng-container",24),Xp(2,"igxTopLevel"),Bg()),2&e){let e=rp();Ac(),fg("ngForOf",Zp(2,1,e.pinnedColumnCollection))}}function ij(e,t){if(1&e&&(Lg(0,"igx-grid-header-group",25),Xp(1,"igxHeaderGroupWidth"),Xp(2,"igxHeaderGroupWidth"),Xp(3,"igxHeaderGroupStyle")),2&e){let e=t.$implicit,i=rp();yg("min-width",Jp(1,7,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("flex-basis",Jp(2,11,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL)),fg("ngClass",e.headerGroupClasses)("ngStyle",Jp(3,15,e.headerGroupStyles,e,i.grid.pipeTrigger))("column",e)}}function nj(e,t){if(1&e&&(zg(0),Lg(1,"igx-grid-header-group",25),Xp(2,"igxHeaderGroupWidth"),Xp(3,"igxHeaderGroupWidth"),Xp(4,"igxHeaderGroupStyle"),Bg()),2&e){let e=t.$implicit,i=rp(2);Ac(),yg("min-width",Jp(2,9,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("flex-basis",Jp(3,13,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("left",e.rightPinnedOffset),fg("ngClass",e.headerGroupClasses)("ngStyle",Jp(4,17,e.headerGroupStyles,e,i.grid.pipeTrigger))("column",e)}}function rj(e,t){if(1&e&&(zg(0),Xu(1,nj,5,21,"ng-container",24),Xp(2,"igxTopLevel"),Bg()),2&e){let e=rp();Ac(),fg("ngForOf",Zp(2,1,e.pinnedColumnCollection))}}function sj(e,t){if(1&e&&(zg(0),Lg(1,"igx-grid-filtering-row",26,7),Bg()),2&e){let e=rp();Ac(),yg("width",e.width,"px"),fg("column",e.grid.filteringService.filteredColumn)}}function oj(e,t){if(1&e&&(zg(0),Lg(1,"span",27),Bg()),2&e){let e=rp();Ac(),fg("igxColumnMovingDrop",e.headerContainer)}}function aj(e,t){if(1&e&&(Mg(0,"div",28),Lg(1,"igx-checkbox",29,8),Ng()),2&e){let e=t.$implicit,i=rp();Ac(),fg("tabindex",-1)("readonly",!0)("checked",e.selectedCount>0&&i.grid.selectionService.areAllRowSelected())("disableRipple",!0)("ngStyle",Vp(7,$K,i.grid.isMultiRowSelectionEnabled?"visible":"hidden"))("indeterminate",e.selectedCount>0&&i.grid.selectionService.hasSomeRowSelected())("aria-label",i.grid.headSelectorBaseAriaLabel)}}var lj=(()=>{let e=class{get groups(){return vC(this._groups?.toArray()??[])}get headers(){return this.groups.map((e=>e.header))}get filters(){return this.groups.map((e=>e.filter))}get headerForOf(){return this.headerContainer}get navigation(){return this.grid.navigation}get nativeElement(){return this.ref.nativeElement}get isHierarchicalGrid(){return!!this.grid.isHierarchicalRecord}get indentationCSSClasses(){return`igx-grid__header-indentation igx-grid__row-indentation--level-${this.grid.groupingExpressions.length}`}get rowSelectorsContext(){let e={$implicit:{selectedCount:this.grid.selectionService.filteredSelectedRowIds.length,totalCount:this.grid.totalRowsCountAfterFilter}};return this.isHierarchicalGrid&&(e.$implicit.selectAll=()=>this.grid.selectAllRows(),e.$implicit.deselectAll=()=>this.grid.deselectAllRows()),e}constructor(e,t){this.ref=e,this.cdr=t,this.pinnedColumnCollection=[],this.unpinnedColumnCollection=[]}ngDoCheck(){this.cdr.markForCheck()}scroll(e){this.grid.preventHeaderScroll(e)}headerRowSelection(e){this.grid.isMultiRowSelectionEnabled&&(this.grid.selectionService.areAllRowSelected()?this.grid.selectionService.clearRowSelection(e):this.grid.selectionService.selectAllRows(e))}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(Pm))},e.ɵcmp=es({type:e,selectors:[["igx-grid-header-row"]],viewQuery:function(e,t){if(1&e&&(up(VK,7,dA),up(MK,5),up(NK,5),up(LK,5),up(HK,5),up(gK,5),up(zK,5),up(VW,5)),2&e){let e;gp(e=pp())&&(t.headerContainer=e.first),gp(e=pp())&&(t.headerDragContainer=e.first),gp(e=pp())&&(t.headerSelectorContainer=e.first),gp(e=pp())&&(t.headerGroupContainer=e.first),gp(e=pp())&&(t.headSelectorBaseTemplate=e.first),gp(e=pp())&&(t.filterRow=e.first),gp(e=pp())&&(t.headerHierarchyExpander=e.first),gp(e=pp())&&(t._groups=e)}},inputs:{grid:"grid",pinnedColumnCollection:"pinnedColumnCollection",unpinnedColumnCollection:"unpinnedColumnCollection",activeDescendant:"activeDescendant",hasMRL:[2,"hasMRL","hasMRL",Zm],width:"width"},standalone:!0,features:[Vu,Pp],decls:18,vars:27,consts:[["headerVirtualContainer",""],["headSelectorBaseTemplate",""],["headerDragContainer",""],["headerSelectorContainer",""],["headSelector",""],["headerHierarchyExpander",""],["headerGroupContainer",""],["filteringRow",""],["headerCheckbox",""],["role","rowgroup",1,"igx-grid-thead__wrapper",3,"scroll"],["role","row",1,"igx-grid__tr"],[4,"ngIf"],["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForContainerSize","igxForTrackBy","igxForSizePropName","igxForScrollOrientation"],[1,"igx-grid-thead__thumb",3,"hidden"],["igxHeadSelector",""],["id","left","droppable","true",1,"igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop"],["id","left","droppable","true",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop"],[1,"igx-grid__drag-indicator","igx-grid__tr-action",3,"pointerdown"],[2,"visibility","hidden"],[4,"ngTemplateOutlet"],[1,"igx-grid__cbx-selection","igx-grid__tr-action",3,"click","pointerdown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","pointerdown","hidden","ngClass"],[3,"click","pointerdown"],[4,"ngFor","ngForOf"],[3,"ngClass","ngStyle","column"],[3,"column"],["id","right","droppable","true",1,"igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop"],[1,"igx-grid__cbx-padding"],[3,"tabindex","readonly","checked","disableRipple","ngStyle","indeterminate","aria-label"]],template:function(e,t){if(1&e){let e=Wg();Mg(0,"div",9),ep("scroll",(function(i){return Uo(e),qo(t.scroll(i))})),Mg(1,"div",10),Xu(2,WK,2,3,"ng-container",11)(3,KK,2,3,"ng-container",11)(4,UK,5,3,"ng-container",11)(5,YK,4,4,"ng-container",11)(6,ZK,4,10,"ng-container",11)(7,JK,4,7,"ng-container",11)(8,tj,3,3,"ng-container",11)(9,ij,4,19,"ng-template",12,0,nm),Xp(11,"igxTopLevel"),Xu(12,rj,3,3,"ng-container",11),Ng(),Xu(13,sj,3,3,"ng-container",11)(14,oj,2,1,"ng-container",11),Ng(),Lg(15,"div",13),Xu(16,aj,3,9,"ng-template",14,1,nm)}2&e&&(yg("width",t.width,"px"),xg("igx-grid__tr--mrl",t.hasMRL),Ac(),yg("width",t.width,"px"),Ac(),fg("ngIf",t.grid.moving&&t.grid.columnInDrag&&t.pinnedColumnCollection.length<=0),Ac(),fg("ngIf",t.grid.moving&&t.grid.columnInDrag&&t.pinnedColumnCollection.length>0),Ac(),fg("ngIf",t.grid.rowDraggable),Ac(),fg("ngIf",t.grid.showRowSelectors),Ac(),fg("ngIf",t.isHierarchicalGrid),Ac(),fg("ngIf",null==t.grid||null==t.grid.groupingExpressions?null:t.grid.groupingExpressions.length),Ac(),fg("ngIf",t.pinnedColumnCollection.length&&t.grid.isPinningToStart),Ac(),fg("igxGridForOf",Zp(11,25,t.unpinnedColumnCollection))("igxForScrollContainer",t.grid.parentVirtDir)("igxForContainerSize",t.grid.unpinnedWidth)("igxForTrackBy",t.grid.trackColumnChanges)("igxForSizePropName","calcPixelWidth")("igxForScrollOrientation","horizontal"),Ac(3),fg("ngIf",t.pinnedColumnCollection.length&&!t.grid.isPinningToStart),Ac(),fg("ngIf",t.grid.filteringService.isFilterRowVisible),Ac(),fg("ngIf",t.grid.moving&&t.grid.columnInDrag),Ac(),yg("width",t.grid.scrollSize,"px"),fg("hidden",!t.grid.hasVerticalScroll()))},dependencies:[cv,dW,yv,av,lv,VW,vv,dA,gK,DA,IK,E$,T$],encapsulation:2,changeDetection:0}),e})(),dj=(()=>{let e=class extends $R{constructor(){super(...arguments),this._rowDragStarted=!1,this.transitionEndEvent=()=>{this.ghostElement&&this.ghostElement.removeEventListener("transitionend",this.transitionEndEvent,!1),this.endDragging()}}set data(e){this._data=e}get data(){return this._data.grid.createRow(this._data.index,this._data.data)}get row(){return this._data}onPointerDown(e){e.preventDefault(),this._rowDragStarted=!1,this._removeOnDestroy=!1,super.onPointerDown(e)}onPointerMove(e){if(super.onPointerMove(e),this._dragStarted&&!this._rowDragStarted){this._rowDragStarted=!0;let t={dragDirective:this,dragData:this.data,dragElement:this.row.nativeElement,cancel:!1,owner:this.row.grid};if(this.row.grid.rowDragStart.emit(t),t.cancel)return this.ghostElement.parentNode.removeChild(this.ghostElement),this.ghostElement=null,this._dragStarted=!1,void(this._clicked=!1);this.row.grid.dragRowID=this.row.key,this.row.grid.rowDragging=!0,this.row.grid.cdr.detectChanges(),this.subscription$=en(this.row.grid.document.defaultView,"keydown").subscribe((t=>{t.key===this.platformUtil.KEYMAP.ESCAPE&&(this._lastDropArea=!1,this.onPointerUp(e))}))}}onPointerUp(e){if(!this._clicked)return;let t={dragDirective:this,dragData:this.data,dragElement:this.row.nativeElement,animation:!1,owner:this.row.grid};this.zone.run((()=>{this.row.grid.rowDragEnd.emit(t)}));let i=this._lastDropArea;super.onPointerUp(e),!i&&this.ghostElement?this.ghostElement.addEventListener("transitionend",this.transitionEndEvent,!1):this.endDragging()}createGhost(e,t){if(this.row.grid.gridAPI.crudService.endEdit(!1),this.row.grid.cdr.detectChanges(),this.ghostContext={$implicit:this.row.data,data:this.row.data,grid:this.row.grid},super.createGhost(e,t,this.row.nativeElement),this.isHierarchicalGrid){let e=this.row;if(e.expander){let t=e.expander.nativeElement.getBoundingClientRect().width;this._ghostHostX+=t}}let i=this.ghostElement,n=this.row.grid.nativeElement.getBoundingClientRect(),r=this.row.nativeElement.getBoundingClientRect();i.style.overflow="hidden",i.style.width=n.width+"px",i.style.height=r.height+"px",i.classList.add("igx-grid__tr--ghost"),i.classList.remove("igx-grid__tr--selected");let s=i.getElementsByClassName("igx-grid__td");for(let e of s)e.classList.remove("igx-grid__td--selected"),e.classList.remove("igx-grid__td--active")}_unsubscribe(){this.subscription$&&!this.subscription$.closed&&this.subscription$.unsubscribe()}endDragging(){this.onTransitionEnd(null),this.row.grid.dragRowID=null,this.row.grid.rowDragging=!1,this.row.grid.cdr.detectChanges(),this._unsubscribe()}get isHierarchicalGrid(){return"hierarchical"===this.row.grid.type}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵdir=ss({type:e,selectors:[["","igxRowDrag",""]],inputs:{data:[0,"igxRowDrag","data"]},standalone:!0,features:[Ru]}),e})(),cj=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","igxDragIndicatorIcon",""]],standalone:!0}),e})(),hj=(()=>{let e=class{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxRowDragGhost",""]],standalone:!0}),e})(),uj=(()=>{let e=class{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxRowSelector",""]],standalone:!0}),e})(),gj=(()=>{let e=class{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxGroupByRowSelector",""]],standalone:!0}),e})(),pj=(()=>{let e=class{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxHeadSelector",""]],standalone:!0}),e})(),mj={};Fe(mj,{CSSResult:()=>_j,LitElement:()=>Hj,ReactiveElement:()=>Fj,UpdatingElement:()=>Lj,_$LE:()=>Bj,adoptStyles:()=>bj,css:()=>Sj,defaultConverter:()=>Aj,getCompatibleStyle:()=>Dj,notEqual:()=>kj,supportsAdoptingStyleSheets:()=>yj,unsafeCSS:()=>Cj});var fj,vj=window,yj=vj.ShadowRoot&&(void 0===vj.ShadyCSS||vj.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,xj=Symbol(),wj=new WeakMap,_j=class{constructor(e,t,i){if(this._$cssResult$=!0,i!==xj)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(yj&&void 0===e){let i=void 0!==t&&1===t.length;i&&(e=wj.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&wj.set(t,e))}return e}toString(){return this.cssText}},Cj=e=>new _j("string"==typeof e?e:e+"",void 0,xj),Sj=(e,...t)=>{let i=1===e.length?e[0]:t.reduce(((t,i,n)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[n+1]),e[0]);return new _j(i,e,xj)},bj=(e,t)=>{yj?e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):t.forEach((t=>{let i=document.createElement("style"),n=vj.litNonce;void 0!==n&&i.setAttribute("nonce",n),i.textContent=t.cssText,e.appendChild(i)}))},Dj=yj?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(let i of e.cssRules)t+=i.cssText;return Cj(t)})(e):e,Ij=window,Ej=Ij.trustedTypes,Tj=Ej?Ej.emptyScript:"",Rj=Ij.reactiveElementPolyfillSupport,Aj={toAttribute(e,t){switch(t){case Boolean:e=e?Tj:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=null!==e;break;case Number:i=null===e?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch{i=null}}return i}},kj=(e,t)=>t!==e&&(t==t||e==e),Oj={attribute:!0,type:String,converter:Aj,reflect:!1,hasChanged:kj},Pj="finalized",Fj=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),(null!==(t=this.h)&&void 0!==t?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();let e=[];return this.elementProperties.forEach(((t,i)=>{let n=this._$Ep(i,t);void 0!==n&&(this._$Ev.set(n,i),e.push(n))})),e}static createProperty(e,t=Oj){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){let i="symbol"==typeof e?Symbol():"__"+e,n=this.getPropertyDescriptor(e,i,t);void 0!==n&&Object.defineProperty(this.prototype,e,n)}}static getPropertyDescriptor(e,t,i){return{get(){return this[t]},set(n){let r=this[e];this[t]=n,this.requestUpdate(e,r,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||Oj}static finalize(){if(this.hasOwnProperty(Pj))return!1;this[Pj]=!0;let e=Object.getPrototypeOf(this);if(e.finalize(),void 0!==e.h&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(let i of t)this.createProperty(i,e[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let i=new Set(e.flat(1/0).reverse());for(let e of i)t.unshift(Dj(e))}else void 0!==e&&t.push(Dj(e));return t}static _$Ep(e,t){let i=t.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof e?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,i;(null!==(t=this._$ES)&&void 0!==t?t:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(i=e.hostConnected)||void 0===i||i.call(e))}removeController(e){var t;null===(t=this._$ES)||void 0===t||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e;let t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return bj(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$EO(e,t,i=Oj){var n;let r=this.constructor._$Ep(e,i);if(void 0!==r&&!0===i.reflect){let s=(void 0!==(null===(n=i.converter)||void 0===n?void 0:n.toAttribute)?i.converter:Aj).toAttribute(t,i.type);this._$El=e,null==s?this.removeAttribute(r):this.setAttribute(r,s),this._$El=null}}_$AK(e,t){var i;let n=this.constructor,r=n._$Ev.get(e);if(void 0!==r&&this._$El!==r){let e=n.getPropertyOptions(r),s="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==(null===(i=e.converter)||void 0===i?void 0:i.fromAttribute)?e.converter:Aj;this._$El=r,this[r]=s.fromAttribute(t,e.type),this._$El=null}}requestUpdate(e,t,i){let n=!0;void 0!==e&&(((i=i||this.constructor.getPropertyOptions(e)).hasChanged||kj)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===i.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,i))):n=!1),!this.isUpdatePending&&n&&(this._$E_=this._$Ej())}_$Ej(){return Ge(this,null,(function*(){this.isUpdatePending=!0;try{yield this._$E_}catch(e){Promise.reject(e)}let e=this.scheduleUpdate();return null!=e&&(yield e),!this.isUpdatePending}))}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((e,t)=>this[t]=e)),this._$Ei=void 0);let t=!1,i=this._$AL;try{t=this.shouldUpdate(i),t?(this.willUpdate(i),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(i)):this._$Ek()}catch(e){throw t=!1,this._$Ek(),e}t&&this._$AE(i)}willUpdate(e){}_$AE(e){var t;null===(t=this._$ES)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){void 0!==this._$EC&&(this._$EC.forEach(((e,t)=>this._$EO(t,this[t],e))),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};Fj[Pj]=!0,Fj.elementProperties=new Map,Fj.elementStyles=[],Fj.shadowRootOptions={mode:"open"},Rj?.({ReactiveElement:Fj}),(null!==(fj=Ij.reactiveElementVersions)&&void 0!==fj?fj:Ij.reactiveElementVersions=[]).push("1.6.3");var Vj,Mj,Nj={};Fe(Nj,{CSSResult:()=>_j,LitElement:()=>Hj,ReactiveElement:()=>Fj,UpdatingElement:()=>Lj,_$LE:()=>Bj,adoptStyles:()=>bj,css:()=>Sj,defaultConverter:()=>Aj,getCompatibleStyle:()=>Dj,notEqual:()=>kj,supportsAdoptingStyleSheets:()=>yj,unsafeCSS:()=>Cj}),Me(Nj,n);var Lj=Fj,Hj=class extends Fj{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;let i=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=i.firstChild),i}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=(0,n.render)(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}render(){return n.noChange}};Hj.finalized=!0,Hj._$litElement$=!0,null===(Vj=globalThis.litElementHydrateSupport)||void 0===Vj||Vj.call(globalThis,{LitElement:Hj});var zj=globalThis.litElementPolyfillSupport;zj?.({LitElement:Hj});var Bj={_$AK:(e,t,i)=>{e._$AK(t,i)},_$AL:e=>e._$AL};(null!==(Mj=globalThis.litElementVersions)&&void 0!==Mj?Mj:globalThis.litElementVersions=[]).push("3.3.3"),Me(mj,Nj),Me(mj,r);var Gj,$j=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?Oe(ke({},t),{finisher(i){i.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(i){i.createProperty(t.key,e)}};function Wj(e){return(t,i)=>void 0!==i?((e,t,i)=>{t.constructor.createProperty(i,e)})(e,t,i):$j(e,t)}null===(Gj=window.HTMLSlotElement)||void 0===Gj||Gj.prototype.assignedElements;var Kj={};Me(Kj,s);var jj=Object.defineProperty,Uj=Object.getOwnPropertyDescriptor,qj=(e,t,i,n)=>{for(var r,s=n>1?void 0:n?Uj(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(s=(n?r(t,i,s):r(s))||s);return n&&s&&jj(t,i,s),s},Yj=class extends Hj{constructor(){super(...arguments),this.text="Trial version of Ignite UI for Angular",this.url="https://www.infragistics.com/how-to-buy/renewal"}static register(){globalThis.customElements&&!globalThis.customElements.get(this.tagName)&&globalThis.customElements.define(this.tagName,this)}render(){return mj.html`
            <a part="link" href=${this.url} target="_blank">
                ${(0,Kj.unsafeSVG)('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18px" height="18px" id="img"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-2zm-3-4h8v2H8z"/></svg>\n')}
                <span>${this.text}</span>
            </a>
            <span part="image"></span>
        `}};Yj.styles=Cj(':host{display:block;position:absolute;bottom:0;right:0;width:100%;height:100%;z-index:10000;pointer-events:none}[part=link]{position:absolute;display:inline-flex;align-items:center;bottom:0;right:0;font-family:Titillium Web,sans-serif;font-size:.875rem;padding:.125rem .25rem;line-height:normal;border:1px solid var(--igx-watermark-border-color, var(--border-color, var(--igx-watermark-base-color, var(--base-color, #09f))));border-radius:var(--igx-watermark-border-radius, var(--border-radius, .125rem));color:var(--igx-watermark-color, var(--color, #fff));z-index:10002;background-color:var(--igx-watermark-link-background, var(--link-background, var(--igx-watermark-base-color, var(--base-color, #09f))));pointer-events:all;text-decoration:none}[part=link] svg{width:1.125rem;height:1.125rem;fill:currentColor;margin-inline-end:.25rem}[part=image]{width:100%;height:100%;position:absolute;top:0;left:0;z-index:10001;pointer-events:none;background-color:var(--igx-watermark-image-color, var(--image-color, color-mix(in srgb, var(--igx-watermark-base-color, var(--base-color, #09f)) var(--igx-watermark-image-opacity, var(--image-opacity, 15%)), transparent)));mask-image:var(--igx-watermark-background-image, var(--background-image, url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="184" height="104" viewBox="0 0 184 104"><path id="trial" d="M16.72,10.148L10.3,8.434l1.806-6.723L7.09,0.369,5.283,7.092,2.308,6.3,1.15,10.609l2.975,0.8L1.235,22.161q-1.345,5.007-.367,7.207T5.8,32.623a28.163,28.163,0,0,0,4.9.664l0.851-4.1-3.85-.88q-1.721-.46-1.889-1.5a11.188,11.188,0,0,1,.591-3.867l2.741-10.2,6.416,1.714ZM19.7,35.79l4.348-16.181,1.135-.144a33.871,33.871,0,0,1,7.382-.214L33.919,14.2a22.941,22.941,0,0,0-8.788,1.18L25.878,12.6l-5.021-1.342L14.629,34.436Zm16.783,4.485,6.229-23.182L37.64,15.738,31.412,38.921Zm7.287-27.123L45.2,7.82,40.132,6.466,38.7,11.8Zm20.042,11q-1.391-2.334-5.645-3.471a41.951,41.951,0,0,0-9.645-1.285l-0.773,3.62,1.513,0.3q4.563,0.822,7.538,1.617a3.562,3.562,0,0,1,2.2,1.382,3.528,3.528,0,0,1,.116,2.814L58.658,30.8,52.524,29.7a10.645,10.645,0,0,0-6.3.354q-2.306,1.074-3.253,4.6-1.981,7.372,4.946,9.223a18.357,18.357,0,0,0,7.946.285,10.134,10.134,0,0,0,5.722,3.368L62.76,43.72a2.665,2.665,0,0,1-1.343-1.03,2.273,2.273,0,0,1-.13-1.65l2.84-10.571Q65.2,26.482,63.808,24.147ZM57.7,34.367l-1.657,6.166-0.912.055A18.635,18.635,0,0,1,50,40.013q-2.836-.758-1.976-3.957a3.237,3.237,0,0,1,4.142-2.62ZM71.532,49.642l8.82-32.826-5.068-1.354-8.82,32.826Z"/></svg>\')));mask-size:12.5rem 9.375rem;mask-position:top left;-webkit-mask-image:var(--igx-watermark-background-image, var(--background-image, url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="184" height="104" viewBox="0 0 184 104"><path id="trial" d="M16.72,10.148L10.3,8.434l1.806-6.723L7.09,0.369,5.283,7.092,2.308,6.3,1.15,10.609l2.975,0.8L1.235,22.161q-1.345,5.007-.367,7.207T5.8,32.623a28.163,28.163,0,0,0,4.9.664l0.851-4.1-3.85-.88q-1.721-.46-1.889-1.5a11.188,11.188,0,0,1,.591-3.867l2.741-10.2,6.416,1.714ZM19.7,35.79l4.348-16.181,1.135-.144a33.871,33.871,0,0,1,7.382-.214L33.919,14.2a22.941,22.941,0,0,0-8.788,1.18L25.878,12.6l-5.021-1.342L14.629,34.436Zm16.783,4.485,6.229-23.182L37.64,15.738,31.412,38.921Zm7.287-27.123L45.2,7.82,40.132,6.466,38.7,11.8Zm20.042,11q-1.391-2.334-5.645-3.471a41.951,41.951,0,0,0-9.645-1.285l-0.773,3.62,1.513,0.3q4.563,0.822,7.538,1.617a3.562,3.562,0,0,1,2.2,1.382,3.528,3.528,0,0,1,.116,2.814L58.658,30.8,52.524,29.7a10.645,10.645,0,0,0-6.3.354q-2.306,1.074-3.253,4.6-1.981,7.372,4.946,9.223a18.357,18.357,0,0,0,7.946.285,10.134,10.134,0,0,0,5.722,3.368L62.76,43.72a2.665,2.665,0,0,1-1.343-1.03,2.273,2.273,0,0,1-.13-1.65l2.84-10.571Q65.2,26.482,63.808,24.147ZM57.7,34.367l-1.657,6.166-0.912.055A18.635,18.635,0,0,1,50,40.013q-2.836-.758-1.976-3.957a3.237,3.237,0,0,1,4.142-2.62ZM71.532,49.642l8.82-32.826-5.068-1.354-8.82,32.826Z"/></svg>\')));-webkit-mask-position:top left}\n'),Yj.tagName="igc-trial-watermark",qj([Wj({attribute:"text"})],Yj.prototype,"text",2),qj([Wj({attribute:"url"})],Yj.prototype,"url",2);var Xj=(()=>{let e=class{};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","igxGridBody",""]],standalone:!0,features:[kp([iA])]}),e})(),Zj=class extends zE{constructor(){super(...arguments),this.isTop=!1,this.isTopInitialPosition=null}position(e,t,i,n,r){let s=this.settings.container,o=r;this.isTop=null!==this.isTopInitialPosition?this.isTopInitialPosition:s.getBoundingClientRect().bottom<o.getBoundingClientRect().bottom+e.getBoundingClientRect().height,e.style.width=o.clientWidth+"px",this.settings.verticalStartPoint=this.settings.verticalDirection=this.isTop?PE.Top:PE.Bottom,this.settings.openAnimation=this.isTop?TI:DI,super.position(e,{width:o.clientWidth,height:o.clientHeight},i,n,o)}},Qj=class{},Jj=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","igxRowEdit",""]],standalone:!0}),e})(),eU=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","igxRowEditText",""]],standalone:!0}),e})(),tU=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","igxRowAddText",""]],standalone:!0}),e})(),iU=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","igxRowEditActions",""]],standalone:!0}),e})(),nU=(()=>{let e=class{constructor(e,t){this.grid=e,this.element=t}handleTab(e){e.stopPropagation(),(this.grid.rowEditTabs.last===this&&!e.shiftKey||this.grid.rowEditTabs.first===this&&e.shiftKey)&&this.move(e)}handleEscape(e){this.grid.crudService.endEdit(!1,e),this.grid.tbody.nativeElement.focus()}handleEnter(e){e.stopPropagation()}move(e){e.preventDefault(),this.currentCellIndex=e.shiftKey?this.grid.lastEditableColumnIndex:this.grid.firstEditableColumnIndex,this.grid.navigation.activeNode.row=this.grid.crudService.rowInEditMode.index,this.grid.navigation.activeNode.column=this.currentCellIndex,this.grid.navigateTo(this.grid.crudService.rowInEditMode.index,this.currentCellIndex,(t=>{t.target.activate(e),this.grid.cdr.detectChanges()}))}};return e.ɵfac=function(t){return new(t||e)(Oc(nO),Oc(Nl))},e.ɵdir=ss({type:e,selectors:[["","igxRowEditTabStop",""]],hostBindings:function(e,t){1&e&&ep("keydown.Tab",(function(e){return t.handleTab(e)}))("keydown.Shift.Tab",(function(e){return t.handleTab(e)}))("keydown.Escape",(function(e){return t.handleEscape(e)}))("keydown.Enter",(function(e){return t.handleEnter(e)}))},standalone:!0}),e})(),rU=e=>({$implicit:e});function sU(e,t){1&e&&Gg(0)}function oU(e,t){if(1&e&&(zg(0),Xu(1,sU,1,0,"ng-container",2),Bg()),2&e){let e=rp(),t=mp(2);Ac(),fg("ngTemplateOutlet",e.summaryTemplate?e.summaryTemplate:t)("ngTemplateOutletContext",Vp(2,rU,e.summaryResults))}}function aU(e,t){if(1&e&&(zg(0),Mg(1,"div",4)(2,"span",5),fp(3),Ng(),Mg(4,"span",6),fp(5),Ng()(),Bg()),2&e){let e=t.$implicit,i=rp(2);Ac(),yg("height",i.itemHeight,"px"),Ac(),fg("title",e.label),Ac(),yp(i.translateSummary(e)),Ac(),fg("title",i.formatSummaryResult(e)),Ac(),xp(" ",i.formatSummaryResult(e)," ")}}function lU(e,t){1&e&&Xu(0,aU,6,6,"ng-container",3),2&e&&fg("ngForOf",rp().summaryResults)}var dU=(()=>{let e=class{constructor(e){this.element=e,this.firstCellIndentation=0,this.hasSummary=!1}get visibleColumnIndex(){return this.column.visibleIndex}get attrCellID(){return`${this.grid.id}_${this.rowIndex}_${this.visibleColumnIndex}`}activate(){let e=this.grid.navigation.activeNode;e&&this.rowIndex===e.row&&this.visibleColumnIndex===e.column||(this.grid.navigation.setActiveNode({row:this.rowIndex,column:this.visibleColumnIndex},"summaryCell"),this.grid.cdr.detectChanges())}get selectionNode(){return{row:this.rowIndex,column:this.column.columnLayoutChild?this.column.parent.visibleIndex:this.visibleColumnIndex,isSummaryRow:!0}}get width(){return this.column.getCellWidth()}get nativeElement(){return this.element.nativeElement}get columnDatatype(){return this.column.dataType}get itemHeight(){return this.column.grid.defaultSummaryHeight}get grid(){return this.column.grid}get currencyCode(){return this.column.pipeArgs.currencyCode?this.column.pipeArgs.currencyCode:xf(this.grid.locale)}get currencySymbol(){return this.column.pipeArgs.display?this.column.pipeArgs.display:function(e){return Yg(e)[Zg.CurrencySymbol]||null}(this.grid.locale)}translateSummary(e){return this.grid.resourceStrings[`igx_grid_summary_${e.key}`]||e.label}formatSummaryResult(e){if(void 0===e.summaryResult||null===e.summaryResult||""===e.summaryResult)return"";if(this.summaryFormatter)return this.summaryFormatter(e,this.column.summaries);let t=this.column.pipeArgs,i=this.grid.locale;if("count"===e.key)return iv(e.summaryResult,i);if(e.defaultFormatting)switch(this.column.dataType){case QC.Number:return iv(e.summaryResult,i,t.digitsInfo);case QC.Date:case QC.DateTime:case QC.Time:return Af(e.summaryResult,t.format,i,t.timezone);case QC.Currency:return ev(e.summaryResult,i,this.currencySymbol,this.currencyCode,t.digitsInfo);case QC.Percent:return tv(e.summaryResult,i,t.digitsInfo)}return e.summaryResult}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl))},e.ɵcmp=es({type:e,selectors:[["igx-grid-summary-cell"]],hostVars:5,hostBindings:function(e,t){1&e&&ep("pointerdown",(function(){return t.activate()})),2&e&&(tg("data-rowIndex",t.rowIndex)("data-visibleIndex",t.visibleColumnIndex)("id",t.attrCellID),xg("igx-grid-summary--active",t.active))},inputs:{summaryResults:"summaryResults",column:"column",firstCellIndentation:"firstCellIndentation",hasSummary:[2,"hasSummary","hasSummary",Zm],summaryFormatter:"summaryFormatter",summaryTemplate:"summaryTemplate",active:"active",rowIndex:"rowIndex"},standalone:!0,features:[Vu,Pp],decls:3,vars:1,consts:[["defaultSummary",""],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[1,"igx-grid-summary__item"],[1,"igx-grid-summary__label",3,"title"],[1,"igx-grid-summary__result",3,"title"]],template:function(e,t){1&e&&Xu(0,oU,2,4,"ng-container",1)(1,lU,1,1,"ng-template",null,0,nm),2&e&&fg("ngIf",t.hasSummary)},dependencies:[cv,yv,lv],encapsulation:2,changeDetection:0}),e})(),cU=["igxDirRef"];function hU(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"div",4),ep("pointerdown",(function(t){return Uo(e),qo(t.preventDefault())})),Ng(),Bg()}if(2&e){let e=rp(2);Ac(),yg("min-width",e.grid.summariesMargin,"px")("flex-basis",e.grid.summariesMargin,"px")}}function uU(e,t){1&e&&Gg(0)}function gU(e,t){if(1&e&&(zg(0),Xu(1,uU,1,0,"ng-container",5),Bg()),2&e){let e=rp(2),t=mp(2);Ac(),fg("ngTemplateOutlet",t)("ngTemplateOutletContext",e.getContext(e))}}function pU(e,t){if(1&e&&Lg(0,"igx-grid-summary-cell",6),2&e){let e=t.$implicit,i=rp(2);yg("max-height",i.minHeight,"px")("min-height",i.minHeight,"px")("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth),xg("igx-grid-summary--empty",!e.hasSummary)("igx-grid-summary--pinned-last",e.isLastPinned),fg("column",e)("rowIndex",i.index)("firstCellIndentation",i.firstCellIndentation)("summaryResults",i.getColumnSummaries(e.field))("summaryTemplate",e.summaryTemplate)("hasSummary",e.hasSummary)("summaryFormatter",e.summaryFormatter)("active",i.isCellActive(e.visibleIndex))}}function mU(e,t){1&e&&Gg(0)}function fU(e,t){if(1&e&&(zg(0),Xu(1,mU,1,0,"ng-container",5),Bg()),2&e){let e=rp(2),t=mp(2);Ac(),fg("ngTemplateOutlet",t)("ngTemplateOutletContext",e.getContext(e))}}function vU(e,t){if(1&e&&(zg(0),Xu(1,hU,2,4,"ng-container",2)(2,gU,2,2,"ng-container",2)(3,pU,1,22,"ng-template",3,1,nm),Xp(5,"igxNotGrouped"),Xu(6,fU,2,2,"ng-container",2),Bg()),2&e){let e=rp();Ac(),fg("ngIf",e.grid.summariesMargin),Ac(),fg("ngIf",e.pinnedColumns.length>0&&e.grid.isPinningToStart),Ac(),fg("igxGridForOf",Zp(5,9,e.unpinnedColumns))("igxForScrollContainer",e.grid.parentVirtDir)("igxForScrollOrientation","horizontal")("igxForContainerSize",e.grid.unpinnedWidth)("igxForTrackBy",e.grid.trackColumnChanges)("igxForSizePropName","calcPixelWidth"),Ac(3),fg("ngIf",e.pinnedColumns.length>0&&!e.grid.isPinningToStart)}}function yU(e,t){if(1&e&&Lg(0,"igx-grid-summary-cell",8),2&e){let e=t.$implicit,i=rp(2);yg("max-height",i.minHeight,"px")("min-height",i.minHeight,"px")("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth)("left",e.rightPinnedOffset),xg("igx-grid-summary--empty",!e.hasSummary)("igx-grid-summary--pinned-first",e.isFirstPinned)("igx-grid-summary--pinned-last",e.isLastPinned),fg("column",e)("firstCellIndentation",i.firstCellIndentation)("rowIndex",i.index)("summaryResults",i.getColumnSummaries(e.field))("summaryTemplate",e.summaryTemplate)("hasSummary",e.hasSummary)("active",i.isCellActive(e.visibleIndex))}}function xU(e,t){1&e&&(Xu(0,yU,1,25,"igx-grid-summary-cell",7),Xp(1,"igxNotGrouped")),2&e&&fg("ngForOf",Zp(1,1,rp().pinnedColumns))}var wU=(()=>{let e=class{get dataRowIndex(){return this.index}get minHeight(){return this.grid.summaryRowHeight-1}get summaryCells(){let e=new zl;if(!this._summaryCells)return e;let t=this._summaryCells.filter((e=>e.nativeElement.isConnected));return e.reset(t),e}set summaryCells(e){}constructor(e,t,i){this.grid=e,this.element=t,this.cdr=i,this.firstCellIndentation=-1}ngDoCheck(){this.cdr.markForCheck()}get nativeElement(){return this.element.nativeElement}getColumnSummaries(e){return this.summaries.get(e)?this.summaries.get(e):[]}isCellActive(e){let t=this.grid.navigation.activeNode;return!!t&&t.row===this.index&&t.column===e}get pinnedColumns(){return this.grid.pinnedColumns}get unpinnedColumns(){return this.grid.unpinnedColumns}getContext(e){return{$implicit:e}}};return e.ɵfac=function(t){return new(t||e)(Oc(nO),Oc(Nl),Oc(Pm))},e.ɵcmp=es({type:e,selectors:[["igx-grid-summary-row"]],viewQuery:function(e,t){if(1&e&&(up(cU,5,dA),up(dU,5,dU)),2&e){let e;gp(e=pp())&&(t.virtDirRow=e.first),gp(e=pp())&&(t._summaryCells=e)}},hostVars:1,hostBindings:function(e,t){2&e&&tg("data-rowIndex",t.dataRowIndex)},inputs:{summaries:"summaries",gridID:"gridID",index:"index",firstCellIndentation:"firstCellIndentation"},standalone:!0,features:[kp([iA]),Pp],decls:3,vars:1,consts:[["summaryCellTemplate",""],["igxDirRef",""],[4,"ngIf"],["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForScrollOrientation","igxForContainerSize","igxForTrackBy","igxForSizePropName"],[1,"igx-grid__summaries-patch",3,"pointerdown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","cell",1,"igx-grid-summary","igx-grid-summary--fw",3,"column","rowIndex","firstCellIndentation","summaryResults","summaryTemplate","hasSummary","summaryFormatter","active"],["role","cell","class","igx-grid-summary igx-grid-summary--fw igx-grid-summary--pinned",3,"igx-grid-summary--empty","igx-grid-summary--pinned-first","igx-grid-summary--pinned-last","column","firstCellIndentation","rowIndex","summaryResults","summaryTemplate","hasSummary","active","max-height","min-height","min-width","max-width","flex-basis","left",4,"ngFor","ngForOf"],["role","cell",1,"igx-grid-summary","igx-grid-summary--fw","igx-grid-summary--pinned",3,"column","firstCellIndentation","rowIndex","summaryResults","summaryTemplate","hasSummary","active"]],template:function(e,t){1&e&&Xu(0,vU,7,11,"ng-container",2)(1,xU,2,3,"ng-template",null,0,nm),2&e&&fg("ngIf",t.summaries.size)},dependencies:[cv,yv,dA,dU,lv,DK],encapsulation:2,changeDetection:0}),e})(),_U=(()=>{let e=class{constructor(e,t,i){this.element=e,this.document=t,this.zone=i,this.restrictHResizeMin=Number.MIN_SAFE_INTEGER,this.restrictHResizeMax=Number.MAX_SAFE_INTEGER,this.resizeEnd=new ei,this.resizeStart=new ei,this.resize=new ei,this._destroy=new ei,this.resizeStart.pipe(mn(this._destroy),Bi((e=>e.clientX)),pn((e=>this.resize.pipe(mn(this._destroy),mn(this.resizeEnd),Bi((t=>t.clientX-e)))))).subscribe((e=>{let t=this._left+e,i=this._left-this.restrictHResizeMin,n=this._left+this.restrictHResizeMax;this.left=t<i?i:t,t>n&&(this.left=n)}))}ngOnInit(){this.zone.runOutsideAngular((()=>{en(this.document.defaultView,"mousemove").pipe(mn(this._destroy),vn((()=>rn(0,ui)))).subscribe((e=>this.onMousemove(e))),en(this.document.defaultView,"mouseup").pipe(mn(this._destroy)).subscribe((e=>this.onMouseup(e)))}))}ngOnDestroy(){this._destroy.next(!0),this._destroy.complete()}set left(e){requestAnimationFrame((()=>this.element.nativeElement.style.left=e+"px"))}set top(e){null!=this.restrictResizerTop?requestAnimationFrame((()=>this.element.nativeElement.style.top=this.restrictResizerTop+"px")):requestAnimationFrame((()=>this.element.nativeElement.style.top=e+"px"))}onMouseup(e){this.resizeEnd.next(e),this.resizeEnd.complete()}onMousedown(e){e.preventDefault();let t=this.element.nativeElement.parentElement.parentElement;this.left=this._left=e.clientX-t.getBoundingClientRect().left,this.top=e.target.getBoundingClientRect().top-t.getBoundingClientRect().top,this.resizeStart.next(e)}onMousemove(e){e.preventDefault(),this.resize.next(e)}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(of),Oc(Dl))},e.ɵdir=ss({type:e,selectors:[["","igxResizer",""]],inputs:{restrictHResizeMin:"restrictHResizeMin",restrictHResizeMax:"restrictHResizeMax",restrictResizerTop:"restrictResizerTop"},outputs:{resizeEnd:"resizeEnd",resizeStart:"resizeStart",resize:"resize"},standalone:!0}),e})(),CU=(()=>{let e=class{constructor(e){this.colResizingService=e}};return e.ɵfac=function(t){return new(t||e)(Oc(R$))},e.ɵcmp=es({type:e,selectors:[["igx-grid-column-resizer"]],viewQuery:function(e,t){if(1&e&&up(_U,7),2&e){let e;gp(e=pp())&&(t.resizer=e.first)}},inputs:{restrictResizerTop:"restrictResizerTop"},standalone:!0,features:[Pp],decls:1,vars:7,consts:[["igxResizer","",1,"igx-grid-th__resize-line",3,"resizeEnd","restrictHResizeMax","restrictHResizeMin","restrictResizerTop"]],template:function(e,t){1&e&&(Mg(0,"div",0),ep("resizeEnd",(function(e){return t.colResizingService.resizeColumn(e)})),Ng()),2&e&&(yg("left",-99999,"px")("height",t.colResizingService.resizerHeight,"px"),fg("restrictHResizeMax",t.colResizingService.restrictResizeMax)("restrictHResizeMin",t.colResizingService.restrictResizeMin)("restrictResizerTop",t.restrictResizerTop))},dependencies:[_U],encapsulation:2,changeDetection:0}),e})(),SU=(()=>{let e=class extends OA{constructor(){super(...arguments),this.ariaLive="polite",this.autoHide=!0,this.displayTime=4e3,this.textMessage=""}get isVisible(){return!this.collapsed}set isVisible(e){e!==this.isVisible&&(e?requestAnimationFrame((()=>{this.open()})):this.close())}open(){clearInterval(this.timeoutId);let e={positionStrategy:this.strategy,closeOnEscape:!1,closeOnOutsideClick:!1,modal:!1,outlet:this.outlet};super.open(e),this.autoHide&&(this.timeoutId=window.setTimeout((()=>{this.close()}),this.displayTime))}close(){clearTimeout(this.timeoutId),super.close()}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵdir=ss({type:e,hostVars:1,hostBindings:function(e,t){2&e&&tg("aria-live",t.ariaLive)},inputs:{ariaLive:"ariaLive",autoHide:[2,"autoHide","autoHide",Zm],displayTime:"displayTime",outlet:"outlet",isVisible:[2,"isVisible","isVisible",Zm]},features:[Vu,Ru]}),e})(),bU=["*",[["","igxButton",""]]],DU=["*","[igxButton]"];function IU(e,t){if(1&e){let e=Wg();Mg(0,"button",4),ep("click",(function(){return Uo(e),qo(rp().triggerAction())})),fp(1),Ng()}if(2&e){let e=rp();Ac(),xp(" ",e.actionText,"\n")}}var EU,TU=0,RU=(()=>{let e=class extends SU{constructor(){super(...arguments),this.id="igx-snackbar-"+TU++,this.cssClass="igx-snackbar",this.clicked=new yl,this.animationStarted=new yl,this.animationDone=new yl,this._positionSettings={horizontalDirection:OE.Center,verticalDirection:PE.Bottom,openAnimation:nD(gD,{params:{duration:".35s",easing:"cubic-bezier(0.0, 0.0, 0.2, 1)",fromPosition:"translateY(100%)",toPosition:"translateY(0)"}}),closeAnimation:nD(pD,{params:{duration:".2s",easing:"cubic-bezier(0.4, 0.0, 1, 1)",fromPosition:"translateY(0)",toPosition:"translateY(100%)"}})}}get positionSettings(){return this._positionSettings}set positionSettings(e){this._positionSettings=e}open(e){void 0!==e&&(this.textMessage=e),this.strategy=this.outlet?new KE(this.positionSettings):new WE(this.positionSettings),super.open()}toggle(){this.collapsed||this.isClosing?this.open():this.close()}triggerAction(){this.clicked.emit(this)}ngOnInit(){this.opened.pipe(mn(this.destroy$)).subscribe((()=>{let e={owner:this,id:this._overlayId};this.animationStarted.emit(e)})),this.closed.pipe(mn(this.destroy$)).subscribe((()=>{let e={owner:this,id:this._overlayId};this.animationDone.emit(e)}))}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵcmp=es({type:e,selectors:[["igx-snackbar"]],hostVars:3,hostBindings:function(e,t){2&e&&(tg("id",t.id),xg("igx-snackbar",t.cssClass))},inputs:{id:"id",actionText:"actionText",positionSettings:"positionSettings"},outputs:{clicked:"clicked",animationStarted:"animationStarted",animationDone:"animationDone"},standalone:!0,features:[Ru,Pp],ngContentSelectors:DU,decls:7,vars:2,consts:[["customButton",""],[1,"igx-snackbar__message"],[1,"igx-snackbar__button"],["igxButton","",3,"click",4,"ngIf"],["igxButton","",3,"click"]],template:function(e,t){if(1&e&&(op(bU),Mg(0,"div",1),fp(1),ap(2),Ng(),Mg(3,"div",2,0),ap(5,1),Ng(),Xu(6,IU,2,1,"button",3)),2&e){let e=mp(4);Ac(),xp(" ",t.textMessage," "),Ac(5),fg("ngIf",!e.children.length&&t.actionText)}},dependencies:[cv,ST],encapsulation:2}),e})(),AU=new Uint8Array(16);function kU(){if(!EU&&!(EU=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return EU(AU)}var OU=[];for(let e=0;e<256;++e)OU.push((e+256).toString(16).slice(1));var PU={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},FU=function(e,t,i){if(PU.randomUUID&&!t&&!e)return PU.randomUUID();let n=(e=e||{}).random||(e.rng||kU)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){i=i||0;for(let e=0;e<16;++e)t[i+e]=n[e];return t}return function(e,t=0){return OU[e[t+0]]+OU[e[t+1]]+OU[e[t+2]]+OU[e[t+3]]+"-"+OU[e[t+4]]+OU[e[t+5]]+"-"+OU[e[t+6]]+OU[e[t+7]]+"-"+OU[e[t+8]]+OU[e[t+9]]+"-"+OU[e[t+10]]+OU[e[t+11]]+OU[e[t+12]]+OU[e[t+13]]+OU[e[t+14]]+OU[e[t+15]]}(n)},VU=class{};function MU(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"igx-chip",5),Xp(2,"igxGroupByMeta"),Xp(3,"igxGroupByMeta"),Xp(4,"igxGroupByMeta"),Xp(5,"igxGroupByMeta"),ep("keyDown",(function(t){return Uo(e),qo(rp().handleKeyDown(t.owner.id,t.originalEvent))}))("remove",(function(t){return Uo(e),qo(rp().clearGrouping(t.owner.id))}))("chipClick",(function(){let t=Uo(e).$implicit;return qo(rp().handleClick(t.fieldName))})),Mg(6,"span"),fp(7),Xp(8,"igxGroupByMeta"),Ng(),Lg(9,"igx-icon",6),Ng(),Mg(10,"span",7),Lg(11,"igx-icon",8),Ng(),Bg()}if(2&e){let e=t.$implicit,i=t.last,n=rp();Ac(),fg("id",e.fieldName)("title",Jp(2,8,e.fieldName,n.grid,n.grid.groupablePipeTrigger).title)("removable",Jp(3,12,e.fieldName,n.grid,n.grid.groupablePipeTrigger).groupable)("draggable",Jp(4,16,e.fieldName,n.grid,n.grid.groupablePipeTrigger).groupable)("disabled",!Jp(5,20,e.fieldName,n.grid,n.grid.groupablePipeTrigger).groupable),Ac(6),yp(Jp(8,24,e.fieldName,n.grid,n.grid.groupablePipeTrigger).title),Ac(2),fg("name",1===e.dir?"sort_asc":"sort_desc"),Ac(2),fg("hidden",i&&!n.dropAreaVisible)}}function NU(e,t){1&e&&Gg(0)}function LU(e,t){if(1&e&&(Lg(0,"igx-icon",9),Mg(1,"span",10),fp(2),Ng()),2&e){let e=rp();Ac(2),yp(e.dropAreaMessage)}}var HU=(()=>{let e=class extends g${constructor(e,t){super(e,t),this.sortingExpressions=[]}handleReorder(e){let{chipsArray:t,originalEvent:i}=e,n=this.getReorderedExpressions(t);this.grid.groupingExpansionState=[],this.expressions=n,i instanceof KeyboardEvent&&(this.grid.groupingExpressions=n)}handleMoveEnd(){this.grid.groupingExpressions=this.expressions}groupBy(e){this.grid.groupBy(e)}clearGrouping(e){this.grid.clearGrouping(e)}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(fC))},e.ɵcmp=es({type:e,selectors:[["igx-grid-group-by-area"]],inputs:{sortingExpressions:"sortingExpressions",grid:"grid"},standalone:!0,features:[kp([{provide:g$,useExisting:e}]),Ru,Pp],decls:6,vars:4,consts:[["default",""],[3,"reorder","moveEnd"],[4,"ngFor","ngForOf"],["igxGroupAreaDrop","",1,"igx-drop-area",3,"igxDrop","hidden"],[4,"ngTemplateOutlet"],[3,"keyDown","remove","chipClick","id","title","removable","draggable","disabled"],["family","default","igxSuffix","",3,"name"],[1,"igx-grid-grouparea__connector"],["family","default","name","arrow_forward",3,"hidden"],["family","default","name","group_work",1,"igx-drop-area__icon"],[1,"igx-drop-area__text"]],template:function(e,t){if(1&e){let e=Wg();Mg(0,"igx-chips-area",1),ep("reorder",(function(i){return Uo(e),qo(t.handleReorder(i))}))("moveEnd",(function(){return Uo(e),qo(t.handleMoveEnd())})),Xu(1,MU,12,28,"ng-container",2),Mg(2,"div",3),ep("igxDrop",(function(i){return Uo(e),qo(t.onDragDrop(i))})),Xu(3,NU,1,0,"ng-container",4),Ng()(),Xu(4,LU,3,1,"ng-template",null,0,nm)}if(2&e){let e=mp(5);Ac(),fg("ngForOf",t.chipExpressions),Ac(),fg("hidden",!t.dropAreaVisible),tg("gridId",t.grid.id),Ac(),fg("ngTemplateOutlet",t.dropAreaTemplate||e)}},dependencies:[WV,lv,GV,FT,yT,D$,WR,yv,p$],encapsulation:2}),e})(),zU=new Gn("IgxGridTransaction"),BU=(()=>{let e=class{constructor(){this._validityStates=new Map,this._valid=!0}get valid(){return this._valid}create(e,t){let i=this.getFormGroup(e);if(i)for(let e of this.grid.columns){let n=i.get(e.field);n?n.markAsPristine():this.addFormControl(i,t,e)}else{i=new kx({});for(let e of this.grid.columns)this.addFormControl(i,t,e);let n={formGroup:i,owner:this.grid};this.grid.formGroupCreated.emit(n),this.add(e,i)}return i}addFormControl(e,t,i){let n=TC(t||{},i.field),r=this.getFieldKey(i.field),s=new Wx(n,{updateOn:this.grid.validationTrigger});s.addValidators(i.validators),e.addControl(r,s),s.setValue(n)}getFieldKey(e){return(e?.split(".")??[]).join("_")}getFormGroup(e){return this._validityStates.get(e)}getFormControl(e,t){let i=this.getFormGroup(e),n=this.getFieldKey(t);return i?.get(n)}add(e,t){this._validityStates.set(e,t)}getValidity(){let e=[];return this._validityStates.forEach(((t,i)=>{let n=[];for(let e of this.grid.columns){let i=this.getFieldKey(e.field),r=t.get(i);r&&n.push({field:i,status:r.status,errors:r.errors})}e.push({key:i,status:t.status,fields:n,errors:t.errors})})),e}getInvalid(){return this.getValidity().filter((e=>"INVALID"===e.status))}update(e,t){if(!t)return;let i=Object.keys(t),n=this.getFormGroup(e);for(let e of i){let i=this.getFieldKey(e),r=n?.get(i);r&&r.value!==t[e]&&r.setValue(t[e],{emitEvent:!1})}this.updateStatus()}updateAll(e){if(e&&0!==this._validityStates.size)for(let t of e){let e=t[this.grid.primaryKey]||t;if(this.getFormGroup(e)){let i=this.grid.transactions.getAggregatedValue(e,!0)||t;this.update(e,i)}}}markAsTouched(e,t){let i=this.getFormGroup(e);if(!i)return;i.markAsTouched();let n=t?[t]:this.grid.columns.map((e=>e.field));for(let e of n){let t=this.getFieldKey(e);i?.get(t)?.markAsTouched()}}updateStatus(){let e=this.valid;this._valid=0===this.getInvalid().length,this.valid!==e&&this.grid.validationStatusChange.emit({status:this.valid?"VALID":"INVALID",owner:this.grid})}clear(e){void 0!==e?this._validityStates.delete(e):this._validityStates.clear(),this.updateStatus()}};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),GU=(()=>{let e=class{get activeNode(){return this._activeNode}set activeNode(e){this._activeNode=e}constructor(e){this.platform=e,this._activeNode={},this.lastActiveNode={},this.pendingNavigation=!1}handleNavigation(e){let t=e.key.toLowerCase();xC.has(t)&&e.stopPropagation(),(!this.grid.crudService.cell||!xC.has(t))&&((e.repeat&&bC.has(t)||"tab"===t&&this.grid.crudService.cell)&&e.preventDefault(),e.repeat?setTimeout((()=>this.dispatchEvent(e)),1):this.dispatchEvent(e))}dispatchEvent(e){let t=e.key.toLowerCase();if(!this.activeNode||!(bC.has(t)||"tab"===t&&this.grid.crudService.cell||this.grid.crudService.rowEditingBlocked||this.grid.crudService.rowInEditMode))return;let i=e.shiftKey,n=e.ctrlKey;if(xC.has(t)&&this.pendingNavigation)return void e.preventDefault();let r=this.isDataRow(this.activeNode.row)?"dataCell":this.isDataRow(this.activeNode.row,!0)?"summaryCell":"groupRow";if(this.emitKeyDown(r,this.activeNode.row,e))return;if(e.altKey)return void this.handleAlt(t,e);-1===[" ","spacebar","space"].indexOf(t)&&this.grid.selectionService.keyboardStateOnKeydown(this.activeNode,i,i&&"tab"===t);let s=this.getNextPosition(this.activeNode.row,this.activeNode.column,t,i,n,e);xC.has(t)&&(e.preventDefault(),this.navigateInBody(s.rowIndex,s.colIndex,(t=>{t.target.activate(e),this.grid.cdr.detectChanges()}))),this.grid.cdr.detectChanges()}summaryNav(e){this.grid.hasSummarizedColumns&&this.horizontalNav(e,e.key.toLowerCase(),this.grid.dataView.length,"summaryCell")}headerNavigation(e){let t=e.key.toLowerCase();if(!DC.has(t)||-1!==this.activeNode?.row)return;e.preventDefault();let i=e.ctrlKey,n=e.shiftKey,r=e.altKey;this.performHeaderKeyCombination(this.currentActiveColumn,t,n,i,r,e),!(n||r||i&&(t.includes("down")||t.includes("down")))&&(this.grid.hasColumnGroups?this.handleMCHeaderNav(t,i):this.horizontalNav(e,t,-1,"headerCell"))}focusTbody(e){let t=this.grid.verticalScrollContainer.totalItemCount??this.grid.dataView.length;if(t<1)this.activeNode=null;else if(!this.activeNode||!Object.keys(this.activeNode).length||this.activeNode.row<0||this.activeNode.row>t-1){let i=Object.keys(this.lastActiveNode).length,n=i&&(this.lastActiveNode.row<0||this.lastActiveNode.row>t-1);if(this.setActiveNode(this.lastActiveNode.row>=0&&this.lastActiveNode.row<t?this.firstVisibleNode(this.lastActiveNode.row):this.firstVisibleNode()),n||this.grid.cellSelection!==yS)this.grid.clearCellSelection(),this.grid.navigateTo(this.activeNode.row,this.activeNode.column,(t=>{t.target?.activate(e),this.grid.cdr.detectChanges()}));else{if(i&&!this.grid.selectionService.selected(this.lastActiveNode))return;let e={rowStart:this.activeNode.row,rowEnd:this.activeNode.row,columnStart:this.activeNode.column,columnEnd:this.activeNode.column};this.grid.selectRange(e),this.grid.notifyChanges()}}}focusFirstCell(e=!0){if((e||this.grid.dataView.length)&&this.activeNode&&(-1===this.activeNode.row||this.activeNode.row===this.grid.dataView.length||!e&&!this.grid.hasSummarizedColumns))return;let t=this.lastActiveNode&&e&&-1!==this.lastActiveNode.row||!e&&this.lastActiveNode.row!==this.grid.dataView.length;this.setActiveNode(this.firstVisibleNode(e?-1:this.grid.dataView.length)),t&&this.performHorizontalScrollToCell(this.activeNode.column)}isColumnFullyVisible(e){if(e<0||this.isColumnPinned(e,this.forOfDir()))return!0;let t=this.getColumnUnpinnedIndex(e),i=this.forOfDir().getColumnScrollLeft(t+1)-this.forOfDir().getColumnScrollLeft(t);return this.displayContainerWidth<i&&this.displayContainerScrollLeft===this.forOfDir().getColumnScrollLeft(t)||this.displayContainerWidth>=this.forOfDir().getColumnScrollLeft(t+1)-this.displayContainerScrollLeft&&this.displayContainerScrollLeft<=this.forOfDir().getColumnScrollLeft(t)}shouldPerformHorizontalScroll(e,t=-1){if(e<0||e>this.grid.visibleColumns.length-1)return!1;if(t<0||t>this.grid.dataView.length-1)return!this.isColumnFullyVisible(e);let i=this.grid.dataView[t];return!i.expression&&!i.detailsData&&!this.isColumnFullyVisible(e)}shouldPerformVerticalScroll(e,t){if(this.grid.isRecordPinnedByViewIndex(e))return!1;let i=this.grid.hasPinnedRecords&&this.grid.isRowPinningToTop?e-this.grid.pinnedDataView.length:e,n=this.getRowElementByIndex(e),r=this.grid.verticalScrollContainer.getSizeAt(i),s=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,o=n?n.offsetTop+r+this.containerTopOffset:s+r;return!n||n.offsetTop<Math.abs(this.containerTopOffset)||s&&o-s>5}performVerticalScrollToCell(e,t=-1,i){if(!this.shouldPerformVerticalScroll(e,t))return;this.pendingNavigation=!0;let n=this.grid.hasPinnedRecords&&this.grid.isRowPinningToTop?e-this.grid.pinnedDataView.length:e;this.grid.verticalScrollContainer.scrollTo(n),this.grid.verticalScrollContainer.chunkLoad.pipe(un()).subscribe((()=>{this.pendingNavigation=!1,i&&i()}))}performHorizontalScrollToCell(e,t){if(this.grid.rowList<1&&this.grid.summariesRowList.length<1&&this.grid.hasColumnGroups){let t=this.grid.getColumnByVisibleIndex(e);for(;t.parent;)t=t.parent;e=this.forOfDir().igxForOf.indexOf(t)}this.shouldPerformHorizontalScroll(e)&&(this.pendingNavigation=!0,this.grid.parentVirtDir.chunkLoad.pipe(un()).subscribe((()=>{this.pendingNavigation=!1,t&&t()})),this.forOfDir().scrollTo(this.getColumnUnpinnedIndex(e)))}isDataRow(e,t=!1){let i;if(e<0||e>this.grid.dataView.length-1){if(i=this.grid.dataView[e-this.grid.virtualizationState.startIndex],!i)return this.grid.verticalScrollContainer.isRemote&&e>=0&&e<=this.grid.totalItemCount-1}else i=this.grid.dataView[e];return i&&!this.grid.isGroupByRecord(i)&&!this.grid.isDetailRecord(i)&&!i.childGridsData&&(t||!i.summaries)}isGroupRow(e){if(e<0||e>this.grid.dataView.length-1)return!1;let t=this.grid.dataView[e];return t&&this.grid.isGroupByRecord(t)}setActiveNode(e){if(!this.isActiveNodeChanged(e))return;this.activeNode||(this.activeNode=e),Object.assign(this.activeNode,e);let t=this.grid.dataView[e.row],i=e.row<0?"headerCell":this.isDataRow(e.row)?"dataCell":t&&this.grid.isGroupByRecord(t)?"groupRow":t&&this.grid.isDetailRecord(t)?"masterDetailRow":"summaryCell",n={row:this.activeNode.row,column:this.activeNode.column,level:this.activeNode.level,tag:i};this.grid.activeNodeChange.emit(n)}isActiveNodeChanged(e){let t=!1,i=(e,i)=>{if(e){n=Object.getOwnPropertyNames(e);for(let r of n)this.activeNode[i][r]!==e[r]&&(t=!0)}else t=!0};if(!this.activeNode)return t=!0;let n=Object.getOwnPropertyNames(e);for(let r of n)this.activeNode[r]&&"object"==typeof this.activeNode[r]?i(e[r],r):this.activeNode[r]!==e[r]&&(t=!0);return t}getNextPosition(e,t,i,n,r,s){if(!this.isDataRow(e,!0)&&(i.indexOf("down")<0||i.indexOf("up")<0)&&r)return{rowIndex:e,colIndex:t};switch(i){case"pagedown":case"pageup":s.preventDefault(),"pagedown"===i?this.grid.verticalScrollContainer.scrollNextPage():this.grid.verticalScrollContainer.scrollPrevPage();let o=this.grid.crudService.cell;this.grid.verticalScrollContainer.chunkLoad.pipe(un()).subscribe((()=>{o&&this.grid.rowList.map((e=>e.index)).indexOf(o.rowIndex)<0&&this.grid.tbody.nativeElement.focus({preventScroll:!0})}));break;case"tab":this.handleEditing(n,s);break;case"end":e=r?this.findLastDataRowIndex():this.activeNode.row,t=this.lastColumnIndex;break;case"home":e=r?this.findFirstDataRowIndex():this.activeNode.row,t=0;break;case"arrowleft":case"left":t=r?0:this.activeNode.column-1;break;case"arrowright":case"right":t=r?this.lastColumnIndex:this.activeNode.column+1;break;case"arrowup":case"up":if(r&&!this.isDataRow(e)||this.grid.rowEditable&&this.grid.crudService.rowEditingBlocked)break;t=void 0!==this.activeNode.column?this.activeNode.column:0,e=r?this.findFirstDataRowIndex():this.activeNode.row-1;break;case"arrowdown":case"down":if(r&&!this.isDataRow(e)||this.grid.rowEditable&&this.grid.crudService.rowEditingBlocked)break;t=void 0!==this.activeNode.column?this.activeNode.column:0,e=r?this.findLastDataRowIndex():this.activeNode.row+1;break;case"enter":case"f2":let a=this.grid.gridAPI.get_cell_by_visible_index(this.activeNode.row,this.activeNode.column);if(!this.isDataRow(e)||!a.editable)break;this.grid.crudService.enterEditMode(a,s);break;case"escape":case"esc":if(!this.isDataRow(e))break;if(this.grid.crudService.isInCompositionMode)return;(this.grid.crudService.cellInEditMode||this.grid.crudService.rowInEditMode)&&(this.grid.crudService.endEdit(!1,s),this.platform.isEdge&&this.grid.cdr.detectChanges(),this.grid.tbody.nativeElement.focus());break;case" ":case"spacebar":case"space":let l=this.grid.gridAPI.get_row_by_index(this.activeNode.row);this.grid.isRowSelectable&&l&&(this.isDataRow(e)&&(l.selected?this.grid.selectionService.deselectRow(l.key,s):this.grid.selectionService.selectRowById(l.key,!1,s)),this.isGroupRow(e)&&l.onGroupSelectorClick(s));break;default:return}return{rowIndex:e,colIndex:t}}horizontalNav(e,t,i,n){let r=e.ctrlKey;if(!yC.has(e.key.toLowerCase())||(e.preventDefault(),this.activeNode.row=i,i>0&&this.emitKeyDown("summaryCell",this.activeNode.row,e)))return;let s={column:this.activeNode.column,mchCache:{level:this.activeNode.level,visibleIndex:this.activeNode.column}};if((t.includes("left")||"home"===t)&&this.activeNode.column>0&&(s.column=r||"home"===t?0:this.activeNode.column-1),(t.includes("right")||"end"===t)&&this.activeNode.column<this.lastColumnIndex&&(s.column=r||"end"===t?this.lastColumnIndex:this.activeNode.column+1),"headerCell"===n){let e=this.grid.getColumnByVisibleIndex(s.column);s.mchCache.level=e.level,s.mchCache.visibleIndex=e.visibleIndex}this.setActiveNode({row:this.activeNode.row,column:s.column,mchCache:s.mchCache}),this.performHorizontalScrollToCell(this.activeNode.column)}get lastColumnIndex(){return Math.max(...this.grid.visibleColumns.map((e=>e.visibleIndex)))}get displayContainerWidth(){return Math.round(this.grid.parentVirtDir.dc.instance._viewContainer.element.nativeElement.offsetWidth)}get displayContainerScrollLeft(){return Math.ceil(this.grid.headerContainer.scrollPosition)}get containerTopOffset(){return parseInt(this.grid.verticalScrollContainer.dc.instance._viewContainer.element.nativeElement.style.top,10)}getColumnUnpinnedIndex(e){let t=this.grid.unpinnedColumns.find((t=>!t.columnGroup&&t.visibleIndex===e));return this.grid.pinnedColumns.length?this.grid.unpinnedColumns.filter((e=>!e.columnGroup)).indexOf(t):e}forOfDir(){return this.grid.dataRowList.length>0?this.grid.dataRowList.first.virtDirRow:this.grid.summariesRowList.length?this.grid.summariesRowList.first.virtDirRow:this.grid.headerContainer}handleAlt(e,t){t.preventDefault();let i=this.grid.gridAPI.get_row_by_index(this.activeNode.row);if((this.isToggleKey(e)||this.isAddKey(e))&&i){if(this.isAddKey(e)){if(!this.grid.rowEditable)return void console.warn("The grid must be in row edit mode to perform row adding!");t.shiftKey&&void 0!==i.treeRow?this.grid.crudService.enterAddRowMode(i,!0,t):t.shiftKey||this.grid.crudService.enterAddRowMode(i,!1,t)}else!i.expanded&&_C.has(e)?void 0===i.key?i.toggle():this.grid.gridAPI.set_row_expansion_state(i.key,!0,t):i.expanded&&CC.has(e)&&(void 0===i.key?i.toggle():this.grid.gridAPI.set_row_expansion_state(i.key,!1,t));this.grid.notifyChanges()}}handleEditing(e,t){let i=e?this.grid.getPreviousCell(this.activeNode.row,this.activeNode.column,(e=>e.editable)):this.grid.getNextCell(this.activeNode.row,this.activeNode.column,(e=>e.editable));if(!this.grid.crudService.rowInEditMode&&this.isActiveNode(i.rowIndex,i.visibleColumnIndex))return this.grid.crudService.endEdit(!0,t),void this.grid.tbody.nativeElement.focus();if(t.preventDefault(),this.grid.crudService.rowInEditMode&&this.grid.rowEditTabs.length&&(this.activeNode.row!==i.rowIndex||this.isActiveNode(i.rowIndex,i.visibleColumnIndex))){if(this.grid.crudService.updateCell(!0,t).cancel)return;e?this.grid.rowEditTabs.last.element.nativeElement.focus():this.grid.rowEditTabs.first.element.nativeElement.focus()}else this.grid.crudService.rowInEditMode&&!this.grid.rowEditTabs.length&&(e&&i.rowIndex===this.activeNode.row&&i.visibleColumnIndex===this.activeNode.column?i.visibleColumnIndex=this.grid.lastEditableColumnIndex:e||i.rowIndex!==this.activeNode.row||i.visibleColumnIndex!==this.activeNode.column?i.rowIndex=this.activeNode.row:i.visibleColumnIndex=this.grid.firstEditableColumnIndex),this.navigateInBody(i.rowIndex,i.visibleColumnIndex,(e=>{e.target.activate(t),this.grid.cdr.detectChanges()}))}navigateInBody(e,t,i=null){!this.isValidPosition(e,t)||this.isActiveNode(e,t)||this.grid.navigateTo(e,t,i)}emitKeyDown(e,t,i){let n=this.grid.summariesRowList.toArray().concat(this.grid.rowList.toArray()).find((e=>e.index===t));if(!n)return;let r={targetType:e,event:i,cancel:!1,target:"groupRow"===e?n:"dataCell"===e?n.cells?.find((e=>e.visibleColumnIndex===this.activeNode.column)):n.summaryCells?.find((e=>e.visibleColumnIndex===this.activeNode.column))};return this.grid.gridKeydown.emit(r),r.cancel&&"dataCell"===e?(this.grid.selectionService.clear(),this.grid.selectionService.keyboardState.active=!0,r.cancel):void 0}isColumnPinned(e,t){return!t.getScroll().clientWidth||this.grid.getColumnByVisibleIndex(e)?.pinned}findFirstDataRowIndex(){return this.grid.dataView.findIndex((e=>!this.grid.isGroupByRecord(e)&&!this.grid.isDetailRecord(e)&&!e.summaries))}findLastDataRowIndex(){if(this.grid.totalItemCount)return this.grid.totalItemCount-1;let e=this.grid.dataView.length;for(;e--;)if(this.isDataRow(e))return e}getRowElementByIndex(e){if(this.grid.hasDetails){let t=this.grid.nativeElement.querySelector(`[detail="true"][data-rowindex="${e}"]`);if(t)return t}return this.grid.rowList.toArray().concat(this.grid.summariesRowList.toArray()).find((t=>t.index===e))?.nativeElement}isValidPosition(e,t){let i=this.grid.totalItemCount??this.grid.dataView.length;return!(e<0||t<0||i-1<e||this.lastColumnIndex<t||this.activeNode.column!==t&&!this.isDataRow(e,!0))}performHeaderKeyCombination(e,t,i,n,r,s){let o=this.grid.sortingExpressions.find((t=>t.fieldName===e.field))?.dir;if(n&&t.includes("up")&&e.sortable&&!e.columnGroup)return o=o===LC.Asc?LC.None:LC.Asc,void this.grid.sort({fieldName:e.field,dir:o,ignoreCase:!1});if(n&&t.includes("down")&&e.sortable&&!e.columnGroup)return o=o===LC.Desc?LC.None:LC.Desc,void this.grid.sort({fieldName:e.field,dir:o,ignoreCase:!1});if(i&&r&&this.isToggleKey(t)&&!e.columnGroup&&e.groupable)return o=o||LC.Asc,t.includes("right")?this.grid.groupBy({fieldName:e.field,dir:o,ignoreCase:e.sortingIgnoreCase,strategy:e.sortStrategy,groupingComparer:e.groupingComparer}):this.grid.clearGrouping(e.field),void(this.activeNode.column=t.includes("right")&&this.grid.hideGroupedColumns&&e.visibleIndex===this.lastColumnIndex?this.lastColumnIndex-1:this.activeNode.column);if(r&&(_C.has(t)||CC.has(t)))this.handleMCHExpandCollapse(t,e);else if(-1!==[" ","spacebar","space"].indexOf(t)&&this.handleColumnSelection(e,s),r&&("l"===t||"¬"===t)&&this.grid.allowAdvancedFiltering&&this.grid.openAdvancedFilteringDialog(),n&&i&&"l"===t&&this.grid.allowFiltering&&!e.columnGroup&&e.filterable)if(this.grid.filterMode===cS){let t=this.grid.headerGroups.find((e=>e.active)).nativeElement;this.grid.filteringService.toggleFilterDropdown(t,e)}else this.performHorizontalScrollToCell(e.visibleIndex),this.grid.filteringService.filteredColumn=e,this.grid.filteringService.isFilterRowVisible=!0}firstVisibleNode(e){let t=void 0!==this.lastActiveNode.column?this.lastActiveNode.column:this.grid.visibleColumns.sort(((e,t)=>e.visibleIndex-t.visibleIndex)).find((e=>this.isColumnFullyVisible(e.visibleIndex)))?.visibleIndex,i=this.grid.visibleColumns.find((e=>!e.columnLayout&&e.visibleIndex===t));return{row:(e||this.grid.rowList.find((e=>!this.shouldPerformVerticalScroll(e.index,t)))?.index)??0,column:i?.visibleIndex??0,level:i?.level??0,mchCache:i?{level:i.level,visibleIndex:i.visibleIndex}:{},layout:i&&i.columnLayoutChild?{rowStart:i.rowStart,colStart:i.colStart,rowEnd:i.rowEnd,colEnd:i.colEnd,columnVisibleIndex:i.visibleIndex}:null}}handleMCHeaderNav(e,t){let i={visibleIndex:this.activeNode.mchCache.visibleIndex,level:this.activeNode.mchCache.level},n=this.currentActiveColumn,r=Math.max(...this.grid.visibleColumns.filter((e=>e.level<=this.activeNode.level)).map((e=>e.visibleIndex))),s=n;if((e.includes("left")||"home"===e)&&this.activeNode.column>0){let n=t||"home"===e?0:this.activeNode.column-1;s=this.getNextColumnMCH(n),i.visibleIndex=s.visibleIndex}if((e.includes("right")||"end"===e)&&n.visibleIndex<r){let r=n.children?Math.max(...n.allChildren.map((e=>e.visibleIndex)))+1:n.visibleIndex+1;s=t||"end"===e?this.getNextColumnMCH(this.lastColumnIndex):this.getNextColumnMCH(r),i.visibleIndex=s.visibleIndex}!t&&e.includes("up")&&this.activeNode.level>0&&(s=n.parent,i.level=s.level),!t&&e.includes("down")&&n.children&&(s=n.children.find((e=>e.visibleIndex===i.visibleIndex))||n.children.toArray().sort(((e,t)=>t.visibleIndex-e.visibleIndex)).filter((e=>e.visibleIndex<i.visibleIndex))[0],i.level=s.level),this.setActiveNode({row:this.activeNode.row,column:s.visibleIndex,level:s.level,mchCache:i}),this.performHorizontalScrollToCell(s.visibleIndex)}handleMCHExpandCollapse(e,t){!t.children||!t.collapsible||(!t.expanded&&_C.has(e)?t.expanded=!0:t.expanded&&CC.has(e)&&(t.expanded=!1))}handleColumnSelection(e,t){if(!e.selectable||this.grid.columnSelection===fS)return;let i=this.grid.columnSelection===vS,n=e.children?e.allChildren.filter((e=>!e.hidden&&e.selectable&&!e.columnGroup)).map((e=>e.field)):[e.field];e.selected?this.grid.selectionService.deselectColumns(n,t):this.grid.selectionService.selectColumns(n,i,!1,t)}getNextColumnMCH(e){let t=this.grid.getColumnByVisibleIndex(e),i=t.parent;for(;i&&t.level>this.activeNode.mchCache.level;)t=t.parent,i=t.parent;return t}get currentActiveColumn(){return this.grid.visibleColumns.find((e=>e.visibleIndex===this.activeNode.column&&e.level===this.activeNode.level))}isActiveNode(e,t){return!!this.activeNode&&this.activeNode.row===e&&this.activeNode.column===t}isToggleKey(e){return CC.has(e)||_C.has(e)}isAddKey(e){return SC.has(e)}};return e.ɵfac=function(t){return new(t||e)(gr(fC))},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),$U=(()=>{let e=class{constructor(){this.rootSummaryID="igxGridRootSummary",this.summaryHeight=0,this.maxSummariesLenght=0,this.groupingExpressions=[],this.retriggerRootPipe=0,this.deleteOperation=!1,this.summaryCacheMap=new Map}recalculateSummaries(){this.resetSummaryHeight(),this.grid.notifyChanges(!0)}clearSummaryCache(e){if(this.summaryCacheMap.size){if(!e)return this.summaryCacheMap.clear(),void(this.grid&&this.grid.rootSummariesEnabled&&this.retriggerRootPipe++);if(e.data){let t=this.grid.primaryKey?e.data[this.grid.primaryKey]:e.data;this.removeSummaries(t)}if(void 0!==e.rowID&&null!==e.rowID){let t=e.cellID?this.grid.columns.find((t=>t.index===e.cellID.columnID)).field:void 0;if(t&&this.grid.rowEditable)return;let i=this.grid.groupingExpressions&&-1!==this.grid.groupingExpressions.map((e=>e.fieldName)).indexOf(t);t&&i&&(t=void 0),this.removeSummaries(e.rowID,t)}}}removeSummaries(e,t){if(this.deleteSummaryCache(this.rootSummaryID,t),1!==this.summaryCacheMap.size||!this.summaryCacheMap.has(this.rootSummaryID))if("tree"===this.grid.type){if(this.grid.transactions.enabled&&this.deleteOperation)return this.deleteOperation=!1,void this.summaryCacheMap.clear();this.removeAllTreeGridSummaries(e,t)}else"hierarchical"===this.grid.type?this.grid.transactions.enabled&&this.deleteOperation&&(this.deleteOperation=!1,this.summaryCacheMap.clear()):this.getSummaryID(e,this.grid.groupingExpressions).forEach((e=>{this.deleteSummaryCache(e,t)}))}removeSummariesCachePerColumn(e){this.summaryCacheMap.forEach((t=>{t.get(e)&&t.delete(e)})),this.grid.rootSummariesEnabled&&this.retriggerRootPipe++}calcMaxSummaryHeight(){if(this.summaryHeight)return this.summaryHeight;if(!this.grid.data)return this.summaryHeight=0;let e=0;return this.grid.columns.filter((e=>e.hasSummary&&!e.hidden)).forEach((t=>{let i=t.summaries.operate([],[],t.field).length;i&&e<i&&(e=i)})),this.maxSummariesLenght=e,this.summaryHeight=e*this.grid.defaultSummaryHeight,this.summaryHeight}calculateSummaries(e,t,i){let n=this.summaryCacheMap.get(e);return n||(n=new Map,this.summaryCacheMap.set(e,n)),!this.hasSummarizedColumns||!t||this.grid.columns.filter((e=>e.hasSummary)).forEach((e=>{if(!n.get(e.field)){let r=e.summaries.operate(t.map((t=>TC(t,e.field))),t,e.field,i,this.grid.locale,e.pipeArgs);n.set(e.field,r)}})),n}resetSummaryHeight(){this.summaryHeight=0,this.grid&&(this.grid.summaryPipeTrigger++,this.grid.rootSummariesEnabled&&(this.retriggerRootPipe++,Promise.resolve().then((()=>this.grid.notifyChanges(!0)))))}updateSummaryCache(e){if(0!==this.summaryCacheMap.size&&this.hasSummarizedColumns){if(0===this.groupingExpressions.length)return void(this.groupingExpressions=e.expressions.map((e=>e.fieldName)));if(0===e.length)return this.groupingExpressions=[],void this.clearSummaryCache();this.compareGroupingExpressions(this.groupingExpressions,e),this.groupingExpressions=e.expressions.map((e=>e.fieldName))}}get hasSummarizedColumns(){return this.grid.columns.filter((e=>e.hasSummary&&!e.hidden)).length>0}deleteSummaryCache(e,t){if(this.summaryCacheMap.get(e)){let i=t&&this.grid.filteringExpressionsTree&&-1!==this.grid.filteringExpressionsTree.filteringOperands.map((e=>e.fieldName)).indexOf(t);t&&this.summaryCacheMap.get(e).get(t)&&!i?this.summaryCacheMap.get(e).delete(t):this.summaryCacheMap.delete(e),e===this.rootSummaryID&&this.grid.rootSummariesEnabled&&this.retriggerRootPipe++}}getSummaryID(e,t){if(0===t.length)return[];let i=[],n=this.grid.data;this.grid.transactions.enabled&&(n=JC.mergeTransactions(lC(this.grid.data),this.grid.transactions.getAggregatedChanges(!0),this.grid.primaryKey,this.grid.dataCloneStrategy));let r=this.grid.primaryKey?n.find((t=>t[this.grid.primaryKey]===e)):e;if(!r)return i;let s="{ ";return t.forEach((e=>{s+=`'${e.fieldName}': '${r[e.fieldName]}'`,i.push(s.concat(" }")),s+=", "})),i}removeAllTreeGridSummaries(e,t){let i=this.grid.records.get(e);if(i)for(i=i.children?i:i.parent;i;)e=i.key,this.deleteSummaryCache(e,t),i=i.parent}compareGroupingExpressions(e,t){let i=t.expressions.map((e=>e.fieldName)),n=t.ungroupedColumns;if(e.length<=i.length){let t=i.slice(0,e.length).toString();e.toString()!==t&&this.clearSummaryCache()}else{if(e.slice(0,i.length).toString()!==i.toString())return void this.clearSummaryCache();n.map((e=>e.field)).forEach((e=>{this.summaryCacheMap.forEach(((t,i)=>{-1!==i.indexOf(e)&&this.summaryCacheMap.delete(i)}))}))}}};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),WU=["loadingOverlay"],KU=["igxLoadingOverlayOutlet"],jU=["emptyFilteredGrid"],UU=["defaultEmptyGrid"],qU=["defaultLoadingGrid"],YU=["scrollContainer"],XU=["verticalScrollContainer"],ZU=["verticalScrollHolder"],QU=["scr"],JU=["headSelectorBaseTemplate"],eq=["footer"],tq=["tbody"],iq=["pinContainer"],nq=["tfoot"],rq=["igxRowEditingOverlayOutlet"],sq=["dragIndicatorIconBase"],oq=["rowEditingOverlay"],aq=["igxFilteringOverlayOutlet"],lq=["sink"],dq=["defaultExpandedTemplate"],cq=["defaultCollapsedTemplate"],hq=["defaultESFHeaderIcon"],uq=["defaultRowEditTemplate"],gq=["summaryRow"],pq=["row"],mq=["pinnedRow"],fq=-1,vq=(()=>{let e=class{set summaryRowHeight(e){this._summaryRowHeight=0|e,this.summaryService.summaryHeight=e,this._init||this.reflow()}get summaryRowHeight(){return this.hasSummarizedColumns&&this.rootSummariesEnabled?this._summaryRowHeight||this.summaryService.calcMaxSummaryHeight():0}get hasColumnsToAutosize(){return this._columns.some((e=>"fit-content"===e.width))}get dataCloneStrategy(){return this._dataCloneStrategy}set dataCloneStrategy(e){e&&(this._dataCloneStrategy=e,this._transactions.cloneStrategy=e)}get excelStyleFilteringComponent(){return this.excelStyleFilteringComponents?.first}get headerGroups(){return this.theadRow.groups}get actionStrip(){return this.actionStripComponents?.first}get dragGhostCustomTemplate(){return this._dragGhostCustomTemplate||this.dragGhostCustomTemplates?.first}set dragGhostCustomTemplate(e){this._dragGhostCustomTemplate=e}get headerContainer(){return this.theadRow?.headerForOf}get headerSelectorContainer(){return this.theadRow?.headerSelectorContainer}get headerDragContainer(){return this.theadRow?.headerDragContainer}get headerGroupContainer(){return this.theadRow?.headerGroupContainer}get filteringRow(){return this.theadRow?.filterRow}get rowEditTextTemplate(){return this._rowEditTextTemplate||this.rowEditTextDirectives?.first}set rowEditTextTemplate(e){this._rowEditTextTemplate=e}get rowAddTextTemplate(){return this._rowAddTextTemplate||this.rowAddText}set rowAddTextTemplate(e){this._rowAddTextTemplate=e}get rowEditActionsTemplate(){return this._rowEditActionsTemplate||this.rowEditActionsDirectives?.first}set rowEditActionsTemplate(e){this._rowEditActionsTemplate=e}get rowExpandedIndicatorTemplate(){return this._rowExpandedIndicatorTemplate||this.rowExpandedIndicatorDirectiveTemplate}set rowExpandedIndicatorTemplate(e){this._rowExpandedIndicatorTemplate=e}get rowCollapsedIndicatorTemplate(){return this._rowCollapsedIndicatorTemplate||this.rowCollapsedIndicatorDirectiveTemplate}set rowCollapsedIndicatorTemplate(e){this._rowCollapsedIndicatorTemplate=e}get headerExpandedIndicatorTemplate(){return this._headerExpandIndicatorTemplate||this.headerExpandedIndicatorDirectiveTemplate}set headerExpandedIndicatorTemplate(e){this._headerExpandIndicatorTemplate=e}get headerCollapsedIndicatorTemplate(){return this._headerCollapseIndicatorTemplate||this.headerCollapsedIndicatorDirectiveTemplate}set headerCollapsedIndicatorTemplate(e){this._headerCollapseIndicatorTemplate=e}get excelStyleHeaderIconTemplate(){return this._excelStyleHeaderIconTemplate||this.excelStyleHeaderIconDirectiveTemplate}set excelStyleHeaderIconTemplate(e){this._excelStyleHeaderIconTemplate=e}get sortAscendingHeaderIconTemplate(){return this._sortAscendingHeaderIconTemplate}set sortAscendingHeaderIconTemplate(e){this._sortAscendingHeaderIconTemplate=e}get sortDescendingHeaderIconTemplate(){return this._sortDescendingHeaderIconTemplate}set sortDescendingHeaderIconTemplate(e){this._sortDescendingHeaderIconTemplate=e}get sortHeaderIconTemplate(){return this._sortHeaderIconTemplate}set sortHeaderIconTemplate(e){this._sortHeaderIconTemplate=e}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}get filteringLogic(){return this._filteringExpressionsTree.operator}set filteringLogic(e){this._filteringExpressionsTree.operator=e}get filteringExpressionsTree(){return this._filteringExpressionsTree}set filteringExpressionsTree(e){if(e&&e instanceof iS){let t=e;for(let e=0;e<t.filteringOperands.length;e++)if(!(t.filteringOperands[e]instanceof iS)){let i=new iS(nS.And,t.filteringOperands[e].fieldName);i.filteringOperands.push(t.filteringOperands[e]),t.filteringOperands[e]=i}e.type=tS.Regular,this._filteringExpressionsTree=e,this.filteringPipeTrigger++,this.filteringExpressionsTreeChange.emit(this._filteringExpressionsTree),this.filteringService.isFilteringExpressionsTreeEmpty(this._filteringExpressionsTree)&&this.filteringService.isFilteringExpressionsTreeEmpty(this._advancedFilteringExpressionsTree)&&(this._filteredData=null),this.filteringService.refreshExpressions(),this.selectionService.clearHeaderCBState(),this.summaryService.clearSummaryCache(),this.notifyChanges()}}get advancedFilteringExpressionsTree(){return this._advancedFilteringExpressionsTree}set advancedFilteringExpressionsTree(e){let t={owner:this,filteringExpressions:e,cancel:!1};this.filtering.emit(t),!t.cancel&&(e&&e instanceof iS?(e.type=tS.Advanced,this._advancedFilteringExpressionsTree=e,this.filteringPipeTrigger++):this._advancedFilteringExpressionsTree=null,this.advancedFilteringExpressionsTreeChange.emit(this._advancedFilteringExpressionsTree),this.filteringService.isFilteringExpressionsTreeEmpty(this._filteringExpressionsTree)&&this.filteringService.isFilteringExpressionsTreeEmpty(this._advancedFilteringExpressionsTree)&&(this._filteredData=null),this.selectionService.clearHeaderCBState(),this.summaryService.clearSummaryCache(),this.notifyChanges(),requestAnimationFrame((()=>this.filteringDone.emit(this._advancedFilteringExpressionsTree))))}get locale(){return this._locale}set locale(e){e!==this._locale&&(this._locale=e,this._currencyPositionLeft=void 0,this.summaryService.clearSummaryCache(),this.pipeTrigger++,this.notifyChanges(),this.localeChange.emit())}get pagingMode(){return this._pagingMode}set pagingMode(e){this._pagingMode=e,this.pipeTrigger++,this.notifyChanges(!0)}get page(){return this.paginator?.page||0}set page(e){this.paginator&&(this.paginator.page=e)}get perPage(){return this.paginator?.perPage||15}set perPage(e){this.paginator&&(this.paginator.perPage=e)}get hideRowSelectors(){return this._hideRowSelectors}set hideRowSelectors(e){this._hideRowSelectors=e,this.notifyChanges(!0)}get rowDraggable(){return this._rowDrag&&this.hasVisibleColumns}set rowDraggable(e){this._rowDrag=e,this.notifyChanges(!0)}get rowEditable(){return this._rowEditable}set rowEditable(e){this._init||this.refreshGridState(),this._rowEditable=e,this.notifyChanges()}get height(){return this._height}set height(e){this._height!==e&&(this._height=e,this.nativeElement.style.height=e,this.notifyChanges(!0))}get hostWidth(){return this._width||this._hostWidth}get width(){return this._width}set width(e){this._width!==e&&(this._width=e,this.nativeElement.style.width=e,this.notifyChanges(!0))}get headerWidth(){return parseInt(this.width,10)-17}get rowHeight(){return this._rowHeight?this._rowHeight:this.defaultRowHeight}set rowHeight(e){"number"!=typeof e&&(e=parseInt(e,10)),this._rowHeight=e}get columnWidth(){return this._columnWidth}set columnWidth(e){this._columnWidth=e,this.columnWidthSetByUser=!0,this.notifyChanges(!0)}set emptyGridMessage(e){this._emptyGridMessage=e}get emptyGridMessage(){return this._emptyGridMessage||this.resourceStrings.igx_grid_emptyGrid_message}set isLoading(e){this._isLoading!==e&&(this._isLoading=e,this.data&&this.evaluateLoadingState()),Promise.resolve().then((()=>{this.notifyChanges()}))}get isLoading(){return this._isLoading}set emptyFilteredGridMessage(e){this._emptyFilteredGridMessage=e}get emptyFilteredGridMessage(){return this._emptyFilteredGridMessage||this.resourceStrings.igx_grid_emptyFilteredGrid_message}get pinning(){return this._pinning}set pinning(e){e!==this._pinning&&this.resetCaches(),this._pinning=e}get allowFiltering(){return this._allowFiltering}set allowFiltering(e){this._allowFiltering!==e&&(this._allowFiltering=e,this.filteringService.registerSVGIcons(),this._init||this.calcGridHeadRow(),this.filteringService.isFilterRowVisible=!1,this.filteringService.filteredColumn=null,this.notifyChanges(!0))}get allowAdvancedFiltering(){return this._allowAdvancedFiltering}set allowAdvancedFiltering(e){this._allowAdvancedFiltering!==e&&(this._allowAdvancedFiltering=e,this.filteringService.registerSVGIcons(),this._init||this.notifyChanges(!0))}get filterMode(){return this._filterMode}set filterMode(e){switch(e){case cS:case dS:this._filterMode=e}this.filteringService.isFilterRowVisible&&this.filteringRow.close(),this.notifyChanges(!0)}get summaryPosition(){return this._summaryPosition}set summaryPosition(e){this._summaryPosition=e,this.notifyChanges()}get summaryCalculationMode(){return this._summaryCalculationMode}set summaryCalculationMode(e){this._summaryCalculationMode=e,this._init||(this.crudService.endEdit(!1),this.summaryService.resetSummaryHeight(),this.notifyChanges(!0))}get showSummaryOnCollapse(){return this._showSummaryOnCollapse}set showSummaryOnCollapse(e){this._showSummaryOnCollapse=e,this.notifyChanges()}get filterStrategy(){return this._filterStrategy}set filterStrategy(e){this._filterStrategy=e}get sortStrategy(){return this._sortingStrategy}set sortStrategy(e){this._sortingStrategy=e}set sortingOptions(e){this._init||this.clearSort(),this._sortingOptions=Object.assign(this._sortingOptions,e)}get sortingOptions(){return this._sortingOptions}set selectedRows(e){this.selectRows(e||[],!0)}get selectedRows(){return this.selectionService.getSelectedRows()}get headerGroupsList(){return this.theadRow.groups}get headerCellList(){return this.headerGroupsList.map((e=>e.header)).filter((e=>e))}get filterCellList(){return this.headerGroupsList.map((e=>e.filter)).filter((e=>e))}get summariesRowList(){let e=new zl;if(!this._summaryRowList)return e;let t=this._summaryRowList.filter((e=>null!==e.element.nativeElement.parentElement));return e.reset(t),e}get rowList(){let e=new zl;if(!this._rowList)return e;let t=this._rowList.filter((e=>null!==e.element.nativeElement.parentElement)).sort(((e,t)=>e.index-t.index));return e.reset(t),e}get dataRowList(){let e=new zl;if(!this._dataRowList)return e;let t=this._dataRowList.filter((e=>null!==e.element.nativeElement.parentElement)).sort(((e,t)=>e.index-t.index));return e.reset(t),e}get headSelectorTemplate(){return this._headSelectorTemplate||this.headSelectorsTemplates?.first}set headSelectorTemplate(e){this._headSelectorTemplate=e}get isPinningToStart(){return this.pinning.columns!==CS.End}get isRowPinningToTop(){return this.pinning.rows!==SS.Bottom}get rowSelectorTemplate(){return this._rowSelectorTemplate||this.rowSelectorsTemplates?.first}set rowSelectorTemplate(e){this._rowSelectorTemplate=e}get rowOutletDirective(){return this.rowEditingOutletDirective}get parentRowOutletDirective(){return this.outlet}get rowEditCustom(){return this.rowEditCustomDirectives&&this.rowEditCustomDirectives.first?this.rowEditCustomDirectives.first:null}get rowEditContainer(){return this.rowEditCustom?this.rowEditCustom:this.defaultRowEditTemplate}get dragIndicatorIconTemplate(){return this._customDragIndicatorIconTemplate||this.dragIndicatorIconTemplates?.first}set dragIndicatorIconTemplate(e){this._customDragIndicatorIconTemplate=e}get firstEditableColumnIndex(){let e=this.visibleColumns.filter((e=>e.editable)).map((e=>e.visibleIndex)).sort(((e,t)=>e-t));return e.length?e[0]:null}get lastEditableColumnIndex(){let e=this.visibleColumns.filter((e=>e.editable)).map((e=>e.visibleIndex)).sort(((e,t)=>e>t?-1:1));return e.length?e[0]:null}get rowEditTabs(){return this.rowEditTabsCUSTOM.length?this.rowEditTabsCUSTOM:this.rowEditTabsDEFAULT}get activeDescendant(){let e=this.navigation.activeNode;return e&&Object.keys(e).length?e.row<0?`${this.id}_${e.row}_${e.mchCache.level}_${e.column}`:`${this.id}_${e.row}_${e.column}`:this.id}get bannerClass(){return"igx-banner "+(this.rowEditPositioningStrategy.isTop?"igx-banner__border-top":"igx-banner__border-bottom")}get sortingExpressions(){return this._sortingExpressions}set sortingExpressions(e){this._sortingExpressions=lC(e),this.sortingExpressionsChange.emit(this._sortingExpressions),this.notifyChanges()}get maxLevelHeaderDepth(){return null===this._maxLevelHeaderDepth&&(this._maxLevelHeaderDepth=this.hasColumnLayouts?this._columns.reduce(((e,t)=>Math.max(e,t.rowStart)),0):this._columns.reduce(((e,t)=>Math.max(e,t.level)),0)),this._maxLevelHeaderDepth}get hiddenColumnsCount(){return this._columns.filter((e=>!1===e.columnGroup&&!0===e.hidden)).length}get pinnedColumnsCount(){return this.pinnedColumns.filter((e=>!e.columnLayout)).length}get batchEditing(){return this._batchEditing}set batchEditing(e){e!==this._batchEditing&&(delete this._transactions,this._batchEditing=e,this.switchTransactionService(e),this.subscribeToTransactions())}get transactions(){return this._diTransactions&&!this.batchEditing?this._diTransactions:this._transactions}get currentRowState(){return this._currentRowState}get currencyPositionLeft(){if(void 0!==this._currencyPositionLeft)return this._currencyPositionLeft;let e=yf(this.locale,lf.Currency).split(","),t=e.indexOf(e.find((e=>e.includes("¤"))));return this._currencyPositionLeft=t<1}get cellSelection(){return this._cellSelectionMode}set cellSelection(e){this._cellSelectionMode=e,this.selectionService.clear(!0),this.notifyChanges()}get rowSelection(){return this._rowSelectionMode}set rowSelection(e){this._rowSelectionMode=e,this._init||(this.selectionService.clearAllSelectedRows(),this.notifyChanges(!0))}get columnSelection(){return this._columnSelectionMode}set columnSelection(e){this._columnSelectionMode=e,this.selectionService.clearAllSelectedColumns(),this.notifyChanges(!0)}set pagingState(e){this._pagingState=e,this.paginator&&!this._init&&(this.paginator.totalRecords=e.metadata.countRecords)}get pagingState(){return this._pagingState}get lastSearchInfo(){return this._lastSearchInfo}get type(){return"flat"}get paginator(){return this.paginationComponents?.first}get scrollSize(){return this.verticalScrollContainer.getScrollNativeSize()}get minColumnWidth(){return 136}get isCustomSetRowHeight(){return!isNaN(this._rowHeight)}get filteredData(){return this._filteredData}get filteredSortedData(){return this._filteredSortedData}get rowChangesCount(){if(!this.crudService.row)return 0;let e=t=>{let i=0;return Object.keys(t).forEach((n=>gC(t[n])?i+=e(t[n]):i++)),i};if(this.transactions.getState(this.crudService.row.id)?.type===MC.ADD)return this._columns.filter((e=>e.field)).length;let t=this.transactions.getAggregatedValue(this.crudService.row.id,!1);return t?e(t):0}get dataWithAddedInTransactionRows(){let e=lC(this.gridAPI.get_all_data());return this.transactions.enabled&&e.push(...this.transactions.getAggregatedChanges(!0).filter((e=>e.type===MC.ADD)).map((e=>e.newValue))),this.crudService.row&&this.crudService.row.getClassName()===Zk.name&&e.splice(this.crudService.row.index,0,this.crudService.row.data),e}get dataLength(){return this.transactions.enabled?this.dataWithAddedInTransactionRows.length:this.gridAPI.get_all_data().length}get template(){return this.isLoading&&(this.hasZeroResultFilter||this.hasNoData)?this.loadingGridTemplate?this.loadingGridTemplate:this.loadingGridDefaultTemplate:this.hasZeroResultFilter?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyFilteredGridTemplate:this.hasNoData?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyGridDefaultTemplate:void 0}get hasZeroResultFilter(){return this.filteredData&&0===this.filteredData.length}get hasNoData(){return!this.data||0===this.dataLength}get shouldOverlayLoading(){return this.isLoading&&!this.hasNoData&&!this.hasZeroResultFilter}get isMultiRowSelectionEnabled(){return this.rowSelection===yS||this.rowSelection===xS}get isRowSelectable(){return this.rowSelection!==fS}get isCellSelectable(){return this.cellSelection!==fS}get columnInDrag(){return this.gridAPI.cms.column}constructor(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,v,y,x,w){this.validation=e,this.selectionService=t,this.colResizingService=i,this.gridAPI=n,this.transactionFactory=r,this.elementRef=s,this.zone=o,this.document=a,this.cdr=l,this.differs=d,this.viewRef=c,this.injector=h,this.envInjector=u,this.navigation=g,this.filteringService=p,this.textHighlightService=m,this.overlayService=f,this.summaryService=v,this.localeId=y,this.platform=x,this._diTransactions=w,this.snackbarDisplayTime=6e3,this.autoGenerate=!1,this.autoGenerateExclude=[],this.moving=!1,this.clipboardOptions={enabled:!0,copyHeaders:!0,copyFormatters:!0,separator:"\t"},this.filteringExpressionsTreeChange=new yl,this.advancedFilteringExpressionsTreeChange=new yl,this.gridScroll=new yl,this.rowStyles=null,this.cellClick=new yl,this.rowClick=new yl,this.formGroupCreated=new yl,this.validationStatusChange=new yl,this.selected=new yl,this.rowSelectionChanging=new yl,this.columnSelectionChanging=new yl,this.columnPin=new yl,this.columnPinned=new yl,this.cellEditEnter=new yl,this.cellEditExit=new yl,this.cellEdit=new yl,this.cellEditDone=new yl,this.rowEditEnter=new yl,this.rowEdit=new yl,this.rowEditDone=new yl,this.rowEditExit=new yl,this.columnInit=new yl,this.columnsAutogenerated=new yl,this.sorting=new yl,this.sortingDone=new yl,this.filtering=new yl,this.filteringDone=new yl,this.rowAdded=new yl,this.rowDeleted=new yl,this.rowDelete=new yl,this.rowAdd=new yl,this.columnResized=new yl,this.contextMenu=new yl,this.doubleClick=new yl,this.columnVisibilityChanging=new yl,this.columnVisibilityChanged=new yl,this.columnMovingStart=new yl,this.columnMoving=new yl,this.columnMovingEnd=new yl,this.gridKeydown=new yl,this.rowDragStart=new yl,this.rowDragEnd=new yl,this.gridCopy=new yl,this.expansionStatesChange=new yl,this.rowToggle=new yl,this.rowPinning=new yl,this.rowPinned=new yl,this.activeNodeChange=new yl,this.sortingExpressionsChange=new yl,this.toolbarExporting=new yl,this.rangeSelected=new yl,this.rendered=new yl,this.localeChange=new yl,this.dataChanging=new yl,this.dataChanged=new yl,this.columnList=new zl,this.tmpOutlets=new zl,this.rowExpandedIndicatorDirectiveTemplate=null,this.rowCollapsedIndicatorDirectiveTemplate=null,this.headerExpandedIndicatorDirectiveTemplate=null,this.headerCollapsedIndicatorDirectiveTemplate=null,this.excelStyleHeaderIconDirectiveTemplate=null,this.sortAscendingHeaderIconDirectiveTemplate=null,this.sortDescendingHeaderIconDirectiveTemplate=null,this.sortHeaderIconDirectiveTemplate=null,this.tabindex=0,this.hostRole="grid",this.baseClass="igx-grid",this.validationTrigger="change",this.rowDragging=!1,this.dragRowID=null,this.calcHeight=0,this.disableTransitions=!1,this.columnWidthSetByUser=!1,this.rendered$=this.rendered.asObservable().pipe(function(e,t,i){let n,r=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:i}=e):n=e??1/0,function(e={}){let{connector:t=(()=>new ei),resetOnError:i=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=e;return e=>{let s,o,a,l=0,d=!1,c=!1,h=()=>{o?.unsubscribe(),o=void 0},u=()=>{h(),s=a=void 0,d=c=!1},g=()=>{let e=s;u(),e?.unsubscribe()};return Yt(((e,p)=>{l++,!c&&!d&&h();let m=a=a??t();p.add((()=>{l--,0===l&&!c&&!d&&(o=gn(g,r))})),m.subscribe(p),!s&&l>0&&(s=new zt({next:e=>m.next(e),error:e=>{c=!0,h(),o=gn(u,i,e),m.error(e)},complete:()=>{d=!0,h(),o=gn(u,n),m.complete()}}),Ai(e).subscribe(s))}))(e)}}({connector:()=>new ri(n,t,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}({bufferSize:1,refCount:!0})),this.resizeNotify=new ei,this.rowAddedNotifier=new ei,this.rowDeletedNotifier=new ei,this.pipeTriggerNotifier=new ei,this._destroyed=!1,this._totalRecords=-1,this.columnsWithNoSetWidths=null,this.pipeTrigger=0,this.filteringPipeTrigger=0,this.summaryPipeTrigger=0,this.groupablePipeTrigger=0,this.EMPTY_DATA=[],this.destroy$=new ei,this._pagingMode=bS.Local,this._hideRowSelectors=!1,this._rowDrag=!1,this._columns=[],this._pinnedColumns=[],this._unpinnedColumns=[],this._filteringExpressionsTree=new iS(nS.And),this._sortingExpressions=[],this._maxLevelHeaderDepth=null,this._columnHiding=!1,this._columnPinning=!1,this._pinnedRecordIDs=[],this._allowFiltering=!1,this._allowAdvancedFiltering=!1,this._filterMode=dS,this._defaultTargetRecordNumber=10,this._expansionStates=new Map,this._defaultExpandState=!1,this._headerFeaturesWidth=NaN,this._init=!0,this._firstAutoResize=!0,this._autoSizeColumnsNotify=new ei,this._cdrRequestRepaint=!1,this._batchEditing=!1,this._sortingOptions={mode:"multiple"},this._filterStrategy=new aS,this._autoGeneratedCols=[],this._dataView=[],this._lastSearchInfo={searchText:"",caseSensitive:!1,exactMatch:!1,activeMatchIndex:0,matchInfoCache:[],matchCount:0,content:""},this._rowEditable=!1,this._filteredSortedData=null,this._filteredData=null,this._cdrRequests=!1,this._resourceStrings=MT(sH),this._emptyGridMessage=null,this._emptyFilteredGridMessage=null,this._isLoading=!1,this.overlayIDs=[],this._pinning={columns:CS.Start},this._shouldRecalcRowHeight=!1,this._advancedFilteringPositionSettings={verticalDirection:PE.Middle,horizontalDirection:OE.Center,horizontalStartPoint:OE.Center,verticalStartPoint:PE.Middle},this._advancedFilteringOverlaySettings={closeOnOutsideClick:!1,modal:!1,positionStrategy:new zE(this._advancedFilteringPositionSettings)},this._height="100%",this._width="100%",this._horizontalForOfs=[],this._multiRowLayoutRowSize=1,this._totalWidth=NaN,this._pinnedVisible=[],this._unpinnedVisible=[],this._pinnedWidth=NaN,this._unpinnedWidth=NaN,this._visibleColumns=[],this._columnGroups=!1,this._summaryPosition=uS,this._summaryCalculationMode=mS,this._showSummaryOnCollapse=!1,this._summaryRowHeight=0,this._cellSelectionMode=yS,this._rowSelectionMode=fS,this._selectRowOnClick=!0,this._columnSelectionMode=fS,this.rowEditPositioningStrategy=new Zj({horizontalDirection:OE.Right,verticalDirection:PE.Bottom,horizontalStartPoint:OE.Left,verticalStartPoint:PE.Bottom,closeAnimation:null}),this.rowEditSettings={scrollStrategy:new XE,modal:!1,closeOnOutsideClick:!1,outlet:this.rowOutletDirective,positionStrategy:this.rowEditPositioningStrategy},this.transactionChange$=new ei,this._rendered=!1,this.DRAG_SCROLL_DELTA=10,this._dataCloneStrategy=new XC,this._autoSize=!1,this._sortHeaderIconTemplate=null,this._sortAscendingHeaderIconTemplate=null,this._sortDescendingHeaderIconTemplate=null,this._gridSize=ES,this._defaultRowHeight=50,this.isHorizontalScrollHidden=!1,this.preventContainerScroll=e=>{0!==e.target.scrollTop&&(this.verticalScrollContainer.addScroll(e.target.scrollTop),e.target.scrollTop=0),0!==e.target.scrollLeft&&(this.headerContainer.scrollPosition+=e.target.scrollLeft,e.target.scrollLeft=0)},this.locale=this.locale||this.localeId,this._transactions=this.transactionFactory.create("None"),this._transactions.cloneStrategy=this.dataCloneStrategy,this.cdr.detach(),Yj.register()}hideActionStrip(){this.actionStrip?.hide()}get headerFeaturesWidth(){return this._headerFeaturesWidth}isDetailRecord(e){return!1}isGroupByRecord(e){return!1}isGhostRecord(e){return void 0!==e.ghostRecord}isAddRowRecord(e){return void 0!==e.addRow}getDataViewIndex(e,t){return t&&!this.isRowPinningToTop?e+=this.unpinnedDataView.length:!t&&this.isRowPinningToTop&&(e+=this.pinnedDataView.length),e}get hasDetails(){return!1}get virtualizationState(){return this.verticalScrollContainer.state}hideOverlays(){this.overlayIDs.forEach((e=>{let t=this.overlayService.getOverlayById(e);t?.visible&&!t.closeAnimationPlayer?.hasStarted()&&(this.overlayService.hide(e),this.nativeElement.focus())}))}isRecordPinnedByViewIndex(e){return this.hasPinnedRecords&&this.isRowPinningToTop&&e<this.pinnedDataView.length||!this.isRowPinningToTop&&e>=this.unpinnedDataView.length}isRecordPinnedByIndex(e){return this.hasPinnedRecords&&this.isRowPinningToTop&&e<this._filteredSortedPinnedData.length||!this.isRowPinningToTop&&e>=this._filteredSortedUnpinnedData.length}isRecordPinned(e){return-1!==this.getInitialPinnedIndex(e)}getInitialPinnedIndex(e){let t=this.gridAPI.get_row_id(e);return this._pinnedRecordIDs.indexOf(t)}get hasPinnedRecords(){return this._pinnedRecordIDs.length>0}get pinnedRecordsCount(){return this._pinnedRecordIDs.length}get crudService(){return this.gridAPI.crudService}_setupServices(){this.gridAPI.grid=this,this.crudService.grid=this,this.selectionService.grid=this,this.validation.grid=this,this.navigation.grid=this,this.filteringService.grid=this,this.summaryService.grid=this}_setupListeners(){let e=mn(this.destroy$);en(this.nativeElement,"focusout").pipe(on((()=>!!this.navigation.activeNode)),e).subscribe((e=>{!this.crudService.cell&&this.navigation.activeNode&&(e.target===this.tbody.nativeElement&&this.navigation.activeNode.row>=0&&this.navigation.activeNode.row<this.dataView.length||e.target===this.theadRow.nativeElement&&-1===this.navigation.activeNode.row||e.target===this.tfoot.nativeElement&&this.navigation.activeNode.row===this.dataView.length)&&!(this.rowEditable&&this.crudService.rowEditingBlocked&&this.crudService.rowInEditMode)&&(this.navigation.lastActiveNode=this.navigation.activeNode,this.navigation.activeNode={},this.notifyChanges())})),this.rowAddedNotifier.pipe(e).subscribe((e=>this.refreshGridState(e))),this.rowDeletedNotifier.pipe(e).subscribe((e=>{this.summaryService.deleteOperation=!0,this.summaryService.clearSummaryCache(e)})),this.subscribeToTransactions(),this.resizeNotify.pipe(on((()=>!this._init)),yn(40,ui,{leading:!0,trailing:!0}),e).subscribe((()=>{this.zone.run((()=>{this.nativeElement.isConnected&&(this._gridSize!==this.gridSize&&(this._gridSize=this.gridSize,this.updateDefaultRowHeight(),this._autoSize=this.isPercentHeight&&this.calcHeight!==this.getDataBasedBodyHeight(),this.crudService.endEdit(!1),0===this._summaryRowHeight&&(this.summaryService.summaryHeight=0)),this.notifyChanges(!0))}))})),this.pipeTriggerNotifier.pipe(mn(this.destroy$)).subscribe((()=>this.pipeTrigger++)),this.columnMovingEnd.pipe(e).subscribe((()=>this.crudService.endEdit(!1))),this.overlayService.opening.pipe(e).subscribe((e=>{if(this._advancedFilteringOverlayId===e.id){let t=e.componentRef.instance;t&&t.initialize(this,this.overlayService,e.id)}})),this.overlayService.opened.pipe(e).subscribe((e=>{let t=this.overlayService.getOverlayById(e.id)?.settings;if(this._advancedFilteringOverlayId!==e.id)this.rowEditingOverlay?.overlayId!==e.id&&t?.outlet===this.outlet&&-1===this.overlayIDs.indexOf(e.id)&&this.overlayIDs.push(e.id);else{let t=e.componentRef.instance;t&&(t.lastActiveNode=this.navigation.activeNode,t.queryBuilder.setAddButtonFocus())}})),this.overlayService.closed.pipe(on((()=>!this._init)),e).subscribe((e=>{if(this._advancedFilteringOverlayId===e.id)return this.overlayService.detach(this._advancedFilteringOverlayId),void(this._advancedFilteringOverlayId=null);let t=this.overlayIDs.indexOf(e.id);-1!==t&&this.overlayIDs.splice(t,1)})),this.verticalScrollContainer.dataChanging.pipe(on((()=>!this._init)),e).subscribe((e=>{this.isPercentHeight&&(!this.calcHeight||this.calcHeight===this.getDataBasedBodyHeight()||this.calcHeight===this.renderedRowHeight*this._defaultTargetRecordNumber)&&(this.calculateGridHeight(),e.containerSize=this.calcHeight),this.evaluateLoadingState()})),this.verticalScrollContainer.scrollbarVisibilityChanged.pipe(on((()=>!this._init)),e).subscribe((()=>{this.notifyChanges(!0),this.cdr.detectChanges(),Promise.resolve().then((()=>this.headerContainer.updateScroll()))})),this.headerContainer?.scrollbarVisibilityChanged.pipe(on((()=>!this._init)),e).subscribe((()=>{this.notifyChanges(!0),this.cdr.detectChanges()})),this.verticalScrollContainer.contentSizeChange.pipe(on((()=>!this._init)),yn(30),e).subscribe((()=>{this.notifyChanges(!0)})),this._autoSizeColumnsNotify.pipe(yn(0,ui,{leading:!1,trailing:!0}),e).subscribe((()=>{this.autoSizeColumnsInView(),this._firstAutoResize=!1}))}ngOnInit(){this._setupServices(),this._setupListeners(),this.rowListDiffer=this.differs.find([]).create(null),this.columnListDiffer=this.differs.find([]).create(((e,t)=>t.field)),this.calcWidth=this.width&&-1===this.width.indexOf("%")?parseInt(this.width,10):0,this.shouldGenerate=this.autoGenerate,this.gridComputedStyles=this.document.defaultView.getComputedStyle(this.nativeElement)}resetColumnsCaches(){this._columns.forEach((e=>e.resetCaches()))}generateRowID(){let e=this._columns.find((e=>e.field===this.primaryKey));return"string"===(this.data.length?this.resolveDataTypes(this.data[0][this.primaryKey]):e?e.dataType:"string")?FU():fq--}resetForOfCache(){let e=this.dataRowList.first;e&&(this._cdrRequests&&e.virtDirRow.cdr.detectChanges(),e.virtDirRow.assumeMaster())}setFilteredData(e,t){if(this.hasPinnedRecords&&t){this._filteredPinnedData=e||[];let t=this._filteredUnpinnedData||[],i=[...this._filteredPinnedData,...t];this._filteredData=i.length>0?i:this._filteredUnpinnedData}else this.hasPinnedRecords&&!t?this._filteredUnpinnedData=e:this._filteredData=e}resetColumnCollections(){this.hasColumnLayouts&&this._columns.filter((e=>e.columnLayout)).forEach((e=>e.populateVisibleIndexes())),this._visibleColumns.length=0,this._pinnedVisible.length=0,this._unpinnedVisible.length=0}resetCachedWidths(){this._unpinnedWidth=NaN,this._pinnedWidth=NaN,this._totalWidth=NaN}resetCaches(e=!0){e&&(this._headerFeaturesWidth=NaN,this.summaryService.summaryHeight=0),this.resetColumnsCaches(),this.resetColumnCollections(),this.resetForOfCache(),this.resetCachedWidths(),this.hasVisibleColumns=void 0,this._columnGroups=this._columns.some((e=>e.columnGroup))}ngAfterContentInit(){this.sortHeaderIconDirectiveTemplate&&(this.sortHeaderIconTemplate=this.sortHeaderIconDirectiveTemplate),this.sortAscendingHeaderIconDirectiveTemplate&&(this.sortAscendingHeaderIconTemplate=this.sortAscendingHeaderIconDirectiveTemplate),this.sortDescendingHeaderIconDirectiveTemplate&&(this.sortDescendingHeaderIconTemplate=this.sortDescendingHeaderIconDirectiveTemplate),this.setupColumns(),this.toolbar.changes.pipe(on((()=>!this._init)),mn(this.destroy$)).subscribe((()=>this.notifyChanges(!0))),this.setUpPaginator(),this.paginationComponents.changes.pipe(mn(this.destroy$)).subscribe((()=>{this.setUpPaginator()})),this.actionStrip&&(this.actionStrip.menuOverlaySettings.outlet=this.outlet)}dataRebinding(e){0==e.state.chunkSize&&(this._shouldRecalcRowHeight=!0),this.dataChanging.emit(e)}dataRebound(e){this.selectionService.clearHeaderCBState(),this._shouldRecalcRowHeight&&(this._shouldRecalcRowHeight=!1,this.updateDefaultRowHeight()),this.dataChanged.emit(e)}createFilterDropdown(e,t){if(t.outlet=this.outlet,this.excelStyleFilteringComponent){this.excelStyleFilteringComponent.initialize(e,this.overlayService);let i=this.overlayService.attach(this.excelStyleFilteringComponent.element,t);return this.excelStyleFilteringComponent.overlayComponentId=i,i}return this.overlayService.attach(h$,this.viewRef,t)}setUpPaginator(){this.paginator?(this.paginator.pageChange.pipe(fn((()=>!!this.paginator)),on((()=>!this._init))).subscribe((()=>{this.selectionService.clear(!0),this.crudService.endEdit(!1),this.pipeTrigger++,this.navigateTo(0),this.notifyChanges()})),this.paginator.perPageChange.pipe(fn((()=>!!this.paginator)),on((()=>!this._init))).subscribe((()=>{this.selectionService.clear(!0),this.page=0,this.crudService.endEdit(!1),this.notifyChanges()}))):this.markForCheck()}setFilteredSortedData(e,t){e=e||[],this.pinnedRecordsCount>0?t?(this._filteredSortedPinnedData=e,this.pinnedRecords=e,this._filteredSortedData=this.isRowPinningToTop?[...this._filteredSortedPinnedData,...this._filteredSortedUnpinnedData]:[...this._filteredSortedUnpinnedData,...this._filteredSortedPinnedData],this.refreshSearch(!0,!1)):this._filteredSortedUnpinnedData=e:(this._filteredSortedData=e,this.refreshSearch(!0,!1)),this.buildDataView(e)}resetHorizontalVirtualization(){let e=e=>this.isDefined(e.nativeElement.parentElement);this._horizontalForOfs=[...this._dataRowList.filter(e).map((e=>e.virtDirRow)),...this._summaryRowList.filter(e).map((e=>e.virtDirRow))]}_setupRowObservers(){let e=e=>this.isDefined(e.nativeElement.parentElement),t=function(...e){return jt(e)}(Bi((t=>t.filter(e).map((e=>e.virtDirRow))))),i=t(this._dataRowList.changes),n=t(this._summaryRowList.changes);i.pipe(mn(this.destroy$)).subscribe((()=>{this.resetHorizontalVirtualization()})),n.pipe(mn(this.destroy$)).subscribe((()=>{this.resetHorizontalVirtualization()})),this.resetHorizontalVirtualization()}_zoneBegoneListeners(){this.zone.runOutsideAngular((()=>{this.verticalScrollContainer.getScroll().addEventListener("scroll",this.verticalScrollHandler.bind(this)),this.headerContainer?.getScroll().addEventListener("scroll",this.horizontalScrollHandler.bind(this)),this.hasColumnsToAutosize&&this.headerContainer?.dataChanged.pipe(mn(this.destroy$)).subscribe((()=>{this.cdr.detectChanges(),this.zone.onStable.pipe(un()).subscribe((()=>{this.autoSizeColumnsInView()}))})),IC(this.nativeElement).pipe(un(),mn(this.destroy$)).subscribe((()=>this.resizeNotify.next())),IC(this.tbodyContainer.nativeElement).pipe(mn(this.destroy$)).subscribe((()=>this.resizeNotify.next()))}))}ngAfterViewInit(){this.initPinning(),this.calculateGridSizes(),this._init=!1,this.cdr.reattach(),this._setupRowObservers(),this._zoneBegoneListeners(),this.verticalScrollContainer.displayContainer.addEventListener("scroll",this.preventContainerScroll.bind(this)),this._pinnedRowList.changes.pipe(mn(this.destroy$)).subscribe((e=>{this.onPinnedRowsChanged(e)})),this.addRowSnackbar?.clicked.subscribe((()=>{let e=this.filteredSortedData[this.lastAddedRowIndex];this.scrollTo(e,0),this.addRowSnackbar.close()})),this.rendered$.pipe(mn(this.destroy$)).subscribe((()=>{this.paginator&&(this.paginator.totalRecords=this.totalRecords?this.totalRecords:this.paginator.totalRecords,this.paginator.overlaySettings={outlet:this.outlet}),this.hasColumnsToAutosize&&this.autoSizeColumnsInView(),this._rendered=!0})),Promise.resolve().then((()=>this.rendered.next(!0)))}notifyChanges(e=!1){this._cdrRequests=!0,this._cdrRequestRepaint=e,this.cdr.markForCheck()}ngDoCheck(){if(!this._init){if(this._cdrRequestRepaint)return this.resetNotifyChanges(),this.calculateGridSizes(),void this.refreshSearch(!0);this._cdrRequests&&(this.resetNotifyChanges(),this.cdr.detectChanges())}}getDragGhostCustomTemplate(){return this.dragGhostCustomTemplate}ngOnDestroy(){this.tmpOutlets.forEach((e=>{e.cleanCache()})),this.destroy$.next(!0),this.destroy$.complete(),this.transactionChange$.next(),this.transactionChange$.complete(),this._destroyed=!0,this.textHighlightService.destroyGroup(this.id),this._advancedFilteringOverlayId&&(this.overlayService.detach(this._advancedFilteringOverlayId),delete this._advancedFilteringOverlayId),this.overlayIDs.forEach((e=>{let t=this.overlayService.getOverlayById(e);t&&!t.detached&&this.overlayService.detach(e)})),this.zone.runOutsideAngular((()=>{this.verticalScrollContainer?.getScroll()?.removeEventListener("scroll",this.verticalScrollHandler),this.headerContainer?.getScroll()?.removeEventListener("scroll",this.horizontalScrollHandler),this.verticalScrollContainer?.displayContainer?.removeEventListener("scroll",this.preventContainerScroll)}))}toggleColumnVisibility(e){let t=e.column?this._columns.find((t=>t===e.column)):void 0;t&&t.toggleVisibility(e.newValue)}get expansionStates(){return this._expansionStates}set expansionStates(e){this._expansionStates=new Map(e),this.expansionStatesChange.emit(this._expansionStates),this.notifyChanges(!0),this.gridAPI.grid&&this.cdr.detectChanges()}expandAll(){this._defaultExpandState=!0,this.expansionStates=new Map}collapseAll(){this._defaultExpandState=!1,this.expansionStates=new Map}expandRow(e){this.gridAPI.set_row_expansion_state(e,!0)}collapseRow(e){this.gridAPI.set_row_expansion_state(e,!1)}toggleRow(e){let t=this.gridAPI.get_rec_by_id(e),i=this.gridAPI.get_row_expansion_state(t);this.gridAPI.set_row_expansion_state(e,!i)}getDefaultExpandState(e){return this._defaultExpandState}get nativeElement(){return this.elementRef.nativeElement}get outlet(){return this.resolveOutlet()}set outlet(e){this._userOutletDirective=e}get defaultRowHeight(){return this._defaultRowHeight}get defaultSummaryHeight(){switch(this.gridSize){case IS:return 30;case DS:return 24;default:return 36}}get defaultHeaderGroupMinWidth(){switch(this.gridSize){case IS:return 32;case DS:return 24;default:return 48}}get pinnedWidth(){return isNaN(this._pinnedWidth)?(this._pinnedWidth=this.getPinnedWidth(),this._pinnedWidth):this._pinnedWidth}get unpinnedWidth(){return isNaN(this._unpinnedWidth)?(this._unpinnedWidth=this.getUnpinnedWidth(),this._unpinnedWidth):this._unpinnedWidth}getHeaderCellWidth(e){let t=this.document.createRange(),i=this.platform.getNodeSizeViaRange(t,e,e.parentElement),n=this.document.defaultView.getComputedStyle(e),r=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderRightWidth),s=this.document.defaultView.getComputedStyle(e.parentElement),o=parseFloat(s.borderRightWidth)+parseFloat(s.borderLeftWidth);return{width:Math.ceil(i),padding:Math.ceil(r+o)}}featureColumnsWidth(e){if(Number.isNaN(this._headerFeaturesWidth)){let t=this.headerSelectorContainer?.nativeElement?.getBoundingClientRect?this.headerSelectorContainer.nativeElement.getBoundingClientRect().width:0,i=this.rowDraggable&&this.headerDragContainer?.nativeElement?.getBoundingClientRect?this.headerDragContainer.nativeElement.getBoundingClientRect().width:0,n=this.headerGroupContainer?.nativeElement?.getBoundingClientRect?this.headerGroupContainer.nativeElement.getBoundingClientRect().width:0,r=e?.nativeElement?.getBoundingClientRect?e.nativeElement.getBoundingClientRect().width:0;this._headerFeaturesWidth=t+i+n+r}return this._headerFeaturesWidth}get summariesMargin(){return this.featureColumnsWidth()}get columns(){return this._columns||[]}get pinnedColumns(){return this._pinnedVisible.length||(this._pinnedVisible=this._pinnedColumns.filter((e=>!e.hidden))),this._pinnedVisible}get pinnedRows(){return this._pinnedRowList.toArray().sort(((e,t)=>e.index-t.index))}get unpinnedColumns(){return this._unpinnedVisible.length||(this._unpinnedVisible=this._unpinnedColumns.filter((e=>!e.hidden))),this._unpinnedVisible}getHeaderGroupWidth(e){return this.hasColumnLayouts?"":`${Math.max(parseFloat(e.calcWidth),this.defaultHeaderGroupMinWidth)}px`}getColumnByName(e){return this._columns.find((t=>t.field===e))}getColumnByVisibleIndex(e){return this.visibleColumns.find((t=>!t.columnGroup&&!t.columnLayout&&t.visibleIndex===e))}recalculateAutoSizes(){this._columns.forEach((e=>e.autoSize=void 0)),this.resetCaches(),this.zone.onStable.pipe(un()).subscribe((()=>{this.cdr.detectChanges(),this.autoSizeColumnsInView()}))}get visibleColumns(){return this._visibleColumns.length||(this._visibleColumns=this._columns.filter((e=>!e.hidden))),this._visibleColumns}get totalRecords(){return this._totalRecords>=0?this._totalRecords:this.pagingState?.metadata.countRecords}set totalRecords(e){e>=0&&(this.paginator&&(this.paginator.totalRecords=e),this._totalRecords=e,this.pipeTrigger++,this.notifyChanges())}get totalWidth(){if(!isNaN(this._totalWidth))return this._totalWidth;let e=this.visibleColumns.filter((e=>0===e.level&&!e.pinned)),t=0,i=0;for(;i<e.length;i++)t+=parseInt(e[i].calcWidth,10)||0;return this._totalWidth=t,t}get showRowSelectors(){return this.isRowSelectable&&this.hasVisibleColumns&&!this.hideRowSelectors}get showAddButton(){return this.rowEditable&&0===this.dataView.length&&this._columns.length>0}get showDragIcons(){return this.rowDraggable&&this._columns.length>this.hiddenColumnsCount}_getDataViewIndex(e){let t=e;return(e<0||e>=this.dataView.length)&&1===this.pagingMode&&0!==this.page?t=e-this.perPage*this.page:this.gridAPI.grid.verticalScrollContainer.isRemote&&(t=e-this.gridAPI.grid.virtualizationState.startIndex),t}getDataIndex(e){let t=e;return this.gridAPI.grid.verticalScrollContainer.isRemote&&(t=e+this.gridAPI.grid.virtualizationState.startIndex),t}moveColumn(e,t,i=NM.AfterDropTarget){let n={source:e,target:t,cancel:!1};if(this.columnMovingEnd.emit(n),!n.cancel&&e!==t&&e.level===t.level&&e.topLevelParent===t.topLevelParent){if(e.level&&this._moveChildColumns(e.parent,e,t,i),t.pinned&&!e.pinned){let n=this._pinnedColumns.indexOf(t),r=i===NM.AfterDropTarget?n+1:n;e.pin(r)}if(!t.pinned&&e.pinned){let n=this._unpinnedColumns.indexOf(t),r=i===NM.AfterDropTarget?n+1:n;e.unpin(r)}this._moveColumns(e,t,i),this._columnsReordered(e)}}markForCheck(){this.pipeTrigger++,this.cdr.detectChanges()}addRow(e){this.crudService.endEdit(!0),this.gridAPI.addRowToData(e),this.pipeTrigger++,this.rowAddedNotifier.next({data:e,rowData:e,owner:this,primaryKey:e[this.primaryKey],rowKey:e[this.primaryKey]}),this.notifyChanges()}deleteRow(e){if(void 0!==this.primaryKey&&null!==this.primaryKey)return this.deleteRowById(e)}deleteRowById(e){let t={rowID:e,primaryKey:e,rowKey:e,rowData:this.getRowData(e),data:this.getRowData(e),oldValue:this.getRowData(e),owner:this,isAddRow:!1,cancel:!1};if(this.rowDelete.emit(t),t.cancel)return;let i=this.gridAPI.deleteRowById(e);if(null!=i){let e={data:i,rowData:i,owner:this,primaryKey:i[this.primaryKey],rowKey:i[this.primaryKey]};this.rowDeleted.emit(e)}return i}updateCell(e,t,i){if(this.isDefined(this.primaryKey)){let n=this._columns.find((e=>e.field===i));if(n){let i=this.gridAPI.getRowData(t),r=this.gridAPI.get_row_index_in_data(t);if(r<0)return;let s={rowID:t,columnID:n.index,rowIndex:r},o=new Qk(s,r,n,i[n.field],e,i,this);this.validation.getFormControl(o.id.rowID,o.column.field).setValue(e),this.gridAPI.update_cell(o),this.cdr.detectChanges()}}}updateRow(e,t){if(this.isDefined(this.primaryKey)){let i=this.crudService.cell;i&&i.id.rowID===t&&this.crudService.endCellEdit();let n=new Xk(t,-1,this.gridAPI.getRowData(t),this);this.gridAPI.update_row(n,e),this.notifyChanges()}}getRowData(e){if(!this.primaryKey)return e;let t=this.gridAPI.get_all_data(this.transactions.enabled),i=this.gridAPI.get_row_index_in_data(e);return i<0?{}:t[i]}sort(e){let t=lC(this.sortingExpressions);if(e instanceof Array)for(let i of e)this.gridAPI.prepare_sorting_expression([t],i);else"single"===this._sortingOptions.mode&&this._columns.forEach((t=>{t.field!==e.fieldName&&this.clearSort(t.field)})),this.gridAPI.prepare_sorting_expression([t],e);let i={owner:this,sortingExpressions:t,cancel:!1};this.sorting.emit(i),!i.cancel&&(this.crudService.endEdit(!1),e instanceof Array?this.gridAPI.sort_multiple(e):this.gridAPI.sort(e),requestAnimationFrame((()=>this.sortingDone.emit(e))))}filter(e,t,i,n){this.filteringService.filter(e,t,i,n)}filterGlobal(e,t,i){this.filteringService.filterGlobal(e,t,i)}enableSummaries(...e){1===e.length&&Array.isArray(e[0])?this._multipleSummaries(e[0],!0):this._summaries(e[0],!0,e[1])}disableSummaries(...e){1===e.length&&Array.isArray(e[0])?this._disableMultipleSummaries(e[0]):this._summaries(e[0],!1)}clearFilter(e){this.filteringService.clearFilter(e)}clearSort(e){e?this.gridAPI.get_column_by_name(e)&&this.gridAPI.clear_sort(e):this.sortingExpressions=[]}refreshGridState(e){this.crudService.endEdit(!0),this.selectionService.clearHeaderCBState(),this.summaryService.clearSummaryCache(),this.summaryPipeTrigger++,this.cdr.detectChanges()}pinColumn(e,t){return(e instanceof zM?e:this.getColumnByName(e)).pin(t)}unpinColumn(e,t){return(e instanceof zM?e:this.getColumnByName(e)).unpin(t)}pinRow(e,t,i){if(-1!==this._pinnedRecordIDs.indexOf(e))return!1;let n=this.gridAPI.get_pin_row_event_args(e,t,i,!0);if(this.rowPinning.emit(n),n.cancel)return;this.crudService.endEdit(!1);let r="number"==typeof n.insertAtIndex?n.insertAtIndex:this._pinnedRecordIDs.length;return this._pinnedRecordIDs.splice(r,0,e),this.pipeTrigger++,this.gridAPI.grid&&(this.cdr.detectChanges(),this.rowPinned.emit(n)),!0}unpinRow(e,t){let i=this._pinnedRecordIDs.indexOf(e);if(-1===i)return!1;let n=this.gridAPI.get_pin_row_event_args(e,null,t,!1);return this.rowPinning.emit(n),n.cancel?void 0:(this.crudService.endEdit(!1),this._pinnedRecordIDs.splice(i,1),this.pipeTrigger++,this.gridAPI.grid&&(this.cdr.detectChanges(),this.rowPinned.emit(n)),!0)}get pinnedRowHeight(){let e=this.pinContainer?this.pinContainer.nativeElement.offsetHeight:0;return this.hasPinnedRecords?e:0}get totalHeight(){return this.calcHeight?this.calcHeight+this.pinnedRowHeight:this.calcHeight}reflow(){this.calculateGridSizes()}findNext(e,t,i){return this.find(e,1,t,i)}findPrev(e,t,i){return this.find(e,-1,t,i)}refreshSearch(e,t=!0){if(this._lastSearchInfo.searchText){if(this.rebuildMatchCache(),e){let e=this.textHighlightService.highlightGroupsMap.get(this.id);this._lastSearchInfo.matchInfoCache.forEach(((t,i)=>{t.column===e.column&&t.row===e.row&&t.index===e.index&&EC(t.metadata,e.metadata)&&(this._lastSearchInfo.activeMatchIndex=i)}))}return this.find(this._lastSearchInfo.searchText,0,this._lastSearchInfo.caseSensitive,this._lastSearchInfo.exactMatch,!1,t)}return 0}clearSearch(){this._lastSearchInfo={searchText:"",caseSensitive:!1,exactMatch:!1,activeMatchIndex:0,matchInfoCache:[],matchCount:0,content:""},this.rowList.forEach((e=>{e.cells&&e.cells.forEach((e=>{e.clearHighlight()}))}))}get hasEditableColumns(){return this._columns.some((e=>e.editable))}get hasSummarizedColumns(){return this._columns.filter((e=>e.hasSummary&&!e.hidden)).length>0}get rootSummariesEnabled(){return this.summaryCalculationMode!==pS}get hasVisibleColumns(){return void 0===this._hasVisibleColumns?!!this._columns&&this._columns.some((e=>!e.hidden)):this._hasVisibleColumns}set hasVisibleColumns(e){this._hasVisibleColumns=e}get hasMovableColumns(){return this.moving}get hasColumnGroups(){return this._columnGroups}get hasColumnLayouts(){return!!this._columns.some((e=>e.columnLayout))}get multiRowLayoutRowSize(){return this._multiRowLayoutRowSize}get rowBasedHeight(){return this.dataLength*this.rowHeight}get isPercentWidth(){return this.width&&-1!==this.width.indexOf("%")}get isPercentHeight(){return this._height&&-1!==this._height.indexOf("%")}get defaultTargetBodyHeight(){let e=this.dataLength;return this.renderedActualRowHeight*Math.min(this._defaultTargetRecordNumber,this.paginator?Math.min(e,this.paginator.perPage):e)}get renderedRowHeight(){return this.rowHeight+1}get outerWidth(){return this.hasVerticalScroll()?this.calcWidth+this.scrollSize:this.calcWidth}get gridSize(){return this.gridComputedStyles?.getPropertyValue("--component-size")||ES}getVisibleContentHeight(){let e=this.theadRow.nativeElement.clientHeight+this.tbody.nativeElement.clientHeight;return this.hasSummarizedColumns&&(e+=this.tfoot.nativeElement.clientHeight),e}getPossibleColumnWidth(e=null){let t;t=null!==e?e:this.calcWidth||parseInt(this.document.defaultView.getComputedStyle(this.nativeElement).getPropertyValue("width"),10);let i=this.visibleColumns.filter((e=>!e.columnGroup)),n=[],r=this.visibleColumns.filter((e=>e.columnGroup)).map((e=>e.getInitialChildColumnSizes(e.children))),s=r.reduce(((e,t)=>e+t.length),0);r.forEach((e=>n=n.concat(e)));let o=this.hasColumnLayouts?n.filter((e=>e.widthSetByUser)):i.filter((e=>e.widthSetByUser&&"fit-content"!==e.width)),a=this.hasColumnLayouts?s-o.length:i.length-o.length,l=o.reduce(((e,i)=>{let n=i.width,r=parseInt(n,10);return isNaN(r)&&(r=136),e+(n&&"string"==typeof n&&-1!==n.indexOf("%")?r/100*t:r)}),0);return l||a?(t-=this.featureColumnsWidth(),Math.floor(Number.isFinite(l)?Math.max((t-l)/a,this.minColumnWidth):Math.max(t/a,this.minColumnWidth))+"px"):"0px"}hasVerticalScroll(){if(this._init)return!1;let e=!!this.verticalScrollContainer&&this.verticalScrollContainer.isScrollable();return!!(this.calcWidth&&this.dataView&&this.dataView.length>0&&e)}getPinnedWidth(e=!1){let t=e?this._pinnedColumns:this.pinnedColumns,i=0;for(let e of t)0===e.level&&(i+=parseInt(e.calcWidth,10));return this.isPinningToStart&&(i+=this.featureColumnsWidth()),i}isColumnGrouped(e){return!1}onHeaderSelectorClick(e){this.isMultiRowSelectionEnabled&&(this.selectionService.areAllRowSelected()?this.selectionService.clearRowSelection(e):this.selectionService.selectAllRows(e))}get headSelectorBaseAriaLabel(){return this._filteringExpressionsTree.filteringOperands.length>0?this.selectionService.areAllRowSelected()?"Deselect all filtered":"Select all filtered":this.selectionService.areAllRowSelected()?"Deselect all":"Select all"}get totalRowsCountAfterFilter(){return this.data?this.selectionService.allData.length:0}get pinnedDataView(){return this.pinnedRecords?this.pinnedRecords:[]}get unpinnedDataView(){return this.unpinnedRecords?this.unpinnedRecords:this.verticalScrollContainer?.igxForOf||[]}get dataView(){return this._dataView}get selectRowOnClick(){return this._selectRowOnClick}set selectRowOnClick(e){this._selectRowOnClick=e}selectRows(e,t){this.selectionService.selectRowsWithNoEvent(e,t),this.notifyChanges()}deselectRows(e){this.selectionService.deselectRowsWithNoEvent(e),this.notifyChanges()}selectAllRows(e=!0){let t=e&&this.filteredData?this.filteredData:this.gridAPI.get_all_data(!0),i=this.selectionService.getRowIDs(t).filter((e=>!this.gridAPI.row_deleted_transaction(e)));this.selectRows(i)}deselectAllRows(e=!0){e&&this.filteredData&&this.filteredData.length>0?this.deselectRows(this.selectionService.getRowIDs(this.filteredData)):(this.selectionService.clearAllSelectedRows(),this.notifyChanges())}clearCellSelection(){this.selectionService.clear(!0),this.notifyChanges()}dragScroll(e){let t=this.headerContainer.getScroll(),i=this.verticalScrollContainer.getScroll(),{left:n,top:r}=e;t.scrollLeft+=n*this.DRAG_SCROLL_DELTA,i.scrollTop+=r*this.DRAG_SCROLL_DELTA}isDefined(e){return null!=e}selectRange(e){this.isDefined(e)?(e instanceof Array?e.forEach((e=>this.setSelection(e))):this.setSelection(e),this.notifyChanges()):this.clearCellSelection()}columnToVisibleIndex(e){let t=this.visibleColumns;return"number"==typeof e?e:t.find((t=>t.field===e)).visibleIndex}setSelection(e){let t={row:e.rowStart,column:this.columnToVisibleIndex(e.columnStart)},i={row:e.rowEnd,column:this.columnToVisibleIndex(e.columnEnd)};this.selectionService.pointerState.node=t,this.selectionService.selectRange(i,this.selectionService.pointerState),this.selectionService.addRangeMeta(i,this.selectionService.pointerState),this.selectionService.initPointerState()}getSelectedRanges(){return this.selectionService.ranges}getSelectedData(e=!1,t=!1){let i=this.filteredSortedData;return this.extractDataFromSelection(i,e,t)}selectedColumns(){return this.selectionService.getSelectedColumns().map((e=>this.getColumnByName(e))).filter((e=>e))}selectColumns(e,t){let i=[];0===e.length||"string"==typeof e[0]?i=e:e.forEach((e=>{if(e.columnGroup){let t=e.allChildren.filter((e=>!e.columnGroup)).map((e=>e.field));i=[...i,...t]}else i.push(e.field)})),this.selectionService.selectColumnsWithNoEvent(i,t),this.notifyChanges()}deselectColumns(e){let t=[];0===e.length||"string"==typeof e[0]?t=e:e.forEach((e=>{if(e.columnGroup){let i=e.allChildren.filter((e=>!e.columnGroup)).map((e=>e.field));t=[...t,...i]}else t.push(e.field)})),this.selectionService.deselectColumnsWithNoEvent(t),this.notifyChanges()}deselectAllColumns(){this.selectionService.clearAllSelectedColumns(),this.notifyChanges()}selectAllColumns(){this.selectColumns(this._columns.filter((e=>!e.columnGroup)))}getSelectedColumnsData(e=!1,t=!1){let i=this.filteredSortedData?this.filteredSortedData:this.data;return this.extractDataFromColumnsSelection(i,e,t)}combineSelectedCellAndColumnData(e,t=!1,i=!1){let n=this.filteredSortedData;return this.extractDataFromSelection(n,t,i,e)}copyHandler(e){let t=e.composedPath().map((e=>e.tagName?.toLowerCase()));if(t.includes("igx-grid-filtering-row")||t.includes("igx-grid-filtering-cell"))return;let i,n=this.gridAPI.grid.selectedColumns(),r=this.getSelectedColumnsData(this.clipboardOptions.copyFormatters,this.clipboardOptions.copyHeaders);"copy"===e.type&&(i=this.getSelectedData(this.clipboardOptions.copyFormatters,this.clipboardOptions.copyHeaders));let s,o=[];if("KeyC"===e.code&&(e.ctrlKey||e.metaKey)&&"igx-grid-thead__wrapper"===e.currentTarget.className)i.length?0===r.length?s=this.prepareCopyData(e,i):(o=this.combineSelectedCellAndColumnData(r,this.clipboardOptions.copyFormatters,this.clipboardOptions.copyHeaders),s=this.prepareCopyData(e,o[0],o[1])):(o=r,s=this.prepareCopyData(e,o)),navigator.clipboard.writeText(s).then().catch((e=>console.error(e)));else{if(!this.clipboardOptions.enabled||this.crudService.cellInEditMode||"keydown"===e.type)return;n.length?(o=this.combineSelectedCellAndColumnData(r,this.clipboardOptions.copyFormatters,this.clipboardOptions.copyHeaders),s=this.prepareCopyData(e,o[0],o[1])):(o=i,s=this.prepareCopyData(e,o)),e.clipboardData.setData("text/plain",s)}}prepareCopyData(e,t,i){let n={data:t,cancel:!1};if(this.gridCopy.emit(n),n.cancel)return;let r=new LS(n.data,this.clipboardOptions.separator),s=i?r.prepareData(i):r.prepareData();return this.clipboardOptions.copyHeaders||(s=s.substring(s.indexOf("\n")+1)),t&&t.length>0&&1===Object.values(t[0]).length&&(s=s.slice(0,-2)),e.preventDefault(),e.stopPropagation(),s}showSnackbarFor(e){this.addRowSnackbar.actionText=-1===e?"":this.resourceStrings.igx_grid_snackbar_addrow_actiontext,this.lastAddedRowIndex=e,this.addRowSnackbar.open()}navigateTo(e,t=-1,i=null){let n=this.totalItemCount??this.dataView.length-1;if(e<0||e>n||-1!==t&&-1===this._columns.map((e=>e.visibleIndex)).indexOf(t))return;this.dataView.slice(e,e+1).find((e=>e.expression||e.childGridsData))&&(t=-1);let r=this.navigation.shouldPerformVerticalScroll(e,t),s=this.navigation.shouldPerformHorizontalScroll(t,e);r?this.navigation.performVerticalScrollToCell(e,t,(()=>{s?this.navigation.performHorizontalScrollToCell(t,(()=>this.executeCallback(e,t,i))):this.executeCallback(e,t,i)})):s?this.navigation.performHorizontalScrollToCell(t,(()=>{r?this.navigation.performVerticalScrollToCell(e,t,(()=>this.executeCallback(e,t,i))):this.executeCallback(e,t,i)})):this.executeCallback(e,t,i)}getNextCell(e,t,i=null){let n=this._columns.filter((e=>!e.columnGroup&&e.visibleIndex>=0)),r=this._getDataViewIndex(e);if(!this.isValidPosition(r,t))return{rowIndex:e,visibleColumnIndex:t};let s=i?n.filter((e=>i(e))).map((e=>e.visibleIndex)).sort(((e,t)=>e-t)):n.map((e=>e.visibleIndex)).sort(((e,t)=>e-t)),o=s.find((e=>e>t));if(this.dataView.slice(r,r+1).find((e=>!(e.expression||e.summaries||e.childGridsData||e.detailsData)))&&void 0!==o)return{rowIndex:e,visibleColumnIndex:o};{let i=this.getNextDataRowIndex(e);return 0===s.length||i===e?{rowIndex:e,visibleColumnIndex:t}:{rowIndex:i,visibleColumnIndex:s[0]}}}getPreviousCell(e,t,i=null){let n=this._columns.filter((e=>!e.columnGroup&&e.visibleIndex>=0)),r=this._getDataViewIndex(e);if(!this.isValidPosition(r,t))return{rowIndex:e,visibleColumnIndex:t};let s=i?n.filter((e=>i(e))).map((e=>e.visibleIndex)).sort(((e,t)=>t-e)):n.map((e=>e.visibleIndex)).sort(((e,t)=>t-e)),o=s.find((e=>e<t));if(this.dataView.slice(r,r+1).find((e=>!(e.expression||e.summaries||e.childGridsData||e.detailsData)))&&void 0!==o)return{rowIndex:e,visibleColumnIndex:o};{let i=this.getNextDataRowIndex(e,!0);return 0===s.length||i===e?{rowIndex:e,visibleColumnIndex:t}:{rowIndex:i,visibleColumnIndex:s[0]}}}endRowEditTabStop(e=!0,t){if(this.crudService.endEdit(e,t))return!0;let i=this.gridAPI.grid.navigation.activeNode;i&&-1!==i.row&&this.tbody.nativeElement.focus()}trackColumnChanges(e,t){return t.field+t._calcWidth}isExpandedGroup(e){}openRowOverlay(e){this.configureRowEditingOverlay(e,this.rowList.length<=2),this.rowEditingOverlay.open(this.rowEditSettings),this.rowEditingOverlay.element.addEventListener("wheel",this.rowEditingWheelHandler.bind(this))}closeRowEditingOverlay(){this.rowEditingOverlay.element.removeEventListener("wheel",this.rowEditingWheelHandler),this.rowEditPositioningStrategy.isTopInitialPosition=null,this.rowEditingOverlay.close(),this.rowEditingOverlay.element.parentElement.style.display=""}toggleRowEditingOverlay(e){this.rowEditingOverlay.element.style.display=e?"block":"none"}repositionRowEditingOverlay(e){if(e&&!this.rowEditingOverlay.collapsed){let t=this.rowEditingOverlay.element.parentElement.style;e?(t.display="",this.configureRowEditingOverlay(e.key),this.rowEditingOverlay.reposition()):t.display="none"}}cachedViewLoaded(e){if(this.hasHorizontalScroll()){let t=e.context.templateID.type,i=e.context.index;e.view.detectChanges(),this.zone.onStable.pipe(un()).subscribe((()=>{let e="dataRow"===t?this.gridAPI.get_row_by_index(i):null,n="summaryRow"===t?this.summariesRowList.find((e=>e.dataRowIndex===i)):null;e&&e instanceof bO?this._restoreVirtState(e):n&&this._restoreVirtState(n)}))}}openAdvancedFilteringDialog(e){let t=e||this._advancedFilteringOverlaySettings;this._advancedFilteringOverlayId||(this._advancedFilteringOverlaySettings.target=this.rootGrid?this.rootGrid.nativeElement:this.nativeElement,this._advancedFilteringOverlaySettings.outlet=this.outlet,this._advancedFilteringOverlayId=this.overlayService.attach(dH,this.viewRef,t),this.overlayService.show(this._advancedFilteringOverlayId))}closeAdvancedFilteringDialog(e){if(this._advancedFilteringOverlayId){let t=this.overlayService.getOverlayById(this._advancedFilteringOverlayId).componentRef.instance;e&&t.applyChanges(),t.closeDialog()}}getEmptyRecordObjectFor(e){let t=ke({},e?.data);Object.keys(t).forEach((e=>t[e]=void 0));let i=this.generateRowID();return t[this.primaryKey]=i,{rowID:i,data:t,recordRef:t}}hasHorizontalScroll(){return this.totalWidth-this.unpinnedWidth>0&&null!==this.width}isSummaryRow(e){return e&&e.summaries&&e.summaries instanceof Map}triggerPipes(){this.pipeTrigger++,this.cdr.detectChanges()}rowEditingWheelHandler(e){e.deltaY>0?this.verticalScrollContainer.scrollNext():this.verticalScrollContainer.scrollPrev()}getUnpinnedIndexById(e){return this.unpinnedRecords.findIndex((t=>t[this.primaryKey]===e))}endEdit(e=!0,t){return this.crudService.endEdit(e,t)}beginAddRowById(e,t){let i=e;if(null==e){if(t)return void console.warn("The record cannot be added as a child to an unspecified record.");i=null}else if(i=this.gridAPI.get_rec_index_by_id(e,this.dataView),-1===i)return void console.warn("No row with the specified ID was found.");this._addRowForIndex(i,t)}_addRowForIndex(e,t){if(this.dataView.length)if(e>=0&&e<this.dataView.length){if((e<this.virtualizationState.startIndex||e>=this.virtualizationState.startIndex+this.virtualizationState.chunkSize)&&!this.isRecordPinnedByViewIndex(e))return this.verticalScrollContainer.chunkLoad.pipe(un(),mn(this.destroy$)).subscribe((()=>{this.beginAddRowForIndex(e,t)})),this.navigateTo(e),void this.notifyChanges(!0);this.beginAddRowForIndex(e,t)}else console.warn("The row with the specified PK or index is outside of the current data view.");else this.beginAddRowForIndex(e,t)}beginAddRowByIndex(e){return 0===e?this.beginAddRowById(null):this._addRowForIndex(e-1)}preventHeaderScroll(e){0!==e.target.scrollLeft&&(this.navigation.forOfDir().getScroll().scrollLeft=e.target.scrollLeft,e.target.scrollLeft=0)}beginAddRowForIndex(e,t=!1){let i=null==e?null:this.rowList.find((t=>t.index===e));void 0!==i?this.crudService.enterAddRowMode(i,t):console.warn("No row with the specified PK or index was found.")}switchTransactionService(e){this._transactions=e?this.transactionFactory.create("Base"):this.transactionFactory.create("None"),this.dataCloneStrategy&&(this._transactions.cloneStrategy=this.dataCloneStrategy)}subscribeToTransactions(){this.transactionChange$.next(),this.transactions.onStateUpdate.pipe(mn(sn(this.destroy$,this.transactionChange$))).subscribe(this.transactionStatusUpdate.bind(this))}transactionStatusUpdate(e){let t=[];if(e.origin===NC.REDO?t=e.actions?e.actions.filter((e=>e.transaction.type===MC.DELETE)):[]:e.origin===NC.UNDO&&(t=e.actions?e.actions.filter((e=>e.transaction.type===MC.ADD)):[]),t.length>0)for(let e of t)this.selectionService.isRowSelected(e.transaction.id)&&this.selectionService.deselectRow(e.transaction.id);(e.origin===NC.REDO||e.origin===NC.UNDO)&&e.actions.forEach((e=>{if(e.transaction.type===MC.UPDATE){let t=this.transactions.getAggregatedValue(e.transaction.id,!0);this.validation.update(e.transaction.id,t??e.recordRef)}else if(e.transaction.type===MC.DELETE||e.transaction.type===MC.ADD){let t=this.transactions.getAggregatedValue(e.transaction.id,!0);t?(this.validation.create(e.transaction.id,t??e.recordRef),this.validation.update(e.transaction.id,t??e.recordRef),this.validation.markAsTouched(e.transaction.id)):this.validation.clear(e.transaction.id)}})),this.selectionService.clearHeaderCBState(),this.summaryService.clearSummaryCache(),this.pipeTrigger++,this.notifyChanges()}writeToData(e,t){cC(this.gridAPI.get_all_data()[e],t)}_restoreVirtState(e){let t=e.virtDirRow,i=t.getScroll().scrollLeft;t.onHScroll(i),t.cdr.detectChanges()}changeRowEditingOverlayStateOnScroll(e){!this.rowEditable||!this.rowEditingOverlay||this.rowEditingOverlay.collapsed||(e?this.repositionRowEditingOverlay(e):this.toggleRowEditingOverlay(!1))}evaluateLoadingState(){if(this.shouldOverlayLoading){let e={outlet:this.loadingOutlet,closeOnOutsideClick:!1,positionStrategy:new KE};this.loadingOverlay.open(e)}else this.loadingOverlay.close()}calculateGridWidth(){let e;if(this.isPercentWidth){let t=this.document.defaultView.getComputedStyle(this.nativeElement).getPropertyValue("width");e=-1===t.indexOf("%")?parseFloat(t):null}else e=parseInt(this.width,10);!e&&this.nativeElement&&(e=this.nativeElement.offsetWidth),(null===this.width||!e)&&(e=this.getColumnWidthSum()),this.hasVerticalScroll()&&null!==this.width&&(e-=this.scrollSize),(Number.isFinite(e)||null===e)&&e!==this.calcWidth&&(this.calcWidth=e),this._derivePossibleWidth()}_derivePossibleWidth(){this.columnWidthSetByUser||(this._columnWidth=null!==this.width?this.getPossibleColumnWidth():this.minColumnWidth+"px"),this._columns.forEach((e=>{if(this.hasColumnLayouts&&parseInt(this._columnWidth,10)){let t=parseInt(this._columnWidth,10)*(e.colEnd?e.colEnd-e.colStart:1);e.defaultWidth=t+"px"}else e.defaultWidth=this.getExtremumBasedColWidth(e),e.resetCaches()})),this.resetCachedWidths()}getExtremumBasedColWidth(e){let t=this._columnWidth;t&&"string"!=typeof t&&(t=String(t));let i=-1===t.indexOf("%")?e.minWidthPx:e.minWidthPercent,n=-1===t.indexOf("%")?e.maxWidthPx:e.maxWidthPercent;return e.hidden||(i>parseFloat(t)?t=String(e.minWidth):n<parseFloat(t)&&(t=String(e.maxWidth)),-1===t.indexOf("%")&&-1===t.indexOf("px")&&(t+="px")),t}resetNotifyChanges(){this._cdrRequestRepaint=!1,this._cdrRequests=!1}resolveOutlet(){return this._userOutletDirective?this._userOutletDirective:this._outletDirective}_moveColumns(e,t,i){let n=this._pinnedColumns.concat(this._unpinnedColumns);this._reorderColumns(e,t,i,n);let r=this._resetColumnList(n);this.updateColumns(r)}updateColumns(e){this._pinnedColumns=e.filter((e=>e.pinned)),this._unpinnedColumns=e.filter((e=>!e.pinned)),this._columns=e,this.resetCaches()}_resetColumnList(e){e||(e=this._columns);let t=[];return e.filter((e=>0===e.level)).forEach((e=>{t.push(e),e.columnGroup&&(t=t.concat(e.allChildren))})),t}_reorderColumns(e,t,i,n,r=!1){let s=n.indexOf(e),o=r?1:e.allChildren.length+1;n.splice(s,o);let a=n.indexOf(t);i===NM.AfterDropTarget&&(a++,!r&&t.columnGroup&&(a+=t.allChildren.length)),n.splice(a,0,e)}_moveChildColumns(e,t,i,n){let r=e.children.toArray();this._reorderColumns(t,i,n,r,!0),e.children.reset(r)}setupColumns(){this.autoGenerate?this.autogenerateColumns():this._columns=this.getColumnList(),this.initColumns(this._columns,(e=>this.columnInit.emit(e))),this.columnListDiffer.diff(this.columnList),this.columnList.changes.pipe(mn(this.destroy$)).subscribe((e=>{this.onColumnsChanged(e)}))}getColumnList(){return this.columnList.toArray()}deleteRowFromData(e,t){if(-1!==t)if(this.transactions.enabled){let i={id:e,type:MC.DELETE,newValue:null};this.transactions.add(i,this.data[t])}else this.data.splice(t,1);else{let t=this.transactions.getState(e);this.transactions.add({id:e,type:MC.DELETE,newValue:null},t&&t.recordRef)}}getDataBasedBodyHeight(){return!this.data||this.data.length<this._defaultTargetRecordNumber?0:this.defaultTargetBodyHeight}onPinnedRowsChanged(e){this.rowListDiffer.diff(e)&&this.notifyChanges(!0)}onColumnsChanged(e){let t=this.columnListDiffer.diff(e);if(this.autoGenerate&&0===this._columns.length&&this._autoGeneratedCols.length>0)this.updateColumns(this._autoGeneratedCols);else if(t){let e=!1,i=!1,n=!1;t.forEachAddedItem((t=>{e=!0,t.item.pinned?(this._pinnedColumns.push(t.item),n=!0):this._unpinnedColumns.push(t.item)})),this.initColumns(this.columnList.toArray(),(e=>this.columnInit.emit(e))),n&&this.initPinning(),t.forEachRemovedItem((e=>{e.item instanceof WM||(this.gridAPI.clear_groupby(e.item.field),this.filteringService.clear_filter(e.item.field),this.filteringService.isFilterRowVisible&&this.filteringService.filteredColumn&&this.filteringService.filteredColumn.field===e.item.field&&this.filteringRow.close(),this.gridAPI.clear_sort(e.item.field),this.selectionService.deselectColumnsWithNoEvent([e.item.field])),i=!0})),this.resetCaches(),(e||i)&&this.onColumnsAddedOrRemoved()}}onColumnsAddedOrRemoved(){this.summaryService.clearSummaryCache(),Promise.resolve().then((()=>{this.notifyChanges(!0)}))}calculateGridSizes(e=!0){this.cdr.detectChanges(),this.resetCaches(e);let t=this.hasVerticalScroll(),i=!this.isHorizontalScrollHidden;this.calculateGridWidth(),this.resetCaches(e),this.cdr.detectChanges(),this.calculateGridHeight(),this.rowEditable&&this.repositionRowEditingOverlay(this.crudService.rowInEditMode),this.filteringService.isFilterRowVisible&&this.filteringRow.resetChipsArea(),this.cdr.detectChanges(),t!==this.hasVerticalScroll()&&(this.calculateGridWidth(),this.cdr.detectChanges()),i!==this.hasHorizontalScroll()&&(this.isHorizontalScrollHidden=!this.hasHorizontalScroll(),this.cdr.detectChanges(),this.calculateGridHeight(),this.cdr.detectChanges()),this.zone.isStable?this.zone.run((()=>{this._applyWidthHostBinding(),this.cdr.detectChanges()})):this.zone.onStable.pipe(un()).subscribe((()=>{this.zone.run((()=>{this._applyWidthHostBinding()}))})),this.resetCaches(e),this.hasColumnsToAutosize&&(this.cdr.detectChanges(),this.zone.onStable.pipe(un()).subscribe((()=>{this._autoSizeColumnsNotify.next()})))}calcGridHeadRow(){if(this.maxLevelHeaderDepth){this._baseFontSize=parseFloat(getComputedStyle(this.document.documentElement).getPropertyValue("font-size"));let e=this._allowFiltering&&this._filterMode===dS,t=(this.maxLevelHeaderDepth+1+(e?1:0))*this.defaultRowHeight/this._baseFontSize;this.theadRow.nativeElement.style.minHeight=`${t}rem`}}calculateGridHeight(){this.calcGridHeadRow(),this.calcHeight=this._calculateGridBodyHeight(),this.pinnedRowHeight&&this.calcHeight&&(this.calcHeight-=this.pinnedRowHeight)}getGroupAreaHeight(){return 0}getComputedHeight(e){return e.offsetHeight?parseFloat(this.document.defaultView.getComputedStyle(e).getPropertyValue("height")):0}getFooterHeight(){return this.summaryRowHeight||this.getComputedHeight(this.tfoot.nativeElement)}getTheadRowHeight(){let e=this.getComputedHeight(this.theadRow.nativeElement)||0;return!this.allowFiltering||this.allowFiltering&&this.filterMode!==dS?e-this.getFilterCellHeight():e}getToolbarHeight(){let e=0;return this.toolbar.first&&(e=this.getComputedHeight(this.toolbar.first.nativeElement)),e}getPagingFooterHeight(){let e=0;if(this.footer){let t=this.getComputedHeight(this.footer.nativeElement);e=this.footer.nativeElement.firstElementChild?t:0}return e}getFilterCellHeight(){let e=0!==this.headerGroupsList.length?this.headerGroupsList[0].nativeElement:null,t=e?e.querySelector("igx-grid-filtering-cell"):null;return t?t.offsetHeight:0}_calculateGridBodyHeight(){if(!this._height)return null;let e=this.getTheadRowHeight(),t=this.getFooterHeight(),i=this.getToolbarHeight()+e+t+this.getPagingFooterHeight()+this.getGroupAreaHeight()+this.getComputedHeight(this.scr.nativeElement),n=0;if(this.isPercentHeight){let e=this.document.defaultView.getComputedStyle(this.nativeElement).getPropertyValue("height");if(this._shouldAutoSize(i)||-1!==e.indexOf("%")){let e=this.getDataBasedBodyHeight();return e>0?e:null}n=parseFloat(e)}else n=parseInt(this._height,10);let r=Math.abs(n-i);if(0===Math.round(r)||isNaN(n)){let e=this.defaultTargetBodyHeight;return e>0?e:null}return r}checkContainerSizeChange(){let e=this.nativeElement.parentElement||this.nativeElement.getRootNode().host,t=e.offsetHeight;this.nativeElement.style.display="none";let i=e.offsetHeight;return this.nativeElement.style.display="",t!==i}_shouldAutoSize(e){this.tbody.nativeElement.style.display="none";let t=this.nativeElement.parentElement||this.nativeElement.getRootNode().host,i=!t||0===t.clientHeight||t.clientHeight===e;return t&&(i||this._autoSize)&&(this._autoSize=!1,i=this.checkContainerSizeChange()),this.tbody.nativeElement.style.display="",i}getUnpinnedWidth(e=!1){let t=this.isPercentWidth?this.calcWidth:parseInt(this.width,10)||parseInt(this.hostWidth,10)||this.calcWidth;return this.hasVerticalScroll()&&!this.isPercentWidth&&(t-=this.scrollSize),this.isPinningToStart||(t-=this.featureColumnsWidth()),t-this.getPinnedWidth(e)}_summaries(e,t,i){let n=this.gridAPI.get_column_by_name(e);n&&(n.hasSummary=t,i&&(this.rootSummariesEnabled&&this.summaryService.retriggerRootPipe++,n.summaries=i))}_multipleSummaries(e,t){e.forEach((e=>{this._summaries(e.fieldName,t,e.customSummary)}))}_disableMultipleSummaries(e){e.forEach((e=>{let t=e&&e.fieldName?e.fieldName:e;this._summaries(t,!1)}))}resolveDataTypes(e){return"number"==typeof e?QC.Number:"boolean"==typeof e?QC.Boolean:"object"==typeof e&&e instanceof Date?QC.Date:"string"==typeof e&&/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(e)?QC.Image:QC.String}autogenerateColumns(){let e=this.gridAPI.get_data(),t=this.generateDataFields(e),i=[];t.forEach((t=>{let n=ef(zM,{environmentInjector:this.envInjector,elementInjector:this.injector});n.instance.field=t,n.instance.dataType=this.resolveDataTypes(e[0][t]),n.changeDetectorRef.detectChanges(),i.push(n.instance)})),this._autoGeneratedCols=i,this.updateColumns(i),e&&e.length>0&&(this.shouldGenerate=!1),this.columnsAutogenerated.emit({columns:this._autoGeneratedCols})}generateDataFields(e){return Object.keys(e&&0!==e.length?e[0]:[]).filter((e=>!this.autoGenerateExclude.includes(e)))}initColumns(e,t=null){this._columnGroups=e.some((e=>e.columnGroup)),this.hasColumnLayouts&&e.forEach((e=>{if(e.columnLayout){let t=e.children?e.children.reduce(((e,t)=>Math.max(t.rowStart+t.gridRowSpan-1,e)),1):1;this._multiRowLayoutRowSize=Math.max(t,this._multiRowLayoutRowSize)}})),this.hasColumnLayouts&&this.hasColumnGroups&&(e=e.filter((e=>e.columnLayout||e.columnLayoutChild))),this._maxLevelHeaderDepth=null,e.forEach((e=>{e.defaultWidth=this.columnWidthSetByUser?this._columnWidth:e.defaultWidth?e.defaultWidth:"",t&&t(e)})),this.updateColumns(e),this.hasColumnLayouts&&e.forEach((e=>{e.populateVisibleIndexes()}))}reinitPinStates(){this._pinnedColumns=this._columns.filter((e=>e.pinned)).sort(((e,t)=>this._pinnedColumns.indexOf(e)-this._pinnedColumns.indexOf(t))),this._unpinnedColumns=this.hasColumnGroups?this._columns.filter((e=>!e.pinned)):this._columns.filter((e=>!e.pinned)).sort(((e,t)=>this._unpinnedColumns.indexOf(e)-this._unpinnedColumns.indexOf(t)))}extractDataFromSelection(e,t=!1,i=!1,n){let r,s={},o=[],a=[],l=new Map,d=[],c=this.selectionService.activeElement;if("hierarchical"===this.type){let e=[];for(let[t,i]of this.expansionStates.entries())if(i){let i=this.gridAPI.get_rec_index_by_id(t,this.dataView);e.push(i)}if(this.selectionService.selection.size>0){if(e.length>0)for(let[t,i]of this.selectionService.selection.entries()){let n=t,r=0;e.forEach((e=>{n>Number(e)&&r++})),l.set(n-r,i)}}else if(c){let t=0;e.length>0&&(e.forEach((e=>{c.row>Number(e)&&t++})),c.row-=t)}}let h,u=this.totalItemCount??0,g=u&&u>this.dataView.length;h="hierarchical"===this.type&&l.size>0?g?Array.from(l):Array.from(l).filter((t=>t[0]<e.length)):g?Array.from(this.selectionService.selection):Array.from(this.selectionService.selection).filter((t=>t[0]<e.length)),this.cellSelection===vS&&c&&h.push([c.row,(new Set).add(c.column)]),this.cellSelection===fS&&c&&h.push([c.row,(new Set).add(c.column)]),n&&(o=n);for(let[l,d]of h){if(l=this.paginator&&this.pagingMode===bS.Local&&e===this.filteredSortedData?l+this.perPage*this.page:l,l=g?l-this.virtualizationState.startIndex:l,!e[l]||void 0!==e[l].detailsData)continue;let c=Array.from(d);for(let o of c)r=this.getSelectableColumnsAt(o),r.forEach((r=>{if(r){let o="pivot"!==this.type&&i&&r.header||r.field,a=e[l].ghostRecord?e[l].recordRef:e[l],d="pivot"===this.type?a.aggregationValues.get(r.field):TC(a,r.field);s[o]=t&&r.formatter?r.formatter(d,a):d,n&&(s[o]||(s[o]=""),s[o]=s[o].toString().concat("recordRow-"+l))}}));if(Object.keys(s).length)if(n){a.length||(a=Object.keys(n[0]));for(let[e,t]of Object.entries(s)){a.includes(e)||a.push(e);let i=t,n=+i.split("recordRow-")[1];i=i.split("recordRow-")[0],s[e]=i;let r=Object.assign(o[n],s);o[n]=r}}else o.push(s);s={}}return a.length?(d.push(o),d.push(a),d):o}getSelectableColumnsAt(e){if(this.hasColumnLayouts){let t=this.visibleColumns.filter((e=>e.columnLayout)).sort(((e,t)=>e.visibleIndex-t.visibleIndex))[e];return t?t.children.toArray():[]}return[this.visibleColumns.filter((e=>!e.columnGroup)).sort(((e,t)=>e.visibleIndex-t.visibleIndex))[e]]}autoSizeColumnsInView(){if(!this.hasColumnsToAutosize)return;let e=this.headerContainer.state,t=!1,i=this.headerContainer.igxGridForOf.slice(e.startIndex,e.startIndex+e.chunkSize).flatMap((e=>e.columnGroup?e.allChildren:e)),n=this.pinnedColumns.concat(i);for(let e of n)if(!e.autoSize&&e.headerCell){let i=[];e._cells.length!==this.rowList.length&&this.rowList.forEach((e=>e.cdr.detectChanges()));let n=this._dataRowList.map((t=>t.cells.find((t=>t.column===e))));n.forEach((e=>i.push(e?.nativeElement?.offsetWidth||0)));let r=Math.max(...i),s=this.headerCellList.find((t=>t.column===e));i.push(s.nativeElement.offsetWidth);let o=Math.max(...i),a=0;if(n.length>0&&e.bodyTemplate){let e=this.document.defaultView.getComputedStyle(n[0].nativeElement);a=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)}else r=o;if(0===o||r<=a&&this._firstAutoResize)continue;let l=Math.ceil(Math.max(...i))+1;e.maxWidth&&l>e.maxWidthPx?l=e.maxWidthPx:l<e.minWidthPx&&(l=e.minWidthPx),e.autoSize=l,e.resetCaches(),t=!0}t&&(this.resetCachedWidths(),this.cdr.detectChanges())}extractDataFromColumnsSelection(e,t=!1,i=!1){let n={},r=[],s=this.selectedColumns();if(0===s.length)return[];for(let o of e)s.forEach((e=>{let r=i&&e.header||e.field;n[r]=t&&e.formatter?e.formatter(o[e.field],o):o[e.field]})),Object.keys(n).length&&r.push(n),n={};return r}initPinning(){this.calculateGridWidth(),this.resetCaches(),this.handleColumnPinningForGroups(),this.notifyChanges()}scrollTo(e,t,i=this._filteredSortedUnpinnedData){let n=!1;if(this.paginator&&"number"!=typeof e){let t=i.indexOf(e),r=Math.floor(t/this.perPage);this.page!==r&&(n=!0,this.page=r)}n?this.verticalScrollContainer.dataChanged.pipe(un()).subscribe((()=>{this.scrollDirective(this.verticalScrollContainer,"number"==typeof e?e:this.unpinnedDataView.indexOf(e))})):this.scrollDirective(this.verticalScrollContainer,"number"==typeof e?e:this.unpinnedDataView.indexOf(e)),this.scrollToHorizontally(t)}scrollToHorizontally(e){let t="number"==typeof e?e:this.getColumnByName(e).visibleIndex,i=this.rowList.find((e=>!!e.virtDirRow)),n=i?i.virtDirRow:null;this.isPinningToStart&&this.pinnedColumns.length?t>=this.pinnedColumns.length&&(t-=this.pinnedColumns.length,this.scrollDirective(n,t)):this.scrollDirective(n,t)}scrollDirective(e,t){e&&e.scrollTo(t)}getColumnWidthSum(){let e=0;return(this.hasColumnLayouts?this.visibleColumns.filter((e=>e.columnLayout)):this.visibleColumns.filter((e=>!e.columnGroup))).forEach((t=>{e+=parseInt(t.calcWidth||t.defaultWidth,10)||this.minColumnWidth})),e?(this.cdr.detectChanges(),e+=this.featureColumnsWidth(),e):null}_columnsReordered(e){this.notifyChanges(),this.resetColumnCollections(),e.resetCaches()}buildDataView(e){this._dataView=this.isRowPinningToTop?[...this.pinnedDataView,...this.unpinnedDataView]:[...this.unpinnedDataView,...this.pinnedDataView]}_applyWidthHostBinding(){let e=this._width;if(null===e){let t=this.calcWidth;this.hasVerticalScroll()&&(t+=this.scrollSize),e=t+"px",this.resetCaches()}this._hostWidth=e,this.cdr.markForCheck()}verticalScrollHandler(e){this.verticalScrollContainer.onScroll(e),this.disableTransitions=!0,this.zone.run((()=>{this.zone.onStable.pipe(un()).subscribe((()=>{this.verticalScrollContainer.chunkLoad.emit(this.verticalScrollContainer.state),this.rowEditable&&this.changeRowEditingOverlayStateOnScroll(this.crudService.rowInEditMode)}))})),this.disableTransitions=!1,this.hideOverlays(),this.actionStrip?.hide(),this.actionStrip&&(this.actionStrip.context=null);let t={direction:"vertical",event:e,scrollPosition:this.verticalScrollContainer.scrollPosition};this.gridScroll.emit(t)}horizontalScrollHandler(e){let t=e.target.scrollLeft;this.headerContainer.onHScroll(t),this._horizontalForOfs.forEach((e=>e.onHScroll(t))),this.cdr.markForCheck(),this.zone.run((()=>{this.zone.onStable.pipe(un()).subscribe((()=>{this.parentVirtDir.chunkLoad.emit(this.headerContainer.state),requestAnimationFrame((()=>{this.autoSizeColumnsInView()}))}))})),this.navigation.isColumnFullyVisible(this.navigation.lastColumnIndex)||this.hideOverlays();let i={direction:"horizontal",event:e,scrollPosition:this.headerContainer.scrollPosition};this.gridScroll.emit(i)}get renderedActualRowHeight(){let e=1;if(this.rowList.toArray().length>0){let t=document.defaultView.getComputedStyle(this.rowList.first.nativeElement);e=t.borderBottomWidth?Math.ceil(parseFloat(t.borderBottomWidth)):e}return this.rowHeight+e}executeCallback(e,t=-1,i=null){if(!i)return;let n=this.summariesRowList.filter((e=>0!==e.index)).concat(this.rowList.toArray()).find((t=>t.index===e));if(!n){this.totalItemCount&&this.verticalScrollContainer.dataChanged.pipe(un()).subscribe((()=>{this.cdr.detectChanges(),n=this.summariesRowList.filter((e=>0!==e.index)).concat(this.rowList.toArray()).find((t=>t.index===e));let r=this.getNavigationArguments(n,t);i(r)}));let r=this._getDataViewIndex(e);return void(this.dataView[r].detailsData&&(this.navigation.setActiveNode({row:e}),this.cdr.detectChanges()))}let r=this.getNavigationArguments(n,t);i(r)}getNavigationArguments(e,t){let i,n;switch(e.nativeElement.tagName.toLowerCase()){case"igx-grid-groupby-row":i="groupRow",n=e;break;case"igx-grid-summary-row":i="summaryCell",n=-1!==t?e.summaryCells.find((e=>e.visibleColumnIndex===t)):e.summaryCells.first;break;case"igx-child-grid-row":i="hierarchicalRow",n=e;break;default:i="dataCell",n=-1!==t?e.cells.find((e=>e.visibleColumnIndex===t)):e.cells.first}return{targetType:i,target:n}}getNextDataRowIndex(e,t=!1){let i=this._getDataViewIndex(e);if(e<0||0===e&&t||i>=this.dataView.length-1&&!t)return e;let n=t?this.findPrevEditableDataRowIndex(e):this.dataView.findIndex(((e,t)=>t>i&&this.isEditableDataRecordAtIndex(t))),r=this.getDataIndex(n);return-1!==r?r:e}findPrevEditableDataRowIndex(e){let t=this.dataView.length,i=this._getDataViewIndex(e);for(;t--;)if(t<i&&this.isEditableDataRecordAtIndex(t))return t;return-1}isEditableDataRecordAtIndex(e){let t=this.dataView[e];return!(t.expression||t.summaries||t.childGridsData||t.detailsData||this.isGhostRecordAtIndex(e))}isGhostRecordAtIndex(e){let t=this.isRecordPinned(this.dataView[e]),i=this.isRecordPinnedByViewIndex(e);return t&&!i}isValidPosition(e,t){let i=this.summariesRowList.filter((e=>0!==e.index)).concat(this.rowList.toArray()).length,n=this._columns.filter((e=>!e.columnGroup&&e.visibleIndex>=0&&!e.hidden)).length;return!(i<1||n<1)&&e>-1&&e<this.dataView.length&&t>-1&&t<=Math.max(...this.visibleColumns.map((e=>e.visibleIndex)))}find(e,t,i,n,r,s=!0){if(!this.rowList)return 0;if(s&&this.crudService.endEdit(!1),!e)return this.clearSearch(),0;let o=!!i,a=!!n,l=!1;if(this._lastSearchInfo.searchText!==e||this._lastSearchInfo.caseSensitive!==o||this._lastSearchInfo.exactMatch!==a?(this._lastSearchInfo={searchText:e,activeMatchIndex:0,caseSensitive:o,exactMatch:a,matchInfoCache:[],matchCount:0,content:""},l=!0):this._lastSearchInfo.activeMatchIndex+=t,l&&(this.rowList.forEach((t=>{t.cells&&t.cells.forEach((t=>{t.highlightText(e,o,a)}))})),this.rebuildMatchCache()),this._lastSearchInfo.activeMatchIndex>=this._lastSearchInfo.matchCount?this._lastSearchInfo.activeMatchIndex=0:this._lastSearchInfo.activeMatchIndex<0&&(this._lastSearchInfo.activeMatchIndex=this._lastSearchInfo.matchCount-1),this._lastSearchInfo.matchCount>0){let e=this._lastSearchInfo.matchInfoCache[this._lastSearchInfo.activeMatchIndex];this._lastSearchInfo=ke({},this._lastSearchInfo),!1!==r&&this.scrollTo(e.row,e.column),this.textHighlightService.setActiveHighlight(this.id,{column:e.column,row:e.row,index:e.index,metadata:e.metadata})}else this.textHighlightService.clearActiveHighlight(this.id);return this._lastSearchInfo.matchCount}rebuildMatchCache(){this._lastSearchInfo.matchInfoCache=[];let e=this._lastSearchInfo.caseSensitive,t=this._lastSearchInfo.exactMatch,i=e?this._lastSearchInfo.searchText:this._lastSearchInfo.searchText.toLowerCase(),n=this.filteredSortedData,r=this.visibleColumns.filter((e=>!e.columnGroup)).sort(((e,t)=>e.visibleIndex-t.visibleIndex));n.forEach(((n,s)=>{r.forEach((r=>{let o=this.getColumnByName(r.field).pipeArgs,a=r.formatter?r.formatter(TC(n,r.field),n):"number"===r.dataType?iv(TC(n,r.field),this.locale,o.digitsInfo):"date"===r.dataType?AC(TC(n,r.field),o.format,this.locale,o.timezone):TC(n,r.field);if(null!=a&&r.searchable){let o=e?String(a):String(a).toLowerCase();if(t){if(o===i){let e={row:n,column:r.field,index:0,metadata:new Map([["pinned",this.isRecordPinnedByIndex(s)]])};this._lastSearchInfo.matchInfoCache.push(e)}}else{let e=0,t=o.indexOf(i);for(;-1!==t;){let a={row:n,column:r.field,index:e++,metadata:new Map([["pinned",this.isRecordPinnedByIndex(s)]])};this._lastSearchInfo.matchInfoCache.push(a),o=o.substring(t+i.length),t=o.indexOf(i)}}}}))})),this._lastSearchInfo.matchCount=this._lastSearchInfo.matchInfoCache.length}updateDefaultRowHeight(){if(this.dataRowList.length>0&&this.dataRowList.first.cells&&this.dataRowList.first.cells.length>0){let e=parseFloat(this.document.defaultView.getComputedStyle(this.dataRowList.first.cells.first.nativeElement)?.getPropertyValue("height"));e?this._defaultRowHeight=e:this._shouldRecalcRowHeight=!0}}configureRowEditingOverlay(e,t=!1){let i=this.rowEditSettings,n=this.overlayService.getOverlayById(this.rowEditingOverlay.overlayId);n&&(i=n.settings),i.outlet=t?this.parentRowOutletDirective:this.rowOutletDirective,this.rowEditPositioningStrategy.settings.container=this.tbody.nativeElement;let r=-1!==this._pinnedRecordIDs.indexOf(e)?this.pinnedRows.find((t=>t.key===e)):this.gridAPI.get_row_by_key(e);r&&(i.target=r.element.nativeElement,this.toggleRowEditingOverlay(!0))}handleColumnPinningForGroups(){let e=[],t=[];this._pinnedColumns.forEach((e=>{e.parent&&(e.parent.pinned=!0),e.columnGroup&&e.children.forEach((e=>e.pinned=!0))}));for(let i of this._columns)i.pinned&&!i.parent?e.push(i):i.pinned&&i.parent?i.topLevelParent.pinned?e.push(i):(i.pinned=!1,t.push(i)):t.push(i);this._pinnedColumns=e,this._unpinnedColumns=t}};e.ɵfac=function(t){return new(t||e)(Oc(BU),Oc(_O),Oc(R$),Oc(rO),Oc(tT),Oc(Nl),Oc(Dl),Oc(of),Oc(Pm),Oc(Km),Oc(iu),Oc(hl),Oc(Is),Oc(GU),Oc(j$),Oc(rw),Oc(YE),Oc($U),Oc(bm),Oc(fC),Oc(zU,8))},e.ɵdir=ss({type:e,contentQueries:function(e,t,i){if(1&e&&(hp(i,zG,7,zG),hp(i,tU,5,Oh),hp(i,v$,5,Oh),hp(i,y$,5,Oh),hp(i,x$,5,Oh),hp(i,w$,5,Oh),hp(i,_$,5,Oh),hp(i,S$,5,Oh),hp(i,b$,5,Oh),hp(i,C$,5,Oh),hp(i,h$,4,h$),hp(i,zM,5,zM),hp(i,IO,4),hp(i,pj,4,Oh),hp(i,uj,4,Oh),hp(i,hj,4,Oh),hp(i,Jj,4,Oh),hp(i,eU,4,Oh),hp(i,iU,4,Oh),hp(i,cj,4,Oh),hp(i,nU,5),hp(i,Qj,4),hp(i,VU,4)),2&e){let e;gp(e=pp())&&(t.excelStyleLoadingValuesTemplateDirective=e.first),gp(e=pp())&&(t.rowAddText=e.first),gp(e=pp())&&(t.rowExpandedIndicatorDirectiveTemplate=e.first),gp(e=pp())&&(t.rowCollapsedIndicatorDirectiveTemplate=e.first),gp(e=pp())&&(t.headerExpandedIndicatorDirectiveTemplate=e.first),gp(e=pp())&&(t.headerCollapsedIndicatorDirectiveTemplate=e.first),gp(e=pp())&&(t.excelStyleHeaderIconDirectiveTemplate=e.first),gp(e=pp())&&(t.sortAscendingHeaderIconDirectiveTemplate=e.first),gp(e=pp())&&(t.sortDescendingHeaderIconDirectiveTemplate=e.first),gp(e=pp())&&(t.sortHeaderIconDirectiveTemplate=e.first),gp(e=pp())&&(t.excelStyleFilteringComponents=e),gp(e=pp())&&(t.columnList=e),gp(e=pp())&&(t.actionStripComponents=e),gp(e=pp())&&(t.headSelectorsTemplates=e),gp(e=pp())&&(t.rowSelectorsTemplates=e),gp(e=pp())&&(t.dragGhostCustomTemplates=e),gp(e=pp())&&(t.rowEditCustomDirectives=e),gp(e=pp())&&(t.rowEditTextDirectives=e),gp(e=pp())&&(t.rowEditActionsDirectives=e),gp(e=pp())&&(t.dragIndicatorIconTemplates=e),gp(e=pp())&&(t.rowEditTabsCUSTOM=e),gp(e=pp())&&(t.toolbar=e),gp(e=pp())&&(t.paginationComponents=e)}},viewQuery:function(e,t){if(1&e&&(up(RU,5),up(CU,5),up(WU,7,OA),up(KU,7,FA),up(jU,7,Oh),up(UU,7,Oh),up(qU,7,Oh),up(YU,7,dA),up(XU,7,dA),up(ZU,7,dA),up(QU,7,Nl),up(JU,7,Oh),up(eq,5,Nl),up(lj,7),up(HU,5),up(tq,7),up(Xj,7,Nl),up(iq,5,Nl),up(nq,7),up(rq,7,FA),up(sq,7,Oh),up(oq,5,OA),up(aq,7,FA),up(lq,7,iu),up(dq,7,Oh),up(cq,7,Oh),up(hq,7,Oh),up(uq,7,Oh),up(AA,5,AA),up(nU,5),up(gq,5,wU),up(pq,5),up(mq,5),up(bO,5,bO)),2&e){let e;gp(e=pp())&&(t.addRowSnackbar=e.first),gp(e=pp())&&(t.resizeLine=e.first),gp(e=pp())&&(t.loadingOverlay=e.first),gp(e=pp())&&(t.loadingOutlet=e.first),gp(e=pp())&&(t.emptyFilteredGridTemplate=e.first),gp(e=pp())&&(t.emptyGridDefaultTemplate=e.first),gp(e=pp())&&(t.loadingGridDefaultTemplate=e.first),gp(e=pp())&&(t.parentVirtDir=e.first),gp(e=pp())&&(t.verticalScrollContainer=e.first),gp(e=pp())&&(t.verticalScroll=e.first),gp(e=pp())&&(t.scr=e.first),gp(e=pp())&&(t.headerSelectorBaseTemplate=e.first),gp(e=pp())&&(t.footer=e.first),gp(e=pp())&&(t.theadRow=e.first),gp(e=pp())&&(t.groupArea=e.first),gp(e=pp())&&(t.tbody=e.first),gp(e=pp())&&(t.tbodyContainer=e.first),gp(e=pp())&&(t.pinContainer=e.first),gp(e=pp())&&(t.tfoot=e.first),gp(e=pp())&&(t.rowEditingOutletDirective=e.first),gp(e=pp())&&(t.dragIndicatorIconBase=e.first),gp(e=pp())&&(t.rowEditingOverlay=e.first),gp(e=pp())&&(t._outletDirective=e.first),gp(e=pp())&&(t.anchor=e.first),gp(e=pp())&&(t.defaultExpandedTemplate=e.first),gp(e=pp())&&(t.defaultCollapsedTemplate=e.first),gp(e=pp())&&(t.defaultESFHeaderIconTemplate=e.first),gp(e=pp())&&(t.defaultRowEditTemplate=e.first),gp(e=pp())&&(t.tmpOutlets=e),gp(e=pp())&&(t.rowEditTabsDEFAULT=e),gp(e=pp())&&(t._summaryRowList=e),gp(e=pp())&&(t._rowList=e),gp(e=pp())&&(t._pinnedRowList=e),gp(e=pp())&&(t._dataRowList=e)}},hostVars:8,hostBindings:function(e,t){1&e&&ep("mouseleave",(function(){return t.hideActionStrip()})),2&e&&(tg("tabindex",t.tabindex)("role",t.hostRole),yg("height",t.height)("width",t.hostWidth),xg("igx-grid",t.baseClass))},inputs:{snackbarDisplayTime:"snackbarDisplayTime",autoGenerate:[2,"autoGenerate","autoGenerate",Zm],autoGenerateExclude:"autoGenerateExclude",moving:[2,"moving","moving",Zm],emptyGridTemplate:"emptyGridTemplate",addRowEmptyTemplate:"addRowEmptyTemplate",loadingGridTemplate:"loadingGridTemplate",summaryRowHeight:"summaryRowHeight",dataCloneStrategy:"dataCloneStrategy",clipboardOptions:"clipboardOptions",rowClasses:"rowClasses",rowStyles:"rowStyles",primaryKey:"primaryKey",uniqueColumnValuesStrategy:"uniqueColumnValuesStrategy",dragGhostCustomTemplate:"dragGhostCustomTemplate",rowEditTextTemplate:"rowEditTextTemplate",rowAddTextTemplate:"rowAddTextTemplate",rowEditActionsTemplate:"rowEditActionsTemplate",rowExpandedIndicatorTemplate:"rowExpandedIndicatorTemplate",rowCollapsedIndicatorTemplate:"rowCollapsedIndicatorTemplate",headerExpandedIndicatorTemplate:"headerExpandedIndicatorTemplate",headerCollapsedIndicatorTemplate:"headerCollapsedIndicatorTemplate",excelStyleHeaderIconTemplate:"excelStyleHeaderIconTemplate",sortAscendingHeaderIconTemplate:"sortAscendingHeaderIconTemplate",sortDescendingHeaderIconTemplate:"sortDescendingHeaderIconTemplate",sortHeaderIconTemplate:"sortHeaderIconTemplate",resourceStrings:"resourceStrings",filteringLogic:"filteringLogic",filteringExpressionsTree:"filteringExpressionsTree",advancedFilteringExpressionsTree:"advancedFilteringExpressionsTree",locale:"locale",pagingMode:"pagingMode",hideRowSelectors:[2,"hideRowSelectors","hideRowSelectors",Zm],rowDraggable:[2,"rowDraggable","rowDraggable",Zm],validationTrigger:"validationTrigger",rowEditable:[2,"rowEditable","rowEditable",Zm],height:"height",width:"width",rowHeight:"rowHeight",columnWidth:"columnWidth",emptyGridMessage:"emptyGridMessage",isLoading:[2,"isLoading","isLoading",Zm],emptyFilteredGridMessage:"emptyFilteredGridMessage",pinning:"pinning",allowFiltering:[2,"allowFiltering","allowFiltering",Zm],allowAdvancedFiltering:[2,"allowAdvancedFiltering","allowAdvancedFiltering",Zm],filterMode:"filterMode",summaryPosition:"summaryPosition",summaryCalculationMode:"summaryCalculationMode",showSummaryOnCollapse:[2,"showSummaryOnCollapse","showSummaryOnCollapse",Zm],filterStrategy:"filterStrategy",sortStrategy:"sortStrategy",sortingOptions:"sortingOptions",selectedRows:"selectedRows",headSelectorTemplate:"headSelectorTemplate",rowSelectorTemplate:"rowSelectorTemplate",dragIndicatorIconTemplate:"dragIndicatorIconTemplate",sortingExpressions:"sortingExpressions",batchEditing:[2,"batchEditing","batchEditing",Zm],cellSelection:"cellSelection",rowSelection:"rowSelection",columnSelection:"columnSelection",expansionStates:"expansionStates",outlet:"outlet",totalRecords:"totalRecords",selectRowOnClick:[2,"selectRowOnClick","selectRowOnClick",Zm]},outputs:{filteringExpressionsTreeChange:"filteringExpressionsTreeChange",advancedFilteringExpressionsTreeChange:"advancedFilteringExpressionsTreeChange",gridScroll:"gridScroll",cellClick:"cellClick",rowClick:"rowClick",formGroupCreated:"formGroupCreated",validationStatusChange:"validationStatusChange",selected:"selected",rowSelectionChanging:"rowSelectionChanging",columnSelectionChanging:"columnSelectionChanging",columnPin:"columnPin",columnPinned:"columnPinned",cellEditEnter:"cellEditEnter",cellEditExit:"cellEditExit",cellEdit:"cellEdit",cellEditDone:"cellEditDone",rowEditEnter:"rowEditEnter",rowEdit:"rowEdit",rowEditDone:"rowEditDone",rowEditExit:"rowEditExit",columnInit:"columnInit",columnsAutogenerated:"columnsAutogenerated",sorting:"sorting",sortingDone:"sortingDone",filtering:"filtering",filteringDone:"filteringDone",rowAdded:"rowAdded",rowDeleted:"rowDeleted",rowDelete:"rowDelete",rowAdd:"rowAdd",columnResized:"columnResized",contextMenu:"contextMenu",doubleClick:"doubleClick",columnVisibilityChanging:"columnVisibilityChanging",columnVisibilityChanged:"columnVisibilityChanged",columnMovingStart:"columnMovingStart",columnMoving:"columnMoving",columnMovingEnd:"columnMovingEnd",gridKeydown:"gridKeydown",rowDragStart:"rowDragStart",rowDragEnd:"rowDragEnd",gridCopy:"gridCopy",expansionStatesChange:"expansionStatesChange",rowToggle:"rowToggle",rowPinning:"rowPinning",rowPinned:"rowPinned",activeNodeChange:"activeNodeChange",sortingExpressionsChange:"sortingExpressionsChange",toolbarExporting:"toolbarExporting",rangeSelected:"rangeSelected",rendered:"rendered",localeChange:"localeChange",dataChanging:"dataChanging",dataChanged:"dataChanged"},features:[Vu]});let t=e;return vi([EM()],t.prototype,"primaryKey",void 0),vi([EM()],t.prototype,"filteringLogic",null),vi([EM()],t.prototype,"filteringExpressionsTree",null),vi([EM()],t.prototype,"advancedFilteringExpressionsTree",null),vi([EM()],t.prototype,"hideRowSelectors",null),vi([EM()],t.prototype,"rowEditable",null),vi([EM()],t.prototype,"height",null),vi([EM()],t.prototype,"width",null),vi([EM()],t.prototype,"rowHeight",null),vi([EM()],t.prototype,"columnWidth",null),vi([EM()],t.prototype,"isLoading",null),vi([EM()],t.prototype,"sortingExpressions",null),vi([EM()],t.prototype,"cellSelection",null),vi([EM()],t.prototype,"rowSelection",null),vi([EM()],t.prototype,"columnSelection",null),vi([EM()],t.prototype,"selectRowOnClick",null),t})(),yq=(()=>{let e=class{constructor(e,t){this.crudService=e,this.cms=t,this.destroyMap=new Map}get_column_by_name(e){return this.grid.columns.find((t=>t.field===e))}get_summary_data(){let e=this.grid,t=e.filteredData;return t&&e.hasPinnedRecords&&(t=e._filteredUnpinnedData),t||(e.transactions.enabled?(t=JC.mergeTransactions(lC(e.data),e.transactions.getAggregatedChanges(!0),e.primaryKey,e.dataCloneStrategy),e.transactions.getTransactionLog().filter((e=>e.type===MC.DELETE)).map((e=>e.id)).forEach((i=>{let n=(e.primaryKey?t.map((t=>t[e.primaryKey])):t).indexOf(i);-1!==n&&t.splice(n,1)}))):t=e.data),t}getRowData(e){let t=this.get_all_data(this.grid.transactions.enabled);return t[this.get_row_index_in_data(e,t)]}get_row_index_in_data(e,t){let i=this.grid;if(!i)return-1;let n=t??this.get_all_data(i.transactions.enabled);return i.primaryKey?n.findIndex((t=>t.recordRef?t.recordRef[i.primaryKey]===e:t[i.primaryKey]===e)):n.indexOf(e)}get_row_by_key(e){if(!this.grid)return null;let t=this.grid.primaryKey;return null!=t?this.grid.dataRowList.find((i=>i.data[t]===e)):this.grid.dataRowList.find((t=>t.data===e))}get_row_by_index(e){return this.grid.rowList.find((t=>t.index===e))}get_rec_id_by_index(e,t){if(t=t||this.grid.data,e>=0&&e<t.length){let i=t[e];return this.grid.primaryKey?i[this.grid.primaryKey]:i}return null}get_cell_by_key(e,t){let i=this.get_row_by_key(e);if(i&&i.cells)return i.cells.find((e=>e.column.field===t))}get_cell_by_index(e,t){let i=this.get_row_by_index(e),n=i&&i.cells;return n&&"number"==typeof t?i.cells.find((e=>e.column.index===t)):n&&"string"==typeof t?i.cells.find((e=>e.column.field===t)):void 0}get_cell_by_visible_index(e,t){let i=this.get_row_by_index(e);if(i&&i.cells)return i.cells.find((e=>e.visibleColumnIndex===t))}update_cell(e){if(!e)return;let t=e.createCellEditEventArgs(!0);this.grid.crudService.row||this.grid.summaryService.clearSummaryCache(t);let i=this.getRowData(e.id.rowID),n=((e,t)=>{let i,n={},r=e?.split(".")??[],s=r.shift();return n[s]=t,i=n,r.forEach((e=>{i[s]={},i=i[s],i[e]=t,s=e})),n})(e.column.field,t.newValue);if(this.updateData(this.grid,e.id.rowID,i,e.rowData,n),this.grid.crudService.row||this.grid.validation.update(e.id.rowID,n),this.grid.primaryKey===e.column.field){if(this.grid.pinnedRecords.length>0){let i=this.grid.pinnedRecords.indexOf(e.rowData);if(-1!==i){let n=e.value,r=this.grid.getRowByIndex(e.rowIndex);this.unpin_row(n,r),this.pin_row(t.newValue,i,r)}}this.grid.selectionService.isRowSelected(e.id.rowID)&&(this.grid.selectionService.deselectRow(e.id.rowID),this.grid.selectionService.selectRowById(t.newValue)),this.grid.hasSummarizedColumns&&this.grid.summaryService.removeSummaries(e.id.rowID)}return(!this.grid.rowEditable||!this.crudService.row||this.crudService.row.id!==e.id.rowID||!this.grid.transactions.enabled)&&(this.grid.summaryService.clearSummaryCache(t),this.grid.pipeTrigger++),t}update_row(e,t,i){let n=this.grid,r=n.selectionService.isRowSelected(e.id),s=this.crudService.row,o=this.get_all_data(n.transactions.enabled),a=this.get_row_index_in_data(e.id,o),l=n.hasSummarizedColumns;this.crudService.updateRowEditData(e,t);let d=e.createRowEditEventArgs(!0,i);if(-1===a)return d;if(s){let e=n.transactions.getState(d.rowID,!0);if(n.transactions.endPending(!1),!e)return d}if(!d.newValue)return d;l&&n.summaryService.removeSummaries(d.rowID),this.updateData(n,e.id,o[a],d.oldValue,d.newValue),this.grid.validation.update(e.id,d.newValue);let c=n.primaryKey?d.newValue[n.primaryKey]:d.newValue;return r&&(n.selectionService.deselectRow(e.id),n.selectionService.selectRowById(c)),e.id=c,l&&n.summaryService.removeSummaries(c),n.pipeTrigger++,d}sort(e){e.dir===LC.None&&this.remove_grouping_expression(e.fieldName);let t=lC(this.grid.sortingExpressions);this.prepare_sorting_expression([t],e),this.grid.sortingExpressions=t}sort_decoupled(e){e.dir===LC.None&&this.remove_grouping_expression(e.fieldName);let t=lC(this.grid.groupingExpressions);this.prepare_grouping_expression([t],e),this.grid.groupingExpressions=t}sort_multiple(e){let t=lC(this.grid.sortingExpressions);for(let i of e)i.dir===LC.None&&this.remove_grouping_expression(i.fieldName),this.prepare_sorting_expression([t],i);this.grid.sortingExpressions=t}sort_groupBy_multiple(e){let t=lC(this.grid.groupingExpressions);for(let i of e)i.dir===LC.None&&this.remove_grouping_expression(i.fieldName),this.prepare_grouping_expression([t],i)}clear_sort(e){let t=this.grid.sortingExpressions,i=t.findIndex((t=>t.fieldName===e));i>-1&&(t.splice(i,1),this.grid.sortingExpressions=t)}clear_groupby(e){}should_apply_number_style(e){return e.dataType===QC.Number}get_data(){let e=this.grid;return e.data?e.data:[]}get_all_data(e=!1){let t=this.grid,i=t&&t.data?t.data:[];return i=e?t.dataWithAddedInTransactionRows:i,i}get_filtered_data(){return this.grid.filteredData}addRowToData(e,t){let i=this.grid,n=i.primaryKey?e[i.primaryKey]:e;if(i.transactions.enabled){let t={id:n,type:MC.ADD,newValue:e};i.transactions.add(t)}else i.data.push(e);i.validation.markAsTouched(n),i.validation.update(n,e)}deleteRowFromData(e,t){let i=this.grid;if(-1!==t)if(i.transactions.enabled){let n={id:e,type:MC.DELETE,newValue:null};i.transactions.add(n,i.data[t])}else i.data.splice(t,1);else{let t=i.transactions.getState(e);i.transactions.add({id:e,type:MC.DELETE,newValue:null},t&&t.recordRef)}i.validation.clear(e)}deleteRowById(e){let t,i=this.grid,n=this.get_all_data(i.transactions.enabled);t=i.primaryKey?n.map((e=>e[i.primaryKey])).indexOf(e):n.indexOf(e);let r=i.transactions.getState(e),s=r&&r.type!==MC.DELETE;if(-1===t&&!s)return;this.crudService.endEdit(!0);let o=n[t],a=o?o[i.primaryKey]:void 0;i.rowDeletedNotifier.next({data:o,rowData:o,owner:i,primaryKey:a,rowKey:a}),this.deleteRowFromData(e,t),i.selectionService.isRowSelected(e)?i.selectionService.deselectRowsWithNoEvent([e]):i.selectionService.clearHeaderCBState(),i.pipeTrigger++,i.notifyChanges();let l=i.transactions.enabled?i.dataWithAddedInTransactionRows:n;return i.refreshSearch(),l.length%i.perPage==0&&l.length/i.perPage-1<i.page&&0!==i.page&&i.page--,o}get_row_id(e){return this.grid.primaryKey?e[this.grid.primaryKey]:e}row_deleted_transaction(e){let t=this.grid;if(!t||!t.transactions.enabled)return!1;let i=t.transactions.getState(e);return!!i&&i.type===MC.DELETE}get_row_expansion_state(e){let t=this.grid,i=t.expansionStates,n=t.primaryKey?e[t.primaryKey]:e,r=i.get(n);return void 0!==r?r:t.getDefaultExpandState(e)}set_row_expansion_state(e,t,i){let n=this.grid,r=n.expansionStates;if(!this.allow_expansion_state_change(e,t))return;let s={rowKey:e,rowID:e,expanded:t,event:i,cancel:!1};n.rowToggle.emit(s),!s.cancel&&(r.set(e,t),n.expansionStates=r)}get_rec_by_id(e){return this.grid.primaryKey?this.getRowData(e):e}get_rec_index_by_id(e,t){return t=t||this.grid.data,this.grid.primaryKey?t.findIndex((t=>t[this.grid.primaryKey]===e)):-1}allow_expansion_state_change(e,t){return this.grid.expansionStates.get(e)!==t}prepare_sorting_expression(e,t){if(t.dir===LC.None)return void e.forEach((e=>{e.splice(e.findIndex((e=>e.fieldName===t.fieldName)),1)}));let i=e[0];for(let t=1;t<e.length;t++)i.length<e[t].length&&(i=e[t]);let n=i.find((e=>e.fieldName===t.fieldName));e.forEach((e=>{let i=e.find((e=>e.fieldName===t.fieldName));i||n?!i&&n?(e.push(n),Object.assign(n,t)):Object.assign(i,t):e.push(t)}))}prepare_grouping_expression(e,t){if(t.dir===LC.None)return void e.forEach((e=>{e.splice(e.findIndex((e=>e.fieldName===t.fieldName)),1)}));let i=e[0];for(let t=1;t<e.length;t++)i.length<e[t].length&&(i=e[t]);let n=i.find((e=>e.fieldName===t.fieldName));e.forEach((e=>{let i=e.find((e=>e.fieldName===t.fieldName));i||n?!i&&n?(e.push(n),Object.assign(n,t)):Object.assign(i,t):e.push(t)}))}remove_grouping_expression(e){}filterDataByExpressions(e){let t=this.get_all_data();if(e.filteringOperands.length){let i={expressionsTree:e,strategy:this.grid.filterStrategy};t=rS.filter(lC(t),i,this.grid)}return t}sortDataByExpressions(e,t){return JC.sort(lC(e),t,this.grid.sortStrategy,this.grid)}pin_row(e,t,i){let n=this.grid;if(-1!==n._pinnedRecordIDs.indexOf(e))return;let r=this.get_pin_row_event_args(e,t,i,!0);if(n.rowPinning.emit(r),r.cancel)return;let s="number"==typeof r.insertAtIndex?r.insertAtIndex:n._pinnedRecordIDs.length;n._pinnedRecordIDs.splice(s,0,e)}unpin_row(e,t){let i=this.grid,n=i._pinnedRecordIDs.indexOf(e);if(-1===n)return;let r=this.get_pin_row_event_args(e,null,t,!1);i.rowPinning.emit(r),!r.cancel&&i._pinnedRecordIDs.splice(n,1)}get_pin_row_event_args(e,t,i,n){let r={isPinned:!!n,rowKey:e,rowID:e,row:i,cancel:!1};return"number"==typeof t&&(r.insertAtIndex=t<=this.grid.pinnedRecords.length?t:this.grid.pinnedRecords.length),r}updateData(e,t,i,n,r){if(e.transactions.enabled){let i={id:t,type:MC.UPDATE,newValue:r};e.transactions.add(i,n)}else cC(i,r)}update_row_in_array(e,t,i){this.grid.data[i]=e}getSortStrategyPerColumn(e){return this.get_column_by_name(e)?this.get_column_by_name(e).sortStrategy:void 0}};return e.ɵfac=function(t){return new(t||e)(gr(iO),gr(LM))},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),xq=(()=>{let e=class extends yq{groupBy(e){let t=lC(this.grid.groupingExpressions);this.prepare_grouping_expression([t],e),this.grid.groupingExpressions=t,this.arrange_sorting_expressions()}groupBy_multiple(e){let t=lC(this.grid.groupingExpressions);for(let i of e)this.prepare_grouping_expression([t],i);this.grid.groupingExpressions=t,this.arrange_sorting_expressions()}clear_groupby(e){let t=lC(this.grid.groupingExpressions);if(e){let i="string"==typeof e?[e]:e,n=t.filter((e=>i.indexOf(e.fieldName)<0));this.grid.groupingExpressions=n,i.forEach((e=>{let i=t.findIndex((t=>t.fieldName===e)),n=this.grid.groupingExpansionState,r=n.filter((e=>e.hierarchy&&e.hierarchy.length<=i));r.length!==n.length&&(this.grid.groupingExpansionState=r)}))}else this.grid.groupingExpressions=[],this.grid.groupingExpansionState=[]}groupBy_get_expanded_for_group(e){let t=this.grid.groupingExpansionState,i=JC.getHierarchy(e);return t.find((t=>JC.isHierarchyMatch(t.hierarchy||[{fieldName:e.expression.fieldName,value:e.value}],i,this.grid.groupingExpressions)))}groupBy_is_row_in_group(e,t){let i=this.grid,n=!1;return e.records.forEach((e=>{(i.primaryKey?e[i.primaryKey]===t:e===t)&&(n=!0)})),n}groupBy_toggle_group(e){let t=this.grid;t.gridAPI.crudService.cellInEditMode&&this.crudService.endEdit(!1);let i=t.groupingExpansionState,n=this.groupBy_get_expanded_for_group(e);n?n.expanded=!n.expanded:i.push({expanded:!t.groupsExpanded,hierarchy:JC.getHierarchy(e)}),this.grid.groupingExpansionState=[...i],t.rowEditable&&t.repositionRowEditingOverlay(t.gridAPI.crudService.rowInEditMode)}set_grouprow_expansion_state(e,t){this.grid.isExpandedGroup(e)!==t&&this.groupBy_toggle_group(e)}groupBy_fully_expand_group(e){let t=this.groupBy_get_expanded_for_group(e);(t?t.expanded:this.grid.groupsExpanded)||this.groupBy_toggle_group(e),e.groupParent&&this.groupBy_fully_expand_group(e.groupParent)}groupBy_select_all_rows_in_group(e,t){this.grid.selectionService.selectRowsWithNoEvent(this.grid.primaryKey?e.records.map((e=>e[this.grid.primaryKey])):e.records,t)}groupBy_deselect_all_rows_in_group(e){this.grid.selectionService.deselectRowsWithNoEvent(this.grid.primaryKey?e.records.map((e=>e[this.grid.primaryKey])):e.records)}arrange_sorting_expressions(){let e=this.grid.groupingExpressions,t=lC(this.grid.sortingExpressions);for(let i of e){let e=t.findIndex((e=>e.fieldName===i.fieldName));e>-1&&t.splice(e,1)}this.grid.sortingExpressions=t}get_groupBy_record_id(e){let t="{ ",i=JC.getHierarchy(e);for(let e=0;e<i.length;e++){let n=i[e];t+=`'${n.fieldName}': '${n.value}'`,e<i.length-1&&(t+=", ")}return t+=" }",t}remove_grouping_expression(e){let t=this.grid.groupingExpressions,i=t.findIndex((t=>t.fieldName===e));-1!==i&&t.splice(i,1)}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),wq=["groupContent"],_q=["defaultGroupByExpandedTemplate"],Cq=["defaultGroupByCollapsedTemplate"],Sq=e=>({$implicit:e}),bq=(e,t,i)=>({selectedCount:e,totalCount:t,groupRow:i}),Dq=(e,t,i,n,r)=>[e,t,i,n,r];function Iq(e,t){1&e&&(zg(0),Mg(1,"div",12),Lg(2,"igx-icon",13),Ng(),Bg()),2&e&&(Ac(2),yg("visibility","hidden"))}function Eq(e,t){}function Tq(e,t){1&e&&Xu(0,Eq,0,0,"ng-template",null,6,nm)}function Rq(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"div",14),ep("pointerdown",(function(t){return Uo(e),qo(t.preventDefault())}))("click",(function(t){return Uo(e),qo(rp().onGroupSelectorClick(t))})),Xu(2,Tq,2,0,null,10),Ng(),Bg()}if(2&e){let e=rp(),t=mp(16);Ac(2),fg("ngTemplateOutlet",e.grid.groupByRowSelectorTemplate?e.grid.groupByRowSelectorTemplate:t)("ngTemplateOutletContext",Vp(6,Sq,Np(2,bq,e.selectedRowsInTheGroup.length,e.groupRow.records.length,e.groupRow)))}}function Aq(e,t){1&e&&Gg(0)}function kq(e,t){1&e&&Gg(0)}function Oq(e,t){1&e&&Lg(0,"igx-icon",15)}function Pq(e,t){1&e&&Lg(0,"igx-icon",16)}function Fq(e,t){if(1&e&&(Mg(0,"div",17),Lg(1,"igx-icon",18),Mg(2,"span",19),fp(3),Ng(),Mg(4,"span",20),fp(5),Xp(6,"columnFormatter"),Xp(7,"number"),Xp(8,"date"),Xp(9,"currency"),Xp(10,"percent"),Ng(),Lg(11,"igx-badge",21),Ng()),2&e){let e=rp();Ac(3),xp(" ",e.groupRow.column&&e.groupRow.column.header?e.groupRow.column.header:e.groupRow.expression?e.groupRow.expression.fieldName:"",": "),Ac(2),yp(e.formatter?em(6,3,e.groupRow.value,e.formatter,e.groupRow.records[0],null):"number"===e.dataType?Jp(7,8,e.groupRow.value,e.groupRow.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.dataType||"time"===e.dataType||"dateTime"===e.dataType?em(8,12,e.groupRow.value,e.groupRow.column.pipeArgs.format,e.groupRow.column.pipeArgs.timezone,e.grid.locale):"currency"===e.dataType?tm(9,17,Hp(27,Dq,e.groupRow.value,e.currencyCode,e.groupRow.column.pipeArgs.display,e.groupRow.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.dataType?Jp(10,23,e.groupRow.value,e.groupRow.column.pipeArgs.digitsInfo,e.grid.locale):e.groupRow.value),Ac(6),fg("value",e.groupRow.records?e.groupRow.records.length:0)}}function Vq(e,t){if(1&e&&(Mg(0,"div",22),Lg(1,"igx-checkbox",23,7),Ng()),2&e){let e=rp();Ac(),fg("tabindex",-1)("readonly",!0)("checked",e.areAllRowsInTheGroupSelected)("disableRipple",!0)("indeterminate",e.groupByRowCheckboxIndeterminateState)("disabled","single"===e.grid.rowSelection)("aria-label",e.groupByRowSelectorBaseAriaLabel)}}var Mq=(()=>{let e=class{get focused(){return this.isActive()}get currencyCode(){return this.groupRow.column.pipeArgs.currencyCode?this.groupRow.column.pipeArgs.currencyCode:xf(this.grid.locale)}constructor(e,t,i,n,r){this.grid=e,this.gridSelection=t,this.element=i,this.cdr=n,this.filteringService=r,this.isFocused=!1,this.destroy$=new ei,this.defaultCssClass="igx-grid__group-row",this.paddingIndentationCssClass="igx-grid__group-row--padding-level",this.gridSelection.selectedRowsChange.pipe(mn(this.destroy$)).subscribe((()=>{this.cdr.markForCheck()}))}activate(){this.grid.navigation.setActiveNode({row:this.index})}onClick(e){this.grid.rowClick.emit({row:this.grid.createRow(this.index),event:e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get expanded(){return this.grid.isExpandedGroup(this.groupRow)}get describedBy(){let e=void 0!==this.groupRow.expression?this.groupRow.expression.fieldName:"";return this.gridID+"_"+e}get dataRowIndex(){return this.index}get nativeElement(){return this.element.nativeElement}get attrCellID(){return`${this.gridID}_${this.index}`}get styleClasses(){return`${this.defaultCssClass} ${this.paddingIndentationCssClass}-`+this.groupRow.level+(this.isActive()?` ${this.defaultCssClass}--active`:"")}isActive(){return!!this.grid.navigation.activeNode&&this.grid.navigation.activeNode.row===this.index}getRowID(e){return this.grid.primaryKey?e[this.grid.primaryKey]:e}onGroupSelectorClick(e){this.grid.isMultiRowSelectionEnabled&&(e.stopPropagation(),this.areAllRowsInTheGroupSelected?this.gridSelection.deselectRows(this.groupRow.records.map((e=>this.getRowID(e)))):this.gridSelection.selectRows(this.groupRow.records.map((e=>this.getRowID(e)))))}toggle(){this.grid.toggleGroup(this.groupRow)}get iconTemplate(){return this.expanded?this.grid.rowExpandedIndicatorTemplate||this.defaultGroupByExpandedTemplate:this.grid.rowCollapsedIndicatorTemplate||this.defaultGroupByCollapsedTemplate}get selectionNode(){return{row:this.index,column:this.gridSelection.activeElement?this.gridSelection.activeElement.column:0}}get dataType(){let e=this.groupRow.column;return e&&e.dataType||QC.String}get formatter(){let e=this.groupRow.column;return e&&e.formatter||null}get areAllRowsInTheGroupSelected(){return this.groupRow.records.every((e=>this.gridSelection.isRowSelected(this.getRowID(e))))}get selectedRowsInTheGroup(){let e=new Set(this.gridSelection.filteredSelectedRowIds);return this.groupRow.records.filter((t=>e.has(this.getRowID(t))))}get groupByRowCheckboxIndeterminateState(){return this.selectedRowsInTheGroup.length>0&&!this.areAllRowsInTheGroupSelected}get groupByRowSelectorBaseAriaLabel(){return(this.areAllRowsInTheGroupSelected?this.grid.resourceStrings.igx_grid_groupByArea_deselect_message:this.grid.resourceStrings.igx_grid_groupByArea_select_message).replace("{0}",this.groupRow.expression.fieldName).replace("{1}",this.groupRow.value)}get showRowSelectors(){return this.grid.rowSelection!==fS&&!this.hideGroupRowSelectors}};return e.ɵfac=function(t){return new(t||e)(Oc(nO),Oc(_O),Oc(Nl),Oc(Pm),Oc(j$))},e.ɵcmp=es({type:e,selectors:[["igx-grid-groupby-row"]],viewQuery:function(e,t){if(1&e&&(up(wq,7),up(_q,7,Oh),up(Cq,7,Oh)),2&e){let e;gp(e=pp())&&(t.groupContent=e.first),gp(e=pp())&&(t.defaultGroupByExpandedTemplate=e.first),gp(e=pp())&&(t.defaultGroupByCollapsedTemplate=e.first)}},hostVars:6,hostBindings:function(e,t){1&e&&ep("pointerdown",(function(){return t.activate()}))("click",(function(e){return t.onClick(e)})),2&e&&(tg("aria-expanded",t.expanded)("aria-describedby",t.describedBy)("data-rowIndex",t.dataRowIndex)("id",t.attrCellID),wg(t.styleClasses))},inputs:{hideGroupRowSelectors:"hideGroupRowSelectors",rowDraggable:"rowDraggable",index:"index",gridID:"gridID",groupRow:"groupRow",isFocused:"isFocused"},standalone:!0,features:[Pp],decls:17,vars:10,consts:[["defaultGroupRow",""],["groupContent",""],["defaultGroupByExpandedTemplate",""],["defaultGroupByCollapsedTemplate",""],["defaultGroupByTemplate",""],["groupByRowSelectorBaseTemplate",""],["groupByRowSelector",""],["groupByRowCheckbox",""],[4,"ngIf"],[1,"igx-grid__grouping-indicator",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-grid__group-content"],[1,"igx-grid__drag-indicator","igx-grid__tr-action"],["family","default","name","drag_indicator"],[1,"igx-grid__cbx-selection","igx-grid__tr-action",3,"pointerdown","click"],["family","default","name","tree_collapse"],["family","default","name","tree_expand"],[1,"igx-group-label"],["family","default","name","group_work",1,"igx-group-label__icon"],[1,"igx-group-label__column-name"],[1,"igx-group-label__text"],[1,"igx-group-label__count-badge",3,"value"],[1,"igx-grid__cbx-padding"],[3,"tabindex","readonly","checked","disableRipple","indeterminate","disabled","aria-label"]],template:function(e,t){if(1&e){let e=Wg();zg(0,null,0),Xu(2,Iq,3,2,"ng-container",8)(3,Rq,3,8,"ng-container",8),Mg(4,"div",9),ep("click",(function(){return Uo(e),qo(t.toggle())})),Xu(5,Aq,1,0,"ng-container",10),Ng(),Mg(6,"div",11,1),Xu(8,kq,1,0,"ng-container",10),Ng(),Xu(9,Oq,1,0,"ng-template",null,2,nm)(11,Pq,1,0,"ng-template",null,3,nm)(13,Fq,12,33,"ng-template",null,4,nm)(15,Vq,3,7,"ng-template",null,5,nm),Bg()}if(2&e){let e=mp(14);Ac(2),fg("ngIf",t.rowDraggable),Ac(),fg("ngIf",t.showRowSelectors),Ac(2),fg("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",Vp(6,Sq,t)),Ac(3),fg("ngTemplateOutlet",t.grid.groupRowTemplate?t.grid.groupRowTemplate:e)("ngTemplateOutletContext",Vp(8,Sq,t.groupRow))}},dependencies:[cv,yv,Tv,Ev,Rv,Av,FT,gP,DA,PK],encapsulation:2,changeDetection:0}),e})(),Nq=(()=>{let e=class extends GU{isValidPosition(e,t){return!(e<0||t<0||this.grid.dataView.length-1<e||Math.max(...this.grid.visibleColumns.map((e=>e.visibleIndex)))<t||this.activeNode.column!==t&&!this.isDataRow(e,!0))}shouldPerformVerticalScroll(e,t){if(!super.shouldPerformVerticalScroll(e,t))return!1;if(!this.isDataRow(e)||t<0)return super.shouldPerformVerticalScroll(e,t);let i=super.getRowElementByIndex(e),n=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,r=this.getVerticalScrollPositions(e,t);return!i||i.offsetTop+r.topOffset<Math.abs(this.containerTopOffset)||n&&n<r.rowBottom-Math.ceil(this.scrollTop)}isColumnFullyVisible(e){let t=this.grid.getColumnByVisibleIndex(e);if(this.isParentColumnFullyVisible(t?.parent)||super.isColumnPinned(e,this.forOfDir()))return!0;let i=this.getChildColumnScrollPositions(e),n=i.rightScroll-i.leftScroll;return this.displayContainerWidth<n&&this.displayContainerScrollLeft===i.leftScroll||this.displayContainerWidth>=i.rightScroll-this.displayContainerScrollLeft&&this.displayContainerScrollLeft<=i.leftScroll}getVerticalScrollPositions(e,t){let i=this.grid.getColumnByVisibleIndex(t),n=i.rowEnd&&i.rowEnd-i.rowStart?i.rowEnd-i.rowStart:1,r=this.grid.defaultRowHeight*(i.rowStart-1),s=this.grid.verticalScrollContainer.sizesCache[e]+r;return{topOffset:r,rowTop:s,rowBottom:s+this.grid.defaultRowHeight*n}}performHorizontalScrollToCell(e,t){if(!this.shouldPerformHorizontalScroll(e))return;let i=this.getChildColumnScrollPositions(e),n=i.rightScroll-this.displayContainerScrollLeft,r=!(this.displayContainerScrollLeft<=i.leftScroll)&&this.displayContainerWidth>=n?i.leftScroll:i.rightScroll-this.displayContainerWidth;this.forOfDir().getScroll().scrollLeft=r,this.grid.parentVirtDir.chunkLoad.pipe(un()).subscribe((()=>{t&&t()}))}performVerticalScrollToCell(e,t,i){let n=this.parentByChildIndex(t||0)?.children;if(!super.isDataRow(e)||n&&n.length<2||t<0)return super.performVerticalScrollToCell(e,t,i);let r=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,s=this.getVerticalScrollPositions(e,t),o=super.getRowElementByIndex(e);this.scrollTop>s.rowTop&&(!o||o.offsetTop+s.topOffset<Math.abs(this.containerTopOffset))?0===s.topOffset?this.grid.verticalScrollContainer.scrollTo(e):this.grid.verticalScrollContainer.scrollPosition=s.rowTop:this.grid.verticalScrollContainer.addScrollTop(Math.abs(s.rowBottom-this.scrollTop-r)),this.grid.verticalScrollContainer.chunkLoad.pipe(un()).subscribe((()=>{i&&i()}))}getNextHorizontalCellPosition(e=!1){let t=this.parentByChildIndex(this.activeNode.column);if(!this.hasNextHorizontalPosition(e,t))return{row:this.activeNode.row,column:this.activeNode.column};let i=(e?t.children.filter((e=>e.rowStart<=this.activeNode.layout.rowStart)).sort(((e,t)=>t.visibleIndex-e.visibleIndex)):t.children.filter((e=>e.rowStart<=this.activeNode.layout.rowStart))).find((t=>e?t.visibleIndex<this.activeNode.column&&this.rowEnd(t)>this.activeNode.layout.rowStart:t.visibleIndex>this.activeNode.column&&t.colStart>this.activeNode.layout.colStart));if(!i||e&&1===this.activeNode.layout.colStart){let n=e?t.visibleIndex-1:t.visibleIndex+1,r=this.grid.columns.find((e=>e.columnLayout&&e.visibleIndex===n)).children;i=e?r.toArray().reverse().find((e=>e.rowStart<=this.activeNode.layout.rowStart)):r.find((e=>this.rowEnd(e)>this.activeNode.layout.rowStart&&1===e.colStart))}return{row:this.activeNode.row,column:i.visibleIndex}}getNextVerticalPosition(e=!1){if(this.activeNode.column=this.activeNode.column||0,!this.hasNextVerticalPosition(e))return{row:this.activeNode.row,column:this.activeNode.column};let t=this.grid.getColumnByVisibleIndex(this.activeNode.column).rowStart,i=!this.isDataRow(this.activeNode.row)||(e?1===t:t===this.lastRowStartPerBlock()),n=e?this.activeNode.row-1:this.activeNode.row+1;if(i&&!this.isDataRow(n))return{row:n,column:this.activeNode.column};let r=this.parentByChildIndex(this.activeNode.column).children,s=e?this.getPreviousRowIndex(r,i):this.getNextRowIndex(r,i);return{row:i?n:this.activeNode.row,column:s.visibleIndex}}headerNavigation(e){let t=e.key.toLowerCase();if(!DC.has(t))return;e.preventDefault(),this.activeNode.layout||(this.activeNode.layout=this.layout(this.activeNode.column||0));let i=e.altKey,n=e.ctrlKey;if(this.performHeaderKeyCombination(this.grid.getColumnByVisibleIndex(this.activeNode.column),t,e.shiftKey,n,i,e),n||i||!t.includes("down")&&!t.includes("up"))this.horizontalNav(e,t,-1,"headerCell");else{let e=this.parentByChildIndex(this.activeNode.column).children,i=t.includes("down")?this.getNextRowIndex(e,!1):this.getPreviousRowIndex(e,!1);if(!i)return;this.activeNode.column=i.visibleIndex;let n=this.layout(this.activeNode.column),r=Oe(ke({},this.activeNode.layout),{rowStart:n.rowStart,rowEnd:n.rowEnd});this.setActiveNode({row:this.activeNode.row,layout:r})}}layout(e){let t=this.grid.getColumnByVisibleIndex(e);return{colStart:t.colStart,rowStart:t.rowStart,colEnd:t.colEnd,rowEnd:t.rowEnd,columnVisibleIndex:t.visibleIndex}}getNextPosition(e,t,i,n,r,s){switch(this.activeNode.layout||(this.activeNode.layout=this.layout(this.activeNode.column||0)),i){case"tab":case" ":case"spacebar":case"space":case"escape":case"esc":case"enter":case"f2":super.getNextPosition(e,t,i,n,r,s);break;case"end":e=r?this.findLastDataRowIndex():this.activeNode.row,t=r?this.lastColIndexPerMRLBlock(this.lastIndexPerRow):this.lastIndexPerRow;break;case"home":e=r?this.findFirstDataRowIndex():this.activeNode.row,t=r?0:this.firstIndexPerRow;break;case"arrowleft":case"left":t=r?this.firstIndexPerRow:this.getNextHorizontalCellPosition(!0).column;break;case"arrowright":case"right":t=r?this.lastIndexPerRow:this.getNextHorizontalCellPosition().column;break;case"arrowup":case"up":let o=this.getNextVerticalPosition(!0);t=r?this.activeNode.column:o.column,e=r?this.findFirstDataRowIndex():o.row;break;case"arrowdown":case"down":let a=this.getNextVerticalPosition();t=r?this.activeNode.column:a.column,e=r?this.findLastDataRowIndex():a.row;break;default:return}let o=this.layout(t),a=i.includes("up")||i.includes("down")?{rowStart:o.rowStart}:{colStart:o.colStart};return Object.assign(this.activeNode.layout,a,{rowEnd:o.rowEnd}),r&&("home"===i||"end"===i)&&(this.activeNode.layout=o),{rowIndex:e,colIndex:t}}horizontalNav(e,t,i,n){let r=e.ctrlKey;if(!yC.has(t)||e.altKey)return;this.activeNode.row=i;let s={column:this.activeNode.column,mchCache:{level:this.activeNode.level,visibleIndex:this.activeNode.column}};if((t.includes("left")||"home"===t)&&this.activeNode.column>0&&(s.column=r||"home"===t?this.firstIndexPerRow:this.getNextHorizontalCellPosition(!0).column),(t.includes("right")||"end"===t)&&this.activeNode.column!==this.lastIndexPerRow&&(s.column=r||"end"===t?this.lastIndexPerRow:this.getNextHorizontalCellPosition().column),"headerCell"===n){let e=this.grid.getColumnByVisibleIndex(s.column);s.mchCache.level=e.level,s.mchCache.visibleIndex=e.visibleIndex}let o=this.layout(s.column),a=Oe(ke({},this.activeNode.layout),{colStart:o.colStart,rowEnd:o.rowEnd});this.setActiveNode({row:this.activeNode.row,column:s.column,layout:a,mchCache:s.mchCache}),this.performHorizontalScrollToCell(s.column)}isParentColumnFullyVisible(e){if(!this.forOfDir().getScroll().clientWidth||e?.pinned)return!0;let t=this.forOfDir().igxForOf.indexOf(e);return this.displayContainerWidth>=this.forOfDir().getColumnScrollLeft(t+1)-this.displayContainerScrollLeft&&this.displayContainerScrollLeft<=this.forOfDir().getColumnScrollLeft(t)}getChildColumnScrollPositions(e){let t=this.grid.getColumnByVisibleIndex(e),i=this.forOfDir().igxForOf.indexOf(t.parent),n=this.forOfDir().getColumnScrollLeft(i),r=this.forOfDir().getColumnScrollLeft(i+1);return t.parent.children.forEach((e=>{e.rowStart>=t.rowStart&&e.visibleIndex<t.visibleIndex&&(n+=parseInt(e.width,10)),e.rowStart<=t.rowStart&&e.visibleIndex>t.visibleIndex&&(r-=parseInt(e.width,10))})),{leftScroll:n,rightScroll:r}}getNextRowIndex(e,t){let i=t?1:this.rowEnd(this.grid.getColumnByVisibleIndex(this.activeNode.column)),n=e.filter((e=>e.rowStart===i));return n.find((e=>e.colStart===this.activeNode.layout.colStart))||n.sort(((e,t)=>t.visibleIndex-e.visibleIndex)).find((e=>e.colStart<=this.activeNode.layout.colStart))}getPreviousRowIndex(e,t){let i=t?Math.max(...e.map((e=>this.rowEnd(e)))):this.grid.getColumnByVisibleIndex(this.activeNode.column).rowStart,n=e.filter((e=>this.rowEnd(e)===i));return n.find((e=>e.colStart===this.activeNode.layout.colStart))||n.sort(((e,t)=>t.visibleIndex-e.visibleIndex)).find((e=>e.colStart<=this.activeNode.layout.colStart))}get lastIndexPerRow(){let e=this.grid.visibleColumns.find((e=>e.visibleIndex===this.lastLayoutIndex&&e.columnLayout)).children.toArray().reverse();return(e.find((e=>e.rowStart===this.activeNode.layout.rowStart))||e.find((e=>e.rowStart<=this.activeNode.layout.rowStart))).visibleIndex}get firstIndexPerRow(){let e=this.grid.visibleColumns.find((e=>0===e.visibleIndex&&e.columnLayout)).children;return(e.find((e=>e.rowStart===this.activeNode.layout.rowStart))||e.find((e=>e.rowStart<=this.activeNode.layout.rowStart))).visibleIndex}get lastLayoutIndex(){return Math.max(...this.grid.visibleColumns.filter((e=>e.columnLayout)).map((e=>e.visibleIndex)))}get scrollTop(){return Math.abs(this.grid.verticalScrollContainer.getScroll().scrollTop)}lastColIndexPerMRLBlock(e=this.activeNode.column){return this.parentByChildIndex(e).children.last.visibleIndex}lastRowStartPerBlock(e=this.activeNode.column){return Math.max(...this.parentByChildIndex(e).children.map((e=>e.rowStart)))}rowEnd(e){return e.rowEnd&&e.rowEnd-e.rowStart?e.rowStart+e.rowEnd-e.rowStart:e.rowStart+1}parentByChildIndex(e){return this.grid.getColumnByVisibleIndex(e)?.parent}hasNextHorizontalPosition(e=!1,t){return!(e&&0===t.visibleIndex&&1===this.activeNode.layout.colStart||!e&&t.visibleIndex===this.lastLayoutIndex&&this.activeNode.column===this.lastIndexPerRow)}hasNextVerticalPosition(e=!1){return!(e&&0===this.activeNode.row&&(!this.isDataRow(this.activeNode.row)||1===this.activeNode.layout.rowStart)||!e&&this.activeNode.row>=this.grid.dataView.length-1&&this.activeNode.column===this.lastColIndexPerMRLBlock())}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),Lq=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n){return t?this.addDetailRows(e,i):e}addDetailRows(e,t){let i=[];return e.forEach((e=>{if(i.push(e),!this.grid.isGroupByRecord(e)&&!this.grid.isSummaryRow(e)&&this.grid.gridAPI.get_row_expansion_state(e)){let t={detailsData:e};i.push(t)}})),i}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"gridDetails",type:e,pure:!0,standalone:!0}),e})(),Hq=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o,a){return e.data&&t&&i!==gS?this.addSummaryRows(r,e,n,s):e.data}addSummaryRows(e,t,i,n){let r=[],s=new Map,o=this.grid.summaryService.calcMaxSummaryHeight();if(t.metadata.length&&!this.grid.isGroupByRecord(t.data[0])&&this.grid.isGroupByRecord(t.metadata[0])&&i===uS){let e=[];for(e.push(t.metadata[0]);e[e.length-1].groupParent;)e.push(e[e.length-1].groupParent);e.reverse(),e.forEach((e=>e.skip=!0)),t.data.splice(0,0,...e)}for(let e of t.data){let t,a=!1,l=null;if(this.grid.isGroupByRecord(e)?(a=!!e.skip,e.skip=null,l=e,t=this.grid.gridAPI.get_groupBy_record_id(l)):t=this.grid.gridAPI.get_row_id(e),a||r.push(e),i===uS&&n&&l&&!this.grid.isExpandedGroup(l)){let e=this.removeDeletedRecord(this.grid,l.records.slice()),i={summaries:this.grid.summaryService.calculateSummaries(t,e),max:o};r.push(i)}if(i===uS&&s.has(t)){let e=s.get(t);for(let t of e){let e=this.grid.gridAPI.get_groupBy_record_id(t),i=this.removeDeletedRecord(this.grid,t.records.slice()),n={summaries:this.grid.summaryService.calculateSummaries(e,i,t),max:o};r.push(n)}}let d=!n&&l&&!this.grid.isExpandedGroup(l);if(null!==l&&!d)if(i===hS){let e=this.removeDeletedRecord(this.grid,l.records.slice()),i={summaries:this.grid.summaryService.calculateSummaries(t,e,l),max:o};r.push(i)}else if(i===uS){let e,t=l;for(;t.groups&&t.groups.length>0&&this.grid.isExpandedGroup(t);)t=t.groups[t.groups.length-1];e=this.grid.isExpandedGroup(t)?this.grid.gridAPI.get_row_id(t.records[t.records.length-1]):this.grid.gridAPI.get_groupBy_record_id(t);let i=s.get(e);i||(i=[],s.set(e,i)),i.unshift(l)}}return r}removeDeletedRecord(e,t){return e.transactions.enabled&&e.transactions.getTransactionLog().filter((e=>"delete"===e.type)).map((e=>e.id)).forEach((i=>{let n=(e.primaryKey?t.map((t=>t[e.primaryKey])):t).indexOf(i);-1!==n&&t.splice(n,1)})),t}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"gridSummary",type:e,pure:!0,standalone:!0}),e})(),zq=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o){let a,l=i.concat(t);return a=l.length?JC.sort(lC(e),l,n,this.grid):e,this.grid.setFilteredSortedData(a,o),a}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"gridSort",type:e,pure:!0,standalone:!0}),e})(),Bq=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o,a){let l={expressions:[],expansion:[],defaultExpanded:r};l.expressions=this.grid.groupingExpressions;let d,c={data:[],metadata:[]};return l.expressions.length?(l.expansion=this.grid.groupingExpansionState,l.defaultExpanded=this.grid.groupsExpanded,d=JC.group(lC(e),l,n,this.grid,o,c)):(o.splice(0,o.length),d={data:e,metadata:e}),this.grid.groupingFlatResult=d.data,this.grid.groupingResult=c.data,this.grid.groupingMetadata=c.metadata,d}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"gridGroupBy",type:e,pure:!0,standalone:!0}),e})(),Gq=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i=0,n=15,r){if(!t||this.grid.pagingMode!==bS.Local)return e;let s={index:i,recordsPerPage:n},o=this.grid._totalRecords>=0?this.grid._totalRecords:e.data?.length;JC.correctPagingState(s,o);let a={data:JC.page(lC(e.data),s,o),metadata:JC.page(lC(e.metadata),s,o)};return this.grid.page!==s.index&&(this.grid.page=s.index),this.grid.pagingState=s,a}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"gridPaging",type:e,pure:!0,standalone:!0}),e})(),$q=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o,a){let l={expressionsTree:t,strategy:i,advancedExpressionsTree:n};if(iS.empty(l.expressionsTree)&&iS.empty(l.advancedExpressionsTree))return e;let d=rS.filter(lC(e),l,this.grid);return this.grid.setFilteredData(d,a),d}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"gridFiltering",type:e,pure:!0,standalone:!0}),e})(),Wq=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t=0){let i=this.grid.summaryService;return i.calculateSummaries(i.rootSummaryID,this.grid.gridAPI.get_summary_data())}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"igxGridSummaryDataPipe",type:e,pure:!0,standalone:!0}),e})(),Kq=["errorIcon"],jq=["defaultError"],Uq=["defaultCell"],qq=["defaultPinnedIndicator"],Yq=["inlineEditor"],Xq=["addRowCell"],Zq=["error"],Qq=(e,t,i,n,r)=>[e,t,i,n,r],Jq=(e,t)=>({"igx-icon--success":e,"igx-icon--error":t});function eY(e,t){if(1&e&&(Mg(0,"igx-chip",10),fp(1),Ng()),2&e){let e=rp(2);yg("--ig-size",1),fg("disabled",!0),Ac(),yp(e.grid.resourceStrings.igx_grid_pinned_row_indicator)}}function tY(e,t){1&e&&Xu(0,eY,2,4,"igx-chip",9),2&e&&fg("ngIf",rp().displayPinnedChip)}function iY(e,t){if(1&e&&(Mg(0,"div",14),Xp(1,"columnFormatter"),Xp(2,"number"),Xp(3,"date"),Xp(4,"currency"),Xp(5,"percent"),fp(6),Xp(7,"columnFormatter"),Xp(8,"number"),Xp(9,"date"),Xp(10,"currency"),Xp(11,"percent"),Ng()),2&e){let e=rp(2);fg("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?em(1,9,e.value,e.formatter,e.rowData,e.columnData):"number"===e.column.dataType?Jp(2,14,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?em(3,18,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?tm(4,23,Hp(57,Qq,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Jp(5,29,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Ac(6),yp(e.formatter?em(7,33,e.value,e.formatter,e.rowData,e.columnData):"number"===e.column.dataType?Jp(8,38,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?em(9,42,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?tm(10,47,Hp(63,Qq,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Jp(11,53,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)}}function nY(e,t){if(1&e&&Lg(0,"igx-icon",15),2&e){let e=rp(2);fg("name",e.value?"confirm":"close")("ngClass",Mp(2,Jq,e.value,!e.value))}}function rY(e,t){if(1&e&&(Lg(0,"img",16),Xp(1,"igxCellImageAlt")),2&e){let e=rp(2);fg("src",e.value,Xd)("alt",Zp(1,2,e.value))}}function sY(e,t){if(1&e&&Xu(0,iY,12,69,"div",11)(1,nY,1,5,"igx-icon",12)(2,rY,2,4,"img",13),2&e){let e=rp();fg("ngIf","boolean"!==e.column.dataType&&"image"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter),Ac(),fg("ngIf","boolean"===e.column.dataType&&!e.formatter),Ac(),fg("ngIf","image"===e.column.dataType)}}function oY(e,t){if(1&e&&(Mg(0,"div",14),Xp(1,"columnFormatter"),Xp(2,"number"),Xp(3,"date"),Xp(4,"currency"),Xp(5,"percent"),fp(6),Ng()),2&e){let e=rp(2);fg("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?Jp(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?Jp(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?em(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?tm(4,22,Hp(32,Qq,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Jp(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Ac(6),yp(e.isEmptyAddRowCell?e.column.header||e.column.field:e.value)}}function aY(e,t){if(1&e&&Xu(0,oY,7,38,"div",11),2&e){let e=rp();fg("ngIf","boolean"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter)}}function lY(e,t){if(1&e){let e=Wg();zg(0,18),Mg(1,"igx-input-group")(2,"input",19),ep("compositionstart",(function(){return Uo(e),qo(rp(2).grid.crudService.isInCompositionMode=!0)}))("compositionend",(function(){return Uo(e),qo(rp(2).grid.crudService.isInCompositionMode=!1)})),Ng()(),Bg()}if(2&e){let e=rp(2);fg("formGroup",e.formGroup),Ac(2),fg("igxFocus",!0)("igxTextSelection",!0)("formControl",e.formControl),tg("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function dY(e,t){if(1&e&&(zg(0),Mg(1,"igx-input-group",18),Lg(2,"input",20),Ng(),Bg()),2&e){let e=rp(2);Ac(),fg("formGroup",e.formGroup),Ac(),fg("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),tg("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function cY(e,t){if(1&e&&(zg(0,18),Lg(1,"igx-checkbox",21),Bg()),2&e){let e=rp(2);fg("formGroup",e.formGroup),Ac(),fg("checked",e.editValue)("igxFocus",!0)("disableRipple",!0)("formControl",e.formControl)}}function hY(e,t){if(1&e){let e=Wg();zg(0,18),Mg(1,"igx-date-picker",22),Sp("valueChange",(function(t){Uo(e);let i=rp(2);return Cp(i.editValue,t)||(i.editValue=t),qo(t)})),Ng(),Bg()}if(2&e){let e=rp(2);fg("formGroup",e.formGroup),Ac(),yg("width",100,"%"),fg("outlet",e.grid.outlet)("locale",e.grid.locale)("weekStart",e.column.pipeArgs.weekStart),_p("value",e.editValue),fg("igxFocus",!0)("formControl",e.formControl)}}function uY(e,t){if(1&e){let e=Wg();zg(0,18),Mg(1,"igx-time-picker",23),Sp("valueChange",(function(t){Uo(e);let i=rp(2);return Cp(i.editValue,t)||(i.editValue=t),qo(t)})),Ng(),Bg()}if(2&e){let e=rp(2);fg("formGroup",e.formGroup),Ac(),yg("width",100,"%"),fg("outlet",e.grid.outlet)("locale",e.grid.locale)("inputFormat",e.column.defaultTimeFormat),_p("value",e.editValue),fg("igxFocus",!0)("formControl",e.formControl)}}function gY(e,t){if(1&e&&(zg(0),Mg(1,"igx-input-group",18),Lg(2,"input",24),Ng(),Bg()),2&e){let e=rp(2);Ac(),fg("formGroup",e.formGroup),Ac(),fg("formControl",e.formControl)("igxDateTimeEditor",e.column.defaultDateTimeFormat)("igxFocus",!0),tg("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function pY(e,t){if(1&e&&(Mg(0,"igx-prefix"),fp(1),Ng()),2&e){let e=rp(3);Ac(),yp(e.currencyCodeSymbol)}}function mY(e,t){if(1&e&&(Mg(0,"igx-suffix"),fp(1),Ng()),2&e){let e=rp(3);Ac(),yp(e.currencyCodeSymbol)}}function fY(e,t){if(1&e&&(zg(0),Mg(1,"igx-input-group",18),Xu(2,pY,2,1,"igx-prefix",8),Lg(3,"input",20),Xu(4,mY,2,1,"igx-suffix",8),Ng(),Bg()),2&e){let e=rp(2);Ac(),fg("formGroup",e.formGroup),Ac(),fg("ngIf",e.grid.currencyPositionLeft),Ac(),fg("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),tg("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Ac(),fg("ngIf",!e.grid.currencyPositionLeft)}}function vY(e,t){if(1&e&&(zg(0),Mg(1,"igx-input-group",18),Lg(2,"input",20),Mg(3,"igx-suffix"),fp(4),Xp(5,"percent"),Ng()(),Bg()),2&e){let e=rp(2);Ac(),fg("formGroup",e.formGroup),Ac(),fg("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),tg("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Ac(2),xp(" ",Jp(5,8,e.editValue,e.column.pipeArgs.digitsInfo,e.grid.locale)," ")}}function yY(e,t){if(1&e&&Xu(0,lY,3,6,"ng-container",17)(1,dY,3,7,"ng-container",8)(2,cY,2,5,"ng-container",17)(3,hY,2,9,"ng-container",17)(4,uY,2,9,"ng-container",17)(5,gY,3,6,"ng-container",8)(6,fY,5,9,"ng-container",8)(7,vY,6,12,"ng-container",8),2&e){let e=rp();fg("ngIf","string"===e.column.dataType||"image"===e.column.dataType),Ac(),fg("ngIf","number"===e.column.dataType),Ac(),fg("ngIf","boolean"===e.column.dataType),Ac(),fg("ngIf","date"===e.column.dataType),Ac(),fg("ngIf","time"===e.column.dataType),Ac(),fg("ngIf","dateTime"===e.column.dataType),Ac(),fg("ngIf","currency"===e.column.dataType),Ac(),fg("ngIf","percent"===e.column.dataType)}}function xY(e,t){1&e&&Gg(0)}function wY(e,t){1&e&&Gg(0)}function _Y(e,t){1&e&&Gg(0)}function CY(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"igx-icon",25,5),ep("mouseover",(function(){return Uo(e),qo(rp().errorShowing=!0)}))("mouseout",(function(){return Uo(e),qo(rp().errorShowing=!1)})),Ng(),Mg(3,"div",26,6)(6,"div"),Xu(7,_Y,1,0,"ng-container",7),Ng()(),Bg()}if(2&e){let e=mp(5),t=rp(),i=mp(12);Ac(),fg("igxTooltipTarget",e)("igxToggleOutlet",t.grid.outlet),Ac(2),fg("id",t.ariaErrorMessage),Ac(3),yg("width","max-content"),Ac(),fg("ngTemplateOutlet",t.cellValidationErrorTemplate||i)("ngTemplateOutletContext",t.context)}}function SY(e,t){if(1&e&&(Mg(0,"div"),fp(1),Ng()),2&e){let e=rp(2);Ac(),xp(" ",e.grid.resourceStrings.igx_grid_required_validation_error," ")}}function bY(e,t){if(1&e&&(Mg(0,"div"),fp(1),Xp(2,"igxStringReplace"),Ng()),2&e){let e=rp(2);Ac(),xp(" ",Jp(2,1,e.grid.resourceStrings.igx_grid_min_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.minlength.requiredLength)," ")}}function DY(e,t){if(1&e&&(Mg(0,"div"),fp(1),Xp(2,"igxStringReplace"),Ng()),2&e){let e=rp(2);Ac(),xp(" ",Jp(2,1,e.grid.resourceStrings.igx_grid_max_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.maxlength.requiredLength)," ")}}function IY(e,t){if(1&e&&(Mg(0,"div"),fp(1),Xp(2,"igxStringReplace"),Ng()),2&e){let e=rp(2);Ac(),xp(" ",Jp(2,1,e.grid.resourceStrings.igx_grid_min_validation_error,"{0}",e.formGroup.get(e.column.field).errors.min.min)," ")}}function EY(e,t){if(1&e&&(Mg(0,"div"),fp(1),Xp(2,"igxStringReplace"),Ng()),2&e){let e=rp(2);Ac(),xp(" ",Jp(2,1,e.grid.resourceStrings.igx_grid_max_validation_error,"{0}",e.formGroup.get(e.column.field).errors.max.max)," ")}}function TY(e,t){if(1&e&&(Mg(0,"div"),fp(1),Ng()),2&e){let e=rp(2);Ac(),xp(" ",e.grid.resourceStrings.igx_grid_email_validation_error," ")}}function RY(e,t){if(1&e&&(Mg(0,"div"),fp(1),Ng()),2&e){let e=rp(2);Ac(),xp(" ",e.grid.resourceStrings.igx_grid_pattern_validation_error," ")}}function AY(e,t){if(1&e&&Xu(0,SY,2,1,"div",8)(1,bY,3,5,"div",8)(2,DY,3,5,"div",8)(3,IY,3,5,"div",8)(4,EY,3,5,"div",8)(5,TY,2,1,"div",8)(6,RY,2,1,"div",8),2&e){let e,t,i,n,r,s,o,a=rp();fg("ngIf",null==a.formGroup||null==(e=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:e.required),Ac(),fg("ngIf",null==a.formGroup||null==(t=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:t.minlength),Ac(),fg("ngIf",null==a.formGroup||null==(i=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:i.maxlength),Ac(),fg("ngIf",null==a.formGroup||null==(n=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:n.min),Ac(),fg("ngIf",null==a.formGroup||null==(r=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:r.max),Ac(),fg("ngIf",null==a.formGroup||null==(s=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:s.email),Ac(),fg("ngIf",null==a.formGroup||null==(o=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:o.pattern)}}var kY=(()=>{let e=class{get isEmptyAddRowCell(){return this.intRow.addRowUI&&(void 0===this.value||null===this.value)}get formGroup(){return this.grid.validation.getFormGroup(this.intRow.key)}get row(){return this.grid.createRow(this.intRow.index)}get context(){let e=()=>this.getCellType(!0),t={$implicit:this.value,additionalTemplateContext:this.column.additionalTemplateContext,get cell(){return e()}};return this.editMode&&(t.formControl=this.formControl),this.isInvalid&&(t.defaultErrorTemplate=this.defaultErrorTemplate),t}get template(){return this.editMode&&this.formGroup?this.column.inlineEditorTemplate||this.inlineEditorTemplate:this.cellTemplate?this.cellTemplate:this.grid.rowEditable&&this.intRow.addRowUI?this.addRowCellTemplate:this.defaultCellTemplate}get pinnedIndicatorTemplate(){return this.pinnedIndicator?this.pinnedIndicator:this.defaultPinnedIndicator}get gridID(){return this.intRow.gridID}get rowIndex(){return this.intRow.index}get columnIndex(){return this.column.index}get visibleColumnIndex(){return this.column.columnLayoutChild?this.column.visibleIndex:this._vIndex}set visibleColumnIndex(e){this._vIndex=e}get cellID(){let e=this.grid.primaryKey;return{rowID:e?this.rowData[e]:this.rowData,columnID:this.columnIndex,rowIndex:this.rowIndex}}get attrCellID(){return`${this.intRow.gridID}_${this.rowIndex}_${this.visibleColumnIndex}`}get title(){if(this.editMode||this.cellTemplate||this.errorShowing)return"";if(this.formatter)return this.formatter(this.value,this.rowData,this.columnData);let e=this.column.pipeArgs,t=this.grid.locale;switch(this.column.dataType){case QC.Percent:return tv(this.value,t,e.digitsInfo);case QC.Currency:return kC(this.value,this.currencyCode,e.display,e.digitsInfo,t);case QC.Date:case QC.DateTime:case QC.Time:return AC(this.value,e.format,t,e.timezone)}return this.value}get booleanClass(){return"boolean"===this.column.dataType&&this.value}get nativeElement(){return this.element.nativeElement}get cellSelectionMode(){return this._cellSelection}set cellSelectionMode(e){this._cellSelection!==e&&(this.zone.runOutsideAngular((()=>{e===yS?this.addPointerListeners(e):this.removePointerListeners(this._cellSelection)})),this._cellSelection=e)}set lastSearchInfo(e){this._lastSearchInfo=e,this.highlightText(this._lastSearchInfo.searchText,this._lastSearchInfo.caseSensitive,this._lastSearchInfo.exactMatch)}get readonly(){return!this.editable}get ariaDescribeBy(){let e=(this.gridID+"_"+this.column.field).replace(".","_");return this.isInvalid&&(e+=" "+this.ariaErrorMessage),e}get ariaErrorMessage(){return this.grid.id+"_"+this.column.field+"_"+this.intRow.index+"_error"}get isInvalid(){let e=this.formGroup?.get(this.column?.field)?.invalid&&this.formGroup?.get(this.column?.field)?.touched;return!this.intRow.deleted&&e}get isValidAfterEdit(){let e=this.formGroup?.get(this.column?.field);return this.editMode&&e&&!e.invalid&&e.dirty}get formControl(){return this.grid.validation.getFormControl(this.intRow.key,this.column.field)}get gridRowSpan(){return this.column.gridRowSpan}get gridColumnSpan(){return this.column.gridColumnSpan}get rowEnd(){return this.column.rowEnd}get colEnd(){return this.column.colEnd}get rowStart(){return this.column.rowStart}get colStart(){return this.column.colStart}get ariaSelected(){return this.selected||this.column.selected||this.intRow.selected}get selected(){return this.selectionService.selected(this.selectionNode)}set selected(e){let t=this.selectionNode;e?this.selectionService.add(t):this.selectionService.remove(t),this.grid.notifyChanges()}get columnSelected(){return this.selectionService.isColumnSelected(this.column.field)}set editValue(e){this.grid.crudService.cellInEditMode&&(this.grid.crudService.cell.editValue=e)}get editValue(){if(this.grid.crudService.cellInEditMode)return this.grid.crudService.cell.editValue}get editable(){return this.column.editable&&!this.intRow.disabled}get minHeight(){if(this.grid.isCustomSetRowHeight)return this.grid.renderedRowHeight}set highlight(e){this._highlight=e,this._highlight&&this.grid.lastSearchInfo.searchText&&(this._highlight.highlight(this.grid.lastSearchInfo.searchText,this.grid.lastSearchInfo.caseSensitive,this.grid.lastSearchInfo.exactMatch),this._highlight.activateIfNecessary())}get highlight(){return this._highlight}get selectionNode(){return{row:this.rowIndex,column:this.column.columnLayoutChild?this.column.parent.visibleIndex:this.visibleColumnIndex,layout:this.column.columnLayoutChild?{rowStart:this.column.rowStart,colStart:this.column.colStart,rowEnd:this.column.rowEnd,colEnd:this.column.colEnd,columnVisibleIndex:this.visibleColumnIndex}:null}}get step(){let e=this.column.pipeArgs.digitsInfo;if(!e)return 1;let t=+e.substr(e.indexOf(".")+1,1);return 1/Math.pow(10,t)}get currencyCode(){return this.column.pipeArgs.currencyCode?this.column.pipeArgs.currencyCode:xf(this.grid.locale)}get currencyCodeSymbol(){return Sf(this.currencyCode,"wide",this.grid.locale)}constructor(e,t,i,n,r,s,o,a){this.selectionService=e,this.grid=t,this.overlayService=i,this.cdr=n,this.element=r,this.zone=s,this.touchManager=o,this.platformUtil=a,this._destroy$=new ei,this.lastPinned=!1,this.firstPinned=!1,this.editMode=!1,this.role="gridcell",this.width="",this.active=!1,this.displayPinnedChip=!1,this.highlightClass="igx-highlight",this.activeHighlightClass="igx-highlight__active",this._cellSelection=yS,this._vIndex=-1,this.onDoubleClick=e=>{"doubletap"===e.type&&e.preventDefault(),this.editable&&!this.editMode&&!this.intRow.deleted&&!this.grid.crudService.rowEditingBlocked&&this.grid.crudService.enterEditMode(this,e),this.grid.doubleClick.emit({cell:this.getCellType(),event:e})},this.errorShowing=!1,this.pointerdown=e=>{if(this.cellSelectionMode===yS){if(!this.platformUtil.isLeftClick(e))return e.preventDefault(),this.grid.navigation.setActiveNode({rowIndex:this.rowIndex,colIndex:this.visibleColumnIndex}),this.selectionService.addKeyboardRange(),this.selectionService.initKeyboardState(),this.selectionService.primaryButton=!1,void(this.selected||this.grid.crudService.updateCell(!0,e));this.selectionService.primaryButton=!0,this.selectionService.pointerDown(this.selectionNode,e.shiftKey,e.ctrlKey),this.activate(e)}else this.activate(e)},this.pointerenter=e=>{("hierarchical"!==this.grid.type||this.grid.navigation?.activeNode?.gridID&&this.grid.navigation.activeNode.gridID===this.gridID)&&this.selectionService.pointerEnter(this.selectionNode,e)&&this.grid.cdr.detectChanges()},this.focusout=()=>{this.closeErrorTooltip()},this.pointerup=e=>{let t="hierarchical"===this.grid.type;!this.platformUtil.isLeftClick(e)||t&&(!this.grid.navigation?.activeNode?.gridID||this.grid.navigation.activeNode.gridID!==this.gridID)||this.selectionService.pointerUp(this.selectionNode,this.grid.rangeSelected)&&this.grid.cdr.detectChanges()}}onClick(e){this.grid.cellClick.emit({cell:this.getCellType(),event:e})}ngOnInit(){this.zone.runOutsideAngular((()=>{this.nativeElement.addEventListener("pointerdown",this.pointerdown),this.addPointerListeners(this.cellSelectionMode)})),this.platformUtil.isIOS&&this.touchManager.addEventListener(this.nativeElement,"doubletap",this.onDoubleClick,{cssProps:{}})}ngAfterViewInit(){this.errorTooltip.changes.pipe(mn(this._destroy$)).subscribe((()=>{this.errorTooltip.length>0&&this.active&&(this.cdr.detectChanges(),this.openErrorTooltip())}))}openErrorTooltip(){this.errorTooltip.first.open({target:this.errorIcon.el.nativeElement,closeOnOutsideClick:!0,excludeFromOutsideClick:[this.nativeElement],closeOnEscape:!1,outlet:this.grid.outlet,modal:!1,positionStrategy:new GE({horizontalStartPoint:OE.Center,horizontalDirection:OE.Center})})}ngOnDestroy(){this.zone.runOutsideAngular((()=>{this.nativeElement.removeEventListener("pointerdown",this.pointerdown),this.removePointerListeners(this.cellSelectionMode)})),this.touchManager.destroy(),this._destroy$.next(),this._destroy$.complete()}ngOnChanges(e){e.editMode&&e.editMode.currentValue&&this.formControl&&(this.formControl.valueChanges.pipe(fn((()=>this.editMode))).subscribe((()=>this.formControl.markAsTouched())),this.formControl.statusChanges.pipe(fn((()=>this.editMode))).subscribe((e=>{if("INVALID"===e&&this.errorTooltip.length>0){this.cdr.detectChanges();let e=this.errorTooltip.first;this.resizeAndRepositionOverlayById(e.overlayId,this.errorTooltip.first.element.offsetWidth)}}))),e.value&&!e.value.firstChange&&this.highlight&&(this.highlight.lastSearchInfo.searchText=this.grid.lastSearchInfo.searchText,this.highlight.lastSearchInfo.caseSensitive=this.grid.lastSearchInfo.caseSensitive,this.highlight.lastSearchInfo.exactMatch=this.grid.lastSearchInfo.exactMatch)}resizeAndRepositionOverlayById(e,t){let i=this.overlayService.getOverlayById(e);i&&(i.initialSize.width=t,i.elementRef.nativeElement.parentElement.style.width=t+"px",this.overlayService.reposition(e))}setEditMode(e){this.intRow.deleted||(this.editable&&e?(this.grid.crudService.cellInEditMode&&(this.grid.gridAPI.update_cell(this.grid.crudService.cell),this.grid.crudService.endCellEdit()),this.grid.crudService.enterEditMode(this)):this.grid.crudService.endCellEdit(),this.grid.notifyChanges())}update(e){if(this.intRow.deleted)return;let t=this.grid.crudService.cell;t||(t=this.grid.crudService.createCell(this)),t.editValue=e,this.grid.gridAPI.update_cell(t),this.grid.crudService.endCellEdit(),this.cdr.markForCheck()}closeErrorTooltip(){let e=this.errorTooltip.first;e&&e.close()}activate(e){let t=this.selectionNode,i=!this.selectionService.isActiveNode(t);if(this.selectionService.primaryButton){let n=this.selectionService.activeElement;if(this.cellSelectionMode===vS&&e?.ctrlKey&&this.selected?(this.selectionService.activeElement=null,i=!0):this.selectionService.activeElement=t,this._updateCRUDStatus(e))return void(this.selectionService.activeElement=n);let r=this.selectionService.activeElement,s=r?this.grid.gridAPI.get_row_by_index(r.row):null;if(this.grid.crudService.rowEditingBlocked&&s&&this.intRow.key!==s.key)return}else this.selectionService.activeElement=null,this.grid.crudService.cellInEditMode&&!this.editMode&&this.grid.crudService.updateCell(!0,e);this.grid.navigation.setActiveNode({row:this.rowIndex,column:this.visibleColumnIndex});let n=e&&e.target&&e.target===this.errorIcon?.el.nativeElement;this.isInvalid&&!n&&(this.cdr.detectChanges(),this.openErrorTooltip(),this.grid.activeNodeChange.pipe(un()).subscribe((()=>{this.closeErrorTooltip()}))),this.selectionService.primaryButton=!0,this.cellSelectionMode===yS&&this.selectionService.activeElement&&(this.selectionService.isInMap(this.selectionService.activeElement)&&e?.ctrlKey&&!e?.shiftKey?(this.selectionService.remove(this.selectionService.activeElement),i=!0):(this.selectionService.add(this.selectionService.activeElement,!1),this.selectionService.keyboardStateOnFocus(t,this.grid.rangeSelected,this.nativeElement))),this.grid.isCellSelectable&&i&&this.zone.run((()=>this.grid.selected.emit({cell:this.getCellType(),event:e})))}highlightText(e,t,i){return this.highlight&&this.column.searchable?this.highlight.highlight(e,t,i):0}clearHighlight(){this.highlight&&this.column.searchable&&this.highlight.clearHighlight()}calculateSizeToFit(e){return this.platformUtil.getNodeSizeViaRange(e,this.nativeElement)}get searchMetadata(){let e=new Map;return e.set("pinned",this.grid.isRecordPinnedByViewIndex(this.intRow.index)),e}_updateCRUDStatus(e){if(this.editMode)return;let t,i=this.grid.crudService,n=this.grid.crudService.cell,r=!(!i.row&&!i.cell);if(this.editable&&r&&!this.intRow.deleted){if(n){if(t=this.grid.crudService.updateCell(!1,e),this.grid.sortingExpressions.length&&this.grid.sortingExpressions.indexOf(n.column.field)&&this.grid.cdr.detectChanges(),t&&t.cancel)return!0;i.exitCellEdit(e)}return this.grid.tbody.nativeElement.focus({preventScroll:!0}),this.grid.notifyChanges(),i.enterEditMode(this,e),!1}n&&i.sameRow(this.cellID.rowID)?this.grid.crudService.updateCell(!0,e):r&&!i.sameRow(this.cellID.rowID)&&this.grid.crudService.endEdit(!0,e)}addPointerListeners(e){e===yS&&(this.nativeElement.addEventListener("pointerenter",this.pointerenter),this.nativeElement.addEventListener("pointerup",this.pointerup),this.nativeElement.addEventListener("focusout",this.focusout))}removePointerListeners(e){e===yS&&(this.nativeElement.removeEventListener("pointerenter",this.pointerenter),this.nativeElement.removeEventListener("pointerup",this.pointerup),this.nativeElement.removeEventListener("focusout",this.focusout))}getCellType(e){let t=e?this.grid.createRow(this.intRow.index,this.intRow.data):this.intRow.index;return new HM(this.grid,t,this.column)}};return e.ɵfac=function(t){return new(t||e)(Oc(_O),Oc(nO),Oc(YE),Oc(Pm),Oc(Nl),Oc(Dl),Oc(CV),Oc(fC))},e.ɵcmp=es({type:e,selectors:[["igx-grid-cell"]],viewQuery:function(e,t){if(1&e&&(up(Kq,5,FT),up(jq,7,Oh),up(Uq,7,Oh),up(qq,7,Oh),up(Yq,7,Oh),up(Xq,7,Oh),up(TA,5,TA),up(Zq,5,MA)),2&e){let e;gp(e=pp())&&(t.errorIcon=e.first),gp(e=pp())&&(t.defaultErrorTemplate=e.first),gp(e=pp())&&(t.defaultCellTemplate=e.first),gp(e=pp())&&(t.defaultPinnedIndicator=e.first),gp(e=pp())&&(t.inlineEditorTemplate=e.first),gp(e=pp())&&(t.addRowCellTemplate=e.first),gp(e=pp())&&(t.highlight=e.first),gp(e=pp())&&(t.errorTooltip=e)}},hostVars:33,hostBindings:function(e,t){1&e&&ep("dblclick",(function(e){return t.onDoubleClick(e)}))("click",(function(e){return t.onClick(e)})),2&e&&(tg("data-rowIndex",t.rowIndex)("data-visibleIndex",t.visibleColumnIndex)("id",t.attrCellID)("title",t.title)("role",t.role)("aria-readonly",t.readonly)("aria-describedby",t.ariaDescribeBy)("aria-invalid",t.isInvalid)("aria-selected",t.ariaSelected),yg("min-height",t.minHeight,"px"),xg("igx-grid__td--new",t.isEmptyAddRowCell)("igx-grid__td--bool-true",t.booleanClass)("igx-grid__td--pinned-last",t.lastPinned)("igx-grid__td--pinned-first",t.firstPinned)("igx-grid__td--editing",t.editMode)("igx-grid__td--invalid",t.isInvalid)("igx-grid__td--valid",t.isValidAfterEdit)("igx-grid__td--active",t.active)("igx-grid__td--selected",t.selected)("igx-grid__td--column-selected",t.columnSelected)("igx-grid__td--row-pinned-first",t.displayPinnedChip))},inputs:{column:"column",intRow:"intRow",row:"row",rowData:"rowData",columnData:"columnData",cellTemplate:"cellTemplate",cellValidationErrorTemplate:"cellValidationErrorTemplate",pinnedIndicator:"pinnedIndicator",value:"value",formatter:"formatter",visibleColumnIndex:"visibleColumnIndex",cellSelectionMode:"cellSelectionMode",lastSearchInfo:"lastSearchInfo",lastPinned:"lastPinned",firstPinned:"firstPinned",editMode:[2,"editMode","editMode",Zm],width:"width",active:"active",displayPinnedChip:"displayPinnedChip"},standalone:!0,features:[kp([CV]),Vu,yo,Pp],decls:13,vars:5,consts:[["defaultPinnedIndicator",""],["defaultCell",""],["addRowCell",""],["inlineEditor",""],["defaultError",""],["errorIcon",""],["error","","tooltipRef","tooltip"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],["class","igx-grid__td--pinned-chip",3,"disabled","--ig-size",4,"ngIf"],[1,"igx-grid__td--pinned-chip",3,"disabled"],["igxTextHighlight","","class","igx-grid__td-text",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata",4,"ngIf"],["family","default",3,"name","ngClass",4,"ngIf"],[3,"src","alt",4,"ngIf"],["igxTextHighlight","",1,"igx-grid__td-text",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata"],["family","default",3,"name","ngClass"],[3,"src","alt"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["igxInput","",3,"compositionstart","compositionend","igxFocus","igxTextSelection","formControl"],["igxInput","","type","number",3,"igxFocus","igxTextSelection","step","formControl"],[3,"checked","igxFocus","disableRipple","formControl"],["mode","dropdown",3,"valueChange","outlet","locale","weekStart","value","igxFocus","formControl"],["mode","dropdown",3,"valueChange","outlet","locale","inputFormat","value","igxFocus","formControl"],["type","text","igxInput","",3,"formControl","igxDateTimeEditor","igxFocus"],["family","default","name","error",3,"mouseover","mouseout","igxTooltipTarget","igxToggleOutlet"],["igxTooltip","",3,"id"]],template:function(e,t){1&e&&Xu(0,tY,1,1,"ng-template",null,0,nm)(2,sY,3,3,"ng-template",null,1,nm)(4,aY,1,1,"ng-template",null,2,nm)(6,yY,8,8,"ng-template",null,3,nm)(8,xY,1,0,"ng-container",7)(9,wY,1,0,"ng-container",7)(10,CY,8,7,"ng-container",8)(11,AY,7,7,"ng-template",null,4,nm),2&e&&(Ac(8),fg("ngTemplateOutlet",t.pinnedIndicatorTemplate)("ngTemplateOutletContext",t.context),Ac(),fg("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.context),Ac(),fg("ngIf",t.isInvalid))},dependencies:[cv,av,yv,Tv,Rv,Av,Ev,nw,zy,Yx,px,mx,Qx,ew,GV,TA,FT,PR,pT,jR,RA,DA,mM,QN,$A,vT,yT,LA,MA,CK,kK,PK],encapsulation:2,changeDetection:0}),e})(),OY=["indicator"],PY=["indentationDiv"],FY=["defaultExpandedTemplate"],VY=["defaultCollapsedTemplate"],MY=(e,t,i,n,r)=>[e,t,i,n,r],NY=(e,t)=>({"igx-icon--success":e,"igx-icon--error":t}),LY=e=>({$implicit:e});function HY(e,t){if(1&e&&(Mg(0,"igx-chip",13),fp(1),Ng()),2&e){let e=rp(2);yg("--ig-size",1),fg("disabled",!0),Ac(),yp(e.grid.resourceStrings.igx_grid_pinned_row_indicator)}}function zY(e,t){1&e&&Xu(0,HY,2,4,"igx-chip",12),2&e&&fg("ngIf",rp().displayPinnedChip)}function BY(e,t){if(1&e&&(Mg(0,"div",17),Xp(1,"columnFormatter"),Xp(2,"number"),Xp(3,"date"),Xp(4,"currency"),Xp(5,"percent"),fp(6),Xp(7,"columnFormatter"),Xp(8,"number"),Xp(9,"date"),Xp(10,"currency"),Xp(11,"percent"),Ng()),2&e){let e=rp(2);fg("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?Jp(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?Jp(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?em(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?tm(4,22,Hp(55,MY,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Jp(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Ac(6),yp(e.formatter?Jp(7,32,e.value,e.formatter,e.rowData):"number"===e.column.dataType?Jp(8,36,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?em(9,40,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?tm(10,45,Hp(61,MY,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Jp(11,51,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)}}function GY(e,t){if(1&e&&Lg(0,"igx-icon",18),2&e){let e=rp(2);fg("name",e.value?"confirm":"close")("ngClass",Mp(2,NY,e.value,!e.value))}}function $Y(e,t){if(1&e&&(Lg(0,"img",19),Xp(1,"igxCellImageAlt")),2&e){let e=rp(2);fg("src",e.value,Xd)("alt",Zp(1,2,e.value))}}function WY(e,t){if(1&e&&Xu(0,BY,12,67,"div",14)(1,GY,1,5,"igx-icon",15)(2,$Y,2,4,"img",16),2&e){let e=rp();fg("ngIf","boolean"!==e.column.dataType&&"image"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter),Ac(),fg("ngIf","boolean"===e.column.dataType&&!e.formatter),Ac(),fg("ngIf","image"===e.column.dataType)}}function KY(e,t){if(1&e&&(Mg(0,"div",17),Xp(1,"columnFormatter"),Xp(2,"number"),Xp(3,"date"),Xp(4,"currency"),Xp(5,"percent"),fp(6),Ng()),2&e){let e=rp(2);fg("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?Jp(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?Jp(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?em(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?tm(4,22,Hp(32,MY,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Jp(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Ac(6),yp(e.value?e.value:e.column.header||e.column.field)}}function jY(e,t){if(1&e&&Xu(0,KY,7,38,"div",14),2&e){let e=rp();fg("ngIf","boolean"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter)}}function UY(e,t){if(1&e){let e=Wg();zg(0,21),Mg(1,"igx-input-group")(2,"input",22),ep("compositionstart",(function(){return Uo(e),qo(rp(2).grid.crudService.isInCompositionMode=!0)}))("compositionend",(function(){return Uo(e),qo(rp(2).grid.crudService.isInCompositionMode=!1)})),Ng()(),Bg()}if(2&e){let e=rp(2);fg("formGroup",e.formGroup),Ac(),yg("--ig-size",1),Ac(),fg("igxFocus",!0)("formControl",e.formControl),tg("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function qY(e,t){if(1&e&&(zg(0),Mg(1,"igx-input-group",21),Lg(2,"input",23),Ng(),Bg()),2&e){let e=rp(2);Ac(),yg("--ig-size",1),fg("formGroup",e.formGroup),Ac(),fg("igxFocus",!0)("step",e.step)("formControl",e.formControl),tg("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function YY(e,t){if(1&e&&(zg(0,21),Lg(1,"igx-checkbox",24),Bg()),2&e){let e=rp(2);fg("formGroup",e.formGroup),Ac(),fg("checked",e.editValue)("igxFocus",!0)("disableRipple",!0)("formControl",e.formControl)}}function XY(e,t){if(1&e){let e=Wg();zg(0,21),Mg(1,"igx-date-picker",25),Sp("valueChange",(function(t){Uo(e);let i=rp(2);return Cp(i.editValue,t)||(i.editValue=t),qo(t)})),Ng(),Bg()}if(2&e){let e=rp(2);fg("formGroup",e.formGroup),Ac(),yg("width",100,"%"),fg("outlet",e.grid.outlet)("locale",e.grid.locale)("weekStart",e.column.pipeArgs.weekStart),_p("value",e.editValue),fg("igxFocus",!0)("formControl",e.formControl)}}function ZY(e,t){if(1&e){let e=Wg();zg(0,21),Mg(1,"igx-time-picker",26),Sp("valueChange",(function(t){Uo(e);let i=rp(2);return Cp(i.editValue,t)||(i.editValue=t),qo(t)})),Ng(),Bg()}if(2&e){let e=rp(2);fg("formGroup",e.formGroup),Ac(),yg("width",100,"%"),fg("outlet",e.grid.outlet)("locale",e.grid.locale)("inputFormat",e.column.defaultTimeFormat),_p("value",e.editValue),fg("igxFocus",!0)("formControl",e.formControl)}}function QY(e,t){if(1&e&&(zg(0),Mg(1,"igx-input-group",21),Lg(2,"input",27),Ng(),Bg()),2&e){let e=rp(2);Ac(),fg("formGroup",e.formGroup),Ac(),fg("formControl",e.formControl)("igxDateTimeEditor",e.column.defaultDateTimeFormat)("igxFocus",!0),tg("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function JY(e,t){if(1&e&&(Mg(0,"igx-prefix"),fp(1),Ng()),2&e){let e=rp(3);Ac(),yp(e.currencyCodeSymbol)}}function eX(e,t){if(1&e&&(Mg(0,"igx-suffix"),fp(1),Ng()),2&e){let e=rp(3);Ac(),yp(e.currencyCodeSymbol)}}function tX(e,t){if(1&e&&(zg(0),Mg(1,"igx-input-group",21),Xu(2,JY,2,1,"igx-prefix",10),Lg(3,"input",23),Xu(4,eX,2,1,"igx-suffix",10),Ng(),Bg()),2&e){let e=rp(2);Ac(),yg("--ig-size",1),fg("formGroup",e.formGroup),Ac(),fg("ngIf",e.grid.currencyPositionLeft),Ac(),fg("igxFocus",!0)("step",e.step)("formControl",e.formControl),tg("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Ac(),fg("ngIf",!e.grid.currencyPositionLeft)}}function iX(e,t){if(1&e&&(zg(0),Mg(1,"igx-input-group",21),Lg(2,"input",23),Mg(3,"igx-suffix"),fp(4),Xp(5,"percent"),Ng()(),Bg()),2&e){let e=rp(2);Ac(),yg("--ig-size",1),fg("formGroup",e.formGroup),Ac(),fg("igxFocus",!0)("step",e.step)("formControl",e.formControl),tg("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Ac(2),xp(" ",Jp(5,9,e.editValue,e.column.pipeArgs.digitsInfo,e.grid.locale)," ")}}function nX(e,t){if(1&e&&Xu(0,UY,3,7,"ng-container",20)(1,qY,3,8,"ng-container",10)(2,YY,2,5,"ng-container",20)(3,XY,2,9,"ng-container",20)(4,ZY,2,9,"ng-container",20)(5,QY,3,6,"ng-container",10)(6,tX,5,10,"ng-container",10)(7,iX,6,13,"ng-container",10),2&e){let e=rp();fg("ngIf","string"===e.column.dataType||"image"===e.column.dataType),Ac(),fg("ngIf","number"===e.column.dataType),Ac(),fg("ngIf","boolean"===e.column.dataType),Ac(),fg("ngIf","date"===e.column.dataType),Ac(),fg("ngIf","time"===e.column.dataType),Ac(),fg("ngIf","dateTime"===e.column.dataType),Ac(),fg("ngIf","currency"===e.column.dataType),Ac(),fg("ngIf","percent"===e.column.dataType)}}function rX(e,t){1&e&&Gg(0)}function sX(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"div",28,7),ep("click",(function(t){return Uo(e),qo(rp().toggle(t))}))("focus",(function(){return Uo(e),qo(rp().onIndicatorFocus())})),Xu(3,rX,1,0,"ng-container",11),Ng(),Bg()}if(2&e){let e=rp();Ac(3),fg("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",Vp(2,LY,e.row))}}function oX(e,t){1&e&&Gg(0)}function aX(e,t){1&e&&Gg(0)}function lX(e,t){1&e&&Gg(0)}function dX(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"igx-icon",29,8),ep("mouseover",(function(){return Uo(e),qo(rp().errorShowing=!0)}))("mouseout",(function(){return Uo(e),qo(rp().errorShowing=!1)})),Ng(),Mg(3,"div",30,9)(6,"div"),Xu(7,lX,1,0,"ng-container",11),Ng()(),Bg()}if(2&e){let e=mp(5),t=rp(),i=mp(17);Ac(),fg("igxTooltipTarget",e)("igxToggleOutlet",t.grid.outlet),Ac(2),fg("id",t.ariaErrorMessage),Ac(3),yg("width","max-content"),Ac(),fg("ngTemplateOutlet",t.cellValidationErrorTemplate||i)("ngTemplateOutletContext",t.context)}}function cX(e,t){1&e&&Lg(0,"igx-icon",31)}function hX(e,t){1&e&&Lg(0,"igx-icon",32)}function uX(e,t){if(1&e&&(Mg(0,"div"),fp(1),Ng()),2&e){let e=rp(2);Ac(),xp(" ",e.grid.resourceStrings.igx_grid_required_validation_error," ")}}function gX(e,t){if(1&e&&(Mg(0,"div"),fp(1),Xp(2,"igxStringReplace"),Ng()),2&e){let e=rp(2);Ac(),xp(" ",Jp(2,1,e.grid.resourceStrings.igx_grid_min_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.minlength.requiredLength)," ")}}function pX(e,t){if(1&e&&(Mg(0,"div"),fp(1),Xp(2,"igxStringReplace"),Ng()),2&e){let e=rp(2);Ac(),xp(" ",Jp(2,1,e.grid.resourceStrings.igx_grid_max_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.maxlength.requiredLength)," ")}}function mX(e,t){if(1&e&&(Mg(0,"div"),fp(1),Xp(2,"igxStringReplace"),Ng()),2&e){let e=rp(2);Ac(),xp(" ",Jp(2,1,e.grid.resourceStrings.igx_grid_min_validation_error,"{0}",e.formGroup.get(e.column.field).errors.min.min)," ")}}function fX(e,t){if(1&e&&(Mg(0,"div"),fp(1),Xp(2,"igxStringReplace"),Ng()),2&e){let e=rp(2);Ac(),xp(" ",Jp(2,1,e.grid.resourceStrings.igx_grid_max_validation_error,"{0}",e.formGroup.get(e.column.field).errors.max.max)," ")}}function vX(e,t){if(1&e&&(Mg(0,"div"),fp(1),Ng()),2&e){let e=rp(2);Ac(),xp(" ",e.grid.resourceStrings.igx_grid_email_validation_error," ")}}function yX(e,t){if(1&e&&(Mg(0,"div"),fp(1),Ng()),2&e){let e=rp(2);Ac(),xp(" ",e.grid.resourceStrings.igx_grid_pattern_validation_error," ")}}function xX(e,t){if(1&e&&Xu(0,uX,2,1,"div",10)(1,gX,3,5,"div",10)(2,pX,3,5,"div",10)(3,mX,3,5,"div",10)(4,fX,3,5,"div",10)(5,vX,2,1,"div",10)(6,yX,2,1,"div",10),2&e){let e,t,i,n,r,s,o,a=rp();fg("ngIf",null==a.formGroup||null==(e=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:e.required),Ac(),fg("ngIf",null==a.formGroup||null==(t=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:t.minlength),Ac(),fg("ngIf",null==a.formGroup||null==(i=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:i.maxlength),Ac(),fg("ngIf",null==a.formGroup||null==(n=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:n.min),Ac(),fg("ngIf",null==a.formGroup||null==(r=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:r.max),Ac(),fg("ngIf",null==a.formGroup||null==(s=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:s.email),Ac(),fg("ngIf",null==a.formGroup||null==(o=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:o.pattern)}}var wX=(()=>{let e=class extends kY{constructor(e,t,i,n,r,s,o,a,l){super(e,t,i,n,r,s,o,l),this.document=a,this.expanded=!1}toggle(e){e.stopPropagation();let t=this.grid.gridAPI.get_row_expansion_state(this.intRow.data);this.grid.gridAPI.set_row_expansion_state(this.intRow.key,!t,e)}onIndicatorFocus(){this.grid.gridAPI.update_cell(this.grid.crudService.cell)}calculateSizeToFit(e){let t=0;if(this.indentationDiv){let e=this.document.defaultView.getComputedStyle(this.indentationDiv.nativeElement);t=parseFloat(e.paddingLeft)}return this.platformUtil.getNodeSizeViaRange(e,this.nativeElement)+t}get iconTemplate(){return this.expanded?this.grid.rowExpandedIndicatorTemplate||this.defaultExpandedTemplate:this.grid.rowCollapsedIndicatorTemplate||this.defaultCollapsedTemplate}get showExpanderIndicator(){let e=this.intRow.pinned&&this.intRow.disabled;return!this.editMode&&(!this.intRow.pinned||e)}};return e.ɵfac=function(t){return new(t||e)(Oc(_O),Oc(nO),Oc(YE),Oc(Pm),Oc(Nl),Oc(Dl),Oc(CV),Oc(of),Oc(fC))},e.ɵcmp=es({type:e,selectors:[["igx-expandable-grid-cell"]],viewQuery:function(e,t){if(1&e&&(up(OY,5,Nl),up(PY,5,Nl),up(FY,7,Oh),up(VY,7,Oh)),2&e){let e;gp(e=pp())&&(t.indicator=e.first),gp(e=pp())&&(t.indentationDiv=e.first),gp(e=pp())&&(t.defaultExpandedTemplate=e.first),gp(e=pp())&&(t.defaultCollapsedTemplate=e.first)}},inputs:{expanded:"expanded"},standalone:!0,features:[kp([CV]),Ru,Pp],decls:18,vars:6,consts:[["defaultPinnedIndicator",""],["defaultCell",""],["addRowCell",""],["inlineEditor",""],["defaultExpandedTemplate",""],["defaultCollapsedTemplate",""],["defaultError",""],["indicator",""],["errorIcon",""],["error","","tooltipRef","tooltip"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","igx-grid__td--pinned-chip",3,"disabled","--ig-size",4,"ngIf"],[1,"igx-grid__td--pinned-chip",3,"disabled"],["igxTextHighlight","","class","igx-grid__td-text",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata",4,"ngIf"],["family","default",3,"name","ngClass",4,"ngIf"],[3,"src","alt",4,"ngIf"],["igxTextHighlight","",1,"igx-grid__td-text",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata"],["family","default",3,"name","ngClass"],[3,"src","alt"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["igxInput","",3,"compositionstart","compositionend","igxFocus","formControl"],["igxInput","","type","number",3,"igxFocus","step","formControl"],[3,"checked","igxFocus","disableRipple","formControl"],["mode","dropdown",3,"valueChange","outlet","locale","weekStart","value","igxFocus","formControl"],["mode","dropdown",3,"valueChange","outlet","locale","inputFormat","value","igxFocus","formControl"],["type","text","igxInput","",3,"formControl","igxDateTimeEditor","igxFocus"],[1,"igx-grid__tree-grouping-indicator",3,"click","focus"],["family","default","name","error",3,"mouseover","mouseout","igxTooltipTarget","igxToggleOutlet"],["igxTooltip","",3,"id"],["family","default","name","tree_collapse"],["family","default","name","tree_expand"]],template:function(e,t){1&e&&Xu(0,zY,1,1,"ng-template",null,0,nm)(2,WY,3,3,"ng-template",null,1,nm)(4,jY,1,1,"ng-template",null,2,nm)(6,nX,8,8,"ng-template",null,3,nm)(8,sX,4,4,"ng-container",10)(9,oX,1,0,"ng-container",11)(10,aX,1,0,"ng-container",11)(11,dX,8,7,"ng-container",10)(12,cX,1,0,"ng-template",null,4,nm)(14,hX,1,0,"ng-template",null,5,nm)(16,xX,7,7,"ng-template",null,6,nm),2&e&&(Ac(8),fg("ngIf",t.showExpanderIndicator),Ac(),fg("ngTemplateOutlet",t.pinnedIndicatorTemplate)("ngTemplateOutletContext",t.context),Ac(),fg("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.context),Ac(),fg("ngIf",t.isInvalid))},dependencies:[cv,GV,TA,FT,av,iw,zy,Yx,px,mx,nw,Qx,ew,PR,pT,jR,DA,mM,QN,$A,vT,yT,yv,LA,MA,CK,kK,PK,Tv,Rv,Av,Ev],encapsulation:2,changeDetection:0}),e})(),_X=(e,t,i,n)=>({index:e,rowID:t,key:i,selected:n}),CX=e=>({$implicit:e}),SX=(e,t)=>({"grid-template-rows":e,"grid-template-columns":t}),bX=(e,t,i)=>({"grid-template-rows":e,"grid-template-columns":t,"z-index":i}),DX=(e,t,i,n,r,s,o)=>[e,t,i,n,r,s,o],IX=(e,t,i,n,r,s)=>[e,t,i,n,r,s],EX=(e,t,i,n,r)=>[e,t,i,n,r];function TX(e,t){1&e&&Gg(0)}function RX(e,t){1&e&&Gg(0)}function AX(e,t){if(1&e){let e=Wg();Mg(0,"div",11),ep("animationend",(function(){return Uo(e),qo(rp().animationEndHandler())})),Xu(1,RX,1,0,"ng-container",10),Ng()}if(2&e){let e=rp(),t=mp(4);xg("igx-grid__tr--add-animate",e.triggerAddAnimationClass),Ac(),fg("ngTemplateOutlet",t)}}function kX(e,t){1&e&&Gg(0)}function OX(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"div",13),ep("click",(function(t){return Uo(e),qo(t.stopPropagation())})),Xu(2,kX,1,0,"ng-container",10),Ng(),Bg()}if(2&e){let e=rp(2);Ac(),wg(e.resolveDragIndicatorClasses),fg("igxRowDrag",e)("ghostTemplate",e.grid.getDragGhostCustomTemplate()),Ac(),fg("ngTemplateOutlet",e.grid.dragIndicatorIconTemplate?e.grid.dragIndicatorIconTemplate:e.grid.dragIndicatorIconBase)}}function PX(e,t){}function FX(e,t){1&e&&Xu(0,PX,0,0,"ng-template")}function VX(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"div",14),ep("pointerdown",(function(t){return Uo(e),qo(t.preventDefault())}))("click",(function(t){return Uo(e),qo(rp(2).onRowSelectorClick(t))})),Xu(2,FX,1,0,null,15),Ng(),Bg()}if(2&e){let e=rp(2),t=mp(8);Ac(2),fg("ngTemplateOutlet",e.grid.rowSelectorTemplate?e.grid.rowSelectorTemplate:t)("ngTemplateOutletContext",Vp(7,CX,Lp(2,_X,e.viewIndex,e.key,e.key,e.selected)))}}function MX(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"div",16),ep("pointerdown",(function(t){return Uo(e),qo(t.preventDefault())}))("click",(function(t){return Uo(e),qo(t.stopPropagation())})),Ng(),Bg()}if(2&e){let e=rp(2);Ac(),Pg("igx-grid__row-indentation igx-grid__row-indentation--level-",e.grid.groupingExpressions.length,"")}}function NX(e,t){1&e&&Gg(0)}function LX(e,t){if(1&e&&Xu(0,NX,1,0,"ng-container",15),2&e){let e=t.$implicit,i=rp(4),n=mp(10),r=mp(12);fg("ngTemplateOutlet",0===e.visibleIndex&&i.grid.hasDetails?r:n)("ngTemplateOutletContext",i.getContext(e,i))}}function HX(e,t){if(1&e&&(zg(0),Xu(1,LX,1,2,"ng-template",18),Xp(2,"igxNotGrouped"),Bg()),2&e){let e=rp(3);Ac(),fg("ngForOf",Zp(2,1,e.pinnedColumns))}}function zX(e,t){1&e&&Gg(0)}function BX(e,t){if(1&e&&Xu(0,zX,1,0,"ng-container",15),2&e){let e=t.$implicit,i=rp(3),n=mp(10),r=mp(12);fg("ngTemplateOutlet",0===e.visibleIndex&&i.grid.hasDetails?r:n)("ngTemplateOutletContext",i.getContext(e,i))}}function GX(e,t){1&e&&Gg(0)}function $X(e,t){if(1&e&&Xu(0,GX,1,0,"ng-container",15),2&e){let e=t.$implicit,i=rp(4),n=mp(10),r=mp(12);fg("ngTemplateOutlet",0===e.visibleIndex&&i.grid.hasDetails?r:n)("ngTemplateOutletContext",i.getContext(e,i))}}function WX(e,t){if(1&e&&(zg(0),Xu(1,$X,1,2,"ng-template",18),Xp(2,"igxNotGrouped"),Bg()),2&e){let e=rp(3);Ac(),fg("ngForOf",Zp(2,1,e.pinnedColumns))}}function KX(e,t){if(1&e&&(zg(0),Xu(1,HX,3,3,"ng-container",12)(2,BX,1,2,"ng-template",17,8,nm),Xp(4,"igxNotGrouped"),Xu(5,WX,3,3,"ng-container",12),Bg()),2&e){let e=rp(2);Ac(),fg("ngIf",e.pinnedColumns.length>0&&e.grid.isPinningToStart),Ac(),fg("igxGridForOf",Zp(4,8,e.unpinnedColumns))("igxForScrollContainer",e.grid.parentVirtDir)("igxForScrollOrientation","horizontal")("igxForContainerSize",e.grid.unpinnedWidth)("igxForSizePropName","calcPixelWidth")("igxForTrackBy",e.grid.trackColumnChanges),Ac(3),fg("ngIf",e.pinnedColumns.length>0&&!e.grid.isPinningToStart)}}function jX(e,t){1&e&&Gg(0)}function UX(e,t){if(1&e&&(zg(0),Xu(1,jX,1,0,"ng-container",15),Bg()),2&e){let e=rp(3),t=mp(6);Ac(),fg("ngTemplateOutlet",t)("ngTemplateOutletContext",e.getContextMRL(e.pinnedColumns,e))}}function qX(e,t){1&e&&Gg(0)}function YX(e,t){if(1&e&&Xu(0,qX,1,0,"ng-container",15),2&e){let e=t.$implicit,i=rp(4),n=mp(14),r=mp(16);fg("ngTemplateOutlet",0===e.visibleIndex&&i.grid.hasDetails?r:n)("ngTemplateOutletContext",i.getContext(e,i))}}function XX(e,t){if(1&e&&(Mg(0,"div",19),Xu(1,YX,1,2,"ng-template",18),Ng()),2&e){let e=t.$implicit;fg("ngStyle",Mp(2,SX,e.getGridTemplate(!0),e.getGridTemplate(!1))),Ac(),fg("ngForOf",e.children)}}function ZX(e,t){1&e&&Gg(0)}function QX(e,t){if(1&e&&(zg(0),Xu(1,ZX,1,0,"ng-container",15),Bg()),2&e){let e=rp(3),t=mp(6);Ac(),fg("ngTemplateOutlet",t)("ngTemplateOutletContext",e.getContextMRL(e.pinnedColumns,e))}}function JX(e,t){if(1&e&&(zg(0),Xu(1,UX,2,2,"ng-container",12)(2,XX,2,5,"ng-template",17,8,nm),Xp(4,"igxTopLevel"),Xu(5,QX,2,2,"ng-container",12),Bg()),2&e){let e=rp(2);Ac(),fg("ngIf",e.pinnedColumns.length>0&&e.grid.isPinningToStart),Ac(),fg("igxGridForOf",Zp(4,8,e.unpinnedColumns))("igxForScrollContainer",e.grid.parentVirtDir)("igxForScrollOrientation","horizontal")("igxForContainerSize",e.grid.unpinnedWidth)("igxForSizePropName","calcPixelWidth")("igxForTrackBy",e.grid.trackColumnChanges),Ac(3),fg("ngIf",e.pinnedColumns.length>0&&!e.grid.isPinningToStart)}}function eZ(e,t){if(1&e&&Xu(0,OX,3,5,"ng-container",12)(1,VX,3,9,"ng-container",12)(2,MX,2,3,"ng-container",12)(3,KX,6,10,"ng-container",12)(4,JX,6,10,"ng-container",12),2&e){let e=rp();fg("ngIf",e.rowDraggable),Ac(),fg("ngIf",e.showRowSelectors),Ac(),fg("ngIf",e.grid.groupingExpressions.length>0),Ac(),fg("ngIf",!e.grid.hasColumnLayouts),Ac(),fg("ngIf",e.grid.hasColumnLayouts)}}function tZ(e,t){1&e&&Gg(0)}function iZ(e,t){if(1&e&&Xu(0,tZ,1,0,"ng-container",15),2&e){let e=t.$implicit,i=rp(3),n=mp(14),r=mp(16);fg("ngTemplateOutlet",0===e.visibleIndex&&i.grid.hasDetails?r:n)("ngTemplateOutletContext",i.getContext(e,i))}}function nZ(e,t){if(1&e&&(Mg(0,"div",19),Xu(1,iZ,1,2,"ng-template",18),Ng()),2&e){let e=t.$implicit;yg("left",rp(2).mrlRightPinnedOffset),xg("igx-grid__td--pinned-last",e.hasLastPinnedChildColumn)("igx-grid__td--pinned-first",e.hasFirstPinnedChildColumn),fg("ngStyle",Np(8,bX,e.getGridTemplate(!0),e.getGridTemplate(!1),e.pinned?1:null)),Ac(),fg("ngForOf",e.children)}}function rZ(e,t){1&e&&(Xu(0,nZ,2,12,"div",20),Xp(1,"igxTopLevel")),2&e&&fg("ngForOf",Zp(1,1,t.$implicit))}function sZ(e,t){if(1&e&&(Mg(0,"div",21),Lg(1,"igx-checkbox",22),Ng()),2&e){let e=rp();Ac(),fg("tabindex",-1)("checked",e.selected)("readonly",!0)("disabled",e.deleted)("disableRipple",!0)("disableTransitions",e.grid.disableTransitions)("aria-label",e.rowCheckboxAriaLabel)}}function oZ(e,t){if(1&e&&(Lg(0,"igx-grid-cell",23,9),Xp(2,"transactionState"),Xp(3,"igxCellStyleClasses"),Xp(4,"igxCellStyles"),Xp(5,"dataMapper")),2&e){let e=t.$implicit,i=rp();yg("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth)("left",e.rightPinnedOffset),xg("igx-grid__td--edited",tm(2,36,Bp(64,DX,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--pinned",e.pinned)("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)("igx-grid__td--bool","boolean"===e.dataType)("igx-grid__td--image","image"===e.dataType),fg("ngClass",tm(3,44,zp(72,IX,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",tm(4,51,zp(79,IX,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("formatter",e.formatter)("intRow",i)("lastPinned",e.columnLayoutChild?null:e.isLastPinned)("firstPinned",e.columnLayoutChild?null:e.isFirstPinned)("rowData",i.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",tm(5,58,Hp(86,EX,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("active",i.isCellActive(e.visibleIndex))("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function aZ(e,t){if(1&e&&(Lg(0,"igx-expandable-grid-cell",24,9),Xp(2,"transactionState"),Xp(3,"igxCellStyleClasses"),Xp(4,"igxCellStyles"),Xp(5,"dataMapper")),2&e){let e=t.$implicit,i=rp();yg("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth),xg("igx-grid__td--pinned",e.pinned)("igx-grid__td--edited",tm(2,30,Bp(58,DX,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--number",("number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)&&0!==e.visibleIndex),fg("ngClass",tm(3,38,zp(66,IX,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",tm(4,45,zp(73,IX,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("expanded",i.expanded)("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("formatter",e.formatter)("intRow",i)("lastPinned",e.columnLayoutChild?null:e.isLastPinned)("rowData",i.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",tm(5,52,Hp(80,EX,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("active",i.isCellActive(e.visibleIndex))("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function lZ(e,t){if(1&e&&(Lg(0,"igx-grid-cell",25,9),Xp(2,"transactionState"),Xp(3,"igxCellStyleClasses"),Xp(4,"igxCellStyles"),Xp(5,"dataMapper")),2&e){let e=t.$implicit,i=rp();yg("grid-row-end",e.rowEnd)("grid-column-end",e.colEnd)("grid-row-start",e.rowStart)("grid-column-start",e.colStart),xg("igx-grid__td--edited",tm(2,31,Bp(59,DX,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--pinned",e.pinned)("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType),fg("ngClass",tm(3,39,zp(67,IX,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",tm(4,46,zp(74,IX,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("lastPinned",e.columnLayoutChild?null:e.isLastPinned)("firstPinned",e.columnLayoutChild?null:e.isFirstPinned)("formatter",e.formatter)("intRow",i)("rowData",i.data)("visibleColumnIndex",e.visibleIndex)("value",tm(5,53,Hp(81,EX,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("active",i.isCellActive(e.visibleIndex))("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function dZ(e,t){if(1&e&&(Lg(0,"igx-expandable-grid-cell",26,9),Xp(2,"transactionState"),Xp(3,"igxCellStyleClasses"),Xp(4,"igxCellStyles"),Xp(5,"dataMapper")),2&e){let e=t.$implicit,i=rp();yg("grid-row-end",e.rowEnd)("grid-column-end",e.colEnd)("grid-row-start",e.rowStart)("grid-column-start",e.colStart),xg("igx-grid__td--edited",tm(2,31,Bp(59,DX,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--pinned",e.pinned)("igx-grid__td--number",("number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)&&0!==e.visibleIndex),fg("ngClass",tm(3,39,zp(67,IX,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",tm(4,46,zp(74,IX,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("expanded",i.expanded)("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("lastPinned",e.columnLayoutChild?null:e.isLastPinned)("formatter",e.formatter)("intRow",i)("rowData",i.data)("visibleColumnIndex",e.visibleIndex)("value",tm(5,53,Hp(81,EX,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("active",i.isCellActive(e.visibleIndex))("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}var cZ=(()=>{let e=class extends bO{getContext(e,t){return{$implicit:e,row:t}}get mrlRightPinnedOffset(){return this.grid.isPinningToStart?null:-this.grid.pinnedWidth-this.grid.headerFeaturesWidth+"px"}getContextMRL(e,t){return{$implicit:e,row:t}}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵcmp=es({type:e,selectors:[["igx-grid-row"]],standalone:!0,features:[kp([{provide:bO,useExisting:An((()=>e))}]),Ru,Pp],decls:17,vars:1,consts:[["addTemp",""],["defaultTemp",""],["mrlPinnedTemplate",""],["rowSelectorBaseTemplate",""],["cellTemplate",""],["expandableCellTemplate",""],["mrlCellTemplate",""],["mrlExpandableCellTemplate",""],["igxDirRef",""],["cell",""],[4,"ngTemplateOutlet"],[1,"igx-grid__tr--inner",3,"animationend"],[4,"ngIf"],[3,"click","igxRowDrag","ghostTemplate"],[1,"igx-grid__cbx-selection","igx-grid__tr-action",3,"pointerdown","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"pointerdown","click"],["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForScrollOrientation","igxForContainerSize","igxForSizePropName","igxForTrackBy"],["ngFor","",3,"ngForOf"],[1,"igx-grid__mrl-block",3,"ngStyle"],["class","igx-grid__mrl-block",3,"igx-grid__td--pinned-last","igx-grid__td--pinned-first","left","ngStyle",4,"ngFor","ngForOf"],[1,"igx-grid__cbx-padding"],[3,"tabindex","checked","readonly","disabled","disableRipple","disableTransitions","aria-label"],[1,"igx-grid__td","igx-grid__td--fw",3,"ngClass","ngStyle","editMode","column","formatter","intRow","lastPinned","firstPinned","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--tree-cell",3,"ngClass","ngStyle","expanded","editMode","column","formatter","intRow","lastPinned","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__td","igx-grid__td--fw",3,"ngClass","ngStyle","editMode","column","lastPinned","firstPinned","formatter","intRow","rowData","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--tree-cell",3,"ngClass","ngStyle","expanded","editMode","column","lastPinned","formatter","intRow","rowData","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"]],template:function(e,t){if(1&e&&Xu(0,TX,1,0,"ng-container",10)(1,AX,2,3,"ng-template",null,0,nm)(3,eZ,5,5,"ng-template",null,1,nm)(5,rZ,2,3,"ng-template",null,2,nm)(7,sZ,2,7,"ng-template",null,3,nm)(9,oZ,6,92,"ng-template",null,4,nm)(11,aZ,6,86,"ng-template",null,5,nm)(13,lZ,6,87,"ng-template",null,6,nm)(15,dZ,6,87,"ng-template",null,7,nm),2&e){let e=mp(2),i=mp(4);fg("ngTemplateOutlet",t.addRowUI?e:i)}},dependencies:[yv,cv,dj,lv,dA,vv,DA,kY,av,wX,DK,IK,_K,wK,AK,OK],encapsulation:2,changeDetection:0}),e})(),hZ=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.TOP=2]="TOP",e[e.RIGHT=3]="RIGHT",e[e.BOTTOM=4]="BOTTOM",e[e.TOPLEFT=5]="TOPLEFT",e[e.TOPRIGHT=6]="TOPRIGHT",e[e.BOTTOMLEFT=7]="BOTTOMLEFT",e[e.BOTTOMRIGHT=8]="BOTTOMRIGHT",e}(hZ||{}),uZ=(()=>{let e=class{get activeDrag(){return this._activeDrag}set activeDrag(e){e!==this._activeDrag&&(this.unsubscribe(),this._activeDrag=e)}get nativeElement(){return this.ref.nativeElement}constructor(e,t){this.ref=e,this.zone=t,this.dragStop=new yl,this.dragScroll=new yl,this.end$=new ei,this.lastDirection=hZ.NONE,this.startDragSelection=e=>{if(!this.activeDrag)return;let t=e.clientX,i=e.clientY,{direction:n,delta:r}=this._measureDimensions(t,i);n!==this.lastDirection&&(this.unsubscribe(),this._sub=this._interval$.subscribe((()=>this.dragScroll.emit(r))),this.lastDirection=n)},this.stopDragSelection=()=>{this.activeDrag&&(this.dragStop.emit(!1),this.unsubscribe(),this.lastDirection=hZ.NONE)},this._interval$=rn(0,ui).pipe(mn(this.end$),on((()=>this.activeDrag)))}ngOnInit(){this.zone.runOutsideAngular((()=>{this.nativeElement.addEventListener("pointerover",this.startDragSelection),this.nativeElement.addEventListener("pointerleave",this.stopDragSelection)}))}ngOnDestroy(){this.zone.runOutsideAngular((()=>{this.nativeElement.removeEventListener("pointerover",this.startDragSelection),this.nativeElement.removeEventListener("pointerleave",this.stopDragSelection)})),this.unsubscribe(),this.end$.complete()}_measureDimensions(e,t){let i,n={left:0,top:0},{left:r,top:s,width:o,height:a}=this.nativeElement.getBoundingClientRect(),l=.15,d=Math.trunc(e-r),c=Math.trunc(t-s),h=d<=o*l,u=d>=o*(1-l),g=c<=a*l,p=c>=a*(1-l);return g&&h?(i=hZ.TOPLEFT,n={left:-1,top:-1}):g&&u?(i=hZ.TOPRIGHT,n={left:1,top:-1}):p&&h?(i=hZ.BOTTOMLEFT,n={left:-1,top:1}):p&&u?(i=hZ.BOTTOMRIGHT,n={top:1,left:1}):g?(i=hZ.TOP,n.top=-1):p?(i=hZ.BOTTOM,n.top=1):h?(i=hZ.LEFT,n.left=-1):u?(i=hZ.RIGHT,n.left=1):i=hZ.NONE,{direction:i,delta:n}}unsubscribe(){this._sub&&this._sub.unsubscribe()}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(Dl))},e.ɵdir=ss({type:e,selectors:[["","igxGridDragSelect",""]],inputs:{activeDrag:[2,"igxGridDragSelect","activeDrag",Zm]},outputs:{dragStop:"dragStop",dragScroll:"dragScroll"},standalone:!0,features:[Vu]}),e})(),gZ=["record_template"],pZ=["detail_template_container"],mZ=["group_template"],fZ=["summary_template"],vZ=[[["igx-grid-toolbar"],["igc-grid-toolbar"]],[["igx-grid-footer"],["igc-grid-footer"]],[["igx-paginator"],["igc-paginator"]],[["igx-grid-state"],["igc-grid-state"]],[["igx-column"],["igc-column"],["igx-column-group"],["igc-column-group"],["igx-column-layout"],["igc-column-layout"],["igx-action-strip"],["igc-action-strip"]]],yZ=["igx-grid-toolbar,igc-grid-toolbar","igx-grid-footer,igc-grid-footer","igx-paginator,igc-paginator","igx-grid-state,igc-grid-state","igx-column,igc-column,igx-column-group,igc-column-group,igx-column-layout,igc-column-layout,igx-action-strip,igc-action-strip"],xZ=(e,t,i,n,r,s,o)=>[e,t,i,n,r,s,o],wZ=(e,t,i,n,r,s)=>[e,t,i,n,r,s],_Z=(e,t,i,n,r,s,o,a)=>[e,t,i,n,r,s,o,a],CZ=(e,t,i,n,r)=>[e,t,i,n,r],SZ=e=>({$implicit:e}),bZ=()=>[],DZ=(e,t,i,n,r,s,o)=>[e,t,i,n,r,s,o,!0],IZ=(e,t,i,n,r,s)=>[e,t,i,n,r,s,!0],EZ=(e,t)=>({"igx-grid__tr--pinned-bottom":e,"igx-grid__tr--pinned-top":t}),TZ=(e,t,i,n,r,s,o,a,l,d,c)=>[e,t,i,n,r,s,o,a,l,!1,d,c],RZ=e=>({"igx-grid__tr-container":!0,"igx-grid__tr-container--active":e}),AZ=e=>({"igx-grid__group-expand-btn":!0,"igx-grid__group-expand-btn--push":e}),kZ=(e,t)=>({rowChangesCount:e,endEdit:t});function OZ(e,t){if(1&e&&(zg(0),Lg(1,"igx-grid-group-by-area",72,29),Bg()),2&e){let e=rp();Ac(),yg("flex-basis",e.outerWidth,"px"),fg("grid",e)("expressions",e.groupingExpressions)("sortingExpressions",e.sortingExpressions)("dropAreaTemplate",e.dropAreaTemplate)("dropAreaMessage",e.dropAreaMessage)}}function PZ(e,t){1&e&&Lg(0,"span",73),2&e&&(fg("igxColumnMovingDrop",rp().headerContainer),tg("droppable",!0))}function FZ(e,t){if(1&e&&Lg(0,"span",74),2&e){let e=rp();yg("left",e.pinnedWidth,"px"),fg("igxColumnMovingDrop",e.headerContainer),tg("droppable",!0)}}function VZ(e,t){1&e&&Gg(0)}function MZ(e,t){1&e&&Gg(0)}function NZ(e,t){if(1&e&&(zg(0),Xu(1,MZ,1,0,"ng-container",45),Bg()),2&e){let e=t.$implicit,i=t.index,n=rp(4),r=mp(27);Ac(),fg("ngTemplateOutlet",r)("ngTemplateOutletContext",n.getContext(e,i,!0))}}function LZ(e,t){if(1&e&&(Mg(0,"div",76,30),Xu(2,NZ,2,2,"ng-container",77),Ng()),2&e){let e=rp().ngIf,t=rp(2);yg("width",t.calcWidth,"px"),fg("ngClass",Mp(4,EZ,!t.isRowPinningToTop,t.isRowPinningToTop)),Ac(2),fg("ngForOf",e)}}function HZ(e,t){if(1&e&&(zg(0),Xu(1,LZ,3,7,"div",75),Bg()),2&e){let e=t.ngIf;Ac(),fg("ngIf",e.length>0)}}function zZ(e,t){if(1&e&&(Xu(0,HZ,2,1,"ng-container",37),Xp(1,"gridTransaction"),Xp(2,"visibleColumns"),Xp(3,"gridAddRow"),Xp(4,"gridRowPinning"),Xp(5,"gridFiltering"),Xp(6,"gridSort")),2&e){let e=rp();fg("ngIf",tm(6,26,zp(42,IZ,tm(5,17,Bp(34,DZ,em(4,12,Jp(3,8,Qp(2,5,Jp(1,1,e.data,e.id,e.pipeTrigger),e.hasVisibleColumns),!0,e.pipeTrigger),e.id,!0,e.pipeTrigger),e.filteringExpressionsTree,e.filterStrategy,e.advancedFilteringExpressionsTree,e.id,e.pipeTrigger,e.filteringPipeTrigger)),e.sortingExpressions,e.groupingExpressions,e.sortStrategy,e.id,e.pipeTrigger)))}}function BZ(e,t){}function GZ(e,t){if(1&e){let e=Wg();Xu(0,BZ,0,0,"ng-template",78),ep("cachedViewLoaded",(function(t){return Uo(e),qo(rp().cachedViewLoaded(t))}))("viewCreated",(function(t){return Uo(e),qo(rp().viewCreatedHandler(t))}))("viewMoved",(function(t){return Uo(e),qo(rp().viewMovedHandler(t))}))}if(2&e){let e=t.$implicit,i=t.index,n=rp();fg("igxTemplateOutlet",n.getRowTemplate(e))("igxTemplateOutletContext",n.getContext(e,i))}}function $Z(e,t){1&e&&Gg(0)}function WZ(e,t){if(1&e&&(Lg(0,"igx-grid-row",79,31),Xp(2,"igxGridRowClasses"),Xp(3,"igxGridRowStyles")),2&e){let e=t.index,i=t.$implicit,n=t.disabled,r=mp(1),s=rp();fg("gridID",s.id)("index",e)("data",i)("disabled",n)("ngClass",tm(2,6,$p(24,TZ,[s.rowClasses,r,r.inEditMode,r.selected,r.dirty,r.deleted,r.dragging,e,s.hasColumnLayouts,i,s.pipeTrigger])))("ngStyle",em(3,19,s.rowStyles,i,e,s.pipeTrigger))}}function KZ(e,t){if(1&e&&(Lg(0,"igx-grid-row",80,32),Xp(3,"igxGridRowClasses"),Xp(4,"igxGridRowStyles")),2&e){let e=t.index,i=t.$implicit,n=mp(1),r=rp();fg("gridID",r.id)("index",e)("data",i)("ngClass",tm(3,5,$p(23,TZ,[r.rowClasses,n,n.inEditMode,n.selected,n.dirty,n.deleted,n.dragging,e,r.hasColumnLayouts,i,r.pipeTrigger])))("ngStyle",em(4,18,r.rowStyles,i,e,r.pipeTrigger))}}function jZ(e,t){if(1&e&&Lg(0,"igx-grid-groupby-row",81,31),2&e){let e=t.index,i=t.$implicit,n=rp();fg("gridID",n.id)("index",e)("groupRow",i)("hideGroupRowSelectors",n.hideRowSelectors)("rowDraggable",n.rowDraggable)}}function UZ(e,t){if(1&e&&Lg(0,"igx-grid-summary-row",82,33),2&e){let e=t.index,i=t.$implicit;fg("gridID",rp().id)("summaries",i.summaries)("index",e)}}function qZ(e,t){if(1&e&&(zg(0),Lg(1,"div"),Bg()),2&e){let e=rp(2);Ac(),Pg("igx-grid__row-indentation igx-grid__row-indentation--level-",e.groupingExpressions.length,"")}}function YZ(e,t){}function XZ(e,t){if(1&e){let e=Wg();Mg(0,"div",83,34),ep("pointerdown",(function(){let t=Uo(e).index,i=mp(1);return qo(rp().detailsViewFocused(i,t))})),Mg(2,"div",84),Xu(3,qZ,2,3,"ng-container",37)(4,YZ,0,0,"ng-template",85),Ng()()}if(2&e){let e=t.index,i=t.$implicit,n=rp();cp("id","",n.id,"_",e,""),fg("ngClass",Vp(8,RZ,n.isDetailActive(e))),tg("data-rowindex",e),Ac(3),fg("ngIf",n.groupingExpressions.length>0),Ac(),fg("ngTemplateOutlet",n.detailTemplate)("ngTemplateOutletContext",n.getDetailsContext(i,e))}}function ZZ(e,t){1&e&&Gg(0)}function QZ(e,t){1&e&&Lg(0,"igx-circular-bar",86),2&e&&fg("indeterminate",!0)}function JZ(e,t){1&e&&Lg(0,"span",87),2&e&&(fg("igxColumnMovingDrop",rp().headerContainer),tg("droppable",!0))}function eQ(e,t){}function tQ(e,t){if(1&e&&(Lg(0,"igx-grid-summary-row",88,33),Xp(2,"igxGridSummaryDataPipe")),2&e){let e=rp();yg("width",e.calcWidth,"px")("height",e.summaryRowHeight,"px"),fg("gridID",e.id)("summaries",Qp(2,7,e.id,e.summaryService.retriggerRootPipe))("index",e.dataView.length)}}function iQ(e,t){}function nQ(e,t){1&e&&Gg(0)}function rQ(e,t){if(1&e&&(Mg(0,"span"),Xu(1,nQ,1,0,"ng-container",43),Ng()),2&e){let e=rp(2),t=mp(77);Ac(),fg("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function sQ(e,t){if(1&e&&(Mg(0,"span",89)(1,"span"),fp(2),Ng(),Xu(3,rQ,2,1,"span",37),Ng()),2&e){let e=rp();Ac(2),yp(e.emptyFilteredGridMessage),Ac(),fg("ngIf",e.showAddButton)}}function oQ(e,t){1&e&&Gg(0)}function aQ(e,t){if(1&e&&(Mg(0,"span"),Xu(1,oQ,1,0,"ng-container",43),Ng()),2&e){let e=rp(2),t=mp(77);Ac(),fg("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function lQ(e,t){if(1&e&&(Mg(0,"span",89)(1,"span"),fp(2),Ng(),Xu(3,aQ,2,1,"span",37),Ng()),2&e){let e=rp();Ac(2),yp(e.emptyGridMessage),Ac(),fg("ngIf",e.showAddButton)}}function dQ(e,t){if(1&e){let e=Wg();Mg(0,"button",90),ep("click",(function(t){return Uo(e),qo(rp().crudService.enterAddRowMode(null,!1,t))})),fp(1),Ng()}if(2&e){let e=rp();Ac(),xp(" ",e.resourceStrings.igx_grid_add_row_label," ")}}function cQ(e,t){1&e&&(Mg(0,"div",91),Lg(1,"igx-circular-bar",86),Ng()),2&e&&(Ac(),fg("indeterminate",!0))}function hQ(e,t){if(1&e&&Lg(0,"igx-icon",92),2&e){let e=rp();fg("ngClass",Vp(1,AZ,e.filteringService.isFilterRowVisible))}}function uQ(e,t){if(1&e&&Lg(0,"igx-icon",93),2&e){let e=rp();fg("ngClass",Vp(1,AZ,e.filteringService.isFilterRowVisible))}}function gQ(e,t){1&e&&Gg(0)}function pQ(e,t){if(1&e&&(Mg(0,"div",48,35)(2,"div",94),Xu(3,gQ,1,0,"ng-container",45),Ng()()),2&e){let e=rp();Ac(2),fg("className",e.bannerClass),Ac(),fg("ngTemplateOutlet",e.rowEditContainer)("ngTemplateOutletContext",Mp(3,kZ,e.rowChangesCount,e.endEdit.bind(e)))}}function mQ(e,t){if(1&e&&(fp(0),Xp(1,"igxStringReplace"),Xp(2,"igxStringReplace")),2&e){let e=rp();xp(" ",Jp(2,5,Jp(1,1,e.resourceStrings.igx_grid_row_edit_text,"{0}",e.rowChangesCount.toString()),"{1}",e.hiddenColumnsCount.toString()),"\n")}}function fQ(e,t){if(1&e){let e=Wg();Mg(0,"button",95),ep("click",(function(t){return Uo(e),qo(rp().endRowEditTabStop(!1,t))})),fp(1),Ng(),Mg(2,"button",95),ep("click",(function(t){return Uo(e),qo(rp().endRowEditTabStop(!0,t))})),fp(3),Ng()}if(2&e){let e=rp();Ac(),yp(e.resourceStrings.igx_grid_row_edit_btn_cancel),Ac(2),yp(e.resourceStrings.igx_grid_row_edit_btn_done)}}function vQ(e,t){1&e&&Gg(0)}function yQ(e,t){1&e&&Gg(0)}function xQ(e,t){if(1&e&&(Mg(0,"div",96)(1,"span",97),Xu(2,vQ,1,0,"ng-container",45),Ng()(),Mg(3,"div",98)(4,"div",99),Xu(5,yQ,1,0,"ng-container",45),Ng()()),2&e){let e=rp(),t=mp(86),i=mp(88);Ac(2),fg("ngTemplateOutlet","IgxAddRow"===(null==e.crudService.row?null:e.crudService.row.getClassName())?e.rowAddTextTemplate:e.rowEditTextTemplate?e.rowEditTextTemplate:t)("ngTemplateOutletContext",Vp(4,SZ,"IgxAddRow"!==(null==e.crudService.row?null:e.crudService.row.getClassName())?e.rowChangesCount:null)),Ac(3),fg("ngTemplateOutlet",e.rowEditActionsTemplate?e.rowEditActionsTemplate:i)("ngTemplateOutletContext",Vp(6,SZ,e.endEdit.bind(e)))}}function wQ(e,t){1&e&&Lg(0,"igx-icon",100)}function _Q(e,t){1&e&&Lg(0,"igx-grid-column-resizer")}function CQ(e,t){1&e&&(Mg(0,"div",71,36),ap(2,3),ap(3,4),Ng())}var SQ=0,bQ=(()=>{let e=class extends vq{constructor(){super(...arguments),this.dataPreLoad=new yl,this.groupingExpressionsChange=new yl,this.groupingExpansionStateChange=new yl,this.groupingDone=new yl,this.groupsExpanded=!0,this.role="grid",this.id="igx-grid-"+SQ++,this._groupsRecords=[],this._groupingExpressions=[],this._groupingExpandState=[],this._hideGroupedColumns=!1,this._dropAreaMessage=null,this._showGroupArea=!0,this.childDetailTemplates=new Map,this.groupingPerformedSubject=new ei,this.groupingPerformed$=this.groupingPerformedSubject.asObservable()}get detailTemplate(){return this._detailTemplate}set detailTemplate(e){this._detailTemplate=e}get groupsRecords(){return this._groupsRecords}get data(){return this._data}set data(e){let t=(!this._data||0===this._data.length)&&e&&e.length>0;this._data=e||[],this.summaryService.clearSummaryCache(),this._init||this.validation.updateAll(this._data),this.shouldGenerate&&this.setupColumns(),this.cdr.markForCheck(),this.isPercentHeight&&this.notifyChanges(!0),t&&this._columns.some((e=>"auto"===e._width))&&this.recalculateAutoSizes()}set totalItemCount(e){this.verticalScrollContainer.totalItemCount=e}get totalItemCount(){return this.verticalScrollContainer.totalItemCount}get _gridAPI(){return this.gridAPI}get groupingExpressions(){return this._groupingExpressions}set groupingExpressions(e){if(this.groupingExpressions===e)return;if(e&&e.length>10)throw Error("Maximum amount of grouped columns is 10.");let t=this.groupingExpressions,i=e;if(this._groupingExpressions=lC(e),this.groupingExpressionsChange.emit(this._groupingExpressions),this._gridAPI.grid&&(this._applyGrouping(),this.notifyChanges()),!this._init&&JSON.stringify(t,this.stringifyCallback)!==JSON.stringify(i,this.stringifyCallback)&&this._columns){let e=[],n=[];i.filter((e=>!t.some((t=>e.fieldName===t.fieldName)))).forEach((t=>{e.push(this.getColumnByName(t.fieldName))}),this),t.filter((e=>!i.some((t=>e.fieldName===t.fieldName)))).forEach((e=>{n.push(this.getColumnByName(e.fieldName))}),this),this.notifyChanges();let r={expressions:i,groupedColumns:e,ungroupedColumns:n};this.groupingPerformed$.pipe(dn(1)).subscribe((()=>{this.groupingDone.emit(r)}))}}get groupingExpansionState(){return this._groupingExpandState}set groupingExpansionState(e){e!==this._groupingExpandState&&this.groupingExpansionStateChange.emit(e),this._groupingExpandState=e,this.gridAPI.grid&&this.cdr.detectChanges()}get hideGroupedColumns(){return this._hideGroupedColumns}set hideGroupedColumns(e){this.groupingDiffer=e?this.differs.find(this.groupingExpressions).create():null,this._columns&&this.groupingExpressions&&this._setGroupColsVisibility(e),this._hideGroupedColumns=e}get groupStrategy(){return this._groupStrategy}set groupStrategy(e){this._groupStrategy=e}set dropAreaMessage(e){this._dropAreaMessage=e,this.notifyChanges()}get dropAreaMessage(){return this._dropAreaMessage||this.resourceStrings.igx_grid_groupByArea_message}get groupsRowList(){let e=new zl;if(!this._groupsRowList)return e;let t=this._groupsRowList.filter((e=>null!==e.element.nativeElement.parentElement)).sort(((e,t)=>e.index-t.index));return e.reset(t),e}get groupByRowSelectorTemplate(){return this._groupByRowSelectorTemplate||this.groupByRowSelectorsTemplates?.first}set groupByRowSelectorTemplate(e){this._groupByRowSelectorTemplate=e}getDetailsContext(e,t){return{$implicit:e,index:t}}detailsViewFocused(e,t){this.navigation.setActiveNode({row:t})}get hasDetails(){return!!this.detailTemplate}getRowTemplate(e){return this.isGroupByRecord(e)?this.defaultGroupTemplate:this.isSummaryRow(e)?this.summaryTemplate:this.hasDetails&&this.isDetailRecord(e)?this.detailTemplateContainer:this.recordTemplate}isDetailRecord(e){return e&&void 0!==e.detailsData}isDetailActive(e){return!!this.navigation.activeNode&&this.navigation.activeNode.row===e}get groupRowTemplate(){return this._groupRowTemplate}set groupRowTemplate(e){this._groupRowTemplate=e,this.notifyChanges()}groupBy(e){this.checkIfNoColumnField(e)||(this.crudService.endEdit(!1),e instanceof Array?this._gridAPI.groupBy_multiple(e):this._gridAPI.groupBy(e),this.notifyChanges(!0))}clearGrouping(e){this._gridAPI.clear_groupby(e),this.calculateGridSizes(),this.notifyChanges(!0),this.groupingPerformedSubject.next()}isExpandedGroup(e){let t=this._getStateForGroupRow(e);return t?t.expanded:this.groupsExpanded}toggleGroup(e){this._toggleGroup(e),this.notifyChanges()}selectRowsInGroup(e,t){this._gridAPI.groupBy_select_all_rows_in_group(e,t),this.notifyChanges()}deselectRowsInGroup(e){this._gridAPI.groupBy_deselect_all_rows_in_group(e),this.notifyChanges()}fullyExpandGroup(e){this._fullyExpandGroup(e),this.notifyChanges()}isGroupByRecord(e){return e&&e?.records&&e.records?.length&&e.expression&&e.expression?.fieldName}toggleAllGroupRows(){this.groupingExpansionState=[],this.groupsExpanded=!this.groupsExpanded,this.notifyChanges()}get hasGroupableColumns(){return this._columns.some((e=>e.groupable&&!e.columnGroup))}get showGroupArea(){return this._showGroupArea}set showGroupArea(e){this._showGroupArea=e,this.notifyChanges(!0)}isColumnGrouped(e){return!!this.groupingExpressions.find((t=>t.fieldName===e))}getContext(e,t,i){if(this.isDetailRecord(e)){let t=this.childDetailTemplates.get(e.detailsData),i=this.primaryKey?e.detailsData[this.primaryKey]:e.detailsData;if(t){let n=t.view,r=t.owner;return{$implicit:e.detailsData,moveView:n,owner:r,index:this.dataView.indexOf(e),templateID:{type:"detailRow",id:i}}}return{$implicit:e.detailsData,templateID:{type:"detailRow",id:i},index:this.dataView.indexOf(e)}}return{$implicit:this.isGhostRecord(e)?e.recordRef:e,index:this.getDataViewIndex(t,i),templateID:{type:this.isGroupByRecord(e)?"groupRow":this.isSummaryRow(e)?"summaryRow":"dataRow",id:null},disabled:this.isGhostRecord(e)}}viewCreatedHandler(e){"detailRow"===e.context.templateID.type&&this.childDetailTemplates.set(e.context.$implicit,e)}viewMovedHandler(e){if("detailRow"===e.context.templateID.type){let t=e.context.$implicit;this.childDetailTemplates.get(t).owner=e.owner}}get iconTemplate(){return this.groupsExpanded?this.headerExpandedIndicatorTemplate||this.defaultExpandedTemplate:this.headerCollapsedIndicatorTemplate||this.defaultCollapsedTemplate}ngAfterContentInit(){super.ngAfterContentInit(),this.allowFiltering&&this.hasColumnLayouts&&(this.filterMode=cS),this.groupTemplate&&(this._groupRowTemplate=this.groupTemplate.template),this.detailTemplateDirective&&(this._detailTemplate=this.detailTemplateDirective),this.hideGroupedColumns&&this._columns&&this.groupingExpressions&&this._setGroupColsVisibility(this.hideGroupedColumns),this._setupNavigationService()}ngAfterViewInit(){super.ngAfterViewInit(),this.verticalScrollContainer.beforeViewDestroyed.pipe(mn(this.destroy$)).subscribe((e=>{let t=e.context.$implicit;if(this.isDetailRecord(t)){let e=this.childDetailTemplates.get(t.detailsData);e&&e.owner._viewContainerRef.detach(0)}})),this.sortingExpressionsChange.pipe(mn(this.destroy$)).subscribe((e=>{!this.groupingExpressions||!this.groupingExpressions.length||e.forEach((e=>{let t=e.fieldName,i=this.groupingExpressions.find((e=>e.fieldName===t));i&&(i.dir=e.dir)}))}))}ngOnInit(){super.ngOnInit(),this.trackChanges=(e,t)=>void 0!==t?.detailsData?t.detailsData:t,this.groupingDone.pipe(mn(this.destroy$)).subscribe((e=>{this.crudService.endEdit(!1),this.summaryService.updateSummaryCache(e),this._headerFeaturesWidth=NaN}))}ngDoCheck(){if(this.groupingDiffer&&this._columns&&!this.hasColumnLayouts){let e=this.groupingDiffer.diff(this.groupingExpressions);e&&this._columns.length>0&&(e.forEachAddedItem((e=>{let t=this.getColumnByName(e.item.fieldName);t&&(t.hidden=!0)})),e.forEachRemovedItem((e=>{this.getColumnByName(e.item.fieldName).hidden=!1})))}super.ngDoCheck()}dataLoading(e){this.dataPreLoad.emit(e)}getSelectedData(e=!1,t=!1){if(this.groupingExpressions.length||this.hasDetails){let i=[],n=e=>{e.expression||e.summaries||this.isDetailRecord(e)?i.push(null):i.push(e)};return this.dataView.forEach(n),this.extractDataFromSelection(i,e,t)}return super.getSelectedData(e,t)}getRowByIndex(e){let t;if(!(e<0))return(this.dataView.length>=this.virtualizationState.startIndex+this.virtualizationState.chunkSize||!(e<this.virtualizationState.startIndex)&&!(e>this.virtualizationState.startIndex+this.virtualizationState.chunkSize))&&(t=this.createRow(e)),1===this.pagingMode&&0!==this.page&&(t.index=e+this.perPage*this.page),t}getRowByKey(e){let t=this.filteredSortedData?this.primaryKey?this.filteredSortedData.find((t=>t[this.primaryKey]===e)):this.filteredSortedData.find((t=>t===e)):void 0,i=this.dataView.indexOf(t);if(!(i<0||i>this.dataView.length))return new mK(this,i,t)}allRows(){return this.dataView.map(((e,t)=>(1===this.pagingMode&&0!==this.page?t+=this.perPage*this.page:t=this.dataRowList.first.index+t,this.createRow(t))))}dataRows(){return this.allRows().filter((e=>e instanceof mK))}get selectedCells(){return this.dataRows().map((e=>e.cells.filter((e=>e.selected)))).reduce(((e,t)=>e.concat(t)),[])}getCellByColumn(e,t){let i=this.getRowByIndex(e),n=this._columns.find((e=>e.field===t));if(i&&i instanceof mK&&!i.data?.detailsData&&n)return 1===this.pagingMode&&0!==this.page&&(i.index=e+this.perPage*this.page),new HM(this,i.index,n)}getCellByKey(e,t){let i=this.getRowByKey(e),n=this._columns.find((e=>e.field===t));if(i&&n)return new HM(this,i.index,n)}pinRow(e,t){let i=this.getRowByKey(e);return super.pinRow(e,t,i)}unpinRow(e){let t=this.getRowByKey(e);return super.unpinRow(e,t)}createRow(e,t){let i,n=this._getDataViewIndex(e),r=t??this.dataView[n];return r&&this.isGroupByRecord(r)&&(i=new yK(this,e,r)),r&&this.isSummaryRow(r)&&(i=new xK(this,e,r.summaries)),!i&&r&&(i=new mK(this,e,r)),i}get defaultTargetBodyHeight(){let e=this.totalItemCount||this.dataLength;return this.renderedActualRowHeight*Math.min(this._defaultTargetRecordNumber,this.paginator?Math.min(e,this.perPage):e)}getGroupAreaHeight(){return this.groupArea?this.getComputedHeight(this.groupArea.nativeElement):0}onColumnsAddedOrRemoved(){this.groupablePipeTrigger++,this.groupingExpressions&&this.hideGroupedColumns&&this._setGroupColsVisibility(this.hideGroupedColumns),super.onColumnsAddedOrRemoved()}scrollTo(e,t){if(this.groupingExpressions&&this.groupingExpressions.length&&"number"!=typeof e){let t=this.groupingResult.indexOf(e),i=this.groupingMetadata[t];i&&this._fullyExpandGroup(i)}super.scrollTo(e,t,this.groupingFlatResult)}_getStateForGroupRow(e){return this._gridAPI.groupBy_get_expanded_for_group(e)}_toggleGroup(e){this._gridAPI.groupBy_toggle_group(e)}_fullyExpandGroup(e){this._gridAPI.groupBy_fully_expand_group(e)}_applyGrouping(){this._gridAPI.sort_groupBy_multiple(this._groupingExpressions)}_setupNavigationService(){this.hasColumnLayouts&&(this.navigation=new Nq(this.platform),this.navigation.grid=this)}checkIfNoColumnField(e){if(e instanceof Array){for(let t of e)if(!t.fieldName)return!0;return!1}return!e.fieldName}_setGroupColsVisibility(e){this._columns.length>0&&!this.hasColumnLayouts&&this.groupingExpressions.forEach((t=>{this.getColumnByName(t.fieldName).hidden=e}))}stringifyCallback(e,t){if("externalObject"!==e)return t}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵcmp=es({type:e,selectors:[["igx-grid"]],contentQueries:function(e,t,i){if(1&e&&(hp(i,f$,5,Oh),hp(i,m$,5,m$),hp(i,gj,4,Oh)),2&e){let e;gp(e=pp())&&(t.detailTemplateDirective=e.first),gp(e=pp())&&(t.groupTemplate=e.first),gp(e=pp())&&(t.groupByRowSelectorsTemplates=e)}},viewQuery:function(e,t){if(1&e&&(up(gZ,7,Oh),up(pZ,7,Oh),up(mZ,7,Oh),up(fZ,7,Oh),up(Mq,5,Mq)),2&e){let e;gp(e=pp())&&(t.recordTemplate=e.first),gp(e=pp())&&(t.detailTemplateContainer=e.first),gp(e=pp())&&(t.defaultGroupTemplate=e.first),gp(e=pp())&&(t.summaryTemplate=e.first),gp(e=pp())&&(t._groupsRowList=e)}},hostVars:2,hostBindings:function(e,t){2&e&&tg("role",t.role)("id",t.id)},inputs:{groupsExpanded:[2,"groupsExpanded","groupsExpanded",Zm],dropAreaTemplate:"dropAreaTemplate",detailTemplate:"detailTemplate",id:"id",data:"data",totalItemCount:"totalItemCount",groupingExpressions:"groupingExpressions",groupingExpansionState:"groupingExpansionState",hideGroupedColumns:[2,"hideGroupedColumns","hideGroupedColumns",Zm],groupStrategy:"groupStrategy",dropAreaMessage:"dropAreaMessage",groupByRowSelectorTemplate:"groupByRowSelectorTemplate",groupRowTemplate:"groupRowTemplate",showGroupArea:[2,"showGroupArea","showGroupArea",Zm]},outputs:{dataPreLoad:"dataPreLoad",groupingExpressionsChange:"groupingExpressionsChange",groupingExpansionStateChange:"groupingExpansionStateChange",groupingDone:"groupingDone"},standalone:!0,features:[kp([iO,GU,$U,_O,BU,{provide:rO,useClass:xq},{provide:nO,useExisting:e},j$,R$,iA,nA]),Vu,Ru,Pp],ngContentSelectors:yZ,decls:97,vars:173,consts:[["tbody",""],["pinnedRecordsTemplate",""],["verticalScrollContainer",""],["record_template",""],["pinned_record_template",""],["group_template",""],["summary_template",""],["detail_template_container",""],["igxRowEditingOverlayOutlet",""],["loadingOverlay",""],["verticalScrollHolder",""],["addRowSnackbar",""],["igxBodyOverlayOutlet","overlay-outlet"],["igxLoadingOverlayOutlet",""],["tfoot",""],["scr",""],["scrollContainer",""],["footer",""],["emptyFilteredGrid",""],["defaultEmptyGrid",""],["defaultAddRowEmptyTemplate",""],["defaultLoadingGrid",""],["defaultExpandedTemplate",""],["defaultCollapsedTemplate",""],["defaultRowEditText",""],["defaultRowEditActions",""],["defaultRowEditTemplate",""],["dragIndicatorIconBase",""],["igxFilteringOverlayOutlet",""],["groupArea",""],["pinContainer",""],["row",""],["row","","pinnedRow",""],["summaryRow",""],["detailsContainer",""],["rowEditingOverlay",""],["sink",""],[4,"ngIf"],["tabindex","0",1,"igx-grid-thead",3,"keydown.meta.c","keydown.control.c","copy","keydown","scroll","focus","grid","hasMRL","activeDescendant","width","pinnedColumnCollection","unpinnedColumnCollection"],["igxGridBody","","role","rowgroup",1,"igx-grid__tbody",3,"keydown.control.c","copy"],["tabindex","0",1,"igx-grid__tbody-content",3,"keydown","focus","dragStop","scroll","dragScroll","igxGridDragSelect"],["id","left","class","igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop",4,"ngIf"],["id","left","class","igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop","left",4,"ngIf"],[4,"ngTemplateOutlet"],["igxGridFor","",3,"chunkPreload","dataChanging","dataChanged","igxGridForOf","igxForScrollOrientation","igxForScrollContainer","igxForContainerSize","igxForItemSize","igxForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["igxOverlayOutlet","",1,"igx-grid__row-editing-outlet"],["text","Trial version of Ignite UI for Blazor"],["igxToggle",""],[3,"indeterminate",4,"ngIf"],["id","right","class","igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop",4,"ngIf"],[1,"igx-grid__tbody-scrollbar",3,"pointerdown","hidden"],[1,"igx-grid__tbody-scrollbar-start"],[1,"igx-grid__tbody-scrollbar-main"],["igxGridFor","",3,"igxGridForOf"],[1,"igx-grid__tbody-scrollbar-end"],[1,"igx-grid__addrow-snackbar"],[3,"outlet","actionText","displayTime"],["igxOverlayOutlet",""],["igxOverlayOutlet","",1,"igx-grid__loading-outlet"],["role","rowgroup",1,"igx-grid__tfoot"],["tabindex","0",3,"focus","keydown"],["role","row","class","igx-grid__summaries",3,"width","height","gridID","summaries","index",4,"ngIf"],[1,"igx-grid__tfoot-thumb",3,"hidden"],[1,"igx-grid__scroll",3,"pointerdown","hidden"],[1,"igx-grid__scroll-start"],[1,"igx-grid__scroll-main"],[1,"igx-grid__scroll-end",3,"hidden"],[1,"igx-grid__footer"],["igxToggle","",4,"ngIf"],["igxOverlayOutlet","",1,"igx-grid__outlet"],[2,"display","none"],[3,"grid","expressions","sortingExpressions","dropAreaTemplate","dropAreaMessage"],["id","left",1,"igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop"],["id","left",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop"],["class","igx-grid__tr--pinned",3,"ngClass","width",4,"ngIf"],[1,"igx-grid__tr--pinned",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"cachedViewLoaded","viewCreated","viewMoved","igxTemplateOutlet","igxTemplateOutletContext"],[3,"gridID","index","data","disabled","ngClass","ngStyle"],[3,"gridID","index","data","ngClass","ngStyle"],[3,"gridID","index","groupRow","hideGroupRowSelectors","rowDraggable"],["role","row",1,"igx-grid__summaries--body",3,"gridID","summaries","index"],["detail","true",3,"pointerdown","id","ngClass"],[1,"igx-grid__hierarchical-indent"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"indeterminate"],["id","right",1,"igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop"],["role","row",1,"igx-grid__summaries",3,"gridID","summaries","index"],["role","cell",1,"igx-grid__tbody-message"],["type","button","igxButton","contained","igxRipple","",3,"click"],[1,"igx-grid__loading"],["family","default","name","unfold_less","role","button",3,"ngClass"],["family","default","name","unfold_more","role","button",3,"ngClass"],[3,"className"],["igxButton","","igxRowEditTabStop","","type","button",3,"click"],[1,"igx-banner__message"],[1,"igx-banner__text"],[1,"igx-banner__actions"],[1,"igx-banner__row"],["family","default","name","drag_indicator"]],template:function(e,t){if(1&e){let e=Wg();op(vZ),ap(0),Xu(1,OZ,3,7,"ng-container",37),Mg(2,"igx-grid-header-row",38),ep("keydown.meta.c",(function(i){return Uo(e),qo(t.copyHandler(i))}))("keydown.control.c",(function(i){return Uo(e),qo(t.copyHandler(i))}))("copy",(function(i){return Uo(e),qo(t.copyHandler(i))}))("keydown",(function(i){return Uo(e),qo(t.navigation.headerNavigation(i))}))("scroll",(function(i){return Uo(e),qo(t.preventHeaderScroll(i))}))("focus",(function(){return Uo(e),qo(t.navigation.focusFirstCell())})),Ng(),Mg(3,"div",39),ep("keydown.control.c",(function(i){return Uo(e),qo(t.copyHandler(i))}))("copy",(function(i){return Uo(e),qo(t.copyHandler(i))})),Mg(4,"div",40,0),ep("keydown",(function(i){return Uo(e),qo(t.navigation.handleNavigation(i))}))("focus",(function(i){return Uo(e),qo(t.navigation.focusTbody(i))}))("dragStop",(function(i){return Uo(e),qo(t.selectionService.dragMode=i)}))("scroll",(function(i){return Uo(e),qo(t.preventContainerScroll(i))}))("dragScroll",(function(i){return Uo(e),qo(t.dragScroll(i))})),Xu(6,PZ,1,2,"span",41)(7,FZ,1,4,"span",42)(8,VZ,1,0,"ng-container",43)(9,zZ,7,49,"ng-template",null,1,nm)(11,GZ,1,2,"ng-template",44,2,nm),Xp(13,"gridTransaction"),Xp(14,"visibleColumns"),Xp(15,"gridFiltering"),Xp(16,"gridSort"),Xp(17,"gridGroupBy"),Xp(18,"gridPaging"),Xp(19,"gridSummary"),Xp(20,"gridDetails"),Xp(21,"gridAddRow"),Xp(22,"gridRowPinning"),ep("chunkPreload",(function(i){return Uo(e),qo(t.dataLoading(i))}))("dataChanging",(function(i){return Uo(e),qo(t.dataRebinding(i))}))("dataChanged",(function(i){return Uo(e),qo(t.dataRebound(i))})),Xu(23,$Z,1,0,"ng-container",43)(24,WZ,4,36,"ng-template",null,3,nm)(26,KZ,5,35,"ng-template",null,4,nm)(28,jZ,2,5,"ng-template",null,5,nm)(30,UZ,2,3,"ng-template",null,6,nm)(32,XZ,5,10,"ng-template",null,7,nm)(34,ZZ,1,0,"ng-container",45),Lg(35,"div",46,8)(37,"igc-trial-watermark",47),Ng(),Mg(38,"div",48,9),Xu(40,QZ,1,1,"igx-circular-bar",49),Ng(),Xu(41,JZ,1,2,"span",50),Mg(42,"div",51),ep("pointerdown",(function(t){return Uo(e),qo(t.preventDefault())})),Lg(43,"div",52),Mg(44,"div",53),Xu(45,eQ,0,0,"ng-template",54,10,nm),Ng(),Lg(47,"div",55),Ng(),Mg(48,"div",56)(49,"igx-snackbar",57,11),fp(51),Ng()(),Lg(52,"div",58,12)(54,"div",59,13),Ng(),Mg(56,"div",60,14)(58,"div",61),ep("focus",(function(){return Uo(e),qo(t.navigation.focusFirstCell(!1))}))("keydown",(function(i){return Uo(e),qo(t.navigation.summaryNav(i))})),Xu(59,tQ,3,10,"igx-grid-summary-row",62),Lg(60,"div",63),Ng()(),Mg(61,"div",64,15),ep("pointerdown",(function(t){return Uo(e),qo(t.preventDefault())})),Lg(63,"div",65),Mg(64,"div",66),Xu(65,iQ,0,0,"ng-template",54,16,nm),Ng(),Lg(67,"div",67),Ng(),Mg(68,"div",68,17),ap(70,1),ap(71,2),Ng(),Xu(72,sQ,4,2,"ng-template",null,18,nm)(74,lQ,4,2,"ng-template",null,19,nm)(76,dQ,2,1,"ng-template",null,20,nm)(78,cQ,2,1,"ng-template",null,21,nm)(80,hQ,1,3,"ng-template",null,22,nm)(82,uQ,1,3,"ng-template",null,23,nm)(84,pQ,4,6,"div",69)(85,mQ,3,9,"ng-template",null,24,nm)(87,fQ,4,2,"ng-template",null,25,nm)(89,xQ,6,8,"ng-template",null,26,nm)(91,wQ,1,0,"ng-template",null,27,nm)(93,_Q,1,0,"igx-grid-column-resizer",37),Lg(94,"div",70,28),Xu(96,CQ,4,0,"div",71)}if(2&e){let e=mp(10),i=mp(53);Ac(),fg("ngIf",t.showGroupArea&&(t.groupingExpressions.length>0||t.hasGroupableColumns)),Ac(),fg("grid",t)("hasMRL",t.hasColumnLayouts)("activeDescendant",t.activeDescendant)("width",t.calcWidth)("pinnedColumnCollection",t.pinnedColumns)("unpinnedColumnCollection",t.unpinnedColumns),Ac(2),yg("height",t.totalHeight,"px")("width",t.calcWidth||null,"px"),fg("igxGridDragSelect",t.selectionService.dragMode),tg("role",t.dataView.length?null:"row")("aria-activedescendant",t.activeDescendant),Ac(2),fg("ngIf",t.moving&&t.columnInDrag&&t.pinnedColumns.length<=0),Ac(),fg("ngIf",t.moving&&t.columnInDrag&&t.pinnedColumns.length>0),Ac(),fg("ngTemplateOutlet",t.hasPinnedRecords&&t.isRowPinningToTop?e:null),Ac(3),fg("igxGridForOf",em(22,126,Jp(21,122,em(20,117,tm(19,108,Gp(161,_Z,tm(18,102,Hp(155,CZ,tm(17,93,Gp(146,_Z,tm(16,86,zp(139,wZ,tm(15,78,Bp(131,xZ,Qp(14,75,Jp(13,71,t.data,t.id,t.pipeTrigger),t.hasVisibleColumns),t.filteringExpressionsTree,t.filterStrategy,t.advancedFilteringExpressionsTree,t.id,t.pipeTrigger,t.filteringPipeTrigger)),t.sortingExpressions,t.groupingExpressions,t.sortStrategy,t.id,t.pipeTrigger)),t.groupingExpressions,t.groupingExpansionState,t.groupStrategy,t.groupsExpanded,t.id,t.groupsRecords,t.pipeTrigger)),!!t.paginator,t.page,t.perPage,t.pipeTrigger)),t.hasSummarizedColumns,t.summaryCalculationMode,t.summaryPosition,t.id,t.showSummaryOnCollapse,t.pipeTrigger,t.summaryPipeTrigger)),t.hasDetails,t.expansionStates,t.pipeTrigger),!1,t.pipeTrigger),t.id,!1,t.pipeTrigger))("igxForScrollOrientation","vertical")("igxForScrollContainer",t.verticalScroll)("igxForContainerSize",t.calcHeight)("igxForItemSize",t.hasColumnLayouts?t.rowHeight*t.multiRowLayoutRowSize+1:t.renderedRowHeight)("igxForTrackBy",t.trackChanges),Ac(12),fg("ngTemplateOutlet",t.hasPinnedRecords&&!t.isRowPinningToTop?e:null),Ac(11),fg("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Vp(170,SZ,t)),Ac(6),fg("ngIf",t.shouldOverlayLoading),Ac(),fg("ngIf",t.moving&&t.columnInDrag),Ac(),yg("width",t.scrollSize,"px"),fg("hidden",!t.hasVerticalScroll()),Ac(),yg("height",t.isRowPinningToTop?t.pinnedRowHeight:0,"px"),Ac(),yg("height",t.calcHeight,"px"),Ac(),fg("igxGridForOf",Fp(172,bZ)),Ac(2),yg("height",t.isRowPinningToTop?0:t.pinnedRowHeight,"px"),Ac(2),fg("outlet",i)("actionText",t.resourceStrings.igx_grid_snackbar_addrow_actiontext)("displayTime",t.snackbarDisplayTime),Ac(2),yp(t.resourceStrings.igx_grid_snackbar_addrow_label),Ac(5),yg("height",t.summaryRowHeight,"px"),Ac(2),tg("aria-activedescendant",t.activeDescendant),Ac(),fg("ngIf",t.hasSummarizedColumns&&t.rootSummariesEnabled),Ac(),yg("height",t.summaryRowHeight,"px")("width",t.scrollSize,"px"),fg("hidden",!t.hasVerticalScroll()),Ac(),yg("height",t.scrollSize,"px"),fg("hidden",t.isHorizontalScrollHidden),Ac(2),yg("width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px")("min-width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px"),Ac(),yg("width",t.unpinnedWidth,"px"),Ac(),fg("igxGridForOf",t.EMPTY_DATA),Ac(2),yg("float","right")("width",t.pinnedWidth,"px")("min-width",t.pinnedWidth,"px"),fg("hidden",0===t.pinnedWidth||t.isPinningToStart),Ac(17),fg("ngIf",t.rowEditable),Ac(9),fg("ngIf",t.colResizingService.showResizer),Ac(3),Fg(t.platform.isElements?96:-1)}},dependencies:[cv,av,lv,vv,yv,HU,lj,Xj,uZ,dW,dA,AA,cZ,Mq,wU,FA,OA,Pz,RU,ST,vA,FT,nU,CU,EK,TK,RK,FK,SK,bK,Wq,Bq,Gq,zq,$q,Hq,Lq,kK],encapsulation:2,changeDetection:0}),e})(),DQ=(()=>{let e=class extends R${getColumnHeaderRenderedWidth(){return this.rowHeaderGroup.header.nativeElement.getBoundingClientRect().width}_handlePixelResize(e,t){let i=this.rowHeaderGroup.parent.rootDimension;if(!i)return;let n=parseFloat(t.width),r=t.minWidthPx,s=t.maxWidthPx,o=n;o=n+e<r?r:s&&n+e>s?s:n+e,this.rowHeaderGroup.grid.resizeRowDimensionPixels(i,o)}_handlePercentageResize(){}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),IQ=(e,t)=>({$implicit:e,column:t}),EQ=e=>({$implicit:e});function TQ(e,t){if(1&e&&(Mg(0,"span",7),fp(1),Ng()),2&e){let e=rp();fg("title",e.title),Ac(),yp(e.column.header||e.column.field)}}function RQ(e,t){1&e&&Lg(0,"igx-icon",8)}function AQ(e,t){1&e&&Lg(0,"igx-icon",9),2&e&&fg("name",rp().sortDirection<2?"sort_asc":"sort_desc")}function kQ(e,t){1&e&&Gg(0)}function OQ(e,t){1&e&&Gg(0)}function PQ(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"div",11,3),Xp(3,"sortingIndex"),ep("pointerdown",(function(t){return Uo(e),qo(rp(2).onPointerDownIndicator(t))}))("click",(function(t){return Uo(e),qo(rp(2).onSortingIconClick(t))})),Xu(4,OQ,1,0,"ng-container",5),Ng(),Bg()}if(2&e){let e=rp(2);Ac(),tg("data-sortIndex","single"===e.grid.sortingOptions.mode&&e.grid.sortingExpressions.length<=1?null:Qp(3,3,e.column.field,e.grid.sortingExpressions)),Ac(3),fg("ngTemplateOutlet",e.sortIconTemplate)("ngTemplateOutletContext",Vp(6,EQ,e))}}function FQ(e,t){1&e&&Gg(0)}function VQ(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"div",12),ep("pointerdown",(function(t){return Uo(e),qo(rp(2).onPointerDownIndicator(t))}))("click",(function(t){return Uo(e),qo(rp(2).onFilteringIconClick(t))})),Xu(2,FQ,1,0,"ng-container",5),Ng(),Bg()}if(2&e){let e=rp(2);Ac(),fg("ngClass",e.filterIconClassName),Ac(),fg("ngTemplateOutlet",e.esfIconTemplate)("ngTemplateOutletContext",Vp(3,EQ,e))}}function MQ(e,t){if(1&e&&(zg(0),Mg(1,"div",10),Xu(2,PQ,5,8,"ng-container",6)(3,VQ,3,5,"ng-container",6),Ng(),Bg()),2&e){let e=rp();Ac(2),fg("ngIf",e.column.sortable&&!e.disabled),Ac(),fg("ngIf",e.grid.allowFiltering&&e.column.filterable&&"excelStyleFilter"===e.grid.filterMode)}}var NQ=(()=>{let e=class extends W${constructor(e,t,i,n){super(e,t,i,n),this.colResizingService=t,this.refInstance=n,this.pivotGrid=this.grid,this.pivotGrid.dimensionsSortingExpressionsChange.pipe(mn(this._destroy$)).subscribe((e=>this.setSortIndex()))}ngAfterViewInit(){this.setSortIndex()}onClick(e){e.preventDefault()}get selectable(){return!1}onSortingIconClick(e){e.stopPropagation();let t=this.pivotGrid.getRowDimensionByName(this.column.field),i=t.sortDirection||LC.None,n=i+1>LC.Desc?LC.None:i+1;this.pivotGrid.sortDimension(t,n)}getSortDirection(){let e=this.pivotGrid.getRowDimensionByName(this.column.field);this.sortDirection=e?.sortDirection||LC.None}setSortIndex(){if(this.column.sortable&&this.sortIconContainer){let e=this.pivotGrid.pivotUI.rowLayout===yO.Vertical?this.pivotGrid.pivotConfiguration.rows:wO.flatten(this.pivotGrid.pivotConfiguration.rows),t=e.findIndex((e=>e.memberName===this.column.field)),i=-1;if(e[t].sortDirection){let n=0;for(let i=0;i<t;i++)e[i].sortDirection&&n++;i=n+1}this.sortIconContainer.nativeElement.setAttribute("data-sortIndex",i>=0?i:"")}}};return e.ɵfac=function(t){return new(t||e)(Oc(nO),Oc(DQ),Oc(Pm),Oc(Nl))},e.ɵcmp=es({type:e,selectors:[["igx-pivot-row-dimension-header"]],hostBindings:function(e,t){1&e&&ep("click",(function(e){return t.onClick(e)}))},standalone:!0,features:[Ru,Pp],decls:9,vars:6,consts:[["defaultColumn",""],["defaultESFHeaderIconTemplate",""],["defaultSortHeaderIconTemplate",""],["sortIconContainer",""],[1,"igx-grid-th__title"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[3,"title"],["family","default","name","more_vert"],["family","default",3,"name"],[1,"igx-grid-th__icons"],[1,"sort-icon",3,"pointerdown","click"],[3,"pointerdown","click","ngClass"]],template:function(e,t){if(1&e&&(Xu(0,TQ,2,2,"ng-template",null,0,nm)(2,RQ,1,0,"ng-template",null,1,nm)(4,AQ,1,1,"ng-template",null,2,nm),Mg(6,"span",4),Xu(7,kQ,1,0,"ng-container",5),Ng(),Xu(8,MQ,4,2,"ng-container",6)),2&e){let e=mp(1);Ac(7),fg("ngTemplateOutlet",t.column.headerTemplate?t.column.headerTemplate:e)("ngTemplateOutletContext",Mp(3,IQ,t.column,t.column)),Ac(),fg("ngIf",!t.column.columnGroup)}},dependencies:[FT,yv,cv,av,I$],encapsulation:2,changeDetection:0}),e})(),LQ=(()=>{let e=class extends lW{set pivotColumn(e){this.column=e}get pivotColumn(){return this.column}constructor(e,t,i){super(e,t,i),this.colResizingService=i}onDoubleClick(){this._dblClick=!0,this.initResizeService(),this.rowHeaderGroup.grid.autoSizeRowDimension(this.rowHeaderGroup.parent.rootDimension)}initResizeService(e=null){super.initResizeService(e),this.colResizingService.rowHeaderGroup=this.rowHeaderGroup}};return e.ɵfac=function(t){return new(t||e)(Oc(Dl),Oc(Nl),Oc(DQ))},e.ɵdir=ss({type:e,selectors:[["","igxPivotResizeHandle",""]],inputs:{pivotColumn:[0,"igxPivotResizeHandle","pivotColumn"],rowHeaderGroup:[0,"igxPivotResizeHandleHeader","rowHeaderGroup"]},standalone:!0,features:[Ru]}),e})();function HQ(e,t){if(1&e&&(Mg(0,"span",3),fp(1),Ng()),2&e){let e=rp();fg("title",e.title),Ac(),yp(e.column.header)}}function zQ(e,t){1&e&&Lg(0,"igx-icon",4),2&e&&fg("name",rp().column.expanded?"tree_collapse":"tree_expand")}function BQ(e,t){1&e&&Lg(0,"span",9)}function GQ(e,t){if(1&e&&Lg(0,"span",10),2&e){let e=rp(2);yg("cursor",e.colResizingService.resizeCursor),fg("igxPivotResizeHandle",e.column)("igxPivotResizeHandleHeader",e),tg("draggable",!1)}}function $Q(e,t){1&e&&Lg(0,"span",11)}function WQ(e,t){if(1&e){let e=Wg();zg(0),Xu(1,BQ,1,0,"span",5),Mg(2,"igx-pivot-row-dimension-header",6),Xp(3,"igxHeaderGroupStyle"),ep("pointerdown",(function(t){return Uo(e),qo(rp().pointerdown(t))}))("keydown",(function(t){return Uo(e),qo(rp().grid.navigation.headerNavigation(t))})),Ng(),Xu(4,GQ,1,5,"span",7)(5,$Q,1,0,"span",8),Bg()}if(2&e){let e=rp();Ac(),fg("ngIf",e.grid.hasMovableColumns),Ac(),fg("id",e.grid.id+"_"+e.column.field)("ngClass",e.column.headerClasses)("ngStyle",Jp(3,11,e.column.headerStyles,e.column,e.grid.pipeTrigger))("igxColumnMovingDrag",e.column)("ghostHost",e.grid.outlet.nativeElement)("igxColumnMovingDrop",e.column)("column",e.column),tg("droppable",!0),Ac(2),fg("ngIf",!e.column.columnGroup&&e.column.resizable),Ac(),fg("ngIf",e.grid.hasMovableColumns)}}var KQ=(()=>{let e=class extends VW{constructor(e,t,i,n,r,s,o){super(e,t,i,n,r,s),this.cdRef=e,this.grid=t,this.elementRef=i,this.colResizingService=n,this.zone=o,this.userSelect="none"}set dimWidth(e){this.column.width=e+"px"}get dimWidth(){return parseFloat(this.column.width)}get parent(){return this}get headerID(){return`${this.grid.id}_-2_${this.rootDimension.memberName}_${this.visibleIndex}`}get title(){return this.rootDimension.displayName}get visibleIndex(){return this.grid.visibleRowDimensions.indexOf(this.rootDimension)}get active(){let e=this.grid.navigation,t=e.activeNode;return!(!t||this.column.columnGroup)&&e.isRowDimensionHeaderActive&&t.row===this.rowIndex&&t.column===this.visibleIndex}get sortAscendingStyle(){return this.rootDimension.sortDirection===LC.Asc}get sortDescendingStyle(){return this.rootDimension.sortDirection===LC.Desc}get sortableStyle(){return!0}get sortedStyle(){return void 0!==this.rootDimension.sortDirection&&this.rootDimension.sortDirection!==LC.None}get activeNode(){return this.grid.navigation.isRowDimensionHeaderActive=!0,this.grid.navigation.isRowHeaderActive=!1,{row:this.rowIndex,column:this.visibleIndex,level:null,mchCache:{level:0,visibleIndex:this.visibleIndex},layout:null}}activate(){this.grid.navigation.setActiveNode(this.activeNode)}pointerdown(e){this.activate()}onMouseDown(e){this.activate()}get selectable(){return!1}};return e.ɵfac=function(t){return new(t||e)(Oc(Pm),Oc(nO),Oc(Nl),Oc(DQ),Oc(j$),Oc(fC),Oc(Dl))},e.ɵcmp=es({type:e,selectors:[["igx-pivot-row-header-group"]],viewQuery:function(e,t){if(1&e&&up(NQ,5),2&e){let e;gp(e=pp())&&(t.header=e.first)}},hostVars:14,hostBindings:function(e,t){2&e&&(tg("id",t.headerID)("title",t.title),yg("user-select",t.userSelect),xg("igx-grid-th--active",t.active)("asc",t.sortAscendingStyle)("desc",t.sortDescendingStyle)("igx-grid-th--sortable",t.sortableStyle)("igx-grid-th--sorted",t.sortedStyle))},inputs:{rowIndex:"rowIndex",dimWidth:"dimWidth",rootDimension:"rootDimension"},standalone:!0,features:[Ru,Pp],decls:5,vars:1,consts:[["defaultColumn",""],["defaultCollapseIndicator",""],[4,"ngIf"],[1,"igx-grid-th__group-title",3,"title"],["family","default",3,"name"],["class","igx-grid-th__drop-indicator-left",4,"ngIf"],["role","columnheader",1,"igx-grid-th--fw",3,"pointerdown","keydown","id","ngClass","ngStyle","igxColumnMovingDrag","ghostHost","igxColumnMovingDrop","column"],["class","igx-grid-th__resize-handle",3,"igxPivotResizeHandle","igxPivotResizeHandleHeader","cursor",4,"ngIf"],["class","igx-grid-th__drop-indicator-right",4,"ngIf"],[1,"igx-grid-th__drop-indicator-left"],[1,"igx-grid-th__resize-handle",3,"igxPivotResizeHandle","igxPivotResizeHandleHeader"],[1,"igx-grid-th__drop-indicator-right"]],template:function(e,t){1&e&&Xu(0,HQ,2,2,"ng-template",null,0,nm)(2,zQ,1,1,"ng-template",null,1,nm)(4,WQ,6,15,"ng-container",2),2&e&&(Ac(4),fg("ngIf",!t.column.columnGroup))},dependencies:[FT,cv,NQ,av,vv,u$,dW,LQ,T$],encapsulation:2,changeDetection:0}),e})(),jQ=["esf"],UQ=["filterAreaHidden"],qQ=["filterIcon"],YQ=["dropdownChips"],XQ=["pivotFilterContainer"],ZQ=["pivotRowContainer"],QQ=["notifyChip"],JQ=["headerVirtualContainer"],eJ=["rowDimensionHeaders"],tJ=()=>({pivotArea:"filter"}),iJ=()=>({pivotArea:"row"}),nJ=()=>({pivotArea:"column"}),rJ=()=>({pivotArea:"value"}),sJ=e=>({$implicit:e});function oJ(e,t){if(1&e){let e=Wg();Mg(0,"span",48),ep("dropped",(function(t){Uo(e),rp();let i=mp(3);return qo(rp().onDimDrop(t,i,2))})),fp(1),Ng()}if(2&e){let e=rp(2);Ac(),yp(e.grid.resourceStrings.igx_grid_pivot_empty_filter_drop_area)}}function aJ(e,t){if(1&e&&(zg(0),Lg(1,"span",49),Bg()),2&e){rp(2);let e=mp(3),t=rp();Ac(),yg("height",t.getAreaHeight(e),"px")}}function lJ(e,t){if(1&e){let e=Wg();zg(0),Lg(1,"span",49),Mg(2,"igx-chip",50),ep("remove",(function(t){return Uo(e),qo(rp(2).filterRemoved(t))}))("dragOver",(function(t){return Uo(e),qo(rp(2).onDimDragOver(t,2))}))("dragLeave",(function(t){return Uo(e),qo(rp(2).onDimDragLeave(t))}))("dragDrop",(function(t){Uo(e),rp();let i=mp(3);return qo(rp().onDimDrop(t,i,2))}))("moveStart",(function(t){Uo(e),rp();let i=mp(3);return qo(rp().onDimDragStart(t,i))}))("moveEnd",(function(){return Uo(e),qo(rp(2).onDimDragEnd())})),Mg(3,"igx-icon",51),ep("pointerdown",(function(t){return Uo(e),qo(rp(2).onFilteringIconPointerDown(t))}))("click",(function(t){let i=Uo(e).$implicit;return qo(rp(2).onFilteringIconClick(t,i))})),Ng(),fp(4),Ng(),Xu(5,aJ,2,2,"ng-container",30),Bg()}if(2&e){let e=t.$implicit,i=t.last;rp();let n=mp(3),r=rp();Ac(),yg("height",r.getAreaHeight(n),"px"),Ac(),fg("id",e.memberName)("draggable",!0)("data",Fp(8,tJ))("removable",!0),Ac(2),xp(" ",e.displayName||e.memberName," "),Ac(),fg("ngIf",i)}}function dJ(e,t){if(1&e){let e=Wg();Mg(0,"div",52)(1,"igx-icon",53,8),ep("pointerdown",(function(t){return Uo(e),qo(rp(2).onFilteringIconPointerDown(t))}))("click",(function(t){return Uo(e),qo(rp(2).onFiltersAreaDropdownClick(t))})),Ng(),Lg(3,"igx-badge",54),Ng()}if(2&e){let e=rp(2);Ac(3),lp("value",e.filterDropdownDimensions.size)}}function cJ(e,t){if(1&e){let e=Wg();Mg(0,"div",43,5),ep("igxDragLeave",(function(t){Uo(e);let i=mp(3);return qo(rp().onAreaDragLeave(t,i))}))("dropped",(function(t){Uo(e);let i=mp(3);return qo(rp().onDimDrop(t,i,2))}))("pointerdown",(function(t){return Uo(e),qo(t.preventDefault())})),Mg(2,"igx-chips-area",41,6),Xu(4,oJ,2,1,"span",44)(5,lJ,6,9,"ng-container",45),Mg(6,"igx-chip",46,7),ep("dragDrop",(function(t){Uo(e);let i=mp(3);return qo(rp().onDimDrop(t,i,2))})),fp(8),Ng()(),Xu(9,dJ,4,1,"div",47),Ng()}if(2&e){let e=rp();yg("min-width",e.grid.pivotRowWidths-1,"px")("max-width",e.grid.pivotRowWidths-1,"px"),Ac(4),fg("ngIf",0===e.grid.filterDimensions.length),Ac(),fg("ngForOf",e.filterAreaDimensions),Ac(),fg("hidden",!0),Ac(2),xp(" ",e.grid.resourceStrings.igx_grid_pivot_filter_drop_chip," "),Ac(),fg("ngIf",e.isFiltersButton&&0!==e.grid.filterDimensions.length)}}function hJ(e,t){if(1&e){let e=Wg();Mg(0,"span",48),ep("dropped",(function(t){Uo(e),rp();let i=mp(3);return qo(rp().onDimDrop(t,i,0))})),fp(1),Ng()}if(2&e){let e=rp(2);Ac(),yp(e.grid.resourceStrings.igx_grid_pivot_empty_row_drop_area)}}function uJ(e,t){1&e&&Lg(0,"igx-icon",59),2&e&&fg("name",rp().$implicit.sortDirection<2?"sort_asc":"sort_desc")}function gJ(e,t){if(1&e&&(zg(0),Lg(1,"span",49),Bg()),2&e){rp(2);let e=mp(3),t=rp();Ac(),yg("height",t.getAreaHeight(e),"px")}}function pJ(e,t){if(1&e){let e=Wg();zg(0),Lg(1,"span",49),Mg(2,"igx-chip",56),ep("remove",(function(t){return Uo(e),qo(rp(2).rowRemoved(t))}))("dragLeave",(function(t){return Uo(e),qo(rp(2).onDimDragLeave(t))}))("dragDrop",(function(t){Uo(e),rp();let i=mp(3);return qo(rp().onDimDrop(t,i,0))}))("dragOver",(function(t){return Uo(e),qo(rp(2).onDimDragOver(t,0))}))("moveStart",(function(t){Uo(e),rp();let i=mp(3);return qo(rp().onDimDragStart(t,i))}))("moveEnd",(function(){return Uo(e),qo(rp(2).onDimDragEnd())}))("click",(function(t){let i=Uo(e).$implicit;return qo(rp(2).onChipSort(t,i))})),Lg(3,"igx-icon",57),Mg(4,"igx-icon",51),ep("pointerdown",(function(t){return Uo(e),qo(rp(2).onFilteringIconPointerDown(t))}))("click",(function(t){let i=Uo(e).$implicit;return qo(rp(2).onFilteringIconClick(t,i))})),Ng(),fp(5),Xu(6,uJ,1,1,"igx-icon",58),Ng(),Xu(7,gJ,2,2,"ng-container",30),Bg()}if(2&e){let e=t.$implicit,i=t.last;rp();let n=mp(3),r=rp();Ac(),yg("height",r.getAreaHeight(n),"px"),Ac(),fg("draggable",!0)("id",e.memberName)("data",Fp(9,iJ))("removable",!0),Ac(3),xp(" ",e.displayName||e.memberName," "),Ac(),fg("ngIf",e.sortDirection),Ac(),fg("ngIf",i)}}function mJ(e,t){if(1&e){let e=Wg();Mg(0,"div",55,9),ep("igxDragLeave",(function(t){Uo(e);let i=mp(3);return qo(rp().onAreaDragLeave(t,i))}))("dropped",(function(t){Uo(e);let i=mp(3);return qo(rp().onDimDrop(t,i,0))})),Mg(2,"igx-chips-area",41,10),Xu(4,hJ,2,1,"span",44)(5,pJ,8,10,"ng-container",45),Mg(6,"igx-chip",46,7),ep("dragDrop",(function(t){Uo(e);let i=mp(3);return qo(rp().onDimDrop(t,i,0))})),fp(8),Ng()()()}if(2&e){let e=rp();yg("width",e.grid.pivotRowWidths-1,"px"),Ac(4),fg("ngIf",0===e.grid.rowDimensions.length),Ac(),fg("ngForOf",e.grid.rowDimensions),Ac(),fg("hidden",!0),Ac(2),xp(" ",e.grid.resourceStrings.igx_grid_pivot_row_drop_chip," ")}}function fJ(e,t){if(1&e){let e=Wg();Mg(0,"span",48),ep("dropped",(function(t){Uo(e),rp();let i=mp(3);return qo(rp().onDimDrop(t,i,1))})),fp(1),Ng()}if(2&e){let e=rp(2);Ac(),xp(" ",e.grid.resourceStrings.igx_grid_pivot_empty_column_drop_area,"")}}function vJ(e,t){1&e&&Lg(0,"igx-icon",59),2&e&&fg("name",rp().$implicit.sortDirection<2?"sort_asc":"sort_desc")}function yJ(e,t){if(1&e&&(zg(0),Lg(1,"span",49),Bg()),2&e){rp(2);let e=mp(3),t=rp();Ac(),yg("height",t.getAreaHeight(e),"px")}}function xJ(e,t){if(1&e){let e=Wg();zg(0),Lg(1,"span",49),Mg(2,"igx-chip",61),ep("remove",(function(t){return Uo(e),qo(rp(2).columnRemoved(t))}))("dragOver",(function(t){return Uo(e),qo(rp(2).onDimDragOver(t,1))}))("dragLeave",(function(t){return Uo(e),qo(rp(2).onDimDragLeave(t))}))("dragDrop",(function(t){Uo(e),rp();let i=mp(3);return qo(rp().onDimDrop(t,i,1))}))("moveStart",(function(t){Uo(e),rp();let i=mp(3);return qo(rp().onDimDragStart(t,i))}))("moveEnd",(function(){return Uo(e),qo(rp(2).onDimDragEnd())}))("click",(function(t){let i=Uo(e).$implicit;return qo(rp(2).onChipSort(t,i))})),Lg(3,"igx-icon",62),Mg(4,"igx-icon",51),ep("pointerdown",(function(t){return Uo(e),qo(rp(2).onFilteringIconPointerDown(t))}))("click",(function(t){let i=Uo(e).$implicit;return qo(rp(2).onFilteringIconClick(t,i))})),Ng(),fp(5),Xu(6,vJ,1,1,"igx-icon",58),Ng(),Xu(7,yJ,2,2,"ng-container",30),Bg()}if(2&e){let e=t.$implicit,i=t.last;rp();let n=mp(3),r=rp();Ac(),yg("height",r.getAreaHeight(n),"px"),Ac(),fg("draggable",!0)("id",e.memberName)("data",Fp(9,nJ))("removable",!0),Ac(3),xp(" ",e.displayName||e.memberName," "),Ac(),fg("ngIf",e.sortDirection),Ac(),fg("ngIf",i)}}function wJ(e,t){if(1&e){let e=Wg();Mg(0,"div",60,11),ep("dropped",(function(t){Uo(e);let i=mp(3);return qo(rp().onDimDrop(t,i,1))}))("igxDragLeave",(function(t){Uo(e);let i=mp(3);return qo(rp().onAreaDragLeave(t,i))})),Mg(2,"igx-chips-area",41,12),Xu(4,fJ,2,1,"span",44)(5,xJ,8,10,"ng-container",45),Mg(6,"igx-chip",46,7),ep("dragDrop",(function(t){Uo(e);let i=mp(3);return qo(rp().onDimDrop(t,i,1))})),fp(8),Ng()()()}if(2&e){let e=rp();Ac(4),fg("ngIf",0===e.grid.columnDimensions.length),Ac(),fg("ngForOf",e.grid.columnDimensions),Ac(),fg("hidden",!0),Ac(2),xp(" ",e.grid.resourceStrings.igx_grid_pivot_column_drop_chip," ")}}function _J(e,t){if(1&e){let e=Wg();Mg(0,"span",48),ep("dropped",(function(t){Uo(e),rp();let i=mp(3);return qo(rp().onValueDrop(t,i))})),fp(1),Ng()}if(2&e){let e=rp(2);Ac(),yp(e.grid.resourceStrings.igx_grid_pivot_empty_value_drop_area)}}function CJ(e,t){1&e&&Gg(0)}function SJ(e,t){if(1&e&&(zg(0),Lg(1,"span",49),Bg()),2&e){rp(2);let e=mp(3),t=rp();Ac(),yg("height",t.getAreaHeight(e),"px")}}function bJ(e,t){if(1&e){let e=Wg();zg(0),Lg(1,"span",49),Mg(2,"igx-chip",64,16),ep("remove",(function(t){return Uo(e),qo(rp(2).valueRemoved(t))}))("dragLeave",(function(t){return Uo(e),qo(rp(2).onDimDragLeave(t))}))("dragOver",(function(t){return Uo(e),qo(rp(2).onDimDragOver(t))}))("dragDrop",(function(t){Uo(e),rp();let i=mp(3);return qo(rp().onValueDrop(t,i))})),Mg(4,"div",65),ep("click",(function(t){let i=Uo(e).$implicit,n=mp(3),r=rp(2),s=mp(20);return qo(r.onSummaryClick(t,i,s,n))}))("pointerdown",(function(t){return Uo(e),qo(t.stopPropagation())})),Lg(5,"igx-icon",66)(6,"igx-icon",67),Ng(),Xu(7,CJ,1,0,"ng-container",68),Ng(),Xu(8,SJ,2,2,"ng-container",30),Bg()}if(2&e){let e=t.$implicit,i=t.last;rp();let n=mp(3),r=rp(),s=mp(20),o=mp(36);Ac(),yg("height",r.getAreaHeight(n),"px"),Ac(),fg("draggable",!0)("id",e.displayName||e.member)("data",Fp(10,rJ))("removable",!0),Ac(2),fg("igxDropDownItemNavigation",s),Ac(3),fg("ngTemplateOutlet",r.grid.valueChipTemplate?r.grid.valueChipTemplate:o)("ngTemplateOutletContext",Vp(11,sJ,e)),Ac(),fg("ngIf",i)}}function DJ(e,t){if(1&e){let e=Wg();Mg(0,"div",63,13),ep("pointerdown",(function(t){return Uo(e),qo(t.preventDefault())}))("dropped",(function(t){Uo(e);let i=mp(3);return qo(rp().onValueDrop(t,i))}))("igxDragLeave",(function(t){Uo(e);let i=mp(3);return qo(rp().onAreaDragLeave(t,i))})),Mg(2,"igx-chips-area",41,14),Xu(4,_J,2,1,"span",44)(5,bJ,9,13,"ng-container",45),Mg(6,"igx-chip",46,15),ep("dragDrop",(function(t){Uo(e);let i=mp(3);return qo(rp().onValueDrop(t,i))})),fp(8),Ng()()()}if(2&e){let e=rp();Ac(4),fg("ngIf",0===e.grid.values.length),Ac(),fg("ngForOf",e.grid.values),Ac(),fg("hidden",!0),Ac(2),xp(" ",e.grid.resourceStrings.igx_grid_pivot_value_drop_chip," ")}}function IJ(e,t){if(1&e){let e=Wg();Mg(0,"span",48),ep("dropped",(function(t){Uo(e),rp(2);let i=mp(4);return qo(rp().onDimDrop(t,i,0))})),fp(1),Ng()}if(2&e){let e=rp(3);Ac(),yp(e.grid.resourceStrings.igx_grid_pivot_empty_row_drop_area)}}function EJ(e,t){1&e&&Lg(0,"igx-icon",59),2&e&&fg("name",rp().$implicit.sortDirection<2?"sort_asc":"sort_desc")}function TJ(e,t){if(1&e&&(zg(0),Lg(1,"span",49),Bg()),2&e){rp(3);let e=mp(4),t=rp();Ac(),yg("height",t.getAreaHeight(e),"px")}}function RJ(e,t){if(1&e){let e=Wg();zg(0),Lg(1,"span",49),Mg(2,"igx-chip",56),ep("remove",(function(t){return Uo(e),qo(rp(3).rowRemoved(t))}))("dragLeave",(function(t){return Uo(e),qo(rp(3).onDimDragLeave(t))}))("dragDrop",(function(t){Uo(e),rp(2);let i=mp(4);return qo(rp().onDimDrop(t,i,0))}))("dragOver",(function(t){return Uo(e),qo(rp(3).onDimDragOver(t,0))}))("moveStart",(function(t){Uo(e),rp(2);let i=mp(4);return qo(rp().onDimDragStart(t,i))}))("moveEnd",(function(){return Uo(e),qo(rp(3).onDimDragEnd())}))("click",(function(t){let i=Uo(e).$implicit;return qo(rp(3).onChipSort(t,i))})),Lg(3,"igx-icon",57),Mg(4,"igx-icon",51),ep("pointerdown",(function(t){return Uo(e),qo(rp(3).onFilteringIconPointerDown(t))}))("click",(function(t){let i=Uo(e).$implicit;return qo(rp(3).onFilteringIconClick(t,i))})),Ng(),fp(5),Xu(6,EJ,1,1,"igx-icon",58),Ng(),Xu(7,TJ,2,2,"ng-container",30),Bg()}if(2&e){let e=t.$implicit,i=t.last;rp(2);let n=mp(4),r=rp();Ac(),yg("height",r.getAreaHeight(n),"px"),Ac(),fg("draggable",!0)("id",e.memberName)("data",Fp(9,iJ))("removable",!0),Ac(3),xp(" ",e.displayName||e.memberName," "),Ac(),fg("ngIf",e.sortDirection),Ac(),fg("ngIf",i)}}function AJ(e,t){if(1&e){let e=Wg();zg(0),Xu(1,IJ,2,1,"span",44)(2,RJ,8,10,"ng-container",45),Mg(3,"igx-chip",46,7),ep("dragDrop",(function(t){Uo(e),rp();let i=mp(4);return qo(rp().onDimDrop(t,i,0))})),fp(5),Ng(),Bg()}if(2&e){let e=rp(2);Ac(),fg("ngIf",0===e.grid.rowDimensions.length),Ac(),fg("ngForOf",e.grid.rowDimensions),Ac(),fg("hidden",!0),Ac(2),xp(" ",e.grid.resourceStrings.igx_grid_pivot_row_drop_chip," ")}}function kJ(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"div",69,17),ep("igxDragLeave",(function(t){Uo(e);let i=mp(4);return qo(rp().onAreaDragLeave(t,i))}))("dropped",(function(t){Uo(e);let i=mp(4);return qo(rp().onDimDrop(t,i,0))}))("pointerdown",(function(t){return Uo(e),qo(t.preventDefault())})),Mg(3,"igx-chips-area",41,10),Xu(5,AJ,6,4,"ng-container",30),Ng()(),Bg()}if(2&e){let e=rp();Ac(),yg("width",e.grid.pivotRowWidths-1,"px"),Ac(4),fg("ngIf",e.grid.pivotUI.showConfiguration||0===e.grid.rowDimensions.length)}}function OJ(e,t){if(1&e&&(Lg(0,"igx-pivot-row-header-group",72,18),Xp(2,"igxHeaderGroupWidth"),Xp(3,"igxHeaderGroupWidth"),Xp(4,"igxHeaderGroupStyle")),2&e){let e=t.ngIf,i=rp().index,n=rp(2);yg("min-width",Jp(2,10,n.grid.rowDimensionWidthToPixels(n.grid.visibleRowDimensions[i]),n.grid.defaultHeaderGroupMinWidth,n.hasMRL))("flex-basis",Jp(3,14,n.grid.rowDimensionWidthToPixels(n.grid.visibleRowDimensions[i]),n.grid.defaultHeaderGroupMinWidth,n.hasMRL)),fg("ngClass",e.headerGroupClasses)("ngStyle",Jp(4,18,e.headerGroupStyles,e,n.grid.pipeTrigger))("column",e)("rootDimension",n.grid.visibleRowDimensions[i])("dimWidth",n.grid.rowDimensionWidthToPixels(n.grid.visibleRowDimensions[i]))("rowIndex",-1)}}function PJ(e,t){if(1&e&&(zg(0),Xu(1,OJ,5,22,"igx-pivot-row-header-group",71),Bg()),2&e){let e=t.$implicit,i=rp(2);Ac(),fg("ngIf",i.getRowDimensionColumn(e))}}function FJ(e,t){if(1&e&&(zg(0),Mg(1,"div",70),Xu(2,PJ,2,1,"ng-container",45),Ng(),Bg()),2&e){let e=rp();Ac(),yg("width",e.grid.pivotRowWidths-1,"px"),Ac(),fg("ngForOf",e.grid.visibleRowDimensions)}}function VJ(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"igx-grid-header-group",73),Xp(2,"igxHeaderGroupWidth"),Xp(3,"igxHeaderGroupWidth"),Xp(4,"igxHeaderGroupStyle"),ep("pointerdown",(function(t){return Uo(e),qo(rp(2).grid.navigation.focusOutRowHeader(t))})),Ng(),Bg()}if(2&e){let e=t.$implicit,i=rp(2);Ac(),yg("min-width",Jp(2,7,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("flex-basis",Jp(3,11,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL)),fg("ngClass",e.headerGroupClasses)("ngStyle",Jp(4,15,e.headerGroupStyles,e,i.grid.pipeTrigger))("column",e)}}function MJ(e,t){if(1&e&&(zg(0),Xu(1,VJ,5,19,"ng-container",45),Xp(2,"igxTopLevel"),Bg()),2&e){let e=rp();Ac(),fg("ngForOf",Zp(2,1,e.pinnedColumnCollection))}}function NJ(e,t){if(1&e&&(Lg(0,"igx-grid-header-group",76),Xp(1,"igxHeaderGroupWidth"),Xp(2,"igxHeaderGroupWidth"),Xp(3,"igxHeaderGroupStyle")),2&e){let e=t.$implicit,i=rp().index,n=rp();yg("height",n.totalDepth>1?n.calcHeight(e,i):void 0,"px")("min-width",Jp(1,13,e.resolvedWidth,n.grid.defaultHeaderGroupMinWidth,n.hasMRL))("flex-basis",Jp(2,17,e.resolvedWidth,n.grid.defaultHeaderGroupMinWidth,n.hasMRL)),xg("igx-grid__tr-pivot--columnDimensionLeaf",n.isDuplicateOfExistingParent(e,i))("igx-grid__tr-pivot--columnMultiRowSpan",n.isMultiRow(e,i)),fg("ngClass",e.headerGroupClasses)("ngStyle",Jp(3,21,e.headerGroupStyles,e,n.grid.pipeTrigger))("column",e)}}function LJ(e,t){if(1&e&&(Mg(0,"div",74),Xu(1,NJ,4,25,"ng-template",75,19,nm),Ng()),2&e){let e=t.$implicit,i=rp();yg("height",i.totalDepth>1?i.grid.rowHeight:void 0,"px")("width",i.grid.unpinnedWidth,"px"),Ac(),fg("igxGridForOf",e)("igxGridForOfUniqueSizeCache",!0)("igxForScrollContainer",i.grid.parentVirtDir)("igxForContainerSize",i.grid.unpinnedWidth)("igxForTrackBy",i.grid.trackColumnChanges)("igxForSizePropName","calcPixelWidth")("igxForScrollOrientation","horizontal")}}function HJ(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"igx-grid-header-group",73),Xp(2,"igxHeaderGroupWidth"),Xp(3,"igxHeaderGroupWidth"),Xp(4,"igxHeaderGroupStyle"),ep("pointerdown",(function(t){return Uo(e),qo(rp(2).grid.navigation.focusOutRowHeader(t))})),Ng(),Bg()}if(2&e){let e=t.$implicit,i=rp(2);Ac(),yg("min-width",Jp(2,9,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("flex-basis",Jp(3,13,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("left",e.rightPinnedOffset),fg("ngClass",e.headerGroupClasses)("ngStyle",Jp(4,17,e.headerGroupStyles,e,i.grid.pipeTrigger))("column",e)}}function zJ(e,t){if(1&e&&(zg(0),Xu(1,HJ,5,21,"ng-container",45),Xp(2,"igxTopLevel"),Bg()),2&e){let e=rp();Ac(),fg("ngForOf",Zp(2,1,e.pinnedColumnCollection))}}function BJ(e,t){if(1&e&&(Mg(0,"igx-drop-down-item",77),fp(1),Ng()),2&e){let e=t.$implicit;fg("selected",rp().isSelected(e))("value",e),Ac(),xp(" ",e.label," ")}}function GJ(e,t){if(1&e){let e=Wg();Mg(0,"igx-chip",78),ep("remove",(function(t){return Uo(e),qo(rp().filterRemoved(t))}))("chipClick",(function(t){return Uo(e),qo(rp().onFiltersSelectionChanged(t))})),fp(1),Ng()}if(2&e){let e=t.$implicit,i=rp();fg("id",e.memberName)("removable",!0)("selectable",!0)("selected",e===i.filterDropdownDimensions.values().next().value),Ac(),xp(" ",e.displayName||e.memberName," ")}}function $J(e,t){if(1&e){let e=Wg();Mg(0,"igx-chip",79),ep("remove",(function(t){return Uo(e),qo(rp().filterRemoved(t))})),Lg(1,"igx-icon",80),fp(2),Ng()}if(2&e){let e=t.$implicit;fg("id",e.memberName)("draggable",!0)("removable",!0),Ac(2),xp(" ",e.displayName||e.memberName," ")}}function WJ(e,t){if(1&e&&fp(0),2&e){let e=t.$implicit;wp(" ",e.aggregate.key,"(",e.displayName||e.member,")\n")}}var KJ=(()=>{let e=class extends lj{get headerForOf(){return this.headerContainers?.last}constructor(e,t,i,n){super(t,i),this.grid=e,this.renderer=n,this.aggregateList=[],this.filterDropdownDimensions=new Set,this.filterAreaDimensions=new Set,this._dropPos=NM.AfterDropTarget,this._subMenuPositionSettings={verticalStartPoint:PE.Bottom,closeAnimation:void 0},this._subMenuOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new GE(this._subMenuPositionSettings),scrollStrategy:new XE},this.columnDimensionsByLevel=[[]]}get isFiltersButton(){let e=0;if(this.filterDropdownDimensions.clear(),this.filterAreaDimensions.clear(),this.filterArea?.chipsList&&0!==this.filterArea.chipsList.length){let t=getComputedStyle(this.pivotFilterContainer.nativeElement),i=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight);return e+=i+(this.filtersButton&&this.filterArea?.chipsList.length>1?this.filtersButton.el.nativeElement.getBoundingClientRect().width:0),this.filterArea.chipsList.forEach((t=>{let i=this.grid.filterDimensions.find((e=>e.memberName===t.id));if(i){let n=t.nativeElement.getBoundingClientRect().width+8;e+n<this.grid.pivotRowWidths?this.filterAreaDimensions.add(i):this.filterDropdownDimensions.add(i),e+=n}})),this.filterDropdownDimensions.size>0}return!1}get totalDepth(){let e=this.grid.columnDimensions;if(0===e.length)return 1;let t=e.map((e=>wO.getDimensionDepth(e)+1)).reduce(((e,t)=>e+t));return this.grid.hasMultipleValues&&(t+=1),t}get maxContainerHeight(){return this.totalDepth*this.grid.renderedRowHeight}calcHeight(e,t){return!e.columnGroup&&e.level<this.totalDepth&&e.level===t?(this.totalDepth-e.level)*this.grid.rowHeight:this.grid.rowHeight}isDuplicateOfExistingParent(e,t){return-1!==(t>0?this.columnDimensionsByLevel[t-1]:[]).indexOf(e)}isMultiRow(e,t){return!e.columnGroup&&t!==this.totalDepth-1}populateColumnDimensionsByLevel(){let e=[];for(let t=0;t<this.totalDepth;t++)e[t]=[];let t=this.unpinnedColumnCollection;this.populateDimensionRecursively(t.filter((e=>0===e.level)),0,e),this.columnDimensionsByLevel=e}populateDimensionRecursively(e,t=0,i){e.forEach((e=>{if(i[t])if(i[t].push(e),e.columnGroup&&e.children.length>0){let n=e.children.toArray().filter((e=>!e.hidden));this.populateDimensionRecursively(n,t+1,i)}else if(t<this.totalDepth-1)for(let n=t+1;n<=this.totalDepth-1;n++)i[n].push(e)}))}ngOnChanges(e){e.unpinnedColumnCollection&&this.populateColumnDimensionsByLevel()}onDimDragStart(e,t){this.cdr.detectChanges();for(let e of this.notificationChips){let i=e.nativeElement.parentElement;-1===t.chipsList.toArray().indexOf(e)&&i.children.length>0&&"empty"!==i.children.item(0).id&&(e.nativeElement.hidden=!1,i.parentElement.scrollTo({left:e.nativeElement.offsetLeft}))}}onDimDragEnd(){for(let e of this.notificationChips)e.nativeElement.hidden=!0}getAreaHeight(e){let t=e.chipsList;return t&&t.length>0?t.first.nativeElement.offsetHeight:0}rowRemoved(e){let t=this.grid.pivotConfiguration.rows.find((t=>t.memberName===e.owner.id));this.grid.toggleDimension(t)}columnRemoved(e){let t=this.grid.pivotConfiguration.columns.find((t=>t.memberName===e.owner.id));this.grid.toggleDimension(t)}valueRemoved(e){let t=this.grid.pivotConfiguration.values.find((t=>t.member===e.owner.id||t.displayName===e.owner.id));this.grid.toggleValue(t)}filterRemoved(e){let t=this.grid.pivotConfiguration.filters.find((t=>t.memberName===e.owner.id));this.grid.toggleDimension(t),this.filterDropdownDimensions.size>0?this.onFiltersAreaDropdownClick({target:this.filtersButton.el.nativeElement},void 0,!1):this.grid.filteringService.hideESF()}onFiltersSelectionChanged(e){this.dropdownChips.chipsList.forEach((t=>{t.id!==e.owner.id&&(t.selected=!1)})),this.onFiltersAreaDropdownClick({target:this.filtersButton.el.nativeElement},this.grid.filterDimensions.find((t=>t.memberName===e.owner.id)),!1)}onFilteringIconPointerDown(e){e.stopPropagation(),e.preventDefault()}onFilteringIconClick(e,t){e.stopPropagation(),e.preventDefault();let i=t,n=this.grid.dimensionDataColumns.find((e=>e.field===i.memberName||e.field===i.member));this.grid.filteringService.toggleFilterDropdown(e.target,n)}onSummaryClick(e,t,i,n){this._subMenuOverlaySettings.target=e.currentTarget,this.updateDropDown(t,i,n)}onFiltersAreaDropdownClick(e,t,i=!0){let n=t||this.filterDropdownDimensions.values().next().value,r=this.grid.dimensionDataColumns.find((e=>e.field===n.memberName||e.field===n.member));i&&(this.dropdownChips.chipsList.forEach((e=>{e.selected=!1})),this.dropdownChips.chipsList.first.selected=!0),this.grid.filteringService.toggleFiltersESF(this.esf,e.target,r,i)}onAggregationChange(e){this.isSelected(e.newSelection.value)||(this.value.aggregate=e.newSelection.value,this.grid.pipeTrigger++)}isSelected(e){return this.value.aggregate.key===e.key}onChipSort(e,t){if(void 0===t.sortable||t.sortable){let e=t.sortDirection||LC.None,i=e+1>LC.Desc?LC.None:e+1;this.grid.sortDimension(t,i)}}onDimDragOver(e,t){if(!e.dragChip||!e.dragChip.data?.pivotArea||(void 0!==t?this.grid.pivotConfiguration.values.find((t=>t.member===e.dragChip.id||t.displayName===e.dragChip.id)):!this.grid.pivotConfiguration.values.find((t=>t.member===e.dragChip.id||t.displayName===e.dragChip.id))))return;let i=e.owner.nativeElement.getBoundingClientRect().width/2;this._dropPos=e.originalEvent.offsetX>i?NM.AfterDropTarget:NM.BeforeDropTarget,this._dropPos===NM.AfterDropTarget?(e.owner.nativeElement.previousElementSibling.style.visibility="hidden",e.owner.nativeElement.nextElementSibling.style.visibility=""):(e.owner.nativeElement.nextElementSibling.style.visibility="hidden",e.owner.nativeElement.previousElementSibling.style.visibility="")}onDimDragLeave(e){e.owner.nativeElement.previousElementSibling.style.visibility="hidden",e.owner.nativeElement.nextElementSibling.style.visibility="hidden",this._dropPos=NM.AfterDropTarget}onAreaDragLeave(e,t){t.chipsList.toArray().filter((e=>-1===this.notificationChips.toArray().indexOf(e))).forEach((e=>{e.nativeElement.previousElementSibling&&(e.nativeElement.previousElementSibling.style.visibility="hidden"),e.nativeElement.nextElementSibling&&(e.nativeElement.nextElementSibling.style.visibility="hidden")}))}onValueDrop(e,t){if(!(e.dragChip&&e.dragChip.data?.pivotArea||e.dragData?.chip&&e.dragData.chip.data.pivotArea))return;let i=this.grid.pivotConfiguration.values,n=e.dragChip?.id||e.dragData?.chip.id,r=t.chipsList.toArray(),s=-1!==r.indexOf(e.owner)?r.indexOf(e.owner):r.length;s=this._dropPos===NM.AfterDropTarget?s+1:s;let o=i.find((e=>e.member===n||e.displayName===n));if(o){let t=r.indexOf(e.dragChip||e.dragData.chip);this.grid.moveValue(o,t>=s?s:s-1)}}onDimDrop(e,t,i){if(!(e.dragChip&&e.dragChip.data?.pivotArea||e.dragData?.chip&&e.dragData.chip.data.pivotArea))return;let n=e.dragChip?.id||e.dragData?.chip.id,r=this.grid.getDimensionsByType(i),s=void 0===t.chipsList.toArray().find((e=>e.id===n)),o=void 0!==e.owner.id,a=-1!==r.findIndex((t=>t.memberName===e.owner.id))?r.findIndex((t=>t.memberName===e.owner.id)):r.length,l=this._dropPos===NM.AfterDropTarget?a+1:a;if(s){let e=this.grid.allDimensions.find((e=>e&&e.memberName===n));if(!e)return;this.grid.moveDimension(e,i,l)}else if(o){let e=r.find((e=>e.memberName===n)),t=r.findIndex((e=>e.memberName===n));this.grid.moveDimension(e,i,t>a?l:l-1)}this.grid.pipeTrigger++,this.grid.dimensionsChange.emit({dimensions:r,dimensionCollectionType:i}),this.onDimDragEnd(),this.onAreaDragLeave(e,t)}updateDropDown(e,t,i){this.value=e,t.width=i.nativeElement.clientWidth+"px",this.aggregateList=wO.getAggregateList(e,this.grid),this.cdr.detectChanges(),t.open(this._subMenuOverlaySettings)}getRowDimensionColumn(e){return this.grid.dimensionDataColumns?this.grid.dimensionDataColumns.find((t=>t.field===e.memberName)):null}};return e.ɵfac=function(t){return new(t||e)(Oc(nO),Oc(Nl),Oc(Pm),Oc(qh))},e.ɵcmp=es({type:e,selectors:[["igx-pivot-header-row"]],viewQuery:function(e,t){if(1&e&&(up(jQ,5),up(UQ,5),up(qQ,5),up(YQ,5),up(XQ,5),up(ZQ,5),up(QQ,5),up(JQ,5,dA),up(eJ,5)),2&e){let e;gp(e=pp())&&(t.esf=e.first),gp(e=pp())&&(t.filterArea=e.first),gp(e=pp())&&(t.filtersButton=e.first),gp(e=pp())&&(t.dropdownChips=e.first),gp(e=pp())&&(t.pivotFilterContainer=e.first),gp(e=pp())&&(t.pivotRowContainer=e.first),gp(e=pp())&&(t.notificationChips=e),gp(e=pp())&&(t.headerContainers=e),gp(e=pp())&&(t.rowDimensionHeaders=e)}},standalone:!0,features:[Ru,yo,Pp],decls:37,vars:31,consts:[["dropdown",""],["esf",""],["dropdownChips",""],["filterAreaHidden",""],["valueChipDefaultTemplate",""],["pivotFilterContainer",""],["filterArea",""],["notifyChip",""],["filterIcon",""],["pivotRowContainer",""],["rowArea",""],["pivotColumnContainer",""],["colArea",""],["pivotValueContainer",""],["valueArea",""],["notifyValueChip",""],["currChip",""],["pivotContainer",""],["rowDimensionHeaders",""],["headerVirtualContainer",""],["role","row",1,"igx-grid-thead__wrapper","igx-grid-thead__wrapper--pivot"],["role","row",1,"igx-grid__tr"],[1,"igx-grid__tr-pivot--filter-container"],["class","igx-grid__tr-pivot igx-grid__tr-pivot--filter","igxDrop","",3,"min-width","max-width","igxDragLeave","dropped","pointerdown",4,"ngIf"],[1,"igx-grid__tr-pivot--drop-row-area"],["class","igx-grid__tr-pivot igx-grid__tr-pivot--small-row-area","igxDrop","",3,"width","igxDragLeave","dropped",4,"ngIf"],[1,"igx-grid__tr-pivot-group"],["class","igx-grid__tr-pivot","igxDrop","",3,"dropped","igxDragLeave",4,"ngIf"],["class","igx-grid__tr-pivot","igxDrop","",3,"pointerdown","dropped","igxDragLeave",4,"ngIf"],["role","rowgroup",1,"igx-grid-thead__wrapper"],[4,"ngIf"],[1,"igx-grid-thead--virtualizationWrapper",3,"click"],["class","igx-grid-thead__group igx-grid-thead--virtualizationContainer",3,"height","width",4,"ngFor","ngForOf"],[1,"igx-grid-thead__thumb",3,"hidden"],[3,"selectionChanging"],[3,"selected","value",4,"ngFor","ngForOf"],[3,"hidden"],[3,"maxHeight","minHeight"],["igxExcelStyleColumnOperations",""],[3,"id","removable","selectable","selected","remove","chipClick",4,"ngFor","ngForOf"],[2,"visibility","hidden","position","absolute","top","-10000px"],["droppable","true"],[3,"id","draggable","removable","remove",4,"ngFor","ngForOf"],["igxDrop","",1,"igx-grid__tr-pivot","igx-grid__tr-pivot--filter",3,"igxDragLeave","dropped","pointerdown"],["id","empty","igxDrop","","class","igx-grid__pivot-empty-chip-area",3,"dropped",4,"ngIf"],[4,"ngFor","ngForOf"],["igxDrop","",3,"dragDrop","hidden"],["class","igx-grid__pivot-filter-toggle",4,"ngIf"],["id","empty","igxDrop","",1,"igx-grid__pivot-empty-chip-area",3,"dropped"],[1,"igx-grid__tr-pivot--chip_drop_indicator"],[3,"remove","dragOver","dragLeave","dragDrop","moveStart","moveEnd","id","draggable","data","removable"],["family","default","name","filter_list","igxPrefix","",3,"pointerdown","click"],[1,"igx-grid__pivot-filter-toggle"],["family","default","name","filter_list",3,"pointerdown","click"],[3,"value"],["igxDrop","",1,"igx-grid__tr-pivot","igx-grid__tr-pivot--small-row-area",3,"igxDragLeave","dropped"],[3,"remove","dragLeave","dragDrop","dragOver","moveStart","moveEnd","click","draggable","id","data","removable"],["igxPrefix","","family","default","name","table_rows"],["family","default","igxSuffix","",3,"name",4,"ngIf"],["family","default","igxSuffix","",3,"name"],["igxDrop","",1,"igx-grid__tr-pivot",3,"dropped","igxDragLeave"],[3,"remove","dragOver","dragLeave","dragDrop","moveStart","moveEnd","click","draggable","id","data","removable"],["family","default","name","view_column","igxPrefix",""],["igxDrop","",1,"igx-grid__tr-pivot",3,"pointerdown","dropped","igxDragLeave"],[3,"remove","dragLeave","dragOver","dragDrop","draggable","id","data","removable"],["igxPrefix","",1,"igx-grid__tr-pivot-toggle-icons",3,"click","pointerdown","igxDropDownItemNavigation"],["family","default","name","functions"],["family","default","name","arrow_drop_down"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["igxDrop","",1,"igx-grid__tr-pivot","igx-grid__tr-pivot--row-area",3,"igxDragLeave","dropped","pointerdown"],["role","row",1,"igx-grid__tr","igx-grid__tr-header-row"],[3,"ngClass","ngStyle","min-width","flex-basis","column","rootDimension","dimWidth","rowIndex",4,"ngIf"],[3,"ngClass","ngStyle","column","rootDimension","dimWidth","rowIndex"],[3,"pointerdown","ngClass","ngStyle","column"],[1,"igx-grid-thead__group","igx-grid-thead--virtualizationContainer"],["igxGridFor","",3,"igxGridForOf","igxGridForOfUniqueSizeCache","igxForScrollContainer","igxForContainerSize","igxForTrackBy","igxForSizePropName","igxForScrollOrientation"],[3,"ngClass","ngStyle","column"],[3,"selected","value"],[3,"remove","chipClick","id","removable","selectable","selected"],[3,"remove","id","draggable","removable"],["family","default","name","filter_list","igxPrefix",""]],template:function(e,t){if(1&e){let e=Wg();Mg(0,"div")(1,"div",20)(2,"div",21)(3,"div",22),Xu(4,cJ,10,9,"div",23),Mg(5,"div",24),Xu(6,mJ,9,6,"div",25),Ng()(),Mg(7,"div",26),Xu(8,wJ,9,4,"div",27)(9,DJ,9,4,"div",28),Ng()()(),Mg(10,"div",29)(11,"div",21),Xu(12,kJ,6,3,"ng-container",30)(13,FJ,3,3,"ng-container",30)(14,MJ,3,3,"ng-container",30),Mg(15,"div",31),ep("click",(function(i){return Uo(e),qo(t.grid.navigation.focusOutRowHeader(i))})),Xu(16,LJ,3,11,"div",32),Ng(),Xu(17,zJ,3,3,"ng-container",30),Ng()()(),Lg(18,"div",33),Mg(19,"igx-drop-down",34,0),ep("selectionChanging",(function(i){return Uo(e),qo(t.onAggregationChange(i))})),Xu(21,BJ,2,3,"igx-drop-down-item",35),Ng(),Mg(22,"div",36)(23,"igx-grid-excel-style-filtering",37,1)(25,"div",38)(26,"igx-chips-area",null,2),Xu(28,GJ,2,5,"igx-chip",39),Ng()(),Mg(29,"igx-excel-style-filter-operations"),Lg(30,"igx-excel-style-search"),Ng()()(),Mg(31,"div",40)(32,"igx-chips-area",41,3),Xu(34,$J,3,4,"igx-chip",42),Ng()(),Xu(35,WJ,1,2,"ng-template",null,4,nm)}2&e&&(Ac(),yg("width",t.width,"px"),Ac(),yg("width",t.width,"px"),Ac(2),fg("ngIf",t.grid.pivotUI.showConfiguration),Ac(2),fg("ngIf",t.grid.pivotUI.showConfiguration&&t.grid.pivotUI.showRowHeaders),Ac(2),fg("ngIf",t.grid.pivotUI.showConfiguration),Ac(),fg("ngIf",t.grid.pivotUI.showConfiguration),Ac(),yg("width",t.width,"px"),xg("igx-grid__tr--mrl",t.hasMRL),tg("aria-activedescendant",t.activeDescendant),Ac(),yg("width",t.width,"px"),Ac(),fg("ngIf",!t.grid.pivotUI.showRowHeaders||0===t.grid.rowDimensions.length),Ac(),fg("ngIf",t.grid.pivotUI.showRowHeaders&&t.grid.visibleRowDimensions.length>0),Ac(),fg("ngIf",t.pinnedColumnCollection.length&&t.grid.isPinningToStart),Ac(),yg("max-height",t.maxContainerHeight,"px"),Ac(),fg("ngForOf",t.columnDimensionsByLevel),Ac(),fg("ngIf",t.pinnedColumnCollection.length&&!t.grid.isPinningToStart),Ac(),yg("width",t.grid.scrollSize,"px"),fg("hidden",!t.grid.hasVerticalScroll()),Ac(3),fg("ngForOf",t.aggregateList),Ac(),fg("hidden",!0),Ac(),fg("maxHeight",t.grid.excelStyleFilterMaxHeight)("minHeight",t.grid.excelStyleFilterMinHeight),Ac(5),fg("ngForOf",t.filterDropdownDimensions),Ac(6),fg("ngForOf",t.grid.filterDimensions))},dependencies:[cv,WR,WV,lv,GV,FT,vT,gP,yT,lT,yv,VW,av,vv,dA,Hk,Pk,h$,d$,c$,GG,E$,T$,IK,KQ],encapsulation:2,changeDetection:0}),e})(),jJ=(()=>{let e=class e{static instance(){return this._instance||(this._instance=new e)}process(e,t,i){return e}};return e._instance=null,e})(),UJ=(()=>{let e=class e{static instance(){return this._instance||(this._instance=new e)}process(e,t,i,n,r=fO){let s,o,a=[],l=lC(t,!0);if(wO.assignLevels(l),0===l.length)return s=wO.getFieldsHierarchy(e,[{memberName:"",enabled:!0}],vO.Row,r,n),o=wO.processHierarchy(s,r,0,!0),o;for(let t of l)o?wO.processGroups(o,t,r,n):(s=wO.getFieldsHierarchy(e,[t],vO.Row,r,n),o=wO.processHierarchy(s,r,0,!0),a.push(t));return o}};return e._instance=null,e})(),qJ=(()=>{let e=class e{static instance(){return this._instance||(this._instance=new e)}process(e,t,i,n,r=fO){return this.processHierarchy(e,t,i,r,n)}processHierarchy(e,t,i,n,r){let s=[];return e.forEach((e=>{this.groupColumns(e,t,i,n,r),s.push(e)})),s}groupColumns(e,t,i,n,r){let s=e.children;s&&s.size>0&&s.forEach((e=>{e&&e.forEach((e=>{this.groupColumns(e,t,i,n,r)}))})),this.applyAggregates(e,t,i,n,r)}applyAggregates(e,t,i,n,r){let s=this.getLeafs(e.records,n),o=wO.getFieldsHierarchy(s,t,vO.Column,n,r);wO.applyAggregations(e,o,i,n)}getLeafs(e,t){let i=[];for(let n of e)n[t.records]?i=i.concat(this.getLeafs(n[t.records],t)):i.push(n);return i}};return e._instance=null,e})(),YJ=class extends aS{constructor(e){super(),this.fields=e}getFieldValue(e,t,i=!1,n=!1,r){let s=r.allDimensions.filter((e=>e&&e.enabled)),o=wO.flatten(s).find((e=>e.memberName===t));return o.childLevel?this._getDimensionValueHierarchy(o,e).map((e=>"["+e+"]")).join("."):wO.extractValueFromDimension(o,e)}getFilterItems(e,t){let i=e.grid,n=i.allDimensions.filter((e=>e&&e.enabled)),r=e.grid.gridAPI.filterDataByExpressions(t),s=n.find((t=>t.memberName===e.field)),o=wO.getFieldsHierarchy(r,[s],vO.Column,i.pivotKeys,i.pivotValueCloneStrategy),a=i.pivotConfiguration.columnStrategy instanceof jJ||i.pivotConfiguration.rowStrategy instanceof jJ?[{value:""}]:this._getFilterItems(o,i.pivotKeys);return Promise.resolve(a)}_getFilterItems(e,t){let i=[];return e.forEach((e=>{let n=e.value,r=n.split(t.columnDimensionSeparator),s=r.length>1?r.map((e=>"["+e+"]")).join("."):n,o=r[r.length-1];i.push({value:s,label:o,children:this._getFilterItems(e.children,t)})})),i}_getDimensionValueHierarchy(e,t){let i=[],n=wO.extractValueFromDimension(e,t);if(i.push(n),e.childLevel){let n=this._getDimensionValueHierarchy(e.childLevel,t);i=i.concat(n)}return i}},XJ=(()=>{let e=class e extends GU{constructor(){super(...arguments),this.isRowHeaderActive=!1,this.isRowDimensionHeaderActive=!1}get lastRowDimensionsIndex(){return this.grid.visibleRowDimensions.length-1}get lastRowDimensionMRLRowIndex(){return this.grid.verticalRowDimScrollContainers.first.igxGridForOf.length-1}focusOutRowHeader(){this.isRowHeaderActive=!1,this.isRowDimensionHeaderActive=!1}handleNavigation(t){return Ge(this,null,(function*(){if(this.isRowHeaderActive){let e=t.key.toLowerCase(),i=t.ctrlKey;if(!DC.has(e))return;t.preventDefault();let n,r={row:this.activeNode.row,column:this.activeNode.column,level:null,mchCache:null,layout:this.activeNode.layout};if(t.altKey)return void this.handleAlt(e,t);if(this.grid.hasHorizontalLayout){let t={row:this.activeNode.row,column:this.activeNode.column,layout:this.activeNode.layout};n=this.grid.verticalRowDimScrollContainers.first,e.includes("left")&&(t=yield this.getNextHorizontalPosition(!0,i)),e.includes("right")&&(t=yield this.getNextHorizontalPosition(!1,i)),(e.includes("up")||"home"===e)&&(t=yield this.getNextVerticalPosition(!0,i||"home"===e,"home"===e)),(e.includes("down")||"end"===e)&&(t=yield this.getNextVerticalPosition(!1,i||"end"===e,"end"===e)),r.row=t.row,r.column=t.column,r.layout=t.layout}else if((e.includes("left")||"home"===e)&&this.activeNode.column>0&&(r.column=i||"home"===e?0:this.activeNode.column-1),(e.includes("right")||"end"===e)&&this.activeNode.column<this.lastRowDimensionsIndex&&(r.column=i||"end"===e?this.lastRowDimensionsIndex:this.activeNode.column+1),n=this.grid.verticalRowDimScrollContainers.toArray()[r.column],e.includes("up")&&(i?r.row=0:this.activeNode.row>0?r.row=this.activeNode.row-1:(r.row=-1,r.column=r.layout?r.layout.colStart-1:0,r.layout=null,this.isRowDimensionHeaderActive=!0,this.isRowHeaderActive=!1,this.grid.theadRow.nativeElement.focus())),e.includes("down")&&this.activeNode.row<this.findLastDataRowIndex()&&(r.row=i?n.igxForOf.length-1:Math.min(this.activeNode.row+1,n.igxForOf.length-1)),e.includes("left")||e.includes("right")){let e=this.activeNode.row,t=this.grid.verticalRowDimScrollContainers.toArray()[this.activeNode.column].getScrollForIndex(e);r.row=this.activeNode.mchCache&&this.activeNode.mchCache.level===r.column?this.activeNode.mchCache.visibleIndex:n.getIndexAtScroll(t),r.mchCache={visibleIndex:this.activeNode.row,level:this.activeNode.column}}this.setActiveNode(r),!this.grid.hasHorizontalLayout&&n.isIndexOutsideView(r.row)&&n.scrollTo(r.row)}else Be(e.prototype,this,"handleNavigation").call(this,t)}))}handleAlt(e,t){let i,n;t.preventDefault(),this.grid.hasHorizontalLayout?(i=this.grid.rowDimensionMrlRowsCollection.find((e=>e.rowIndex===this.activeNode.row)).rowGroup[this.activeNode.layout.rowStart-1],n=this.activeNode.layout.colStart-1):(n=this.activeNode.column,i=this.grid.verticalRowDimScrollContainers.toArray()[n].igxGridForOf[this.activeNode.row]);let r,s=this.grid.visibleRowDimensions[n],o=wO.getRecordKey(i,s),a=this.grid.expansionStates.get(o)??!0;if(this.grid.hasHorizontalLayout){let e=this.grid.rowDimensionMrlRowsCollection.find((e=>e.rowIndex===this.activeNode.row));r=this.getNextVerticalColumnIndex(e,Math.min(e.rowGroup.length,this.activeNode.layout.rowStart),this.activeNode.layout.colStart)}_C.has(e)&&!a?this.grid.gridAPI.set_row_expansion_state(o,!0,t):CC.has(e)&&a&&this.grid.gridAPI.set_row_expansion_state(o,!1,t),(_C.has(e)&&!a||CC.has(e)&&a)&&this.onRowToggle(!a,s,i,r),this.updateActiveNodeLayout(),this.grid.notifyChanges()}updateActiveNodeLayout(){if(this.grid.hasHorizontalLayout){let e=this.grid.rowDimensionMrlRowsCollection.find((e=>e.rowIndex===this.activeNode.row)).contentCells.toArray()[this.activeNode.column];this.activeNode.layout=e.layout}}onRowToggle(e,t,i,n){if(this.grid.hasHorizontalLayout&&i.totalRecordDimensionName!==t.memberName&&t.horizontalSummary&&this.grid.pivotUI.horizontalSummariesPosition===xO.Top){let t=Math.min(this.lastRowDimensionMRLRowIndex,this.activeNode.row),i=this.grid.rowDimensionMrlRowsCollection.find((e=>e.rowIndex===t)),r=i.rowGroup.length+1,s=Math.max(1,this.activeNode.layout.rowStart+(e?1:-1)),o=Math.min(i.rowGroup.length,s),a=this.getNextVerticalColumnIndex(i,o,this.activeNode.layout.colStart),l=!e&&1===n.rowStart||e&&n.rowEnd>=r;this.activeNode.row+=l?e?1:-1:0,this.activeNode.column=a.columnVisibleIndex,this.activeNode.layout=a}}headerNavigation(t){return Ge(this,null,(function*(){let i=t.key.toLowerCase(),n=t.ctrlKey;if(DC.has(i))if(this.isRowDimensionHeaderActive){t.preventDefault();let e={row:this.activeNode.row,column:this.activeNode.column,level:null,mchCache:this.activeNode.mchCache,layout:null};if(n){let e=this.activeNode.column,t=this.grid.visibleRowDimensions[e];if(-1===this.activeNode.row&&(i.includes("down")||i.includes("up"))){let e=LC.None;return i.includes("down")?e=t.sortDirection===LC.Desc?LC.None:LC.Desc:i.includes("up")&&(e=t.sortDirection===LC.Asc?LC.None:LC.Asc),void this.grid.sortDimension(t,e)}}if((i.includes("left")||"home"===i)&&this.activeNode.column>0&&(e.column=n||"home"===i?0:this.activeNode.column-1),(i.includes("right")||"end"===i)&&this.activeNode.column<this.lastRowDimensionsIndex?e.column=n||"end"===i?this.lastRowDimensionsIndex:this.activeNode.column+1:i.includes("right")&&(this.isRowDimensionHeaderActive=!1,e.column=0,e.level=this.activeNode.mchCache?.level||0,e.mchCache=this.activeNode.mchCache||{level:0,visibleIndex:0}),i.includes("down")){if(this.grid.hasHorizontalLayout){this.activeNode.row=0,this.activeNode.layout={rowStart:1,rowEnd:2,colStart:e.column+1,colEnd:e.column+2,columnVisibleIndex:e.column};let t=yield this.getNextVerticalPosition(!0,n||"home"===i,"home"===i);e.row=0,e.column=t.column,e.layout=t.layout}else{let t=this.grid.verticalRowDimScrollContainers.toArray()[e.column];e.row=n?t.igxForOf.length-1:0}this.isRowDimensionHeaderActive=!1,this.isRowHeaderActive=!0,this.grid.rowDimensionContainer.toArray()[this.grid.hasHorizontalLayout?0:e.column].nativeElement.focus()}this.setActiveNode(e)}else if(i.includes("left")&&0===this.activeNode.column&&this.grid.pivotUI.showRowHeaders){this.isRowDimensionHeaderActive=!0;let e={row:this.activeNode.row,column:this.lastRowDimensionsIndex,level:null,mchCache:this.activeNode.mchCache,layout:null};this.setActiveNode(e)}else Be(e.prototype,this,"headerNavigation").call(this,t)}))}focusTbody(e){this.activeNode&&null!==this.activeNode.row&&void 0!==this.activeNode.row?super.focusTbody(e):this.activeNode=this.lastActiveNode}getNextVerticalPosition(e,t,i){return Ge(this,null,(function*(){let n=this.grid.rowDimensionMrlRowsCollection.find((e=>e.rowIndex===this.activeNode.row)),r=n.rowGroup.length+1,s=Math.min(n.rowGroup.length,this.activeNode.layout.rowStart),o=this.getNextVerticalColumnIndex(n,s,this.activeNode.layout.colStart),a=e&&1===o.rowStart||!e&&o.rowEnd===r;if(a&&(e&&0===this.activeNode.row||!e&&this.activeNode.row===this.lastRowDimensionMRLRowIndex))return e&&this.grid.pivotUI.showRowHeaders?(this.isRowDimensionHeaderActive=!0,this.isRowHeaderActive=!1,this.grid.theadRow.nativeElement.focus(),{row:-1,column:this.activeNode.layout.colStart-1,layout:this.activeNode.layout}):{row:this.activeNode.row,column:this.activeNode.column,layout:this.activeNode.layout};let l=e?t?0:this.activeNode.row-1:t?this.lastRowDimensionMRLRowIndex:this.activeNode.row+1,d=a||t?this.grid.rowDimensionMrlRowsCollection.find((e=>e.rowIndex===l)):n;if(!d){let i=e?t?0:n.rowGroup[o.rowStart-1].dataIndex-1:t?this.grid.dataView.length-1:n.rowGroup[o.rowEnd-2].dataIndex+1;yield this.scrollToNextHorizontalDimRow(i),d=a||t?this.grid.rowDimensionMrlRowsCollection.find((e=>e.rowIndex===l)):n}let c=a?e?d.rowGroup.length:1:e?o.rowStart-1:o.rowEnd,h=Math.max(...d.contentCells.map((e=>e.layout.colEnd))),u=this.getNextVerticalColumnIndex(d,t?e?1:d.rowGroup.length:c,i?e?1:h-1:this.activeNode.layout.colStart),g=e?d.rowGroup[u.rowStart-1].dataIndex:d.rowGroup[u.rowEnd-2].dataIndex;return yield this.scrollToNextHorizontalDimRow(g),{row:a||t?l:this.activeNode.row,column:u.columnVisibleIndex,layout:{rowStart:u.rowStart,rowEnd:u.rowEnd,colStart:i?u.colStart:this.activeNode.layout.colStart,colEnd:u.colEnd,columnVisibleIndex:u.columnVisibleIndex}}}))}getNextHorizontalPosition(e,t){return Ge(this,null,(function*(){let i=this.grid.rowDimensionMrlRowsCollection.find((e=>e.rowIndex===this.activeNode.row)),n=Math.max(...i.contentCells.map((e=>e.layout.colEnd))),r=this.getNextVerticalColumnIndex(i,this.activeNode.layout.rowStart,this.activeNode.layout.colStart);if(e&&1===r.colStart||!e&&r.colEnd===n)return{row:this.activeNode.row,column:this.activeNode.column,layout:this.activeNode.layout};let s=r.colStart+(e?-1:r.colEnd-r.colStart),o=this.getNextVerticalColumnIndex(i,this.activeNode.layout.rowStart,t?e?1:n-1:s),a=i.rowGroup[o.rowStart-1].dataIndex;return yield this.scrollToNextHorizontalDimRow(a),{row:this.activeNode.row,column:o.columnVisibleIndex,layout:{rowStart:this.activeNode.layout.rowStart,rowEnd:o.rowEnd,colStart:o.colStart,colEnd:o.colEnd,columnVisibleIndex:o.columnVisibleIndex}}}))}scrollToNextHorizontalDimRow(e){return Ge(this,null,(function*(){let t=this.grid.verticalScrollContainer;t.isIndexOutsideView(e)&&(t.scrollTo(e),yield new Promise((e=>{this.grid.gridScroll.pipe(dn(1),function(e,t){let{first:i,each:n,with:r=zi,scheduler:s=t??ci,meta:o=null}=Li(e)?{first:e}:"number"==typeof e?{each:e}:e;if(null==i&&null==n)throw new TypeError("No timeout provided.");return Yt(((e,t)=>{let a,l,d=null,c=0,h=e=>{l=Oi(t,s,(()=>{try{a.unsubscribe(),Ai(r({meta:o,lastValue:d,seen:c})).subscribe(t)}catch(e){t.error(e)}}),e)};a=e.subscribe(Xt(t,(e=>{l?.unsubscribe(),c++,t.next(d=e),n>0&&h(n)}),void 0,void 0,(()=>{l?.closed||l?.unsubscribe(),d=null}))),!c&&h(null!=i?"number"==typeof i?i:+i-s.now():n)}))}({first:1e4})).subscribe({next:t=>e(t),error:t=>e(t)})})))}))}getNextVerticalColumnIndex(e,t,i){return e.contentCells.find((e=>e.layout.rowStart<=t&&t<e.layout.rowEnd&&e.layout.colStart<=i&&i<e.layout.colEnd)).layout}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),ZJ=(()=>{let e=class extends j${clearFilter(e){this.clear_filter(e)}clear_filter(e){super.clear_filter(e);let t=this.grid,i=t.allDimensions,n=wO.flatten(i).find((t=>t.memberName===e));n.filter=void 0,t.filteringPipeTrigger++,-1!==i.indexOf(n)&&t.setupColumns()}filter_internal(e,t,i,n){super.filter_internal(e,t,i,n);let r=this.grid,s=r.pivotConfiguration,o=wO.flatten(s.rows.concat(s.columns).concat(s.filters).filter((e=>null!=e))),a=o.filter((e=>e&&e.enabled)).find((t=>t.memberName===e||t.member===e)),l=a.filter||new iS(nS.And),d=l.findIndex(e);d>-1&&l.filteringOperands.splice(d,1),this.prepare_filtering_expression(l,e,t,i,n,d),a.filter=l,r.filteringPipeTrigger++,r.filterStrategy=r.filterStrategy??new YJ,-1!==o.indexOf(a)&&r.setupColumns()}toggleFiltersESF(e,t,i,n){let r=i.filteringExpressionsTree?"igx-excel-filter__icon--filtered":"igx-excel-filter__icon",s=t.querySelector(`.${r}`)||t,{id:o,ref:a}=this.grid.createFilterESF(e,i,Oe(ke({},this._filterMenuOverlaySettings),{target:s}),n);this.filtersESFId=o,n&&(this._overlayService.opening.pipe(un((e=>e.id===o)),mn(this.destroy$)).subscribe((()=>this.lastActiveNode=this.grid.navigation.activeNode)),this._overlayService.closed.pipe(un((e=>e.id===o)),mn(this.destroy$)).subscribe((()=>{this._overlayService.detach(o),a?.destroy(),this.grid.navigation.activeNode=this.lastActiveNode,this.grid.theadRow.nativeElement.focus()})),this.grid.columnPinned.pipe(un()).subscribe((()=>a?.destroy())),this._overlayService.show(o))}hideESF(){this._overlayService.hide(this.filtersESFId)}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})();function QJ(e,t){if(1&e&&(Mg(0,"span",3),fp(1),Ng()),2&e){let e=rp();fg("title",e.title),Ac(),yp(e.column.header)}}function JJ(e,t){1&e&&Lg(0,"igx-icon",4),2&e&&fg("name",rp().column.expanded?"tree_collapse":"tree_expand")}function e0(e,t){1&e&&Lg(0,"span",9)}function t0(e,t){if(1&e&&Lg(0,"span",10),2&e){let e=rp(2);yg("cursor",e.colResizingService.resizeCursor),fg("igxPivotResizeHandle",e.column)("igxPivotResizeHandleHeader",e),tg("draggable",!1)}}function i0(e,t){1&e&&Lg(0,"span",11)}function n0(e,t){if(1&e){let e=Wg();zg(0),Xu(1,e0,1,0,"span",5),Mg(2,"igx-pivot-row-dimension-header",6),Xp(3,"igxHeaderGroupStyle"),ep("pointerdown",(function(t){return Uo(e),qo(rp().pointerdown(t))}))("keydown",(function(t){return Uo(e),qo(rp().grid.navigation.headerNavigation(t))})),Ng(),Xu(4,t0,1,5,"span",7)(5,i0,1,0,"span",8),Bg()}if(2&e){let e=rp();Ac(),fg("ngIf",e.grid.hasMovableColumns),Ac(),fg("id",e.grid.id+"_"+e.column.field)("ngClass",e.column.headerClasses)("ngStyle",Jp(3,11,e.column.headerStyles,e.column,e.grid.pipeTrigger))("igxColumnMovingDrag",e.column)("ghostHost",e.grid.outlet.nativeElement)("igxColumnMovingDrop",e.column)("column",e.column),tg("droppable",!0),Ac(2),fg("ngIf",!e.column.columnGroup&&e.column.resizable),Ac(),fg("ngIf",e.grid.hasMovableColumns)}}var r0=(()=>{let e=class extends VW{constructor(e,t,i,n,r,s,o){super(e,t,i,n,r,s),this.cdRef=e,this.grid=t,this.elementRef=i,this.colResizingService=n,this.zone=o,this.userSelect="none"}get headerID(){return`${this.grid.id}_-2_${this.rowIndex}_${this.visibleIndex}`}get title(){return this.column.header}onClick(e){if("none"===this.grid.rowSelection)return;e?.stopPropagation();let t=this.parent.getRowDimensionKey(this.column);this.grid.selectionService.isRowSelected(t)?this.grid.selectionService.deselectRow(t,e):this.grid.selectionService.selectRowById(t,!0,e),this.zone.run((()=>{}))}get visibleIndex(){if(this.grid.hasHorizontalLayout)return this.colIndex;let e=this.column.field,t=this.grid.rowDimensions,i=this.findRootDimension(e);return t.indexOf(i)}get active(){let e=this.grid.navigation,t=e.activeNode;return!(!t||this.column.columnGroup)&&e.isRowHeaderActive&&t.row===this.rowIndex&&t.column===this.visibleIndex}get activeNode(){return this.grid.navigation.isRowHeaderActive=!0,this.grid.navigation.isRowDimensionHeaderActive=!1,{row:this.rowIndex,column:this.visibleIndex,level:null,mchCache:null,layout:this.layout||null}}findRootDimension(e){let t,i=this.grid.rowDimensions,n=null;return i.forEach((i=>{t=i;do{t.memberName===e&&(n=i),t=t.childLevel}while(t)})),n}activate(){this.grid.navigation.isRowHeader=!0,this.grid.navigation.setActiveNode(this.activeNode)}pointerdown(e){this.activate()}onMouseDown(e){this.activate()}get selectable(){return!1}};return e.ɵfac=function(t){return new(t||e)(Oc(Pm),Oc(nO),Oc(Nl),Oc(DQ),Oc(j$),Oc(fC),Oc(Dl))},e.ɵcmp=es({type:e,selectors:[["igx-pivot-row-dimension-header-group"]],viewQuery:function(e,t){if(1&e&&up(NQ,5),2&e){let e;gp(e=pp())&&(t.header=e.first)}},hostVars:6,hostBindings:function(e,t){1&e&&ep("click",(function(e){return t.onClick(e)})),2&e&&(tg("id",t.headerID)("title",t.title),yg("user-select",t.userSelect),xg("igx-grid-th--active",t.active))},inputs:{rowIndex:"rowIndex",colIndex:"colIndex",layout:"layout",parent:"parent"},standalone:!0,features:[Ru,Pp],decls:5,vars:1,consts:[["defaultColumn",""],["defaultCollapseIndicator",""],[4,"ngIf"],[1,"igx-grid-th__group-title",3,"title"],["family","default",3,"name"],["class","igx-grid-th__drop-indicator-left",4,"ngIf"],["role","columnheader",1,"igx-grid-th--fw",3,"pointerdown","keydown","id","ngClass","ngStyle","igxColumnMovingDrag","ghostHost","igxColumnMovingDrop","column"],["class","igx-grid-th__resize-handle",3,"igxPivotResizeHandle","igxPivotResizeHandleHeader","cursor",4,"ngIf"],["class","igx-grid-th__drop-indicator-right",4,"ngIf"],[1,"igx-grid-th__drop-indicator-left"],[1,"igx-grid-th__resize-handle",3,"igxPivotResizeHandle","igxPivotResizeHandleHeader"],[1,"igx-grid-th__drop-indicator-right"]],template:function(e,t){1&e&&Xu(0,QJ,2,2,"ng-template",null,0,nm)(2,JJ,1,1,"ng-template",null,1,nm)(4,n0,6,15,"ng-container",2),2&e&&(Ac(4),fg("ngIf",!t.column.columnGroup))},dependencies:[FT,cv,NQ,av,vv,u$,dW,LQ,T$],encapsulation:2,changeDetection:0}),e})(),s0=["headerTemplate"],o0=["headerDefaultTemplate"];function a0(e,t){if(1&e){let e=Wg();Mg(0,"div")(1,"igx-icon",5),ep("click",(function(t){return Uo(e),qo(rp().toggleRowDimension(t))})),Ng(),fp(2),Ng()}if(2&e){let e=t.$implicit,i=rp();Pg("igx-grid__tr--header igx-grid__row-indentation--level-",i.getLevel(),""),Ac(),fg("name",i.getExpandState()?"tree_collapse":"tree_expand"),tg("draggable",!1),Ac(),xp(" ",e.header," ")}}function l0(e,t){if(1&e&&(Mg(0,"div",6),Lg(1,"igx-icon",7),fp(2),Ng()),2&e){let e=t.$implicit;Pg("igx-grid__tr--header igx-grid__row-indentation--level-",rp().getLevel(),""),Ac(),tg("draggable",!1),Ac(),xp(" ",e.header," ")}}var d0=(()=>{let e=class extends lj{get rowStart(){return this.layout?`${this.layout.rowStart}`:""}get rowsEnd(){return this.layout?`${this.layout.rowEnd}`:""}get colStart(){return this.layout?`${this.layout.colStart}`:""}get colEnd(){return this.layout?`${this.layout.colEnd}`:""}constructor(e,t,i,n,r,s){super(t,r),this.grid=e,this.injector=i,this.envInjector=n,this.viewRef=s}get rowDimensionColumn(){return this.rowDimensionData?.column}ngOnChanges(e){e.rowData&&(this.rowDimensionData=null,this.viewRef.clear(),this.extractFromDimensions(),this.viewRef.clear()),e.width&&this.rowDimensionData&&(this.rowDimensionData.column.width=this.grid.rowDimensionWidthToPixels(this.rootDimension)+"px")}toggleRowDimension(e){this.grid.toggleRow(this.getRowDimensionKey()),this.grid.navigation.onRowToggle(this.getExpandState(),this.dimension,this.rowData,this.layout),e?.stopPropagation()}getRowDimensionKey(){let e=this.rowDimensionData;return wO.getRecordKey(this.rowData,e.dimension)}getExpandState(){return this.grid.gridAPI.get_row_expansion_state(this.getRowDimensionKey())}getLevel(){return this.grid.hasHorizontalLayout?0:this.dimension.level}getHeaderWidthFromDimension(){return this.grid.hasHorizontalLayout?-1===this.width?"fit-content":this.width:this.grid.rowDimensionWidth(this.rootDimension)}extractFromDimensions(){if(this.dimension&&this.rowData){let e=this.extractFromDimension(this.dimension,this.rowData),t=[];this.rowDimensionData={column:e,dimension:this.dimension,prevDimensions:t}}}extractFromDimension(e,t){let i=e.memberName,n=t?.dimensionValues.get(i);return this._createColComponent(i,n,e)}_createColComponent(e,t,i){let n=ef(zM,{environmentInjector:this.envInjector,elementInjector:this.injector});return n.instance.field=e,n.instance.header=t,n.instance.width=this.grid.rowDimensionWidthToPixels(this.rootDimension)+"px",n.instance.resizable=this.grid.rowDimensionResizing,n.instance._vIndex=this.grid.columns.length+this.rowIndex+this.rowIndex*this.grid.pivotConfiguration.rows.length,!t||!i.childLevel||this.rowData.totalRecordDimensionName&&this.rowData.totalRecordDimensionName===i.memberName?n.instance.headerTemplate=this.headerTemplateDefault:n.instance.headerTemplate=this.headerTemplate,n.instance}};return e.ɵfac=function(t){return new(t||e)(Oc(nO),Oc(Nl),Oc(hl),Oc(Is),Oc(Pm),Oc(iu))},e.ɵcmp=es({type:e,selectors:[["igx-pivot-row-dimension-content"]],viewQuery:function(e,t){if(1&e&&(up(s0,7,Oh),up(o0,7,Oh),up(r0,5)),2&e){let e;gp(e=pp())&&(t.headerTemplate=e.first),gp(e=pp())&&(t.headerTemplateDefault=e.first),gp(e=pp())&&(t.headerGroups=e)}},hostVars:8,hostBindings:function(e,t){2&e&&yg("grid-row-start",t.rowStart)("grid-row-end",t.rowsEnd)("grid-column-start",t.colStart)("grid-column-end",t.colEnd)},inputs:{rowIndex:"rowIndex",colIndex:"colIndex",layout:"layout",dimension:"dimension",rootDimension:"rootDimension",rowData:"rowData"},standalone:!0,features:[Ru,yo,Pp],decls:11,vars:35,consts:[["headerTemplate",""],["headerDefaultTemplate",""],["role","rowgroup",1,"igx-grid-thead__wrapper"],["role","row",1,"igx-grid__tr","igx-grid__tr-header-row"],[3,"ngClass","ngStyle","column","rowIndex","colIndex","layout","parent"],["family","default",2,"--component-size","3",3,"click","name"],[2,"--component-size","3"],[2,"flex-shrink","0"]],template:function(e,t){1&e&&(Mg(0,"div",2)(1,"div",3),Lg(2,"igx-pivot-row-dimension-header-group",4),Xp(3,"igxHeaderGroupWidth"),Xp(4,"igxHeaderGroupWidth"),Xp(5,"igxHeaderGroupWidth"),Xp(6,"igxHeaderGroupStyle"),Ng()(),Xu(7,a0,3,6,"ng-template",null,0,nm)(9,l0,3,5,"ng-template",null,1,nm)),2&e&&(yg("width",t.width,"px"),xg("igx-grid__tr--mrl",t.hasMRL),Ac(),yg("width",t.width,"px"),Ac(),yg("min-width",Jp(3,19,t.getHeaderWidthFromDimension(),t.grid.defaultHeaderGroupMinWidth,t.hasMRL))("width",Jp(4,23,t.getHeaderWidthFromDimension(),t.grid.defaultHeaderGroupMinWidth,t.hasMRL))("flex-basis",Jp(5,27,t.getHeaderWidthFromDimension(),t.grid.defaultHeaderGroupMinWidth,t.hasMRL)),fg("ngClass",t.rowDimensionColumn.headerGroupClasses)("ngStyle",Jp(6,31,t.rowDimensionColumn.headerGroupStyles,t.rowDimensionColumn,t.grid.pipeTrigger))("column",t.rowDimensionColumn)("rowIndex",t.rowIndex)("colIndex",t.colIndex)("layout",t.layout)("parent",t))},dependencies:[r0,av,vv,FT,E$,T$],encapsulation:2,changeDetection:0}),e})(),c0=(()=>{let e=class extends CU{constructor(e){super(e),this.colResizingService=e}};return e.ɵfac=function(t){return new(t||e)(Oc(DQ))},e.ɵcmp=es({type:e,selectors:[["igx-pivot-grid-column-resizer"]],standalone:!0,features:[Ru,Pp],decls:1,vars:7,consts:[["igxResizer","",1,"igx-grid-th__resize-line",3,"resizeEnd","restrictHResizeMax","restrictHResizeMin","restrictResizerTop"]],template:function(e,t){1&e&&(Mg(0,"div",0),ep("resizeEnd",(function(e){return t.colResizingService.resizeColumn(e)})),Ng()),2&e&&(yg("left",-99999,"px")("height",t.colResizingService.resizerHeight,"px"),fg("restrictHResizeMax",t.colResizingService.restrictResizeMax)("restrictHResizeMin",t.colResizingService.restrictResizeMin)("restrictResizerTop",t.restrictResizerTop))},dependencies:[_U],encapsulation:2,changeDetection:0}),e})(),h0=(()=>{let e=class extends HC{static instance(){return this._instance||(this._instance=new this)}sort(e,t,i,n,r,s,o,a){let l=i===LC.Desc?-1:1;return this.arraySort(e,((e,i)=>this.compareObjects(e,i,t,l,n,this.getFieldValue,s,o)))}getFieldValue(e,t,i=!1,n=!1){return e.aggregationValues.get(t)}};return e._instance=null,e})(),u0=(()=>{let e=class extends HC{static instance(){return this._instance||(this._instance=new this)}sort(e,t,i,n,r,s,o,a){let l=t,d=a.allDimensions.filter((e=>e&&e.enabled));this.dimension=wO.flatten(d).find((e=>e.memberName===l));let c=i===LC.Desc?-1:1;return this.arraySort(e,((e,t)=>this.compareObjects(e,t,l,c,n,this.getFieldValue,s,o)))}getFieldValue(e,t,i=!1,n=!1){let r=wO.extractValueFromDimension(this.dimension,e)||e[0];if(this.dimension.dataType===QC.Date||this.dimension.dataType===QC.DateTime){let e=uC(r);r=n&&e?(new Date).setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()):e}return r}};return e._instance=null,e})(),g0=class{static generateDimensionSortingExpressions(e){let t=[];return wO.flatten(e).forEach((e=>{e.sortDirection?t.push({dir:e.sortDirection,fieldName:e.memberName,strategy:u0.instance()}):t.push({dir:LC.None,fieldName:e.memberName,strategy:u0.instance()})})),t}},p0=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxPivotValueChip",""]],standalone:!0}),e})(),m0=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxPivotRowDimensionHeader",""]],standalone:!0}),e})(),f0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s){let o=t.pivotKeys||fO,a=t.rows?.filter((e=>e.enabled))||[],l=t.columns?.filter((e=>e.enabled))||[],d=t.values?.filter((e=>e.enabled))||[];if(0===a.length&&0===l.length&&0===d.length)return[];let c=t.rowStrategy||UJ.instance(),h=lC(e,!0);return c.process(h,a,t.values,i,o)}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"pivotGridRow",type:e,pure:!0,standalone:!0}),e})(),v0=(()=>{let e=class{transform(e,t,i,n){let r=!1;return e.length>0&&(r=!this.isPivotRecord(e[0])),r?this.processCollectionToPivotRecord(t,e):e}isPivotRecord(e){return!!e.aggregationValues}processCollectionToPivotRecord(e,t){let i=e.pivotKeys||fO,n=e.rows.filter((e=>e.enabled)),r=wO.flatten(n),s=[];for(let n of t){let t={dimensionValues:new Map,aggregationValues:new Map,children:new Map,dimensions:[]},o=Object.keys(n);for(let s of o){let o=r.find((e=>e.memberName===s));if(o)t.dimensions.push(o),t.dimensionValues.set(s,n[s]);else if(-1!==s.indexOf(i.rowDimensionSeparator+i.records)){let r=s.slice(0,s.indexOf(i.rowDimensionSeparator+i.records)),o=n[s],a=this.processCollectionToPivotRecord(e,o);t.children.set(r,a)}else t.aggregationValues.set(s,n[s])}let a=wO.flatten(e.rows);t.dimensions.sort(((e,t)=>a.indexOf(e)-a.indexOf(t))),s.push(t)}return s}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"pivotGridAutoTransform",type:e,pure:!0,standalone:!0}),e})(),y0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s){let o=t.rows?.filter((e=>e.enabled))||[],a=e?lC(e,!0):[],l=[];for(let e of o)this.grid?.hasHorizontalLayout?wO.flattenGroupsHorizontally(a,e,i,n,l,this.grid.pivotUI.horizontalSummariesPosition):wO.flattenGroups(a,e,i,n);let d=a;if(this.grid?.hasHorizontalLayout){let e=wO.flatten(this.grid.rowDimensions);this.grid.visibleRowDimensions=e.filter((e=>l.some((t=>t.memberName===e.memberName))))}else this.grid&&(this.grid.visibleRowDimensions=o),d=o.length>0?d.filter((e=>e.dimensions.length===o.length)):d;return this.grid&&this.grid.setFilteredSortedData(d,!1),d}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"pivotGridRowExpansion",type:e,pure:!0,standalone:!0}),e})(),x0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n){if(0===e.length||0===t.rows.length)return e;let r,s=e?lC(e,!0):[],o=[],a=[],l=this.grid.hasHorizontalLayout?this.grid.visibleRowDimensions:t.rows?.filter((e=>e.enabled)),d=l.indexOf(i);for(let e of s){let t;this.grid.hasHorizontalLayout?(t=i,e.dimensions=l):t=e.dimensions[d];let n=wO.getRecordKey(e,t);if(a.length>0&&r!==n){let e=a.length>1?a.length*this.grid.renderedRowHeight:void 0;a[0].height=e,a[0].rowSpan=a.length,o.push(a[0]),a=[]}a.push(e),r=n}if(a.length>0){let e=a.length>1?a.length*this.grid.rowHeight+(a.length-1)+1:void 0;a[0].height=e,a[0].rowSpan=a.length,o.push(a[0])}return o}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"pivotGridCellMerging",type:e,pure:!0,standalone:!0}),e})(),w0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n){if(0===e.length||0===t.rows.length)return null;let r=e?lC(e,!0):[],s=[],o=t.rows.filter((e=>e.enabled))[0],a=[],l=r[0].dimensionValues.get(o.memberName);for(let[e,t]of r.entries()){t.dataIndex=e;let i=t.dimensionValues.get(o.memberName);0===a.length||i===l?a.push(t):(a.height=this.grid.renderedRowHeight*a.length,s.push(a),a=[t],l=i)}return s.push(a),s}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"pivotGridHorizontalRowGrouping",type:e,pure:!0,standalone:!0}),e})(),_0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i){if(0===e.length||0===t.rows.length)return[{colStart:1,colSpan:1,rowStart:1,rowSpan:1,records:e}];let n=e?lC(e,!0):[],r=[],s=[...n.map((e=>[]))];for(let e=0;e<this.grid.visibleRowDimensions.length;e++){let t=this.grid.visibleRowDimensions[e],i={colStart:e+1,colSpan:1,rowStart:1,rowSpan:1,value:n[0].dimensionValues.get(t.memberName),rootDimension:t,dimensions:[t],records:[n[0]]};for(let r=1;r<n.length;r++){let o=n[r],a=o.dimensionValues.get(t.memberName),l=s[r][s[r].length-1];a!==i.value||l?(s[i.rowStart-1].push(i),i={colStart:e+1,colSpan:1,rowStart:i.rowStart+i.rowSpan,rowSpan:1,value:o.dimensionValues.get(t.memberName),rootDimension:t,dimensions:[t],records:[o]}):(i.rowSpan++,i.records.push(o))}s[i.rowStart-1].push(i)}let o=s.reduce(((e,t)=>e.concat(...t)),[]);r.push(o[0]);let a=o[0];for(let e=1;e<o.length;e++){let t=o[e];t.value&&a.value!==t.value?(a=t,r.push(t)):(a.dimensions.push(t.rootDimension),a.colSpan++)}return r}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"pivotGridHorizontalRowCellMerging",type:e,pure:!0,standalone:!0}),e})(),C0=(()=>{let e=class{transform(e,t,i,n,r,s){let o=t.pivotKeys||fO,a=t.columns?.filter((e=>e.enabled))||[],l=t.values?.filter((e=>e.enabled))||[],d=t.columnStrategy||qJ.instance(),c=lC(e,!0);return d.process(c,a,l,i,o)}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"pivotGridColumn",type:e,pure:!0,standalone:!0}),e})(),S0=(()=>{let e=class{constructor(e){this.gridAPI=e}transform(e,t,i,n,r,s){let o={expressionsTree:wO.buildExpressionTree(t),strategy:i||new YJ,advancedExpressionsTree:n};return iS.empty(o.expressionsTree)&&iS.empty(o.advancedExpressionsTree)?e:rS.filter(lC(e,!0),o,this.gridAPI.grid)}};return e.ɵfac=function(t){return new(t||e)(Oc(yq,16))},e.ɵpipe=os({name:"pivotGridFilter",type:e,pure:!0,standalone:!0}),e})(),b0=(()=>{let e=class{transform(e,t,i,n){let r;if(t.length){for(let e of t)e.strategy=h0.instance();r=wO.sort(lC(e,!0),t,i)}else r=e;return r}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"pivotGridColumnSort",type:e,pure:!0,standalone:!0}),e})(),D0=(()=>{let e=class{constructor(e){this.gridAPI=e}transform(e,t,i,n){let r,s=(t.rows||[]).filter((e=>e&&e.enabled)),o=g0.generateDimensionSortingExpressions(s);return r=o.length?JC.sort(lC(e,!0),o,i,this.gridAPI.grid):e,r}};return e.ɵfac=function(t){return new(t||e)(Oc(yq,16))},e.ɵpipe=os({name:"pivotGridSort",type:e,pure:!0,standalone:!0}),e})(),I0=(()=>{let e=class{transform(e,t,i){if(!e)return e;let n=e.slice(0);if(t&&t.length>0){let i=e=>{let n=e.member||e.memberName;return!!n&&(n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>=0||(e.children?.some(i)??!1))};n=e.filter(i)}return n}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"filterPivotItems",type:e,pure:!0,standalone:!0}),e})(),E0=(()=>{let e=class{transform(e,t,i,n,r,s){if(!e)return"";let o=[];for(let t of Object.keys(e)){let s=e[t];("function"==typeof s?s(i,n,TC(i,n.field),r):s)&&o.push(t)}return o.join(" ")}};return e.ɵfac=function(t){return new(t||e)},e.ɵpipe=os({name:"igxPivotCellStyleClasses",type:e,pure:!0,standalone:!0}),e})(),T0=(e,t,i,n,r,s,o)=>[e,t,i,n,r,s,o],R0=(e,t,i,n,r,s)=>[e,t,i,n,r,s],A0=(e,t,i,n,r)=>[e,t,i,n,r];function k0(e,t){if(1&e){let e=Wg();Mg(0,"igx-grid-cell",4,2),Xp(2,"transactionState"),Xp(3,"igxPivotCellStyleClasses"),Xp(4,"igxCellStyles"),Xp(5,"dataMapper"),ep("pointerdown",(function(t){return Uo(e),qo(rp().grid.navigation.focusOutRowHeader(t))})),Ng()}if(2&e){let e=t.$implicit,i=rp();yg("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth),xg("igx-grid__td--edited",tm(2,28,Bp(56,T0,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)("igx-grid__td--bool","boolean"===e.dataType),fg("ngClass",tm(3,36,zp(64,R0,i.getCellClass(e),i.data[e.field],i.data,i.getColumnData(e),i.viewIndex,i.grid.pipeTrigger)))("ngStyle",tm(4,43,zp(71,R0,e.cellStyles,i.pivotAggregationData[e.field],i.pivotAggregationData,e.field,i.viewIndex,i.grid.pipeTrigger)))("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("formatter",e.formatter)("intRow",i)("active",i.isCellActive(e.visibleIndex))("rowData",i.data)("columnData",i.getColumnData(e))("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",tm(5,50,Hp(78,A0,i.pivotAggregationData[e.field],e.field,i.grid.pipeTrigger,i.pivotAggregationData[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function O0(e,t){if(1&e&&(Mg(0,"div",5),Lg(1,"igx-checkbox",6),Ng()),2&e){let e=rp();Ac(),fg("tabindex",-1)("readonly",!0)("checked",e.selected)("disableRipple",!0)("disabled",e.deleted)("disableTransitions",e.grid.disableTransitions)("aria-label",e.rowCheckboxAriaLabel)}}var P0=(()=>{let e=class extends bO{get selected(){let e=!1;for(let t of this.data.dimensions){let i=wO.getRecordKey(this.data,t);this.selectionService.isPivotRowSelected(i)&&(e=!0)}return e}constructor(e,t,i,n,r){super(e,t,i,n),this.grid=e,this.viewRef=r,this.disabled=!1}get viewIndex(){return this.index}get addRowUI(){return!1}get inEditMode(){return!1}set pinned(e){}get pinned(){return!1}delete(){}beginAddRow(){}update(e){}pin(){return!1}unpin(){return!1}get data(){return this._data}set data(e){this._data=e}get pivotAggregationData(){let e=this.data.aggregationValues,t={};return e.forEach(((e,i)=>{t[i]=e})),t}getCellClass(e){let t=this.grid.values;if(1===t.length)return t[0].styles;let i=e.field.split(this.grid.pivotKeys.columnDimensionSeparator),n=i[i.length-1];return t.find((e=>e.member===n))?.styles}isCellActive(e){let t=this.grid.navigation,i=t.activeNode;return!(!i||0===Object.keys(i).length)&&!t.isRowHeaderActive&&!t.isRowDimensionHeaderActive&&super.isCellActive(e)}getColumnData(e){let t,i=e.field.split(this.grid.pivotKeys.columnDimensionSeparator),n=new Map,r=wO.flatten(this.grid.columnDimensions);for(let e of r)n.set(e.memberName,i.shift());return t=this.grid.hasMultipleValues?this.grid.values.find((e=>e.member===i.shift())):this.grid.values?this.grid.values[0]:void 0,{field:e.field,dimensions:this.grid.columnDimensions,dimensionValues:n,value:t}}};return e.ɵfac=function(t){return new(t||e)(Oc(nO),Oc(_O),Oc(Nl),Oc(Pm),Oc(iu))},e.ɵcmp=es({type:e,selectors:[["igx-pivot-row"]],hostVars:1,hostBindings:function(e,t){2&e&&tg("aria-selected",t.selected)},inputs:{selected:"selected",data:"data"},standalone:!0,features:[kp([{provide:bO,useExisting:An((()=>e))}]),Ru,Pp],decls:5,vars:8,consts:[["igxDirRef",""],["rowSelectorBaseTemplate",""],["cell",""],["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForSizePropName","igxForScrollOrientation","igxForContainerSize","igxForTrackBy"],[1,"igx-grid__td","igx-grid__td--fw",3,"pointerdown","ngClass","ngStyle","editMode","column","formatter","intRow","active","rowData","columnData","width","visibleColumnIndex","value","cellTemplate","lastSearchInfo","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__cbx-padding"],[3,"tabindex","readonly","checked","disableRipple","disabled","disableTransitions","aria-label"]],template:function(e,t){1&e&&(Xu(0,k0,6,84,"ng-template",3,0,nm),Xp(2,"igxNotGrouped"),Xu(3,O0,2,7,"ng-template",null,1,nm)),2&e&&fg("igxGridForOf",Zp(2,6,t.unpinnedColumns))("igxForScrollContainer",t.grid.parentVirtDir)("igxForSizePropName","calcPixelWidth")("igxForScrollOrientation","horizontal")("igxForContainerSize",t.grid.unpinnedWidth)("igxForTrackBy",t.grid.trackColumnChanges)},dependencies:[dA,kY,av,vv,DA,DK,_K,AK,OK,E0],encapsulation:2,changeDetection:0}),e})(),F0=class{set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}get baseDimension(){return this._baseDimension}set baseDimension(e){this._baseDimension=e,this.initialize(this.baseDimension,this.options)}get options(){return this._options}set options(e){this._options=e,this.baseDimension&&this.initialize(this.baseDimension,this.options)}constructor(e=null,t={}){this.enabled=!0,this.defaultOptions={total:!0,years:!0,months:!0,fullDate:!0},this.memberName="AllPeriods",this._resourceStrings=MT(sH),this._options={},this._monthIntl=new Intl.DateTimeFormat("default",{month:"long"}),this.memberFunction=e=>this.resourceStrings.igx_grid_pivot_date_dimension_total,this._baseDimension=e,this._options=t,this.baseDimension&&this.options&&this.initialize(this.baseDimension,this.options)}initialize(e,t){let i=ke(ke({},this.defaultOptions),t);this.dataType=QC.Date,e.dataType=QC.Date,this.enabled=e.enabled,this.displayName=e.displayName||this.resourceStrings.igx_grid_pivot_date_dimension_total;let n=i.fullDate?e:null,r={memberName:"Months",memberFunction:t=>{let i=wO.extractValueFromDimension(e,t);return i?this._monthIntl.format(new Date(i)):t.Months},enabled:!0,childLevel:n},s=i.months?r:n,o={memberName:"Quarters",memberFunction:t=>{let i=wO.extractValueFromDimension(e,t);return i?"Q"+Math.ceil((new Date(i).getMonth()+1)/3):t.Quarters},enabled:!0,childLevel:s},a=i.quarters?o:s,l={memberName:"Years",memberFunction:t=>{let i=wO.extractValueFromDimension(e,t);return i?new Date(i).getFullYear().toString():t.Years},enabled:!0,childLevel:a},d=i.years?l:a;this.childLevel=d,i.total||(this.memberName=d.memberName,this.memberFunction=d.memberFunction,this.childLevel=d.childLevel,this.displayName=d.displayName)}},V0=(e,t,i,n,r)=>({rowStart:e,rowEnd:t,colStart:i,colEnd:n,columnVisibleIndex:r});function M0(e,t){if(1&e&&Lg(0,"igx-pivot-row-dimension-content",1),2&e){let e=t.$implicit,i=t.index,n=rp();fg("grid",n.grid)("dimension",e.rootDimension)("rootDimension",e.rootDimension)("rowIndex",n.rowIndex)("colIndex",i)("rowData",e.records[0])("width",n.rowDimensionWidthCombined(e.dimensions))("layout",Hp(8,V0,e.rowStart,e.rowStart+e.rowSpan,e.colStart,e.colStart+e.colSpan,i))}}var N0=(()=>{let e=class extends lj{get rowsTemplate(){return this.getRowMRLTemplate(!0,this.rowGroup)}get colsTemplate(){return this.getRowMRLTemplate(!1,this.rowGroup)}constructor(e,t,i,n,r,s){super(t,r),this.grid=e,this.injector=i,this.envInjector=n,this.viewRef=s,this.pivotDim=!0,this.mrlBlock=!0}getRowMRLTemplate(e,t){if(e)return`repeat(${t.length},1fr)`;if(this.grid.visibleRowDimensions&&this.grid.dimensionDataColumns){let e=[];return this.grid.visibleRowDimensions.forEach((t=>{e.push(this.grid.rowDimensionWidth(t))})),e.join(" ")}}rowDimensionWidthCombined(e){let t=0;for(let i of e||[]){let e=this.grid.rowDimensionWidth(i);if("fit-content"===e)return-1;t+=parseFloat(e)}return t}};return e.ɵfac=function(t){return new(t||e)(Oc(nO),Oc(Nl),Oc(hl),Oc(Is),Oc(Pm),Oc(iu))},e.ɵcmp=es({type:e,selectors:[["igx-pivot-row-dimension-mrl-row"]],viewQuery:function(e,t){if(1&e&&up(d0,5),2&e){let e;gp(e=pp())&&(t.contentCells=e)}},hostVars:8,hostBindings:function(e,t){2&e&&(yg("grid-template-rows",t.rowsTemplate)("grid-template-columns",t.colsTemplate),xg("igx-grid__tbody-pivot-dimension",t.pivotDim)("igx-grid__mrl-block",t.mrlBlock))},inputs:{rowIndex:"rowIndex",rowGroup:"rowGroup",groupedData:"groupedData"},standalone:!0,features:[Ru,Pp],decls:2,vars:5,consts:[["ngFor","",3,"ngForOf"],["role","row",1,"igx-grid-thead",3,"grid","dimension","rootDimension","rowIndex","colIndex","rowData","width","layout"]],template:function(e,t){1&e&&(Xu(0,M0,1,14,"ng-template",0),Xp(1,"pivotGridHorizontalRowCellMerging")),2&e&&fg("ngForOf",Jp(1,1,t.rowGroup,t.grid.pivotConfiguration,t.grid.pipeTrigger))},dependencies:[lv,d0,_0],encapsulation:2,changeDetection:0}),e})(),L0=["record_template"],H0=["headerTemplate"],z0=["emptyPivotGridTemplate"],B0=["rowDimensionContainer"],G0=["verticalRowDimScrollContainer"],$0=[[["igx-grid-toolbar"],["igc-grid-toolbar"]],[["igx-grid-footer"],["igc-grid-footer"]],[["igx-grid-state"],["igc-grid-state"]]],W0=["igx-grid-toolbar,igc-grid-toolbar","igx-grid-footer,igc-grid-footer","igx-grid-state,igc-grid-state"],K0=(e,t,i,n,r,s)=>[e,t,i,n,r,s],j0=(e,t,i,n,r)=>[e,t,i,n,r],U0=e=>({$implicit:e}),q0=()=>[],Y0=(e,t,i,n,r,s,o,a,l,d,c)=>[e,t,i,n,r,s,o,a,l,!1,d,c];function X0(e,t){1&e&&Gg(0)}function Z0(e,t){1&e&&Lg(0,"span",57),2&e&&(fg("igxColumnMovingDrop",rp().headerContainer),tg("droppable",!0))}function Q0(e,t){if(1&e&&Lg(0,"span",58),2&e){let e=rp();yg("left",e.pinnedWidth,"px"),fg("igxColumnMovingDrop",e.headerContainer),tg("droppable",!0)}}function J0(e,t){}function e1(e,t){if(1&e){let e=Wg();Xu(0,J0,0,0,"ng-template",59),ep("cachedViewLoaded",(function(t){return Uo(e),qo(rp().cachedViewLoaded(t))}))}if(2&e){let e=t.$implicit,i=t.index,n=rp();fg("igxTemplateOutlet",n.recordTemplate)("igxTemplateOutletContext",n.getContext(e,i))}}function t1(e,t){if(1&e&&(Lg(0,"igx-pivot-row",60,21),Xp(2,"igxGridRowClasses"),Xp(3,"igxGridRowStyles")),2&e){let e=t.index,i=t.$implicit,n=mp(1),r=rp();yg("height",r.renderedRowHeight,"px"),fg("gridID",r.id)("index",e)("data",i)("ngClass",tm(2,7,$p(25,Y0,[r.rowClasses,n,n.inEditMode,n.selected,n.dirty,n.deleted,n.dragging,e,r.hasColumnLayouts,i,r.pipeTrigger])))("ngStyle",em(3,20,r.rowStyles,i,e,r.pipeTrigger))}}function i1(e,t){1&e&&Gg(0)}function n1(e,t){1&e&&Lg(0,"igx-circular-bar",61),2&e&&fg("indeterminate",!0)}function r1(e,t){1&e&&Lg(0,"span",62),2&e&&(fg("igxColumnMovingDrop",rp().headerContainer),tg("droppable",!0))}function s1(e,t){}function o1(e,t){}function a1(e,t){if(1&e&&(Mg(0,"span",63)(1,"span"),fp(2),Ng()()),2&e){let e=rp();Ac(2),yp(e.emptyFilteredGridMessage)}}function l1(e,t){if(1&e&&(Mg(0,"span",63)(1,"span"),fp(2),Ng()()),2&e){let e=rp();Ac(2),yp(e.emptyGridMessage)}}function d1(e,t){1&e&&(Mg(0,"div",64),Lg(1,"igx-circular-bar",61),Ng()),2&e&&(Ac(),fg("indeterminate",!0))}function c1(e,t){1&e&&Lg(0,"igx-pivot-grid-column-resizer",65),2&e&&fg("restrictResizerTop",rp().calculateResizerTop())}function h1(e,t){if(1&e){let e=Wg();Mg(0,"div",66)(1,"igx-icon",67),ep("click",(function(){let t=Uo(e).$implicit;return qo(rp().toggleColumn(t))})),Ng(),fp(2),Ng()}if(2&e){let e=t.$implicit,i=rp();Ac(),fg("name",i.getColumnGroupExpandState(e)?"tree_expand":"tree_collapse"),tg("draggable",!1),Ac(),xp(" ",e.header," ")}}function u1(e,t){if(1&e&&Lg(0,"igx-pivot-row-dimension-content",71),2&e){let e=t.$implicit,i=t.index,n=rp(),r=n.$implicit,s=n.index,o=rp(2);yg("height",o.renderedRowHeight*(e.rowSpan||1),"px"),fg("grid",o)("dimension",e.dimensions[s])("rootDimension",r)("rowIndex",i)("rowData",e)("width",o.rowDimensionWidthToPixels(r))}}function g1(e,t){if(1&e){let e=Wg();Mg(0,"div",69,22),ep("focus",(function(t){return Uo(e),qo(rp(2).navigation.focusTbody(t))}))("keydown",(function(t){return Uo(e),qo(rp(2).navigation.handleNavigation(t))})),Xu(2,u1,1,8,"ng-template",70,23,nm),Xp(4,"pivotGridCellMerging"),Ng()}if(2&e){let e=t.$implicit,i=rp(2);yg("height",i.totalHeight,"px"),Ac(2),fg("igxGridForOf",em(4,8,i.dataView,i.pivotConfiguration,e,i.pipeTrigger))("igxForScrollOrientation","vertical")("igxForScrollContainer",i.verticalScroll)("igxForContainerSize",i.calcHeight)("igxForItemSize",i.renderedRowHeight)("igxForSizePropName","height")}}function p1(e,t){1&e&&Xu(0,g1,5,13,"div",68),2&e&&fg("ngForOf",rp().rowDimensions)}function m1(e,t){if(1&e&&Lg(0,"igx-pivot-row-dimension-mrl-row",75),2&e){let e=t.$implicit,i=t.index,n=rp().ngIf;yg("height",rp(2).renderedRowHeight*e.length,"px"),fg("rowIndex",i)("rowGroup",e)("groupedData",n)}}function f1(e,t){if(1&e&&(zg(0),Xu(1,m1,1,5,"ng-template",74,23,nm),Bg()),2&e){let e=t.ngIf,i=rp(2);Ac(),fg("igxGridForOf",e)("igxForScrollOrientation","vertical")("igxForScrollContainer",i.verticalScroll)("igxForContainerSize",i.calcHeight)("igxForItemSize",i.renderedRowHeight)("igxForSizePropName","height")}}function v1(e,t){if(1&e){let e=Wg();Mg(0,"div",72,22),ep("focus",(function(t){return Uo(e),qo(rp().navigation.focusTbody(t))}))("keydown",(function(t){return Uo(e),qo(rp().navigation.handleNavigation(t))})),Xu(2,f1,3,6,"ng-container",73),Xp(3,"pivotGridHorizontalRowGrouping"),Ng()}if(2&e){let e=rp();yg("height",e.totalHeight,"px"),Ac(2),fg("ngIf",em(3,3,e.dataView,e.pivotConfiguration,e.pipeTrigger,e.regroupTrigger))}}function y1(e,t){if(1&e){let e=Wg();Mg(0,"div",69,22),ep("focus",(function(t){return Uo(e),qo(rp(2).navigation.focusTbody(t))}))("keydown",(function(t){return Uo(e),qo(rp(2).navigation.handleNavigation(t))})),Lg(2,"igx-pivot-row-dimension-content",71),Ng()}if(2&e){let e=rp(2);Ac(2),fg("grid",e)("dimension",e.emptyRowDimension)("rootDimension",e.emptyRowDimension)("rowIndex",0)("rowData",e.dataView[0])("width",e.rowDimensionWidthToPixels(e.emptyRowDimension))}}function x1(e,t){if(1&e&&Xu(0,y1,3,6,"div",76),2&e){let e=rp();fg("ngIf",e.columnDimensions.length>0||e.values.length>0)}}function w1(e,t){if(1&e&&(Mg(0,"span",63)(1,"span"),fp(2),Ng()()),2&e){let e=rp();Ac(2),yp(e.resourceStrings.igx_grid_pivot_empty_message)}}function _1(e,t){1&e&&(Mg(0,"div",56,24),ap(2,2),Ng())}var C1=0,S1=(()=>{let e=class extends vq{get dimensionsSortingExpressions(){let e=this.rowDimensions.concat(this.columnDimensions);return g0.generateDimensionSortingExpressions(e)}set pivotConfiguration(e){this._pivotConfiguration=e,this.emitInitEvents(this._pivotConfiguration),this.filteringExpressionsTree=wO.buildExpressionTree(e),this._init||this.setupColumns(),this.notifyChanges(!0)}get pivotConfiguration(){return this._pivotConfiguration||{rows:null,columns:null,values:null,filters:null}}set pivotUI(e){this._pivotUI=Object.assign(this._pivotUI,e||{}),this.pipeTrigger++,this.notifyChanges(!0)}get pivotUI(){return this._pivotUI}get superCompactMode(){return this._superCompactMode}set superCompactMode(e){this._superCompactMode=e}get gridSize(){return this.superCompactMode?DS:super.gridSize}get pivotValueCloneStrategy(){return this._pivotValueCloneStrategy}set pivotValueCloneStrategy(e){e&&(this._pivotValueCloneStrategy=e)}get minColumnWidth(){return this.superCompactMode?104:200}get pivotKeys(){return this.pivotConfiguration.pivotKeys||fO}get type(){return"pivot"}get rootSummariesEnabled(){return!1}get emptyRowDimension(){return this._emptyRowDimension}get defaultExpandState(){return this._defaultExpandState}set defaultExpandState(e){this._defaultExpandState=e}get pagingMode(){}set pagingMode(e){}get hideRowSelectors(){}set hideRowSelectors(e){}get actionStrip(){}get rowDraggable(){}set rowDraggable(e){}get allowAdvancedFiltering(){return!1}set allowAdvancedFiltering(e){}get filterMode(){return dS}set filterMode(e){}get allowFiltering(){return!1}set allowFiltering(e){}get page(){return 0}set page(e){}get perPage(){}set perPage(e){}get pinnedColumns(){return[]}get unpinnedColumns(){return super.unpinnedColumns}get unpinnedDataView(){return super.unpinnedDataView}get unpinnedWidth(){return super.unpinnedWidth}get pinnedWidth(){return super.pinnedWidth}set summaryRowHeight(e){}get summaryRowHeight(){return 0}get transactions(){return this._transactions}get dragIndicatorIconTemplate(){}set dragIndicatorIconTemplate(e){}get rowEditable(){}set rowEditable(e){}get pinning(){return{}}set pinning(e){}get summaryPosition(){}set summaryPosition(e){}get summaryCalculationMode(){}set summaryCalculationMode(e){}get showSummaryOnCollapse(){}set showSummaryOnCollapse(e){}get hiddenColumnsCount(){return null}get pinnedColumnsCount(){return null}get batchEditing(){}set batchEditing(e){}get selectedRows(){if(0===this.selectionService.getSelectedRows().length)return[];let e=[];return this.dataView.forEach((t=>{let i=[];for(let n of this.rowDimensions){let r=n,s=!1;do{let i=wO.getRecordKey(t,r);if(this.selectionService.isPivotRowSelected(i)&&!e.find((e=>e===t))){e.push(t),s=!0;break}r=r.childLevel}while(r);if(i.push(n),s)break}})),e}constructor(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,v,y,x,w){super(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,v,y,x,w),this.dimensionsChange=new yl,this.pivotConfigurationChange=new yl,this.dimensionInit=new yl,this.valueInit=new yl,this.dimensionsSortingExpressionsChange=new yl,this.valuesChange=new yl,this.autoGenerateConfig=!1,this.role="grid",this.autoGenerateExclude=[],this.snackbarDisplayTime=6e3,this.cellEdit=new yl,this.cellEditDone=new yl,this.cellEditEnter=new yl,this.cellEditExit=new yl,this.columnMovingStart=new yl,this.columnMoving=new yl,this.columnMovingEnd=new yl,this.columnPin=new yl,this.columnPinned=new yl,this.rowAdd=new yl,this.rowAdded=new yl,this.rowDeleted=new yl,this.rowDelete=new yl,this.rowDragStart=new yl,this.rowDragEnd=new yl,this.rowEditEnter=new yl,this.rowEdit=new yl,this.rowEditDone=new yl,this.rowEditExit=new yl,this.rowPinning=new yl,this.rowPinned=new yl,this.columnGroupStates=new Map,this.dragRowID=null,this.rowDimensionResizing=!0,this._emptyRowDimension={memberName:"",enabled:!0,level:0},this._pivotValueCloneStrategy=new XC,this._defaultExpandState=!1,this._filterStrategy=new YJ,this.regroupTrigger=0,this._pivotConfiguration={rows:null,columns:null,values:null,filters:null},this.p_id="igx-pivot-grid-"+C1++,this._superCompactMode=!1,this._pivotUI={showConfiguration:!0,showRowHeaders:!1,rowLayout:yO.Vertical,horizontalSummariesPosition:xO.Bottom},this._sortableColumns=!0,this._visibleRowDimensions=[],this.autoGenerate=!0,this.moving=!1,this.toolbarExporting=new yl}ngOnInit(){this.autoGenerate=!0,super.ngOnInit()}ngAfterContentInit(){this.updateColumns([]),Promise.resolve().then((()=>{this.autoGenerateConfig&&this.generateConfig(),this.setupColumns()})),this.valueChipTemplateDirective&&(this.valueChipTemplate=this.valueChipTemplateDirective.template),this.rowDimensionHeaderDirective&&(this.rowDimensionHeaderTemplate=this.rowDimensionHeaderDirective.template)}ngAfterViewInit(){Promise.resolve().then((()=>{super.ngAfterViewInit()}))}notifyDimensionChange(e=!1){e&&this.setupColumns(),this.pipeTrigger++,this.cdr.detectChanges()}get allDimensions(){let e=this._pivotConfiguration;return e?(e.rows||[]).concat(e.columns||[]).concat(e.filters||[]).filter((e=>null!=e)):[]}get allVisibleDimensions(){let e=this._pivotConfiguration;if(!e)return[];let t=this.visibleRowDimensions.filter((t=>!e.rows.find((e=>e.memberName===t.memberName))));return(e.rows||[]).concat(...t).concat(e.columns||[]).concat(e.filters||[]).filter((e=>null!=e))}createFilterESF(e,t,i,n){if(i.outlet=this.outlet,e){if(e.initialize(t,this.overlayService),n){let t=this.overlayService.attach(e.element,i);return e.overlayComponentId=t,{id:t,ref:void 0}}return{id:e.overlayComponentId,ref:void 0}}}featureColumnsWidth(){return this.pivotRowWidths}get id(){return this.p_id}set id(e){this.p_id=e}set data(e){this._data=e||[],this._init||(this.autoGenerateConfig&&this.generateConfig(),this.setupColumns(),this.reflow()),this.cdr.markForCheck(),(null===this.height||-1!==this.height.indexOf("%"))&&this.notifyChanges(!0)}get data(){return this._data}getContext(e,t){return{$implicit:e,templateID:{type:"dataRow",id:null},index:this.getDataViewIndex(t,!1)}}get pivotRowWidths(){return this.visibleRowDimensions.length?this.visibleRowDimensions.reduce(((e,t)=>e+this.rowDimensionWidthToPixels(t)),0):this.rowDimensionWidthToPixels(this.emptyRowDimension)}rowDimensionWidth(e,t=!1){return e.width&&-1!==e.width.indexOf("auto")?e.autoWidth?e.autoWidth+"px":"fit-content":this.rowDimensionWidthToPixels(e,t)+"px"}rowDimensionWidthToPixels(e,t=!1){if(!t&&this.shouldGenerate)return 0;if(!e?.width)return 200;let i=e.width&&-1!==e.width.indexOf("%"),n=e.width&&-1!==e.width.indexOf("auto");return i?Math.round(parseFloat(e.width)/100*this.calcWidth):n?e.autoWidth:parseInt(e.width,10)}reverseDimensionWidthToPercent(e){return 100*e/this.calcWidth}get pivotContentCalcWidth(){let e=this.rowDimensions.length>0?this.rowDimensions.map((e=>this.rowDimensionWidthToPixels(e))).reduce(((e,t)=>e+t)):0;return this.calcWidth-e}get pivotPinnedWidth(){return this.shouldGenerate?0:this.isPinningToStart?this.pinnedWidth:this.headerFeaturesWidth}get pivotUnpinnedWidth(){return this.shouldGenerate?0:this.unpinnedWidth}get rowDimensions(){return this.pivotConfiguration.rows?.filter((e=>e.enabled))||[]}set visibleRowDimensions(e){this._visibleRowDimensions=e}get visibleRowDimensions(){return this._visibleRowDimensions||this.rowDimensions}get columnDimensions(){return this.pivotConfiguration.columns?.filter((e=>e.enabled))||[]}get filterDimensions(){return this.pivotConfiguration.filters?.filter((e=>e.enabled))||[]}get values(){return this.pivotConfiguration.values?.filter((e=>e.enabled))||[]}toggleColumn(e){let t=!this.columnGroupStates.get(e.field);this.columnGroupStates.set(e.field,t),this.toggleRowGroup(e,t),this.reflow()}getColumnWidthSum(){let e=super.getColumnWidthSum();return e+=this.rowDimensions.map((e=>this.rowDimensionWidthToPixels(e,!0))).reduce(((e,t)=>e+t),0),e}isRecordPinnedByIndex(e){return null}toggleColumnVisibility(e){}expandAll(){}collapseAll(){}expandRow(e){}collapseRow(e){}get pinnedRows(){}get totalRecords(){}set totalRecords(e){}moveColumn(e,t,i=NM.AfterDropTarget){}addRow(e){}deleteRow(e){}updateCell(e,t,i){}updateRow(e,t){}enableSummaries(...e){}disableSummaries(...e){}pinColumn(e,t){}unpinColumn(e,t){}pinRow(e,t,i){}unpinRow(e,t){}get pinnedRowHeight(){}get hasEditableColumns(){}get hasSummarizedColumns(){}get hasMovableColumns(){}get pinnedDataView(){return[]}openAdvancedFilteringDialog(e){}closeAdvancedFilteringDialog(e){}endEdit(e=!0,t){}beginAddRowById(e,t){}beginAddRowByIndex(e){}clearSearch(){}refreshSearch(e,t=!0){return 0}findNext(e,t,i){return 0}findPrev(e,t,i){return 0}getNextCell(e,t,i=null){return super.getNextCell(e,t,i)}getPreviousCell(e,t,i=null){return super.getPreviousCell(e,t,i)}getPinnedWidth(e=!1){return super.getPinnedWidth(e)}get totalHeight(){return this.calcHeight}getColumnGroupExpandState(e){return this.columnGroupStates.get(e.field)??!1}toggleRowGroup(e,t){if(e)if(this.hasMultipleValues){let i=e.parent?e.parent.children.toArray():this._autoGeneratedCols.filter((e=>0===e.level)),n=i.filter((t=>t.header===e.header&&t!==e))[0];i.indexOf(e)<i.indexOf(n)?(this.resolveToggle(e,t),n.headerTemplate=this.headerTemplate):(e.headerTemplate=void 0,this.resolveToggle(n,t))}else{let i=e.parent?e.parent.children:this._autoGeneratedCols.filter((e=>0===e.level)),n=i.filter((t=>t.header===e.header&&!t.columnGroup))[0],r=i.filter((t=>t.header===e.header&&t.columnGroup))[0];this.resolveToggle(r,t),n.headerTemplate=t?this.headerTemplate:void 0}}setupColumns(){super.setupColumns()}dataRebinding(e){this.hasHorizontalLayout&&(this.dimensionDataColumns=this.generateDimensionColumns()),super.dataRebinding(e)}autoSizeRowDimension(e){if(this.getDimensionType(e)===vO.Row){let t=wO.flatten([e]).map((e=>e.memberName)),i=this.getContentCollection(e).filter((e=>-1!==t.indexOf(e.dimension.memberName))).map((e=>e.headerGroups.toArray())).flat().map((e=>e.header&&e.header.refInstance));if(this.pivotUI.showRowHeaders){let t=this.theadRow.rowDimensionHeaders.find((t=>t.column.field===e.memberName));i.push(t)}let n=this.getLargesContentWidth(i);"auto"===e.width?e.autoWidth=parseFloat(n):e.width=n,this.pipeTrigger++,this.cdr.detectChanges()}}insertDimensionAt(e,t,i){let n=this.getDimensionsByType(t);void 0!==i?n.splice(i,0,e):n.push(e),t===vO.Column&&this.setupColumns(),this.pipeTrigger++,this.dimensionsChange.emit({dimensions:n,dimensionCollectionType:t}),t===vO.Filter&&(this.dimensionDataColumns=this.generateDimensionColumns(),this.reflow()),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration})}moveDimension(e,t,i){let n=this.getDimensionType(e);null!==n&&(this._removeDimensionInternal(e),this.insertDimensionAt(e,t,i),n===vO.Column&&this.setupColumns())}removeDimension(e){let t=this.getDimensionType(e);this._removeDimensionInternal(e),t===vO.Column&&this.setupColumns(),t===vO.Filter&&this.reflow(),this.pipeTrigger++,this.cdr.detectChanges()}toggleDimension(e){let t=this.getDimensionType(e);if(null===t)return;let i=this.getDimensionsByType(t);e.enabled=!e.enabled,t===vO.Column&&this.setupColumns(),!e.enabled&&e.filter&&this.filteringService.clearFilter(e.memberName),this.pipeTrigger++,this.dimensionsChange.emit({dimensions:i,dimensionCollectionType:t}),this.cdr.detectChanges(),t===vO.Filter&&this.reflow(),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration})}insertValueAt(e,t){this.pivotConfiguration.values||(this.pivotConfiguration.values=[]);let i=this.pivotConfiguration.values;void 0!==t?i.splice(t,0,e):i.push(e),this.setupColumns(),this.pipeTrigger++,this.cdr.detectChanges(),this.valuesChange.emit({values:i}),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration})}moveValue(e,t){-1!==this.pivotConfiguration.values.indexOf(e)&&(this.removeValue(e),this.insertValueAt(e,t))}removeValue(e){let t=this.pivotConfiguration.values,i=t.indexOf(e);-1!==i&&(t.splice(i,1),this.setupColumns(),this.pipeTrigger++,this.valuesChange.emit({values:t}),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration}))}toggleValue(e){-1!==this.pivotConfiguration.values.indexOf(e)&&(e.enabled=!e.enabled,this.setupColumns(),this.pipeTrigger++,this.valuesChange.emit({values:this.pivotConfiguration.values}),this.reflow(),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration}))}sortDimension(e,t){let i=this.getDimensionType(e);e.sortDirection=t;let n=e;if(this.pivotUI.rowLayout===yO.Vertical)for(;n.childLevel;)n.childLevel.sortDirection=e.sortDirection,n=n.childLevel;this.pipeTrigger++,this.dimensionsSortingExpressionsChange.emit(this.dimensionsSortingExpressions),i===vO.Column&&this.setupColumns(),this.cdr.detectChanges(),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration})}filterDimension(e,t,i){this.filteringService.filter(e.memberName,t,i),this.getDimensionType(e)===vO.Column&&this.setupColumns(),this.cdr.detectChanges()}getRowDimensionByName(e){let t=this.pivotUI.rowLayout===yO.Vertical?this.pivotConfiguration.rows:wO.flatten(this.pivotConfiguration.rows),i=t.findIndex((t=>t.memberName===e));return t[i]}getDimensionsByType(e){switch(e){case vO.Row:return this.pivotConfiguration.rows||(this.pivotConfiguration.rows=[]),this.pivotConfiguration.rows;case vO.Column:return this.pivotConfiguration.columns||(this.pivotConfiguration.columns=[]),this.pivotConfiguration.columns;case vO.Filter:return this.pivotConfiguration.filters||(this.pivotConfiguration.filters=[]),this.pivotConfiguration.filters;default:return null}}resizeRowDimensionPixels(e,t){e.width&&"string"==typeof e.width&&-1!==e.width.indexOf("%")?e.width=this.reverseDimensionWidthToPercent(t).toFixed(2)+"%":e.width=t+"px",this.pipeTrigger++,this.cdr.detectChanges()}_removeDimensionInternal(e){let t=this.getDimensionType(e);if(null===t)return;let i=this.getDimensionsByType(t),n=i.indexOf(e);i.splice(n,1),this.pipeTrigger++,this.cdr.detectChanges()}getDimensionType(e){return-1!==wO.flatten(this.pivotConfiguration.rows).indexOf(e)?vO.Row:-1!==wO.flatten(this.pivotConfiguration.columns).indexOf(e)?vO.Column:this.pivotConfiguration.filters&&-1!==wO.flatten(this.pivotConfiguration.filters).indexOf(e)?vO.Filter:null}getPivotRowHeaderContentWidth(e){let t=this.getHeaderCellWidth(e.header.refInstance.nativeElement);return t.width+t.padding}getLargesContentWidth(e){let t=new Map;if(e.length>0){let i=[];e.forEach((e=>{e instanceof KQ?i.push(this.getPivotRowHeaderContentWidth(e)):i.push(this.getHeaderCellWidth(e.nativeElement).width)}));let n=i.indexOf(Math.max(...i)),r=this.document.defaultView.getComputedStyle(e[n].nativeElement),s=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth);t.set(Math.max(...i),s)}let i=Math.max(...Array.from(t.keys())),n=Math.ceil(i+t.get(i));return Number.isNaN(n)?null:n+"px"}get hasHorizontalLayout(){return this.pivotUI.rowLayout===yO.Horizontal}get hasMultipleValues(){return this.values.length>1}get excelStyleFilterMaxHeight(){return 10*this.renderedRowHeight+"px"}get excelStyleFilterMinHeight(){return 5*this.renderedRowHeight+"px"}get activeDescendant(){let e=this.navigation.activeNode;return this.navigation.isRowHeaderActive||this.navigation.isRowDimensionHeaderActive?e&&Object.keys(e).length?`${this.id}_${e.row}_${e.column}`:this.id:super.activeDescendant}resolveToggle(e,t){if(!e)return;e.hidden=t,this.columnGroupStates.set(e.field,t);let i=this.hasMultipleValues?e.children.filter((e=>e.columnGroup&&e.children.filter((e=>!e.columnGroup)).length===this.values.length)):e.children.filter((e=>!e.columnGroup)),n=this.hasMultipleValues?e.children.filter((e=>e.columnGroup&&0===e.children.filter((e=>!e.columnGroup)).length)):e.children.filter((e=>e.columnGroup));i.forEach((e=>{this.columnGroupStates.get(e.field)||t?e.headerTemplate=this.headerTemplate:e.headerTemplate=void 0})),!e.hidden&&n.length>0&&n.forEach((e=>{let i=this.columnGroupStates.get(e.field)||t;this.resolveToggle(e,i)}))}calcGridHeadRow(){}buildDataView(e){this._dataView=e}getDataBasedBodyHeight(){return(this.dataView?.length||0)<this._defaultTargetRecordNumber?0:this.defaultTargetBodyHeight}horizontalScrollHandler(e){let t=e.target.scrollLeft;this.theadRow.headerContainers.forEach((e=>{e.onHScroll(t)})),super.horizontalScrollHandler(e)}verticalScrollHandler(e){this.verticalRowDimScrollContainers.forEach((t=>{t.onScroll(e)})),super.verticalScrollHandler(e)}autogenerateColumns(){let e=[],t=this.gridAPI.filterDataByExpressions(this.filteringExpressionsTree);this.dimensionDataColumns=this.generateDimensionColumns();let i,n=wO.flatten(this.columnDimensions).filter((e=>e.sortDirection)),r=n.length>0?g0.generateDimensionSortingExpressions(n):[],s=t;if(r.length>0&&(s=JC.sort(lC(t),r,this.sortStrategy,this)),this.pivotConfiguration.columnStrategy&&this.pivotConfiguration.columnStrategy instanceof jJ){let e=this.generateDataFields(s);if(0===e.length)return;let t=wO.flatten(this.pivotConfiguration.rows).map((e=>e.memberName)),n=Object.values(this.pivotKeys),r=e.filter((e=>-1===t.indexOf(e)&&-1===n.indexOf(e)&&-1===e.indexOf(this.pivotKeys.rowDimensionSeparator+this.pivotKeys.level)&&-1===e.indexOf(this.pivotKeys.rowDimensionSeparator+this.pivotKeys.records)));i=this.generateFromData(r)}else i=wO.getFieldsHierarchy(s,this.columnDimensions,vO.Column,this.pivotKeys,this.pivotValueCloneStrategy);e=this.generateColumnHierarchy(i,s),this._autoGeneratedCols=e,this.columnGroupStates.forEach(((t,i)=>{if(t){let n=e.find((e=>e.field===i&&e.headerTemplate===this.headerTemplate)),r=e.find((e=>e.field===i&&e.headerTemplate!==this.headerTemplate));this.toggleRowGroup(n,t),r&&(r.headerTemplate=this.headerTemplate)}})),this.updateColumns(e),this.pipeTrigger++,this.reflow(),t&&t.length>0&&(this.shouldGenerate=!1)}generateDimensionColumns(){let e=[];return this.allVisibleDimensions.forEach((t=>{let i=ef(zM,{environmentInjector:this.envInjector,elementInjector:this.injector});i.instance.field=t.memberName,i.instance.header=t.displayName||t.memberName,i.instance.headerTemplate=this.rowDimensionHeaderTemplate,i.instance.resizable=this.rowDimensionResizing,i.instance.sortable=void 0===t.sortable||t.sortable,i.instance.width=this.rowDimensionWidth(t),i.changeDetectorRef.detectChanges(),e.push(i.instance)})),e}calculateGridSizes(e=!0){super.calculateGridSizes(e),this.hasDimensionsToAutosize&&(this.cdr.detectChanges(),this.zone.onStable.pipe(un()).subscribe((()=>{requestAnimationFrame((()=>{this.autoSizeDimensionsInView()}))})))}getContentCollection(e){let t;return t=this.hasHorizontalLayout?this.rowDimensionMrlRowsCollection.map((e=>e.contentCells.toArray())).flat().filter((t=>t.rootDimension===e)):this.rowDimensionContentCollection.toArray(),t}autoSizeDimensionsInView(){if(this.hasDimensionsToAutosize)for(let e of this.visibleRowDimensions)if("auto"===e.width){let t=[],i=wO.flatten([e]).map((e=>e.memberName));if(this.getContentCollection(e).filter((e=>-1!==i.indexOf(e.dimension.memberName))).map((e=>e.headerGroups.toArray())).flat().map((e=>e.header&&e.header.refInstance)).forEach((e=>t.push(e?.nativeElement?.offsetWidth||0))),this.pivotUI.showRowHeaders){let i=this.theadRow.rowDimensionHeaders.find((t=>t.column.field===e.memberName));t.push(parseFloat(this.getLargesContentWidth([i])))}if(0===Math.max(...t))continue;let n=Math.ceil(Math.max(...t));e.autoWidth=n}}get hasDimensionsToAutosize(){return this.rowDimensions.some((e=>"auto"===e.width&&!e.autoWidth))}generateFromData(e){let t=this.pivotKeys.columnDimensionSeparator,i=e.map((e=>e.split(t))).sort((e=>e.length)),n=new Map,r=wO.flatten(this.columnDimensions);return i.forEach((e=>{let i=n,s=[],o=0;for(let n of e){s.push(n);let e=s.join(t),a=i.get(e);if(!a){let t=r[o];i.set(e,{value:e,expandable:!!t.childLevel,children:new Map,dimension:t}),a=i.get(e)}i=a.children,o++}})),n}generateColumnHierarchy(e,t,i=null){let n=[];return 0===e.size?(this.values.forEach((e=>{let r=ef(zM,{environmentInjector:this.envInjector,elementInjector:this.injector});r.instance.header=e.displayName,r.instance.field=e.member,r.instance.parent=i,r.instance.sortable=!0,r.instance.dataType=e.dataType||this.resolveDataTypes(t.length?t[0][e.member]:null),r.instance.formatter=e.formatter,n.push(r.instance)})),n):(e.forEach((e=>{let r=!0;if(0===t.length&&(r=!1),!r||null!=e.children&&0!==e.children.length&&0!==e.children.size){if(r){let r=this.createColumnForDimension(e,t,i,!0);e.expandable&&(r.headerTemplate=this.headerTemplate);let s=this.generateColumnHierarchy(e.children,t,r),o=s.filter((e=>e.level===r.level+1));if(n.push(r),this.hasMultipleValues){let a=this.getMeasureChildren(t,r,!0,e.dimension.width),l=o;if(r.children.reset(l),n=n.concat(s),e.dimension.childLevel){let r=this.createColumnForDimension(e,t,i,!0);n.push(r),a=this.getMeasureChildren(t,r,!1,e.dimension?.width),r.children.reset(a),n=n.concat(a)}}else if(r.children.reset(o),n=n.concat(s),e.dimension.childLevel){let r=this.createColumnForDimension(e,t,i,!1);n.push(r)}}}else{let r=this.createColumnForDimension(e,t,i,this.hasMultipleValues);if(n.push(r),this.hasMultipleValues){let i=this.getMeasureChildren(t,r,!1,e.dimension.width);r.children.reset(i),n=n.concat(i)}}})),n)}generateConfig(){if(!this.data)return;let e=this.data,t=this.generateDataFields(e),i=[],n=[],r=[],s=!0;t.forEach((t=>{let o=this.resolveDataTypes(e[0][t]);switch(o){case"number":{let e={member:t,displayName:t,dataType:o,aggregate:{key:"sum",label:"Sum",aggregatorName:"SUM"},enabled:!0};r.push(e);break}case"date":{let e=new F0({memberName:t,enabled:s,dataType:o});n.push(e),s=!1;break}default:{let e={memberName:t,enabled:!1,dataType:o};i.push(e);break}}}));let o={columns:i,rows:n,values:r};this.pivotConfiguration=o}createColumnForDimension(e,t,i,n){let r=e.value,s=ef(n?WM:zM,{environmentInjector:this.envInjector,elementInjector:this.injector});s.instance.header=null!=i?r.split(i.header+this.pivotKeys.columnDimensionSeparator)[1]:r,s.instance.field=r,s.instance.parent=i,e.dimension.width&&(s.instance.width=e.dimension.width);let o=this.values[0];return s.instance.dataType=o?.dataType||this.resolveDataTypes(t[0][o?.member]),s.instance.formatter=o?.formatter,s.instance.sortable=!0,s.changeDetectorRef.detectChanges(),s.instance}resolveColumnDimensionWidth(e){return e.width?e.width:this.minColumnWidth+"px"}getMeasureChildren(e,t,i,n){let r=[],s=this.values.length,o=parseInt(n,10)/s,a=n&&-1!==n.indexOf("%"),l=n&&-1!==n.indexOf("auto");return this.values.forEach((s=>{let d=ef(zM,{environmentInjector:this.envInjector,elementInjector:this.injector});d.instance.header=s.displayName||s.member,d.instance.field=t.field+this.pivotKeys.columnDimensionSeparator+s.member,d.instance.parent=t,n&&(d.instance.width=l?"auto":a?o+"%":o+"px"),d.instance.hidden=i,d.instance.sortable=this._sortableColumns,d.instance.dataType=s.dataType||this.resolveDataTypes(e[0][s.member]),d.instance.formatter=s.formatter,d.changeDetectorRef.detectChanges(),r.push(d.instance)})),r}get template(){return 0===this.rowDimensions.concat(this.columnDimensions).length&&0===this.values.length?this.emptyPivotGridTemplate||this.defaultEmptyPivotGridTemplate:super.template}emitInitEvents(e){wO.flatten(this.allDimensions).forEach((e=>{this.dimensionInit.emit(e)})),e?.values?.forEach((e=>{this.valueInit.emit(e)}))}rowDimensionByName(e){return this.visibleRowDimensions.find((t=>t.memberName===e))}calculateResizerTop(){return this.pivotUI.showRowHeaders?(this.theadRow.pivotFilterContainer?.nativeElement.offsetHeight||0)+(this.theadRow.pivotRowContainer?.nativeElement.offsetHeight||0):this.theadRow.nativeElement.offsetHeight}updateDefaultRowHeight(){super.updateDefaultRowHeight(),this.hasHorizontalLayout&&this.regroupTrigger++}};e.ɵfac=function(t){return new(t||e)(Oc(BU),Oc(_O),Oc(DQ),Oc(yq),Oc(tT),Oc(Nl),Oc(Dl),Oc(of),Oc(Pm),Oc(Km),Oc(iu),Oc(hl),Oc(Is),Oc(XJ),Oc(j$),Oc(rw),Oc(YE),Oc($U),Oc(bm),Oc(fC),Oc(zU,8))},e.ɵcmp=es({type:e,selectors:[["igx-pivot-grid"]],contentQueries:function(e,t,i){if(1&e&&(hp(i,p0,5,p0),hp(i,m0,5,m0)),2&e){let e;gp(e=pp())&&(t.valueChipTemplateDirective=e.first),gp(e=pp())&&(t.rowDimensionHeaderDirective=e.first)}},viewQuery:function(e,t){if(1&e&&(up(KJ,7),up(L0,7,Oh),up(H0,7,Oh),up(c0,5),up(z0,7,Oh),up(B0,5,Nl),up(h$,5,h$),up(d0,5),up(G0,5,dA),up(N0,5)),2&e){let e;gp(e=pp())&&(t.theadRow=e.first),gp(e=pp())&&(t.recordTemplate=e.first),gp(e=pp())&&(t.headerTemplate=e.first),gp(e=pp())&&(t.resizeLine=e.first),gp(e=pp())&&(t.defaultEmptyPivotGridTemplate=e.first),gp(e=pp())&&(t.rowDimensionContainer=e),gp(e=pp())&&(t.excelStyleFilteringComponents=e),gp(e=pp())&&(t.rowDimensionContentCollection=e),gp(e=pp())&&(t.verticalRowDimScrollContainers=e),gp(e=pp())&&(t.rowDimensionMrlRowsCollection=e)}},hostVars:4,hostBindings:function(e,t){2&e&&(tg("role",t.role)("id",t.id),xg("igx-grid__pivot--super-compact",t.superCompactMode))},inputs:{valueChipTemplate:"valueChipTemplate",rowDimensionHeaderTemplate:"rowDimensionHeaderTemplate",pivotConfiguration:"pivotConfiguration",autoGenerateConfig:[2,"autoGenerateConfig","autoGenerateConfig",Zm],pivotUI:"pivotUI",superCompactMode:"superCompactMode",pivotValueCloneStrategy:"pivotValueCloneStrategy",addRowEmptyTemplate:"addRowEmptyTemplate",autoGenerateExclude:"autoGenerateExclude",snackbarDisplayTime:"snackbarDisplayTime",defaultExpandState:[2,"defaultExpandState","defaultExpandState",Zm],pagingMode:"pagingMode",hideRowSelectors:[2,"hideRowSelectors","hideRowSelectors",Zm],rowDraggable:[2,"rowDraggable","rowDraggable",Zm],allowAdvancedFiltering:[2,"allowAdvancedFiltering","allowAdvancedFiltering",Zm],filterMode:"filterMode",allowFiltering:[2,"allowFiltering","allowFiltering",Zm],page:"page",perPage:"perPage",summaryRowHeight:"summaryRowHeight",rowEditable:[2,"rowEditable","rowEditable",Zm],pinning:"pinning",summaryPosition:"summaryPosition",summaryCalculationMode:"summaryCalculationMode",showSummaryOnCollapse:[2,"showSummaryOnCollapse","showSummaryOnCollapse",Zm],batchEditing:[2,"batchEditing","batchEditing",Zm],id:"id",data:"data",totalRecords:"totalRecords",emptyPivotGridTemplate:"emptyPivotGridTemplate"},outputs:{dimensionsChange:"dimensionsChange",pivotConfigurationChange:"pivotConfigurationChange",dimensionInit:"dimensionInit",valueInit:"valueInit",dimensionsSortingExpressionsChange:"dimensionsSortingExpressionsChange",valuesChange:"valuesChange",cellEdit:"cellEdit",cellEditDone:"cellEditDone",cellEditEnter:"cellEditEnter",cellEditExit:"cellEditExit",columnMovingStart:"columnMovingStart",columnMoving:"columnMoving",columnMovingEnd:"columnMovingEnd",columnPin:"columnPin",columnPinned:"columnPinned",rowAdd:"rowAdd",rowAdded:"rowAdded",rowDeleted:"rowDeleted",rowDelete:"rowDelete",rowDragStart:"rowDragStart",rowDragEnd:"rowDragEnd",rowEditEnter:"rowEditEnter",rowEdit:"rowEdit",rowEditDone:"rowEditDone",rowEditExit:"rowEditExit",rowPinning:"rowPinning",rowPinned:"rowPinned"},standalone:!0,features:[kp([iO,BU,$U,_O,R$,yq,{provide:nO,useExisting:e},{provide:j$,useClass:ZJ},XJ,DQ,iA,nA]),Vu,Ru,Pp],ngContentSelectors:W0,decls:76,vars:133,consts:[["tbody",""],["verticalScrollContainer",""],["record_template",""],["loadingOverlay",""],["verticalScrollHolder",""],["addRowSnackbar",""],["igxBodyOverlayOutlet","overlay-outlet"],["scr",""],["scrollContainer",""],["tfoot",""],["footer",""],["emptyFilteredGrid",""],["defaultEmptyGrid",""],["defaultLoadingGrid",""],["igxLoadingOverlayOutlet",""],["igxFilteringOverlayOutlet",""],["headerTemplate",""],["defaultRowDimensionsTemplate",""],["horizontalRowDimensionsTemplate",""],["emptyRowDimensionsTemplate",""],["emptyPivotGridTemplate",""],["row",""],["rowDimensionContainer",""],["verticalRowDimScrollContainer",""],["sink",""],["tabindex","0",1,"igx-grid-thead","igx-grid-thead--pivot",3,"keydown.meta.c","keydown.control.c","copy","keydown","scroll","grid","hasMRL","activeDescendant","width","pinnedColumnCollection","unpinnedColumnCollection"],["igxGridBody","","role","rowgroup",1,"igx-grid__tbody",3,"keydown.control.c","copy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0",1,"igx-grid__tbody-content",3,"keydown","focus","dragStop","scroll","dragScroll","igxGridDragSelect"],["id","left","class","igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop",4,"ngIf"],["id","left","class","igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop","left",4,"ngIf"],["igxGridFor","",3,"dataChanging","dataChanged","igxGridForOf","igxForScrollOrientation","igxForScrollContainer","igxForContainerSize","igxForItemSize","igxGridForOfVariableSizes"],["text","Trial version of Ignite UI for Blazor"],["igxToggle",""],[3,"indeterminate",4,"ngIf"],["id","right","class","igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop",4,"ngIf"],[1,"igx-grid__tbody-scrollbar",3,"pointerdown","hidden"],[1,"igx-grid__tbody-scrollbar-start"],[1,"igx-grid__tbody-scrollbar-main"],["igxGridFor","",3,"igxGridForOf"],[1,"igx-grid__tbody-scrollbar-end"],[1,"igx-grid__addrow-snackbar"],[3,"outlet","actionText","displayTime"],["igxOverlayOutlet",""],[1,"igx-grid__scroll",3,"pointerdown","hidden"],[1,"igx-grid__scroll-start"],[1,"igx-grid__scroll-main"],[1,"igx-grid__scroll-end",3,"hidden"],["role","rowgroup",1,"igx-grid__tfoot"],[1,"igx-grid__footer"],[3,"restrictResizerTop",4,"ngIf"],["igxOverlayOutlet","",1,"igx-grid__loading-outlet"],["igxOverlayOutlet","",1,"igx-grid__outlet"],[3,"hidden"],[3,"maxHeight","minHeight"],["igxExcelStyleColumnOperations","",3,"hidden"],[2,"display","none"],["id","left",1,"igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop"],["id","left",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop"],[3,"cachedViewLoaded","igxTemplateOutlet","igxTemplateOutletContext"],[3,"gridID","index","data","ngClass","ngStyle"],[3,"indeterminate"],["id","right",1,"igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop"],["role","cell",1,"igx-grid__tbody-message"],[1,"igx-grid__loading"],[3,"restrictResizerTop"],[1,"igx-grid__tr--header"],["family","default",3,"click","name"],["tabindex","0","role","rowgroup","class","igx-grid__tbody-pivot-dimension",3,"height","focus","keydown",4,"ngFor","ngForOf"],["tabindex","0","role","rowgroup",1,"igx-grid__tbody-pivot-dimension",3,"focus","keydown"],["igxGridFor","",3,"igxGridForOf","igxForScrollOrientation","igxForScrollContainer","igxForContainerSize","igxForItemSize","igxForSizePropName"],["role","row",1,"igx-grid-thead",3,"grid","dimension","rootDimension","rowIndex","rowData","width"],["tabindex","0",1,"igx-grid__tbody-pivot-mrl-dimension",3,"focus","keydown"],[4,"ngIf"],["role","rowgroup","igxGridFor","",3,"igxGridForOf","igxForScrollOrientation","igxForScrollContainer","igxForContainerSize","igxForItemSize","igxForSizePropName"],[3,"rowIndex","rowGroup","groupedData"],["tabindex","0","role","rowgroup","class","igx-grid__tbody-pivot-dimension",3,"focus","keydown",4,"ngIf"]],template:function(e,t){if(1&e){let e=Wg();op($0),ap(0),Mg(1,"igx-pivot-header-row",25),ep("keydown.meta.c",(function(i){return Uo(e),qo(t.copyHandler(i))}))("keydown.control.c",(function(i){return Uo(e),qo(t.copyHandler(i))}))("copy",(function(i){return Uo(e),qo(t.copyHandler(i))}))("keydown",(function(i){return Uo(e),qo(t.navigation.headerNavigation(i))}))("scroll",(function(i){return Uo(e),qo(t.preventHeaderScroll(i))})),Ng(),Mg(2,"div",26),ep("keydown.control.c",(function(i){return Uo(e),qo(t.copyHandler(i))}))("copy",(function(i){return Uo(e),qo(t.copyHandler(i))})),Xu(3,X0,1,0,"ng-container",27),Mg(4,"div",28,0),ep("keydown",(function(i){return Uo(e),qo(t.navigation.handleNavigation(i))}))("focus",(function(i){return Uo(e),qo(t.navigation.focusTbody(i))}))("dragStop",(function(i){return Uo(e),qo(t.selectionService.dragMode=i)}))("scroll",(function(i){return Uo(e),qo(t.preventContainerScroll(i))}))("dragScroll",(function(i){return Uo(e),qo(t.dragScroll(i))})),Xu(6,Z0,1,2,"span",29)(7,Q0,1,4,"span",30)(8,e1,1,2,"ng-template",31,1,nm),Xp(10,"pivotGridFilter"),Xp(11,"pivotGridSort"),Xp(12,"pivotGridRow"),Xp(13,"pivotGridColumn"),Xp(14,"pivotGridAutoTransform"),Xp(15,"pivotGridColumnSort"),Xp(16,"pivotGridRowExpansion"),ep("dataChanging",(function(i){return Uo(e),qo(t.dataRebinding(i))}))("dataChanged",(function(i){return Uo(e),qo(t.dataRebound(i))})),Xu(17,t1,4,37,"ng-template",null,2,nm)(19,i1,1,0,"ng-container",27),Lg(20,"igc-trial-watermark",32),Ng(),Mg(21,"div",33,3),Xu(23,n1,1,1,"igx-circular-bar",34),Ng(),Xu(24,r1,1,2,"span",35),Mg(25,"div",36),ep("pointerdown",(function(t){return Uo(e),qo(t.preventDefault())})),Lg(26,"div",37),Mg(27,"div",38),Xu(28,s1,0,0,"ng-template",39,4,nm),Ng(),Lg(30,"div",40),Ng(),Mg(31,"div",41)(32,"igx-snackbar",42,5),fp(34),Ng()(),Lg(35,"div",43,6),Ng(),Mg(37,"div",44,7),ep("pointerdown",(function(t){return Uo(e),qo(t.preventDefault())})),Lg(39,"div",45),Mg(40,"div",46),Xu(41,o1,0,0,"ng-template",39,8,nm),Ng(),Lg(43,"div",47),Ng(),Lg(44,"div",48,9),Mg(46,"div",49,10),ap(48,1),Ng(),Xu(49,a1,3,1,"ng-template",null,11,nm)(51,l1,3,1,"ng-template",null,12,nm)(53,d1,2,1,"ng-template",null,13,nm)(55,c1,1,1,"igx-pivot-grid-column-resizer",50),Lg(56,"div",51,14)(58,"div",52,15),Xu(60,h1,3,3,"ng-template",null,16,nm)(62,p1,1,1,"ng-template",null,17,nm)(64,v1,4,8,"ng-template",null,18,nm)(66,x1,1,1,"ng-template",null,19,nm)(68,w1,3,1,"ng-template",null,20,nm),Mg(70,"div",53)(71,"igx-grid-excel-style-filtering",54),Lg(72,"div",55),Mg(73,"igx-excel-style-filter-operations"),Lg(74,"igx-excel-style-search"),Ng()()(),Xu(75,_1,3,0,"div",56)}if(2&e){let e=mp(36),i=mp(63),n=mp(65),r=mp(67);Ac(),fg("grid",t)("hasMRL",t.hasColumnLayouts)("activeDescendant",t.activeDescendant)("width",t.calcWidth)("pinnedColumnCollection",t.pinnedColumns)("unpinnedColumnCollection",t.unpinnedColumns),Ac(2),fg("ngTemplateOutlet",t.rowDimensions.length?t.hasHorizontalLayout?n:i:r)("ngTemplateOutletContext",t),Ac(),yg("height",t.totalHeight,"px")("width",t.pivotContentCalcWidth||null,"px"),fg("igxGridDragSelect",t.selectionService.dragMode),tg("role",t.dataView.length?null:"row")("aria-activedescendant",t.activeDescendant),Ac(2),fg("ngIf",t.hasMovableColumns&&t.columnInDrag&&t.pinnedColumns.length<=0),Ac(),fg("ngIf",t.hasMovableColumns&&t.columnInDrag&&t.pinnedColumns.length>0),Ac(),fg("igxGridForOf",tm(16,97,Hp(124,j0,em(15,92,Jp(14,88,tm(13,81,zp(117,K0,tm(12,74,zp(110,K0,em(11,69,tm(10,62,zp(103,K0,t.data,t.pivotConfiguration,t.filterStrategy,t.advancedFilteringExpressionsTree,t.filteringPipeTrigger,t.pipeTrigger)),t.pivotConfiguration,t.sortStrategy,t.pipeTrigger),t.pivotConfiguration,t.pivotValueCloneStrategy,t.expansionStates,t.pipeTrigger,t.sortingExpressions)),t.pivotConfiguration,t.pivotValueCloneStrategy,t.expansionStates,t.pipeTrigger,t.sortingExpressions)),t.pivotConfiguration,t.pipeTrigger),t.sortingExpressions,t.sortStrategy,t.pipeTrigger),t.pivotConfiguration,t.expansionStates,t.defaultExpandState,t.pipeTrigger)))("igxForScrollOrientation","vertical")("igxForScrollContainer",t.verticalScroll)("igxForContainerSize",t.calcHeight)("igxForItemSize",t.hasColumnLayouts?t.rowHeight*t.multiRowLayoutRowSize+1:t.renderedRowHeight)("igxGridForOfVariableSizes",!1),Ac(11),fg("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Vp(130,U0,t)),Ac(4),fg("ngIf",t.shouldOverlayLoading),Ac(),fg("ngIf",t.hasMovableColumns&&t.columnInDrag),Ac(),yg("width",t.scrollSize,"px"),fg("hidden",!t.hasVerticalScroll()),Ac(),yg("height",t.isRowPinningToTop?t.pinnedRowHeight:0,"px"),Ac(),yg("height",t.calcHeight,"px"),Ac(),fg("igxGridForOf",Fp(132,q0)),Ac(2),yg("height",t.isRowPinningToTop?0:t.pinnedRowHeight,"px"),Ac(2),fg("outlet",e)("actionText",t.resourceStrings.igx_grid_snackbar_addrow_actiontext)("displayTime",t.snackbarDisplayTime),Ac(2),yp(t.resourceStrings.igx_grid_snackbar_addrow_label),Ac(3),yg("height",t.scrollSize,"px"),fg("hidden",t.isHorizontalScrollHidden),Ac(2),yg("width",t.pivotPinnedWidth,"px")("min-width",t.pivotPinnedWidth,"px"),Ac(),yg("width",t.pivotUnpinnedWidth,"px"),Ac(),fg("igxGridForOf",t.EMPTY_DATA),Ac(2),yg("width",t.pivotPinnedWidth,"px")("min-width",t.pivotPinnedWidth,"px"),fg("hidden",0===t.pivotPinnedWidth||t.isPinningToStart),Ac(12),fg("ngIf",t.colResizingService.showResizer),Ac(15),fg("hidden",!0),Ac(),fg("maxHeight",t.excelStyleFilterMaxHeight)("minHeight",t.excelStyleFilterMinHeight),Ac(),fg("hidden",!0),Ac(3),Fg(t.platform.isElements?75:-1)}},dependencies:[cv,lv,av,vv,yv,KJ,Xj,uZ,dW,dA,AA,P0,OA,Pz,RU,FA,c0,FT,d0,h$,d$,c$,GG,SK,bK,f0,y0,v0,C0,S0,D0,b0,x0,w0,N0],encapsulation:2,changeDetection:0});let t=e;return vi([EM()],t.prototype,"hideRowSelectors",null),vi([EM()],t.prototype,"rowEditable",null),t})(),b1=(()=>{let e=class{get options(){return this._options}set options(e){Object.assign(this._options,e),this.grid instanceof bQ?delete this._options.rowIslands:delete this._options.groupBy}constructor(e,t,i,n){this.grid=e,this.viewRef=t,this.envInjector=i,this.injector=n,this.featureKeys=[],this._options={columns:!0,filtering:!0,advancedFiltering:!0,sorting:!0,groupBy:!0,paging:!0,cellSelection:!0,rowSelection:!0,columnSelection:!0,rowPinning:!0,expansion:!0,moving:!0,rowIslands:!0,pivotConfiguration:!0},this.FEATURES={sorting:{getFeatureState:e=>{let t=e.currGrid.sortingExpressions;return t.forEach((e=>{delete e.strategy,delete e.owner})),{sorting:t}},restoreFeatureState:(e,t)=>{e.currGrid.sortingExpressions=t}},filtering:{getFeatureState:e=>{let t=e.currGrid.filteringExpressionsTree;if(t){delete t.owner;for(let e of t.filteringOperands)delete e.owner}return{filtering:t}},restoreFeatureState:(e,t)=>{let i=e.createExpressionsTreeFromObject(t);e.currGrid.filteringExpressionsTree=i}},advancedFiltering:{getFeatureState:e=>{let t,i=e.currGrid.advancedFilteringExpressionsTree;if(i){delete i.owner;for(let e of i.filteringOperands)delete e.owner;t=i}else t={};return{advancedFiltering:t}},restoreFeatureState:(e,t)=>{let i=e.createExpressionsTreeFromObject(t);e.currGrid.advancedFilteringExpressionsTree=i}},columns:{getFeatureState:e=>({columns:e.currGrid.columns.map((e=>({pinned:e.pinned,sortable:e.sortable,filterable:e.filterable,editable:e.editable,sortingIgnoreCase:e.sortingIgnoreCase,filteringIgnoreCase:e.filteringIgnoreCase,headerClasses:e.headerClasses,headerGroupClasses:e.headerGroupClasses,maxWidth:e.maxWidth,groupable:e.groupable,hidden:e.hidden,dataType:e.dataType,hasSummary:e.hasSummary,field:e.field,width:e.width,header:e.header,resizable:e.resizable,searchable:e.searchable,selectable:e.selectable,parent:e.parent?e.parent.header:null,columnGroup:e.columnGroup,disableHiding:e.disableHiding,disablePinning:e.disablePinning,collapsible:e.columnGroup?e.collapsible:void 0,expanded:e.columnGroup?e.expanded:void 0,visibleWhenCollapsed:e.parent?.columnGroup?e.visibleWhenCollapsed:void 0})))}),restoreFeatureState:(e,t)=>{let i=[];t.forEach((t=>{let n=t.columnGroup;if(delete t.columnGroup,n){let n=ef(WM,{environmentInjector:this.envInjector,elementInjector:this.injector});if(Object.assign(n.instance,t),n.instance.grid=e.currGrid,n.instance.parent){let e=i.find((e=>e.header===n.instance.parent&&e.columnGroup));e.children.reset([...e.children.toArray(),n.instance]),n.instance.parent=e}n.changeDetectorRef.detectChanges(),i.push(n.instance)}else{let n=ef(zM,{environmentInjector:this.envInjector,elementInjector:this.injector});if(Object.assign(n.instance,t),n.instance.grid=e.currGrid,n.instance.parent){let e=i.find((e=>e.header===n.instance.parent&&e.columnGroup));e&&(n.instance.parent=e,e.children.reset([...e.children.toArray(),n.instance]))}n.changeDetectorRef.detectChanges(),i.push(n.instance)}})),e.currGrid.updateColumns(i),i.forEach((t=>{e.currGrid.columnInit.emit(t)}))}},groupBy:{getFeatureState:e=>{let t=e.currGrid,i=t.groupingExpressions;return i.forEach((e=>{delete e.strategy})),{groupBy:{expressions:i,expansion:t.groupingExpansionState,defaultExpanded:t.groupsExpanded}}},restoreFeatureState:(e,t)=>{let i=e.currGrid;i.groupingExpressions=t.expressions,t.expansion.forEach((e=>{e.hierarchy.forEach((e=>{let t=i.columns.find((t=>t.field===e.fieldName)).dataType;(t.includes(QC.Date)||t.includes(QC.Time))&&(e.value=e.value?new Date(Date.parse(e.value)):e.value)}))})),i.groupsExpanded!==t.defaultExpanded&&i.toggleAllGroupRows(),i.groupingExpansionState=t.expansion}},paging:{getFeatureState:e=>({paging:e.currGrid.pagingState}),restoreFeatureState:(e,t)=>{e.currGrid.paginator&&(e.currGrid.perPage!==t.recordsPerPage&&(e.currGrid.perPage=t.recordsPerPage,e.currGrid.cdr.detectChanges()),e.currGrid.page=t.index)}},moving:{getFeatureState:e=>({moving:e.currGrid.moving}),restoreFeatureState:(e,t)=>{e.currGrid.moving=t}},rowSelection:{getFeatureState:e=>({rowSelection:e.currGrid.selectionService.getSelectedRows()}),restoreFeatureState:(e,t)=>{e.currGrid.selectRows(t,!0)}},cellSelection:{getFeatureState:e=>({cellSelection:e.currGrid.getSelectedRanges().map((e=>({rowStart:e.rowStart,rowEnd:e.rowEnd,columnStart:e.columnStart,columnEnd:e.columnEnd})))}),restoreFeatureState:(e,t)=>{t.forEach((t=>{let i={rowStart:t.rowStart,rowEnd:t.rowEnd,columnStart:t.columnStart,columnEnd:t.columnEnd};e.currGrid.selectRange(i)}))}},columnSelection:{getFeatureState:e=>({columnSelection:e.currGrid.selectedColumns().map((e=>e.field))}),restoreFeatureState:(e,t)=>{e.currGrid.deselectAllColumns(),e.currGrid.selectColumns(t)}},rowPinning:{getFeatureState:e=>({rowPinning:e.currGrid.pinnedRows?.map((e=>e.key))}),restoreFeatureState:(e,t)=>{e.currGrid.pinnedRows.forEach((e=>e.unpin())),t.forEach((t=>e.currGrid.pinRow(t)))}},pinningConfig:{getFeatureState:e=>({pinningConfig:e.currGrid.pinning}),restoreFeatureState:(e,t)=>{e.currGrid.pinning=t}},expansion:{getFeatureState:e=>({expansion:Array.from(e.currGrid.expansionStates)}),restoreFeatureState:(e,t)=>{let i=new Map(t);e.currGrid.expansionStates=i}},rowIslands:{getFeatureState(e){let t=[],i=e.currGrid.allLayoutList;return i&&i.forEach((i=>{i.rowIslandAPI.getChildGrids().forEach((n=>{let r=this.getParentRowID(n);if(e.currGrid=n,e.currGrid){let n=e.buildState(e.featureKeys);t.push({id:`${i.id}`,parentRowID:r,state:n})}}))})),e.currGrid=e.grid,{rowIslands:t}},restoreFeatureState(e,t){let i=e.currGrid.allLayoutList;i&&i.forEach((i=>{i.rowIslandAPI.getChildGrids().forEach((n=>{let r=this.getParentRowID(n);e.currGrid=n;let s=t.find((e=>e.id===i.id&&e.parentRowID===r));s&&e.currGrid&&e.restoreGridState(s.state,e.featureKeys)}))})),e.currGrid=e.grid},getParentRowID:e=>{let t;for(;e.parent;)t=e,e=e.parent;return e.gridAPI.getParentRowId(t)}},pivotConfiguration:{getFeatureState(e){let t=e.currGrid.pivotConfiguration;if(!(t&&e.currGrid instanceof S1))return{pivotConfiguration:void 0};let i=hC(t);return i.rows=lC(t.rows,!0),i.columns=lC(t.columns,!0),i.filters=lC(t.filters,!0),[...i.rows||[],...i.columns||[],...i.filters||[]].filter((t=>e.isDateDimension(t)))?.forEach((e=>{e.resourceStrings={}})),{pivotConfiguration:i}},restoreFeatureState(e,t){let i=t;!i||!(e.currGrid instanceof S1)||(e.restoreValues(i,e.currGrid),e.restoreDimensions(i),e.currGrid.pivotConfiguration=i)}}}}getStateInternal(e=!0,t){let i;return this.currGrid=this.grid,this.state=i=this.buildState(t),e&&(i=JSON.stringify(i,this.stringifyCallback)),i}setStateInternal(e,t){this.state=e,this.currGrid=this.grid,this.restoreGridState(e,t),this.grid.cdr.detectChanges()}buildState(e){this.applyFeatures(e);let t={};return this.featureKeys.forEach((e=>{if(this.options[e]){if(!(this.grid instanceof bQ)&&"groupBy"===e)return;let i=this.getFeature(e)?.getFeatureState(this);t=Object.assign(t,i)}})),t}restoreGridState(e,t){this.applyFeatures(t),this.restoreFeatures(e)}restoreFeatures(e){this.featureKeys.forEach((t=>{if(this.options[t]){let i=e[t];("moving"===t||i)&&this.getFeature(t).restoreFeatureState(this,i)}}))}applyFeatures(e){if(this.featureKeys=[],e)Array.isArray(e)?this.featureKeys=[...e]:this.featureKeys.push(e);else for(let e of Object.keys(this.options))this.featureKeys.push(e)}restoreDimensions(e){let t=[e.rows,e.columns,e.filters];for(let e of t)for(let t=0;t<e?.length;t++){let i=e[t];this.isDateDimension(i)&&this.restoreDateDimension(i),i.filter&&(i.filter=this.createExpressionsTreeFromObject(i.filter))}}restoreDateDimension(e){let t=new F0(e._baseDimension,e._options);e.resourceStrings=t.resourceStrings,e.memberFunction=t.memberFunction;let i=e,n=t;for(;i.childLevel;)i=i.childLevel,n=n.childLevel,i.memberFunction=n.memberFunction}isDateDimension(e){return e._baseDimension}restoreValues(e,t){let i=e.values;for(let e of i){let i=e.aggregateList,n=wO.getAggregatorsForValue(e,t);if(e.aggregate.aggregator=n.find((t=>t.key===e.aggregate.key&&t.label===e.aggregate.label))?.aggregator,i)for(let e of i)e.aggregator=n.find((t=>t.key===e.key&&t.label===e.label))?.aggregator}}createExpressionsTreeFromObject(e){if(!e||!e.filteringOperands)return null;let t=new iS(e.operator,e.fieldName);for(let i of e.filteringOperands)if(i.filteringOperands){let e=this.createExpressionsTreeFromObject(i);t.filteringOperands.push(e)}else{let e,n=i;if(this.currGrid instanceof S1)e=this.currGrid.allDimensions.find((e=>e.memberName===n.fieldName)).dataType;else if(this.currGrid.columns.length>0)e=this.currGrid.columns.find((e=>e.field===n.fieldName)).dataType;else{if(!this.state.columns)return null;e=this.state.columns.find((e=>e.field===n.fieldName)).dataType}Array.isArray(n.searchVal)?n.searchVal=new Set(n.searchVal):n.searchVal=!n.searchVal||"date"!==e&&"dateTime"!==e?n.searchVal:new Date(Date.parse(n.searchVal));let r=this.generateFilteringCondition(e,n.condition.name)||this.currGrid.columns.find((e=>e.field===n.fieldName)).filters.condition(n.condition.name);r&&(n.condition=r,t.filteringOperands.push(n))}return t}generateFilteringCondition(e,t){let i;switch(e){case QC.Boolean:i=KA.instance();break;case QC.Number:i=XA.instance();break;case QC.Date:i=UA.instance();break;case QC.DateTime:i=qA.instance();break;default:i=ZA.instance()}return i.condition(t)}stringifyCallback(e,t){return"searchVal"===e&&t instanceof Set?Array.from(t):t}getFeature(e){return this.FEATURES[e]}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,9),Oc(iu),Oc(Is),Oc(hl))},e.ɵdir=ss({type:e,inputs:{options:"options"}}),e})(),D1=["*"],I1=(()=>{let e=class{};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","excelText",""],["excel-text"]],standalone:!0}),e})(),E1=(()=>{let e=class{};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","csvText",""],["csv-text"]],standalone:!0}),e})(),T1=(()=>{let e=class{constructor(){this.cssClass="igx-grid-toolbar__title"}};return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=es({type:e,selectors:[["igx-grid-toolbar-title"]],hostVars:2,hostBindings:function(e,t){2&e&&xg("igx-grid-toolbar__title",t.cssClass)},standalone:!0,features:[Pp],ngContentSelectors:D1,decls:1,vars:0,template:function(e,t){1&e&&(op(),ap(0))},encapsulation:2}),e})(),R1=(()=>{let e=class{constructor(){this.cssClass="igx-grid-toolbar__actions"}};return e.ɵfac=function(t){return new(t||e)},e.ɵcmp=es({type:e,selectors:[["igx-grid-toolbar-actions"]],hostVars:2,hostBindings:function(e,t){2&e&&xg("igx-grid-toolbar__actions",t.cssClass)},standalone:!0,features:[Pp],ngContentSelectors:D1,decls:1,vars:0,template:function(e,t){1&e&&(op(),ap(0))},encapsulation:2}),e})(),A1=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxGridToolbar",""]],standalone:!0}),e})(),k1=["*"];function O1(e,t){if(1&e&&(Mg(0,"span"),fp(1),Ng()),2&e){let e=rp();Ac(),yp(null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_advanced_filtering_button_label)}}function P1(e,t){if(1&e&&(Mg(0,"span",5),fp(1),Ng()),2&e){let e=rp();Ac(),xp(" (",e.numberOfColumns,") ")}}var F1=(()=>{let e=class{get grid(){return this.toolbar.grid}constructor(e){this.toolbar=e,this.grid?.advancedFilteringExpressionsTreeChange.subscribe((e=>{this.numberOfColumns=this.extractUniqueFieldNamesFromFilterTree(e).length}))}ngAfterViewInit(){this.numberOfColumns=this.grid?.advancedFilteringExpressionsTree?this.extractUniqueFieldNamesFromFilterTree(this.grid?.advancedFilteringExpressionsTree).length:0}extractUniqueFieldNamesFromFilterTree(e){let t=[];return e?(e.filteringOperands.forEach((e=>{e instanceof iS?t.push(...this.extractUniqueFieldNamesFromFilterTree(e)):t.push(e.fieldName)})),[...new Set(t)]):t}};return e.ɵfac=function(t){return new(t||e)(Oc(Qj))},e.ɵcmp=es({type:e,selectors:[["igx-grid-toolbar-advanced-filtering"]],inputs:{overlaySettings:"overlaySettings"},standalone:!0,features:[Pp],ngContentSelectors:k1,decls:7,vars:3,consts:[["ref",""],["igxButton","outlined","type","button","name","btnAdvancedFiltering","igxRipple","",1,"igx-grid-toolbar__adv-filter",3,"click","title"],["family","default","name","filter_list"],[4,"ngIf"],["class","igx-adv-filter--column-number",4,"ngIf"],[1,"igx-adv-filter--column-number"]],template:function(e,t){if(1&e){let e=Wg();op(),Mg(0,"button",1),ep("click",(function(){return Uo(e),qo(t.grid.openAdvancedFilteringDialog(t.overlaySettings))})),Lg(1,"igx-icon",2),Mg(2,"span",null,0),ap(4),Ng(),Xu(5,O1,2,1,"span",3)(6,P1,2,1,"span",4),Ng()}if(2&e){let e=mp(3);fg("title",null==t.grid?null:t.grid.resourceStrings.igx_grid_toolbar_advanced_filtering_button_tooltip),Ac(5),fg("ngIf",!e.textContent.trim()),Ac(),fg("ngIf",null==t.grid?null:t.grid.advancedFilteringExpressionsTree)}},dependencies:[ST,vA,FT,cv],encapsulation:2}),e})(),V1=[[["","igxGridToolbarTitle",""],["igx-grid-toolbar-title"],["igc-grid-toolbar-title"]],"*",[["","igxGridToolbarActions",""],["igx-grid-toolbar-actions"],["igc-grid-toolbar-actions"]]],M1=["[igxGridToolbarTitle],igx-grid-toolbar-title,igc-grid-toolbar-title","*","[igxGridToolbarActions],igx-grid-toolbar-actions,igc-grid-toolbar-actions"];function N1(e,t){1&e&&ap(0,2)}function L1(e,t){1&e&&Lg(0,"igx-grid-toolbar-advanced-filtering")}function H1(e,t){if(1&e&&(Mg(0,"igx-grid-toolbar-actions"),Xu(1,L1,1,0,"igx-grid-toolbar-advanced-filtering",2),Ng()),2&e){let e=rp();Ac(),fg("ngIf",null==e.grid?null:e.grid.allowAdvancedFiltering)}}function z1(e,t){1&e&&Gg(0)}function B1(e,t){1&e&&(Mg(0,"div",5),Lg(1,"igx-linear-bar",6),Ng()),2&e&&(Ac(),fg("indeterminate",!0))}var G1=(()=>{let e=class{get grid(){return this._grid?this._grid:this.api.grid}set grid(e){this._grid=e}get nativeElement(){return this.element.nativeElement}constructor(e,t,i){this.api=e,this.iconService=t,this.element=i,this.showProgress=!1,this.defaultStyle=!0,this.iconService.addSvgIconFromText(HO.name,HO.value,"imx-icons"),this.iconService.addSvgIconFromText(zO.name,zO.value,"imx-icons")}ngOnDestroy(){this.sub?.unsubscribe()}};return e.ɵfac=function(t){return new(t||e)(Oc(rO),Oc(TT),Oc(Nl))},e.ɵcmp=es({type:e,selectors:[["igx-grid-toolbar"]],contentQueries:function(e,t,i){if(1&e&&hp(i,R1,5),2&e){let e;gp(e=pp())&&(t.hasActions=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&xg("igx-grid-toolbar",t.defaultStyle)},inputs:{showProgress:[2,"showProgress","showProgress",Zm],grid:"grid"},standalone:!0,features:[kp([{provide:Qj,useExisting:e}]),Vu,Pp],ngContentSelectors:M1,decls:8,vars:3,consts:[["actions",""],[1,"igx-grid-toolbar__custom-content"],[4,"ngIf"],[4,"ngTemplateOutlet"],["class","igx-grid-toolbar__progress-bar",4,"ngIf"],[1,"igx-grid-toolbar__progress-bar"],[3,"indeterminate"]],template:function(e,t){if(1&e&&(op(V1),ap(0),Mg(1,"div",1),ap(2,1),Ng(),Xu(3,N1,1,0,"ng-template",null,0,nm)(5,H1,2,1,"igx-grid-toolbar-actions",2)(6,z1,1,0,"ng-container",3)(7,B1,2,1,"div",4)),2&e){let e=mp(4);Ac(5),fg("ngIf",!t.hasActions),Ac(),fg("ngTemplateOutlet",e),Ac(),fg("ngIf",t.showProgress)}},dependencies:[cv,R1,F1,yv,Oz],encapsulation:2}),e})(),$1=(()=>{let e=class{set overlaySettings(e){this._overlaySettings=e}get overlaySettings(){return this._overlaySettings}get grid(){return this.toolbar.grid}constructor(e){this.toolbar=e,this.opening=new yl,this.opened=new yl,this.closing=new yl,this.closed=new yl,this.columnToggle=new yl,this.$destroy=new ei,this._overlaySettings={positionStrategy:new zE({horizontalDirection:OE.Left,horizontalStartPoint:OE.Right,verticalDirection:PE.Bottom,verticalStartPoint:PE.Bottom}),scrollStrategy:new XE,modal:!1,closeOnEscape:!0,closeOnOutsideClick:!0}}ngOnDestroy(){this.$destroy.next(),this.$destroy.complete()}toggle(e,t,i){if(i){this._setupListeners(t,i);let e=()=>i.columnsAreaMaxHeight="100%"!==i.columnsAreaMaxHeight?i.columnsAreaMaxHeight:this.columnListHeight??`${Math.max(.5*this.grid.calcHeight,200)}px`;t.opening.pipe(un()).subscribe(e)}t.toggle(Oe(ke({},this.overlaySettings),{target:e,outlet:this.grid.outlet,excludeFromOutsideClick:[e]}))}focusSearch(e){e.querySelector("input")?.focus()}_setupListeners(e,t){t&&(!this.$sub||this.$sub.closed)&&(this.$sub=t.columnToggled.pipe(mn(this.$destroy)).subscribe((e=>this.columnToggle.emit(e)))),e.collapsed?(e.opening.pipe(un(),mn(this.$destroy)).subscribe((e=>this.opening.emit(e))),e.opened.pipe(un(),mn(this.$destroy)).subscribe((e=>this.opened.emit(e)))):(e.closing.pipe(un(),mn(this.$destroy)).subscribe((e=>this.closing.emit(e))),e.closed.pipe(un(),mn(this.$destroy)).subscribe((e=>this.closed.emit(e))))}};return e.ɵfac=function(t){return new(t||e)(Oc(Qj))},e.ɵdir=ss({type:e,inputs:{columnListHeight:"columnListHeight",title:"title",prompt:"prompt",overlaySettings:"overlaySettings"},outputs:{opening:"opening",opened:"opened",closing:"closing",closed:"closed",columnToggle:"columnToggle"}}),e})(),W1=(()=>{let e=class extends $1{constructor(){super(...arguments),this.hideFilter=!1,this.filterCriteria="",this.columnDisplayOrder=_S,this.columnsAreaMaxHeight="100%",this.indentetion=30}checkAll(){this.columnActionsUI.checkAllColumns()}uncheckAll(){this.columnActionsUI.uncheckAllColumns()}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵdir=ss({type:e,inputs:{hideFilter:[2,"hideFilter","hideFilter",Zm],filterCriteria:"filterCriteria",columnDisplayOrder:"columnDisplayOrder",columnsAreaMaxHeight:"columnsAreaMaxHeight",uncheckAllText:"uncheckAllText",checkAllText:"checkAllText",indentetion:"indentetion",buttonText:"buttonText"},features:[Vu,Ru]}),e})(),K1=["*",[["","excelText",""],["excel-text"]],[["","csvText",""],["csv-text"]]],j1=["*","[excelText],excel-text","[csvText],csv-text"];function U1(e,t){if(1&e&&(Mg(0,"span"),fp(1),Ng()),2&e){let e=rp();Ac(),xp(" ",null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_exporter_button_label," ")}}function q1(e,t){if(1&e&&(Mg(0,"excel-text"),fp(1),Ng()),2&e){let e=rp(2);Ac(),xp(" ",null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_exporter_excel_entry_text," ")}}function Y1(e,t){if(1&e){let e=Wg();Mg(0,"li",15,3),ep("click",(function(){Uo(e);let t=rp(),i=mp(10);return qo(t.exportClicked("excel",i))})),Mg(2,"span",null,4),ap(4,1),Ng(),Xu(5,q1,2,1,"excel-text",9),Ng()}if(2&e){let e=mp(3);Ac(5),fg("ngIf",!e.childNodes.length)}}function X1(e,t){if(1&e&&(Mg(0,"csv-text"),fp(1),Ng()),2&e){let e=rp(2);Ac(),xp(" ",null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_exporter_csv_entry_text,"")}}function Z1(e,t){if(1&e){let e=Wg();Mg(0,"li",16,5),ep("click",(function(){Uo(e);let t=rp(),i=mp(10);return qo(t.exportClicked("csv",i))})),Mg(2,"span",null,6),ap(4,2),Ng(),Xu(5,X1,2,1,"csv-text",9),Ng()}if(2&e){let e=mp(3);Ac(5),fg("ngIf",!e.childNodes.length)}}var Q1=(()=>{let e=class extends $1{constructor(e,t,i){super(e),this.excelExporter=t,this.csvExporter=i,this.exportCSV=!0,this.exportExcel=!0,this.filename="ExportedData",this.exportStarted=new yl,this.exportEnded=new yl,this.isExporting=!1}exportClicked(e,t){t?.close(),this.export(e)}export(e){let t,i;switch(e){case"csv":t=new zS(this.filename,BS.CSV),i=this.csvExporter;break;case"excel":t=new Yb(this.filename),i=this.excelExporter}let n={exporter:i,options:t,grid:this.grid,cancel:!1};this.exportStarted.emit(n),this.grid.toolbarExporting.emit(n),this.isExporting=!0,this.toolbar.showProgress=!0,!n.cancel&&(i.exportEnded.pipe(un()).subscribe((()=>{this.exportEnded.emit(),this.isExporting=!1,this.toolbar.showProgress=!1})),i.export(this.grid,t))}};return e.ɵfac=function(t){return new(t||e)(Oc(Qj),Oc(qb),Oc(GS))},e.ɵcmp=es({type:e,selectors:[["igx-grid-toolbar-exporter"]],inputs:{exportCSV:[2,"exportCSV","exportCSV",Zm],exportExcel:[2,"exportExcel","exportExcel",Zm],filename:"filename"},outputs:{exportStarted:"exportStarted",exportEnded:"exportEnded"},standalone:!0,features:[Vu,Ru,Pp],ngContentSelectors:j1,decls:13,vars:5,consts:[["btn",""],["ref",""],["toggleRef","toggle"],["btnExportExcel",""],["excel",""],["btnExportCsv",""],["csv",""],["igxButton","outlined","type","button","igxRipple","",3,"click","title","disabled"],["family","default","name","file_download"],[4,"ngIf"],["family","default","name","arrow_drop_down"],["id","btnExport",1,"igx-grid-toolbar__dropdown"],["igxToggle","",1,"igx-grid-toolbar__dd-list"],["id","btnExportExcel","class","igx-grid-toolbar__dd-list-items","igxRipple","",3,"click",4,"ngIf"],["id","btnExportCsv","class","igx-grid-toolbar__dd-list-items","igxRipple","",3,"click",4,"ngIf"],["id","btnExportExcel","igxRipple","",1,"igx-grid-toolbar__dd-list-items",3,"click"],["id","btnExportCsv","igxRipple","",1,"igx-grid-toolbar__dd-list-items",3,"click"]],template:function(e,t){if(1&e){let e=Wg();op(K1),Mg(0,"button",7,0),ep("click",(function(){Uo(e);let i=mp(1),n=mp(10);return qo(t.toggle(i,n))})),Lg(2,"igx-icon",8),Mg(3,"span",null,1),ap(5),Ng(),Xu(6,U1,2,1,"span",9),Lg(7,"igx-icon",10),Ng(),Mg(8,"div",11)(9,"ul",12,2),Xu(11,Y1,6,1,"li",13)(12,Z1,6,1,"li",14),Ng()()}if(2&e){let e=mp(4);fg("title",null==t.grid?null:t.grid.resourceStrings.igx_grid_toolbar_exporter_button_tooltip)("disabled",t.isExporting),Ac(6),fg("ngIf",!e.textContent.trim()),Ac(5),fg("ngIf",t.exportExcel),Ac(),fg("ngIf",t.exportCSV)}},dependencies:[ST,vA,FT,cv,OA,I1,E1],encapsulation:2}),e})();function J1(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"button",3,0),ep("click",(function(){Uo(e);let t=mp(2),i=mp(9),n=mp(10);return qo(rp().toggle(t,n,i))})),Lg(3,"igx-icon",4),Mg(4,"span"),fp(5),Ng(),Mg(6,"span"),fp(7),Ng()(),Mg(8,"igx-column-actions",5,1),ep("opened",(function(){Uo(e);let t=mp(10);return qo(rp().focusSearch(t.element))})),Ng(),Bg()}if(2&e){let e=rp();Ac(),fg("title",null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_hiding_button_tooltip),Ac(2),fg("name",e.grid.hiddenColumnsCount?"hide":"show"),Ac(2),yp(e.grid.hiddenColumnsCount),Ac(2),yp(e.buttonText),Ac(),fg("grid",e.grid)("title",e.title||(null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_hiding_title))("filterColumnsPrompt",e.prompt||(null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_actions_filter_prompt))("hideFilter",e.hideFilter)("filterCriteria",e.filterCriteria)("columnDisplayOrder",e.columnDisplayOrder)("columnsAreaMaxHeight",e.columnsAreaMaxHeight)("uncheckAllText",e.uncheckAllText)("checkAllText",e.checkAllText)("indentation",e.indentetion)}}var e2=(()=>{let e=class extends W1{set content(e){this.columnActionsUI=e}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵcmp=es({type:e,selectors:[["igx-grid-toolbar-hiding"]],viewQuery:function(e,t){if(1&e&&up(DM,5,wM),2&e){let e;gp(e=pp())&&(t.content=e.first)}},standalone:!0,features:[Ru,Pp],decls:2,vars:3,consts:[["btn",""],["actions","","ref","toggle"],[4,"ngIf"],["igxButton","outlined","type","button","name","btnColumnHiding",3,"click","title"],["family","default",3,"name"],["igxColumnHiding","","igxToggle","",3,"opened","grid","title","filterColumnsPrompt","hideFilter","filterCriteria","columnDisplayOrder","columnsAreaMaxHeight","uncheckAllText","checkAllText","indentation"]],template:function(e,t){1&e&&(Xu(0,J1,11,14,"ng-container",2),Xp(1,"async")),2&e&&fg("ngIf",Zp(1,1,t.grid.rendered$))},dependencies:[cv,ST,FT,wM,DM,OA,Cv],encapsulation:2}),e})();function t2(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"button",3,0),ep("click",(function(){Uo(e);let t=mp(2),i=mp(9),n=mp(10);return qo(rp().toggle(t,n,i))})),Lg(3,"igx-icon",4),Mg(4,"span"),fp(5),Ng(),Mg(6,"span"),fp(7),Ng()(),Mg(8,"igx-column-actions",5,1),ep("opened",(function(){Uo(e);let t=mp(10);return qo(rp().focusSearch(t.element))})),Ng(),Bg()}if(2&e){let e=rp();Ac(),fg("title",null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_pinning_button_tooltip),Ac(2),fg("name",e.grid.pinnedColumnsCount?"pin":"unpin"),Ac(2),yp(e.grid.pinnedColumnsCount),Ac(2),yp(e.buttonText),Ac(),fg("grid",e.grid)("title",e.title||(null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_pinning_title))("filterColumnsPrompt",e.prompt||(null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_actions_filter_prompt))("hideFilter",e.hideFilter)("filterCriteria",e.filterCriteria)("columnDisplayOrder",e.columnDisplayOrder)("columnsAreaMaxHeight",e.columnsAreaMaxHeight)("uncheckAllText",e.uncheckAllText)("checkAllText",e.checkAllText)("indentation",e.indentetion)}}var i2=(()=>{let e=class extends W1{set content(e){this.columnActionsUI=e}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵcmp=es({type:e,selectors:[["igx-grid-toolbar-pinning"]],viewQuery:function(e,t){if(1&e&&up(IM,5,wM),2&e){let e;gp(e=pp())&&(t.content=e.first)}},standalone:!0,features:[Ru,Pp],decls:2,vars:3,consts:[["btn",""],["actions","","ref","toggle"],[4,"ngIf"],["igxButton","outlined","type","button","name","btnColumnPinning",3,"click","title"],["family","default",3,"name"],["igxColumnPinning","","igxToggle","",3,"opened","grid","title","filterColumnsPrompt","hideFilter","filterCriteria","columnDisplayOrder","columnsAreaMaxHeight","uncheckAllText","checkAllText","indentation"]],template:function(e,t){1&e&&(Xu(0,t2,11,14,"ng-container",2),Xp(1,"async")),2&e&&fg("ngIf",Zp(1,1,t.grid.rendered$))},dependencies:[cv,ST,FT,wM,IM,OA,Cv],encapsulation:2}),e})(),n2=(()=>{let e=class{constructor(e){this.template=e}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxPaginator",""]],standalone:!0}),e})(),r2={igx_paginator_label:"Items per page",igx_paginator_pager_text:"of",igx_paginator_first_page_button_text:"Go to first page",igx_paginator_previous_page_button_text:"Previous page",igx_paginator_last_page_button_text:"Go to last page",igx_paginator_next_page_button_text:"Next page"},s2=[[["","igxPaginatorContent",""],["igx-paginator-content"]]],o2=["[igxPaginatorContent],igx-paginator-content"];function a2(e,t){1&e&&Lg(0,"igx-page-size")}function l2(e,t){1&e&&Lg(0,"igx-page-nav")}function d2(e,t){if(1&e&&(Mg(0,"igx-select-item",4),fp(1),Ng()),2&e){let e=t.$implicit;fg("value",e),Ac(),xp(" ",e," ")}}var c2=(()=>{let e=class{constructor(){this.cssClass="igx-paginator-content"}};return e.ɵfac=function(t){return new(t||e)},e.ɵdir=ss({type:e,selectors:[["","igxPaginatorContent",""],["igx-paginator-content"]],hostVars:2,hostBindings:function(e,t){2&e&&xg("igx-paginator-content",t.cssClass)},standalone:!0}),e})(),h2=(()=>{let e=class{get page(){return this._page}set page(e){if(this._page===e||e<0||e>this.totalPages)return;let t={current:this._page,next:e,cancel:!1},i={previous:this._page,current:e};this.paging.emit(t),!t.cancel&&(this._page=e,this.pageChange.emit(this._page),this.pagingDone.emit(i))}get perPage(){return this._perPage}set perPage(e){e<0||this.perPage===e||(this._perPage=Number(e),this.perPageChange.emit(this._perPage),this._selectOptions=this.sortUniqueOptions(this.defaultSelectValues,this._perPage),this.totalPages=Math.ceil(this.totalRecords/this._perPage),0!==this.totalPages&&this.page>=this.totalPages&&(this.page=this.totalPages-1))}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.totalPages=Math.ceil(this.totalRecords/this.perPage),this.page>this.totalPages&&(this.page=0),this.cdr.detectChanges()}get selectOptions(){return this._selectOptions}set selectOptions(e){this._selectOptions=this.sortUniqueOptions(e,this._perPage),this.defaultSelectValues=[...e]}get overlaySettings(){return this._overlaySettings}set overlaySettings(e){this._overlaySettings=Object.assign({},this._overlaySettings,e)}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}constructor(e,t){this.elementRef=e,this.cdr=t,this.perPageChange=new yl,this.pageChange=new yl,this.paging=new yl,this.pagingDone=new yl,this._page=0,this._selectOptions=[5,10,15,25,50,100,500],this._perPage=15,this._resourceStrings=MT(r2),this._overlaySettings={},this.defaultSelectValues=[5,10,15,25,50,100,500],this.cssClass="igx-paginator"}get isLastPage(){return this.page+1>=this.totalPages}get isFirstPage(){return 0===this.page}get isFirstPageDisabled(){return this.isFirstPage}get isLastPageDisabled(){return this.isLastPage}get nativeElement(){return this.elementRef.nativeElement}nextPage(){this.isLastPage||(this.page+=1)}previousPage(){this.isFirstPage||(this.page-=1)}paginate(e){e<0||e>this.totalPages-1||(this.page=e)}sortUniqueOptions(e,t){return Array.from(new Set([...e,t])).sort(((e,t)=>e-t))}};return e.ɵfac=function(t){return new(t||e)(Oc(Nl),Oc(Pm))},e.ɵcmp=es({type:e,selectors:[["igx-paginator"]],contentQueries:function(e,t,i){if(1&e&&hp(i,c2,5),2&e){let e;gp(e=pp())&&(t.customContent=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&xg("igx-paginator",t.cssClass)},inputs:{page:"page",perPage:"perPage",totalRecords:"totalRecords",selectOptions:"selectOptions",overlaySettings:"overlaySettings",resourceStrings:"resourceStrings"},outputs:{perPageChange:"perPageChange",pageChange:"pageChange",paging:"paging",pagingDone:"pagingDone"},standalone:!0,features:[kp([{provide:VU,useExisting:e}]),Pp],ngContentSelectors:o2,decls:3,vars:2,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(op(s2),ap(0),Xu(1,a2,1,0,"igx-page-size",0)(2,l2,1,0,"igx-page-nav",0)),2&e&&(Ac(),fg("ngIf",!t.customContent),Ac(),fg("ngIf",!t.customContent))},dependencies:()=>[cv,u2,g2],encapsulation:2}),e})(),u2=(()=>{let e=class{constructor(e){this.paginator=e,this.cssClass="igx-page-size"}};return e.ɵfac=function(t){return new(t||e)(Oc(h2,1))},e.ɵcmp=es({type:e,selectors:[["igx-page-size"]],hostVars:2,hostBindings:function(e,t){2&e&&xg("igx-page-size",t.cssClass)},standalone:!0,features:[Pp],decls:5,vars:4,consts:[[1,"igx-page-size__label"],[1,"igx-page-size__select"],["type","border",3,"ngModelChange","overlaySettings","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(Mg(0,"label",0),fp(1),Ng(),Mg(2,"div",1)(3,"igx-select",2),Sp("ngModelChange",(function(e){return Cp(t.paginator.perPage,e)||(t.paginator.perPage=e),e})),Xu(4,d2,2,2,"igx-select-item",3),Ng()()),2&e&&(Ac(),yp(t.paginator.resourceStrings.igx_paginator_label),Ac(2),fg("overlaySettings",t.paginator.overlaySettings),_p("ngModel",t.paginator.perPage),Ac(),fg("ngForOf",t.paginator.selectOptions))},dependencies:[fN,iw,px,Ux,lv,QM],encapsulation:2}),e})(),g2=(()=>{let e=class{constructor(e){this.paginator=e,this.cssClass="igx-page-nav",this.role="navigation"}};return e.ɵfac=function(t){return new(t||e)(Oc(h2,1))},e.ɵcmp=es({type:e,selectors:[["igx-page-nav"]],hostVars:3,hostBindings:function(e,t){2&e&&(tg("role",t.role),xg("igx-page-nav",t.cssClass))},inputs:{role:"role"},standalone:!0,features:[Pp],decls:15,vars:19,consts:[["igxIconButton","flat","igxRipple","","type","button",3,"click","title","disabled","igxRippleCentered"],["family","default","name","first_page"],["family","default","name","prev"],["aria-current","page",1,"igx-page-nav__text"],["igxRipple","","igxIconButton","flat","type","button",3,"click","title","disabled","igxRippleCentered"],["family","default","name","next"],["family","default","name","last_page"]],template:function(e,t){1&e&&(Mg(0,"button",0),ep("click",(function(){return t.paginator.paginate(0)})),Lg(1,"igx-icon",1),Ng(),Mg(2,"button",0),ep("click",(function(){return t.paginator.previousPage()})),Lg(3,"igx-icon",2),Ng(),Mg(4,"div",3)(5,"span"),fp(6),Ng(),Mg(7,"span"),fp(8),Ng(),Mg(9,"span"),fp(10),Ng()(),Mg(11,"button",4),ep("click",(function(){return t.paginator.nextPage()})),Lg(12,"igx-icon",5),Ng(),Mg(13,"button",0),ep("click",(function(){return t.paginator.paginate(t.paginator.totalPages-1)})),Lg(14,"igx-icon",6),Ng()),2&e&&(fg("title",t.paginator.resourceStrings.igx_paginator_first_page_button_text)("disabled",t.paginator.isFirstPage)("igxRippleCentered",!0),tg("aria-disabled",t.paginator.isFirstPage),Ac(2),fg("title",t.paginator.resourceStrings.igx_paginator_previous_page_button_text)("disabled",t.paginator.isFirstPage)("igxRippleCentered",!0),tg("aria-disabled",t.paginator.isFirstPage),Ac(4),yp(t.paginator.page+1),Ac(2),xp(" ",t.paginator.resourceStrings.igx_paginator_pager_text," "),Ac(2),yp(t.paginator.totalPages||1),Ac(),fg("title",t.paginator.resourceStrings.igx_paginator_next_page_button_text)("disabled",t.paginator.isLastPage)("igxRippleCentered",!0),tg("aria-disabled",t.paginator.isLastPage),Ac(2),fg("title",t.paginator.resourceStrings.igx_paginator_last_page_button_text)("disabled",t.paginator.isLastPage)("igxRippleCentered",!0),tg("aria-disabled",t.paginator.isLastPage))},dependencies:[vA,FT,cA],encapsulation:2}),e})(),p2=(e,t)=>({gridID:e,selectorChannels:t});function m2(e,t){if(1&e){let e=Wg();Mg(0,"igx-list-item",11)(1,"igx-checkbox",12),ep("click",(function(){let t=Uo(e).$implicit;return qo(rp().toggleItem(t))})),Ng(),Mg(2,"span"),fp(3),Ng()()}if(2&e){let e=t.$implicit;fg("id",e.memberName),Ac(),fg("aria-labelledby",e.memberName)("disableRipple",!0)("checked",e.enabled),Ac(2),yp(e.displayName||e.memberName)}}function f2(e,t){if(1&e){let e=Wg();Mg(0,"igx-list-item",11)(1,"igx-checkbox",12),ep("click",(function(){let t=Uo(e).$implicit;return qo(rp().toggleItem(t))})),Ng(),Mg(2,"span"),fp(3),Ng()()}if(2&e){let e=t.$implicit;fg("id",e.member),Ac(),fg("aria-labelledby",e.member)("disableRipple",!0)("checked",e.enabled),Ac(2),yp(e.displayName||e.member)}}function v2(e,t){if(1&e&&(Mg(0,"span"),fp(1),Ng()),2&e){let e=rp().$implicit;Ac(),yp(e.aggregate.key)}}function y2(e,t){1&e&&(Mg(0,"span"),fp(1,"("),Ng())}function x2(e,t){1&e&&(Mg(0,"span"),fp(1,")"),Ng())}function w2(e,t){1&e&&Lg(0,"igx-icon",32),2&e&&fg("name",rp().$implicit.sortDirection<2?"sort_asc":"sort_desc")}function _2(e,t){if(1&e){let e=Wg();Mg(0,"igx-icon",33),ep("pointerdown",(function(t){return Uo(e),qo(rp(4).onFilteringIconPointerDown(t))}))("click",(function(t){Uo(e);let i=rp().$implicit;return qo(rp(3).onFilteringIconClick(t,i))})),Ng()}}function C2(e,t){if(1&e){let e=Wg();Mg(0,"igx-icon",34),ep("click",(function(t){Uo(e);let i=rp().$implicit,n=rp(3),r=mp(13);return qo(n.onSummaryClick(t,i,r))})),Ng()}2&e&&(rp(4),fg("igxDropDownItemNavigation",mp(13)))}function S2(e,t){1&e&&Lg(0,"igx-icon",35)}function b2(e,t){if(1&e){let e=Wg();Mg(0,"igx-list-item",23),ep("ghostCreate",(function(t){let i=Uo(e).$implicit,n=rp(2).$implicit;return qo(rp().ghostCreated(t,i[n.itemKey]))}))("over",(function(t){return Uo(e),qo(rp(3).onItemDragOver(t))}))("leave",(function(t){return Uo(e),qo(rp(3).onItemDragLeave(t))}))("dragMove",(function(t){return Uo(e),qo(rp(3).onItemDragMove(t))}))("dragEnd",(function(t){return Uo(e),qo(rp(3).onItemDragEnd(t))}))("dropped",(function(t){Uo(e);let i=rp(2).$implicit;return qo(rp().onItemDropped(t,i.type))})),Mg(1,"div",24)(2,"div",25),ep("click",(function(t){let i=Uo(e).$implicit,n=rp(2).$implicit;return qo(rp().onItemSort(t,i,n.type))})),Mg(3,"div",26),Xu(4,v2,2,1,"span",20)(5,y2,2,0,"span",20),Mg(6,"span"),fp(7),Ng(),Xu(8,x2,2,0,"span",20),Ng(),Xu(9,w2,1,1,"igx-icon",27),Ng(),Mg(10,"div",28),Xu(11,_2,1,0,"igx-icon",29)(12,C2,1,1,"igx-icon",30)(13,S2,1,0,"igx-icon",31),Ng()()()}if(2&e){let e=t.$implicit,i=rp(2).$implicit,n=rp(),r=mp(16);fg("igxDrag",Mp(13,p2,n.grid.id,i.dragChannels))("ghostTemplate",r)("id",e[i.itemKey]),Ac(2),xg("igx-pivot-data-selector__action-sort",i.sortable),Ac(2),fg("ngIf",null===i.type),Ac(),fg("ngIf",null===i.type),Ac(2),yp(e[i.displayKey]||e[i.itemKey]),Ac(),fg("ngIf",null===i.type),Ac(),fg("ngIf",i.sortable&&e.sortDirection),Ac(2),fg("ngIf",null!==i.type),Ac(),fg("ngIf",null===i.type),Ac(),fg("ngIf",i.dragChannels.length>0)}}function D2(e,t){if(1&e&&(Mg(0,"igx-list"),Xu(1,b2,14,16,"igx-list-item",22),Ng()),2&e){let e=rp().$implicit,t=rp();Ac(),fg("ngForOf",t.grid[e.dataKey])}}function I2(e,t){if(1&e&&(Mg(0,"div",36),fp(1),Ng()),2&e){let e=rp(2);Ac(),xp(" ",null==e.grid?null:e.grid.resourceStrings.igx_grid_pivot_selector_panel_empty," ")}}function E2(e,t){if(1&e){let e=Wg();Mg(0,"igx-expansion-panel",13),ep("collapsedChange",(function(t){let i=Uo(e).$implicit;return qo(rp().onCollapseChange(t,i.type))})),Mg(1,"igx-expansion-panel-header",14),ep("enter",(function(t){let i=Uo(e).$implicit;return qo(rp().onPanelEntry(t,i.name))}))("dropped",(function(t){let i=Uo(e).$implicit;return qo(rp().onItemDropped(t,i.type))})),Mg(2,"igx-expansion-panel-title",15)(3,"h6",16),fp(4),Ng(),Mg(5,"div",17),Lg(6,"igx-icon",18),Mg(7,"igx-chip"),fp(8),Ng()()()(),Mg(9,"igx-expansion-panel-body",19),ep("enter",(function(t){let i=Uo(e).$implicit;return qo(rp().onPanelEntry(t,i.name))}))("dropped",(function(t){let i=Uo(e).$implicit;return qo(rp().onItemDropped(t,i.type))})),Xu(10,D2,2,1,"igx-list",20)(11,I2,2,1,"div",21),Ng()()}if(2&e){let e=t.$implicit,i=rp();fg("animationSettings",i.animationSettings)("collapsed",i.getPanelCollapsed(e.type)),Ac(),fg("disabled",!1),Ac(3),xp(" ",null==i.grid?null:i.grid.resourceStrings[e.i18n]," "),Ac(2),fg("name",e.icon),Ac(2),yp(i.grid?i.grid[e.dataKey].length:0),Ac(2),fg("ngIf",i.grid&&i.grid[e.dataKey].length>0),Ac(),fg("ngIf",i.grid&&0===i.grid[e.dataKey].length)}}function T2(e,t){if(1&e&&(Mg(0,"igx-drop-down-item",37),fp(1),Ng()),2&e){let e=t.$implicit;fg("selected",rp().isSelected(e))("value",e),Ac(),xp(" ",e.label," ")}}function R2(e,t){if(1&e&&(Mg(0,"div",38)(1,"div",39),Lg(2,"igx-icon",40),Mg(3,"span"),fp(4),Ng()(),Lg(5,"igx-icon",41),Ng()),2&e){let e=rp();yg("width",e.ghostWidth,"px"),xg("igx-pivot-data-selector__item-ghost--no-drop",!e.dropAllowed),Ac(4),yp(e.ghostText)}}var A2=(()=>{let e=class{get size(){return this.grid?.gridSize}get dims(){return this._grid?.allDimensions||[]}get values(){return this._grid?.pivotConfiguration.values||[]}constructor(e,t){this.renderer=e,this.cdr=t,this.columnsExpanded=!0,this.columnsExpandedChange=new yl,this.rowsExpanded=!0,this.rowsExpandedChange=new yl,this.filtersExpanded=!0,this.filtersExpandedChange=new yl,this.valuesExpanded=!0,this.valuesExpandedChange=new yl,this._dropDelta=0,this.cssClass="igx-pivot-data-selector",this._subMenuPositionSettings={verticalStartPoint:PE.Bottom,closeAnimation:void 0},this._subMenuOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new GE(this._subMenuPositionSettings),scrollStrategy:new XE},this.animationSettings={closeAnimation:nD(pD,{params:{duration:"0ms"}}),openAnimation:nD(gD,{params:{duration:"0ms"}})},this.aggregateList=[],this._panels=[{name:"Filters",i18n:"igx_grid_pivot_selector_filters",type:vO.Filter,dataKey:"filterDimensions",icon:"filter_list",itemKey:"memberName",displayKey:"displayName",sortable:!1,dragChannels:["Filters","Columns","Rows"]},{name:"Columns",i18n:"igx_grid_pivot_selector_columns",type:vO.Column,dataKey:"columnDimensions",icon:"view_column",itemKey:"memberName",displayKey:"displayName",sortable:!0,dragChannels:["Filters","Columns","Rows"]},{name:"Rows",i18n:"igx_grid_pivot_selector_rows",type:vO.Row,dataKey:"rowDimensions",icon:"table_rows",itemKey:"memberName",displayKey:"displayName",sortable:!0,dragChannels:["Filters","Columns","Rows"]},{name:"Values",i18n:"igx_grid_pivot_selector_values",type:null,dataKey:"values",icon:"functions",itemKey:"member",displayKey:"displayName",sortable:!1,dragChannels:["Values"]}]}set grid(e){this._grid=e}get grid(){return this._grid}onItemSort(e,t,i){if(!this._panels.find((e=>e.type===i)).sortable)return;let n=t.sortDirection||LC.None,r=n+1>LC.Desc?LC.None:n+1;this.grid.sortDimension(t,r)}onFilteringIconPointerDown(e){e.stopPropagation(),e.preventDefault()}onFilteringIconClick(e,t){e.stopPropagation(),e.preventDefault();let i,n=t;for(;n&&(i=this.grid.dimensionDataColumns.find((e=>e.field===n.memberName)),!i);)n=n.childLevel;this.grid.filteringService.toggleFilterDropdown(e.target,i)}getDimensionState(e){switch(e){case vO.Row:return this.grid.rowDimensions;case vO.Column:return this.grid.columnDimensions;case vO.Filter:return this.grid.filterDimensions;default:return null}}moveValueItem(e){let t=this.grid.pivotConfiguration.values,i=-1!==t.findIndex((t=>t.member===e))?t?.findIndex((t=>t.member===e)):t.length,n=i+this._dropDelta<0?0:i+this._dropDelta,r=t.find((t=>t.member===e||t.displayName===e));r&&(this.grid.moveValue(r,n),this.grid.valuesChange.emit({values:this.grid.pivotConfiguration.values}))}onItemDropped(e,t){if(!this.dropAllowed)return;let i=this.grid.getDimensionsByType(t),n=this.getDimensionState(t),r=e.drag.element.nativeElement.id,s=e.owner.element.nativeElement.id,o=i?.find((e=>e.memberName===r)),a=-1!==i?.findIndex((e=>e?.memberName===r))?i?.findIndex((e=>e.memberName===r)):i?.length,l=this.grid.allDimensions.filter((e=>e&&e.memberName===r)),d=-1!==n?.findIndex((e=>e.memberName===r)),c=""!==s?i?.findIndex((e=>e.memberName===s)):i?.length;if(i||this.moveValueItem(r),d&&(c=a+this._dropDelta<0?0:a+this._dropDelta),o)this.grid.moveDimension(o,t,c);else{let e=l.find((e=>e.memberName===r));this.grid.moveDimension(e,t,c)}this.grid.dimensionsChange.emit({dimensions:i,dimensionCollectionType:t})}updateDropDown(e,t){this.value=e,t.width="200px",this.aggregateList=wO.getAggregateList(e,this.grid),this.cdr.detectChanges(),t.open(this._subMenuOverlaySettings)}onSummaryClick(e,t,i){this._subMenuOverlaySettings.target=e.currentTarget,i.collapsed?this.updateDropDown(t,i):(i.close(),i.closed.pipe(un()).subscribe((()=>{this.updateDropDown(t,i)})))}onAggregationChange(e){this.isSelected(e.newSelection.value)||(this.value.aggregate=e.newSelection.value,this.grid.pipeTrigger++,this.grid.cdr.markForCheck())}isSelected(e){return this.value.aggregate.key===e.key}ghostCreated(e,t){let{width:i}=e.owner.element.nativeElement.getBoundingClientRect();this.ghostWidth=i,this.ghostText=t,this.renderer.setStyle(e.owner.element.nativeElement,"position","absolute"),this.renderer.setStyle(e.owner.element.nativeElement,"visibility","hidden")}toggleItem(e){e&&this.grid.toggleValue(e),e&&this.grid.toggleDimension(e)}onPanelEntry(e,t){this.dropAllowed=e.dragData.gridID===this.grid.id&&e.dragData.selectorChannels?.some((e=>e===t))}onItemDragMove(e){let t=e.owner.element.nativeElement.getBoundingClientRect();this._dropDelta=Math.round((e.nextPageY-e.startY)/t.height)}onItemDragEnd(e){this.renderer.setStyle(e.owner.element.nativeElement,"position","static"),this.renderer.setStyle(e.owner.element.nativeElement,"visibility","visible")}onItemDragOver(e){this.dropAllowed&&this.renderer.addClass(e.owner.element.nativeElement,"igx-drag--push")}onItemDragLeave(e){this.dropAllowed&&this.renderer.removeClass(e.owner.element.nativeElement,"igx-drag--push")}getPanelCollapsed(e){switch(e){case vO.Column:return!this.columnsExpanded;case vO.Filter:return!this.filtersExpanded;case vO.Row:return!this.rowsExpanded;default:return!this.valuesExpanded}}onCollapseChange(e,t){switch(t){case vO.Column:this.columnsExpanded=!e,this.columnsExpandedChange.emit(this.columnsExpanded);break;case vO.Filter:this.filtersExpanded=!e,this.filtersExpandedChange.emit(this.filtersExpanded);break;case vO.Row:this.rowsExpanded=!e,this.rowsExpandedChange.emit(this.rowsExpanded);break;default:this.valuesExpanded=!e,this.valuesExpandedChange.emit(this.valuesExpanded)}}};return e.ɵfac=function(t){return new(t||e)(Oc(qh),Oc(Pm))},e.ɵcmp=es({type:e,selectors:[["igx-pivot-data-selector"]],hostVars:4,hostBindings:function(e,t){2&e&&(yg("--ig-size",t.size),xg("igx-pivot-data-selector",t.cssClass))},inputs:{columnsExpanded:[2,"columnsExpanded","columnsExpanded",Zm],rowsExpanded:[2,"rowsExpanded","rowsExpanded",Zm],filtersExpanded:[2,"filtersExpanded","filtersExpanded",Zm],valuesExpanded:[2,"valuesExpanded","valuesExpanded",Zm],grid:"grid"},outputs:{columnsExpandedChange:"columnsExpandedChange",rowsExpandedChange:"rowsExpandedChange",filtersExpandedChange:"filtersExpandedChange",valuesExpandedChange:"valuesExpandedChange"},standalone:!0,features:[Vu,Pp],decls:17,vars:12,consts:[["input",""],["dropdown",""],["itemGhost",""],[1,"igx-pivot-data-selector__filter"],["type","box"],["family","default","name","search","igxPrefix",""],["igxInput","","tabindex","0","placeholder","Search","autocomplete","off"],[3,"id",4,"ngFor","ngForOf"],[3,"animationSettings","collapsed","collapsedChange",4,"ngFor","ngForOf"],[3,"selectionChanging"],[3,"selected","value",4,"ngFor","ngForOf"],[3,"id"],[3,"click","aria-labelledby","disableRipple","checked"],[3,"collapsedChange","animationSettings","collapsed"],["iconPosition","left","igxDrop","",3,"enter","dropped","disabled"],[1,"igx-pivot-data-selector__header"],[1,"igx-pivot-data-selector__header-title"],[1,"igx-pivot-data-selector__header-extra"],["family","default",3,"name"],["igxDrop","",3,"enter","dropped"],[4,"ngIf"],["class","igx-pivot-data-selector__empty",4,"ngIf"],["igxDrop","",3,"igxDrag","ghostTemplate","id","ghostCreate","over","leave","dragMove","dragEnd","dropped",4,"ngFor","ngForOf"],["igxDrop","",3,"ghostCreate","over","leave","dragMove","dragEnd","dropped","igxDrag","ghostTemplate","id"],[1,"igx-pivot-data-selector__item"],[1,"igx-pivot-data-selector__item-start",3,"click"],[1,"igx-pivot-data-selector__item-text"],["family","default","class","igx-pivot-data-selector__action-sort",3,"name",4,"ngIf"],[1,"igx-pivot-data-selector__item-end"],["family","default","name","filter_list","class","igx-pivot-data-selector__action-filter",3,"pointerdown","click",4,"ngIf"],["family","default","name","functions","class","igx-pivot-data-selector__action-summary",3,"igxDropDownItemNavigation","click",4,"ngIf"],["family","default","name","drag_indicator","igxDragHandle","","class","igx-pivot-data-selector__action-move",4,"ngIf"],["family","default",1,"igx-pivot-data-selector__action-sort",3,"name"],["family","default","name","filter_list",1,"igx-pivot-data-selector__action-filter",3,"pointerdown","click"],["family","default","name","functions",1,"igx-pivot-data-selector__action-summary",3,"click","igxDropDownItemNavigation"],["family","default","name","drag_indicator","igxDragHandle","",1,"igx-pivot-data-selector__action-move"],[1,"igx-pivot-data-selector__empty"],[3,"selected","value"],[1,"igx-pivot-data-selector__item-ghost"],[1,"igx-pivot-data-selector__item-ghost-text"],["family","default","name","import_export"],["family","default","name","drag_indicator"]],template:function(e,t){if(1&e){let e=Wg();Mg(0,"div",3)(1,"igx-input-group",4),Lg(2,"igx-icon",5)(3,"input",6,0),Ng(),Mg(5,"igx-list"),Xu(6,m2,4,5,"igx-list-item",7),Xp(7,"filterPivotItems"),Xu(8,f2,4,5,"igx-list-item",7),Xp(9,"filterPivotItems"),Ng()(),Mg(10,"igx-accordion"),Xu(11,E2,12,8,"igx-expansion-panel",8),Ng(),Mg(12,"igx-drop-down",9,1),ep("selectionChanging",(function(i){return Uo(e),qo(t.onAggregationChange(i))})),Xu(14,T2,2,3,"igx-drop-down-item",10),Ng(),Xu(15,R2,6,5,"ng-template",null,2,nm)}if(2&e){let e=mp(4);Ac(6),fg("ngForOf",Jp(7,4,t.dims,e.value,null==t.grid?null:t.grid.pipeTrigger)),Ac(2),fg("ngForOf",Jp(9,8,t.values,e.value,null==t.grid?null:t.grid.pipeTrigger)),Ac(3),fg("ngForOf",t._panels),Ac(3),fg("ngForOf",t.aggregateList)}},dependencies:[PR,FT,vT,pT,oG,lv,XB,DA,Ck,yk,hk,WR,ik,GV,tk,cv,$R,lT,BR,Hk,Pk,I0],encapsulation:2}),e})(),k2=(()=>{let e=class extends yq{get_all_data(e){let t=this.grid,i=t&&t.flatData?t.flatData:[];return i=e?t.dataWithAddedInTransactionRows:i,i}get_summary_data(){let e=this.grid,t=e.processedRootRecords?.filter((e=>void 0===e.isFilteredOutParent||!1===e.isFilteredOutParent)).map((e=>e.data));return t&&e.transactions.enabled&&e.transactions.getTransactionLog().filter((e=>e.type===MC.DELETE)).map((e=>e.id)).forEach((i=>{let n=(e.primaryKey?t.map((t=>t[e.primaryKey])):t).indexOf(i);-1!==n&&t.splice(n,1)})),t}allow_expansion_state_change(e,t){let i=this.grid,n=i.records.get(e);return!(n.expanded===t||(!n.children||!n.children.length)&&(!i.loadChildrenOnDemand||i.hasChildrenKey&&!n.data[i.hasChildrenKey]))}expand_path_to_record(e){let t=this.grid,i=t.expansionStates;for(;e.parent;)e=e.parent,this.get_row_expansion_state(e)||i.set(e.key,!0);t.expansionStates=i,t.rowEditable&&t.gridAPI.crudService.endEdit(!1)}get_row_expansion_state(e){let t=this.grid,i=t.expansionStates.get(e.key);return void 0!==i?i:e.children&&e.children.length&&e.level<t.expansionDepth}should_apply_number_style(e){return e.dataType===QC.Number&&0!==e.visibleIndex}deleteRowById(e){let t=this.grid,i=t.primaryKey&&t.foreignKey&&t.cascadeOnDelete&&t.transactions.enabled;i&&t.transactions.startPending();let n=super.deleteRowById(e);return i&&t.transactions.endPending(!0),n}deleteRowFromData(e,t){let i=this.grid,n=i.records.get(e);if(i.primaryKey&&i.foreignKey){if(t=i.primaryKey?i.data.map((e=>e[i.primaryKey])).indexOf(e):i.data.indexOf(e),super.deleteRowFromData(e,t),i.cascadeOnDelete&&n&&n.children)for(let e of n.children)super.deleteRowById(e.key)}else{let r=n.parent?n.parent.data[i.childDataKey]:i.data;t=i.primaryKey?r.map((e=>e[i.primaryKey])).indexOf(e):r.indexOf(e);let s=[];if(this.get_selected_children(n,s),s.length>0&&i.deselectRows(s),i.transactions.enabled){let n=i.generateRowPath(e);i.transactions.add({id:e,type:MC.DELETE,newValue:null,path:n},r[t])}else r.splice(t,1);this.grid.validation.clear(e)}}get_selected_children(e,t){let i=this.grid;if(e.children&&0!==e.children.length)for(let n of e.children)i.selectionService.isRowSelected(n.key)&&t.push(n.key),this.get_selected_children(n,t)}row_deleted_transaction(e){return this.row_deleted_parent(e)||super.row_deleted_transaction(e)}get_rec_by_id(e){return this.grid.records.get(e)}get_rec_index_by_id(e,t){return t=t||this.grid.data,this.grid.primaryKey?t.findIndex((t=>t.data[this.grid.primaryKey]===e)):-1}addRowToData(e,t){if(null!=t){let i=this.grid.transactions.getState(t);if(i&&i.type===MC.DELETE)throw Error("Cannot add child row to deleted parent row");let n=this.grid.records.get(t);if(!n)throw Error("Invalid parent row ID!");if(this.grid.summaryService.clearSummaryCache({rowID:n.key}),this.grid.primaryKey&&this.grid.foreignKey)e[this.grid.foreignKey]=t,super.addRowToData(e);else{let i=n.data,r=this.grid.childDataKey;if(this.grid.transactions.enabled){let i=this.grid.primaryKey?e[this.grid.primaryKey]:e,n=[];n.push(...this.grid.generateRowPath(t)),n.push(t),this.grid.transactions.add({id:i,path:n,newValue:e,type:MC.ADD},null)}else i[r]||(i[r]=[]),i[r].push(e)}}else super.addRowToData(e)}filterDataByExpressions(e){let t=this.filterTreeDataByExpressions(e),i=[];return this.getFlatDataFromFilteredRecords(t,i),i}sortDataByExpressions(e,t){return JC.sort(lC(e),t,this.grid.sortStrategy??new YC,this.grid).map((e=>e.data))}filterTreeDataByExpressions(e){let t=this.grid.rootRecords;if(e.filteringOperands.length){let i={expressionsTree:e,strategy:this.grid.filterStrategy??new lS};t=rS.filter(lC(t),i,this.grid)}return t}update_row_in_array(e,t,i){let n=this.grid;if(n.primaryKey&&n.foreignKey)super.update_row_in_array(e,t,i);else{let r=n.records.get(t),s=r.parent?r.parent.data[n.childDataKey]:n.data;i=n.primaryKey?s.map((e=>e[n.primaryKey])).indexOf(t):s.indexOf(t),s[i]=e}}updateData(e,t,i,n,r){if(e.transactions.enabled){let i=e.generateRowPath(t),s={id:t,type:MC.UPDATE,newValue:r,path:i};e.transactions.add(s,n)}else cC(i,r)}row_deleted_parent(e){let t=this.grid;if(!t)return!1;if(t.cascadeOnDelete&&t.foreignKey||t.childDataKey){let i=t.records.get(e);for(;i;){let e=t.transactions.getState(i.key);if(e&&e.type===MC.DELETE)return!0;i=i.parent}}return!1}getFlatDataFromFilteredRecords(e,t){if(e&&0!==e.length)for(let i of e)i.isFilteredOutParent||t.push(i),this.getFlatDataFromFilteredRecords(i.children,t)}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),O2=(()=>{let e=class{constructor(e){this.template=e}};return e.ɵfac=function(t){return new(t||e)(Oc(Oh))},e.ɵdir=ss({type:e,selectors:[["","igxRowLoadingIndicator",""]],standalone:!0}),e})(),P2=(()=>{let e=class extends _O{selectRowsWithNoEvent(e,t){this.grid&&this.grid.rowSelection===xS?this.cascadeSelectRowsWithNoEvent(e,t):super.selectRowsWithNoEvent(e,t)}deselectRowsWithNoEvent(e){this.grid.rowSelection!==xS?super.deselectRowsWithNoEvent(e):this.cascadeDeselectRowsWithNoEvent(e)}emitRowSelectionEvent(e,t,i,n){this.grid.rowSelection!==xS?super.emitRowSelectionEvent(e,t,i,n):this.emitCascadeRowSelectionEvent(e,t,i,n)}updateCascadeSelectionOnFilterAndCRUD(e,t,i=null){if(null===i){if(!e.size)return;i=new Set(this.getRowIDs(this.allData)),this.rowsToBeSelected=new Set(this.rowSelection),this.rowsToBeIndeterminate=new Set(this.indeterminateRows),t&&this.rowSelection.delete(t)}if(!e.size)return this.rowSelection=new Set(this.rowsToBeSelected),this.indeterminateRows=new Set(this.rowsToBeIndeterminate),this.clearHeaderCBState(),void this.selectedRowsChange.next();let n=new Set;e.forEach((e=>{this.handleRowSelectionState(e,i),e&&e.parent&&n.add(e.parent)})),this.updateCascadeSelectionOnFilterAndCRUD(n,null,i)}cascadeSelectRowsWithNoEvent(e,t){if(t)this.indeterminateRows.clear(),this.rowSelection.clear(),this.calculateRowsNewSelectionState({added:e,removed:[]});else{let t=this.getSelectedRows(),i={oldSelection:t,newSelection:[...t,...e]};this.handleAddedAndRemovedArgs(i),this.calculateRowsNewSelectionState(i)}this.rowSelection=new Set(this.rowsToBeSelected),this.indeterminateRows=new Set(this.rowsToBeIndeterminate),this.clearHeaderCBState(),this.selectedRowsChange.next()}cascadeDeselectRowsWithNoEvent(e){let t={added:[],removed:e};this.calculateRowsNewSelectionState(t),this.rowSelection=new Set(this.rowsToBeSelected),this.indeterminateRows=new Set(this.rowsToBeIndeterminate),this.clearHeaderCBState(),this.selectedRowsChange.next()}get selectionService(){return this.grid.selectionService}emitCascadeRowSelectionEvent(e,t,i,n){let r=this.getSelectedRows();if(this.areEqualCollections(r,e))return;let s={owner:this.grid,oldSelection:this.getSelectedRowsData(),newSelection:e,added:t,removed:i,event:n,cancel:!1};if(this.calculateRowsNewSelectionState(s,!!this.grid.primaryKey),s.newSelection=Array.from(this.grid.gridAPI.get_all_data().filter((e=>this.rowsToBeSelected.has(this.grid.primaryKey?e[this.grid.primaryKey]:e)))),this.handleAddedAndRemovedArgs(s),this.grid.rowSelectionChanging.emit(s),s.cancel)return;let o=s.newSelection.map((e=>this.grid.primaryKey?e[this.grid.primaryKey]:e));this.areEqualCollections(Array.from(this.rowsToBeSelected),o)?(this.rowSelection=new Set(this.rowsToBeSelected),this.indeterminateRows=new Set(this.rowsToBeIndeterminate),this.clearHeaderCBState(),this.selectedRowsChange.next()):this.cascadeSelectRowsWithNoEvent(o,!0)}handleAddedAndRemovedArgs(e){let t=new Set(e.newSelection),i=new Set(e.oldSelection);e.removed=e.oldSelection.filter((e=>!t.has(e))),e.added=e.newSelection.filter((e=>!i.has(e)))}collectRowsChildrenAndDirectParents(e,t,i,n){let r=new Set;return Array.from(e).forEach((e=>{let s=n?e[this.grid.primaryKey]:e;this.selectDeselectRow(s,i);let o=this.grid.gridAPI.get_rec_by_id(s);this.get_all_children(o).forEach((e=>{t.has(e.key)&&this.selectDeselectRow(e.key,i)})),o&&o.parent&&r.add(o.parent)})),r}calculateRowsNewSelectionState(e,t=!1){this.rowsToBeSelected=new Set(e.oldSelection?t?e.oldSelection.map((e=>e[this.grid.primaryKey])):e.oldSelection:this.getSelectedRows()),this.rowsToBeIndeterminate=new Set(this.getIndeterminateRows());let i=new Set(this.getRowIDs(this.allData)),n=new Set(e.removed),r=new Set(e.added);if(n&&n.size){let e=new Set;e=this.collectRowsChildrenAndDirectParents(n,i,!1,t),Array.from(e).forEach((e=>{this.handleParentSelectionState(e,i)}))}if(r&&r.size){let e=new Set;e=this.collectRowsChildrenAndDirectParents(r,i,!0,t),Array.from(e).forEach((e=>{this.handleParentSelectionState(e,i)}))}}handleParentSelectionState(e,t){e&&(this.handleRowSelectionState(e,t),e.parent&&this.handleParentSelectionState(e.parent,t))}handleRowSelectionState(e,t){let i=[];e&&e.children&&(i=e.children.filter((e=>t.has(e.key)))),i.length?i.every((e=>this.rowsToBeSelected.has(e.key)))?this.selectDeselectRow(e.key,!0):i.some((e=>this.rowsToBeSelected.has(e.key)||this.rowsToBeIndeterminate.has(e.key)))?(this.rowsToBeIndeterminate.add(e.key),this.rowsToBeSelected.delete(e.key)):this.selectDeselectRow(e.key,!1):this.isRowSelected(e.key)?this.selectDeselectRow(e.key,!0):this.selectDeselectRow(e.key,!1)}get_all_children(e){let t=[];if(e&&e.children&&e.children.length)for(let i of e.children)t.push(...this.get_all_children(i)),t.push(i);return t}selectDeselectRow(e,t){t?(this.rowsToBeSelected.add(e),this.rowsToBeIndeterminate.delete(e)):(this.rowsToBeSelected.delete(e),this.rowsToBeIndeterminate.delete(e))}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})();function F2(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"igx-chip",5),Xp(2,"igxGroupByMeta"),Xp(3,"igxGroupByMeta"),Xp(4,"igxGroupByMeta"),Xp(5,"igxGroupByMeta"),ep("keyDown",(function(t){return Uo(e),qo(rp().handleKeyDown(t.owner.id,t.originalEvent))}))("remove",(function(t){return Uo(e),qo(rp().clearGrouping(t.owner.id))}))("chipClick",(function(){let t=Uo(e).$implicit;return qo(rp().handleClick(t.fieldName))})),Mg(6,"span"),fp(7),Xp(8,"igxGroupByMeta"),Ng(),Lg(9,"igx-icon",6),Ng(),Mg(10,"span",7),Lg(11,"igx-icon",8),Ng(),Bg()}if(2&e){let e=t.$implicit,i=t.last,n=rp();Ac(),fg("id",e.fieldName)("title",Jp(2,8,e.fieldName,n.grid,n.grid.groupablePipeTrigger).title)("removable",Jp(3,12,e.fieldName,n.grid,n.grid.groupablePipeTrigger).groupable)("draggable",Jp(4,16,e.fieldName,n.grid,n.grid.groupablePipeTrigger).groupable)("disabled",!Jp(5,20,e.fieldName,n.grid,n.grid.groupablePipeTrigger).groupable),Ac(6),yp(Jp(8,24,e.fieldName,n.grid,n.grid.groupablePipeTrigger).title),Ac(2),fg("name",1===e.dir?"sort_asc":"sort_desc"),Ac(2),fg("hidden",i&&!n.dropAreaVisible)}}function V2(e,t){1&e&&Gg(0)}function M2(e,t){if(1&e&&(Lg(0,"igx-icon",9),Mg(1,"span",10),fp(2),Ng()),2&e){let e=rp();Ac(2),yp(e.dropAreaMessage)}}var N2=(()=>{let e=class extends g${get hideGroupedColumns(){return this._hideGroupedColumns}set hideGroupedColumns(e){this.grid?.columns&&this.expressions&&this.setColumnsVisibility(e),this._hideGroupedColumns=e}constructor(e,t,i){super(t,i),this.differs=e,this._hideGroupedColumns=!1,this.destroy$=new ei}ngAfterContentInit(){this.grid.columns&&this.expressions&&(this.groupingDiffer=this.differs.find(this.expressions).create(),this.updateColumnsVisibility()),this.grid.sortingExpressionsChange.pipe(mn(this.destroy$)).subscribe((e=>{if(!this.expressions||!this.expressions.length)return;let t=!1;e.forEach((e=>{let i=e.fieldName,n=this.expressions.find((e=>e.fieldName===i));n&&n.dir!==e.dir&&(n.dir=e.dir,t=!0)})),t&&(this.expressions=[...this.expressions])}))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}handleReorder(e){let{chipsArray:t,originalEvent:i}=e,n=this.getReorderedExpressions(t);this.chipExpressions=n,i instanceof KeyboardEvent&&(this.expressions=n)}handleMoveEnd(){this.expressions=this.chipExpressions}groupBy(e){this.expressions.push(e),this.expressions=[...this.expressions]}clearGrouping(e){this.expressions=this.expressions.filter((t=>t.fieldName!==e)),this.grid.sortingExpressions=this.grid.sortingExpressions.filter((t=>t.fieldName!==e)),this.grid.notifyChanges(!0)}expressionsChanged(){this.updateColumnsVisibility()}updateColumnsVisibility(){if(this.groupingDiffer&&this.grid.columns&&!this.grid.hasColumnLayouts){let e=this.groupingDiffer.diff(this.expressions);e&&this.grid.columns.length>0&&(e.forEachAddedItem((e=>{this.grid.getColumnByName(e.item.fieldName).hidden=this.hideGroupedColumns})),e.forEachRemovedItem((e=>{this.grid.getColumnByName(e.item.fieldName).hidden=!1})))}}setColumnsVisibility(e){this.grid.columns.length>0&&!this.grid.hasColumnLayouts&&this.expressions.forEach((t=>{this.grid.getColumnByName(t.fieldName).hidden=e}))}};return e.ɵfac=function(t){return new(t||e)(Oc(Km),Oc(Nl),Oc(fC))},e.ɵcmp=es({type:e,selectors:[["igx-tree-grid-group-by-area"]],inputs:{hideGroupedColumns:[2,"hideGroupedColumns","hideGroupedColumns",Zm]},standalone:!0,features:[kp([{provide:g$,useExisting:e}]),Vu,Ru,Pp],decls:6,vars:4,consts:[["default",""],[3,"reorder","moveEnd"],[4,"ngFor","ngForOf"],["igxGroupAreaDrop","",1,"igx-drop-area",3,"igxDrop","hidden"],[4,"ngTemplateOutlet"],[3,"keyDown","remove","chipClick","id","title","removable","draggable","disabled"],["family","default","igxSuffix","",3,"name"],[1,"igx-grid-grouparea__connector"],["family","default","name","arrow_forward",3,"hidden"],["family","default","name","group_work",1,"igx-drop-area__icon"],[1,"igx-drop-area__text"]],template:function(e,t){if(1&e){let e=Wg();Mg(0,"igx-chips-area",1),ep("reorder",(function(i){return Uo(e),qo(t.handleReorder(i))}))("moveEnd",(function(){return Uo(e),qo(t.handleMoveEnd())})),Xu(1,F2,12,28,"ng-container",2),Mg(2,"div",3),ep("igxDrop",(function(i){return Uo(e),qo(t.onDragDrop(i))})),Xu(3,V2,1,0,"ng-container",4),Ng()(),Xu(4,M2,3,1,"ng-template",null,0,nm)}if(2&e){let e=mp(5);Ac(),fg("ngForOf",t.chipExpressions),Ac(),fg("hidden",!t.dropAreaVisible),tg("gridId",t.grid.id),Ac(),fg("ngTemplateOutlet",t.dropAreaTemplate||e)}},dependencies:[WV,lv,GV,FT,yT,D$,WR,yv,p$],encapsulation:2}),e})(),L2=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o){return e&&t&&i!==gS?this.addSummaryRows(this.grid,e,n,r):e}addSummaryRows(e,t,i,n){let r=[],s=e.summaryService.calcMaxSummaryHeight();for(let o of t){if(r.push(o),!o.expanded&&o.children&&o.children.length>0&&n){let t=o.children.filter((e=>!e.isFilteredOutParent)).map((e=>e.data));t=this.removeDeletedRecord(e,o.key,t);let i={summaries:e.summaryService.calculateSummaries(o.key,t),max:s,cellIndentation:o.level+1};r.push(i)}let t=o.children&&o.children.length>0&&o.expanded;if(i!==uS||t){if(i===hS&&t){let t=o.children.filter((e=>!e.isFilteredOutParent)).map((e=>e.data));t=this.removeDeletedRecord(e,o.key,t);let i={summaries:e.summaryService.calculateSummaries(o.key,t),max:s,cellIndentation:o.level+1};r.push(i)}}else{let t=o,i=o.parent;for(;i;){let n=i.children;if(n[n.length-1]!==t)break;{let o=n.filter((e=>!e.isFilteredOutParent)).map((e=>e.data));o=this.removeDeletedRecord(e,i.key,o);let a={summaries:e.summaryService.calculateSummaries(i.key,o),max:s,cellIndentation:i.level+1};r.push(a),t=i,i=t.parent}}}}return r}removeDeletedRecord(e,t,i){if(!e.transactions.enabled||!e.cascadeOnDelete)return i;let n=e.transactions.getTransactionLog().filter((e=>"delete"===e.type)).map((e=>e.id)),r=e.records.get(t);if(!r&&0===n.lenght)return[];for(r=r.children?r:r.parent;r;){if(t=r.key,-1!==n.indexOf(t))return[];r=r.parent}return n.forEach((t=>{let n=(e.primaryKey?i.map((t=>t[e.primaryKey])):i).indexOf(t);-1!==n&&i.splice(n,1)})),i}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"treeGridSummary",type:e,pure:!0,standalone:!0}),e})(),H2=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o){let a={expressionsTree:t,advancedExpressionsTree:n,strategy:new lS};if(i&&(a.strategy=i),iS.empty(a.expressionsTree)&&iS.empty(a.advancedExpressionsTree))return this.grid.setFilteredData(null,o),e;let l=this.filter(e,a,this.grid),d=[];return this.expandAllRecursive(this.grid,l,this.grid.expansionStates,d),this.grid.setFilteredData(d,o),l}expandAllRecursive(e,t,i,n){for(let r of t)n.push(r.data),r.children&&r.children.length>0&&(i.set(r.key,!0),this.expandAllRecursive(e,r.children,i,n))}filter(e,t,i){return t.strategy.filter(e,t.expressionsTree,t.advancedExpressionsTree,i)}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"treeGridFiltering",type:e,pure:!0,standalone:!0}),e})(),z2=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r){let s=[],o=new Map,a=[];return e&&e.length?(n?s=this.hierarchizeRecursive(e,t,n,void 0,a,0,o):t&&(s=this.hierarchizeFlatData(e,t,i,o,a)),this.grid.flatData=this.grid.transactions.enabled?a.filter((e=>{let i=this.grid.transactions.getState(this.getRowID(t,e));return!i||i.type!==MC.ADD})):a,this.grid.records=o,this.grid.rootRecords=s,s):(this.grid.flatData=e,this.grid.records=o,this.grid.rootRecords=e,e)}getRowID(e,t){return e?t[e]:t}hierarchizeFlatData(e,t,i,n,r){let s=[],o=[];return e.forEach((e=>{let r={key:this.getRowID(t,e),data:e,children:[]},s=n.get(e[i]);s?(r.parent=s,s.children.push(r)):o.push(r),n.set(e[t],r)})),o.forEach((e=>{let t=n.get(e.data[i]);t?(e.parent=t,t.children.push(e)):s.push(e)})),this.setIndentationLevels(s,0,r),s}setIndentationLevels(e,t,i){for(let n of e)n.level=t,n.expanded=this.grid.gridAPI.get_row_expansion_state(n),i.push(n.data),n.children&&n.children.length>0&&this.setIndentationLevels(n.children,t+1,i)}hierarchizeRecursive(e,t,i,n,r,s,o){let a=[];for(let l of e){let e={key:this.getRowID(t,l),data:l,parent:n,level:s};e.expanded=this.grid.gridAPI.get_row_expansion_state(e),r.push(l),o.set(e.key,e),e.children=l[i]?this.hierarchizeRecursive(l[i],t,i,e,r,s+1,o):void 0,a.push(e)}return a}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"treeGridHierarchizing",type:e,pure:!0,standalone:!0}),e})(),B2=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n){let r=[];return this.grid.processedRootRecords=e,this.grid.processedRecords=new Map,this.getFlatDataRecursive(e,r,t,i,!0),this.grid.processedExpandedFlatData=r.map((e=>e.data)),r}getFlatDataRecursive(e,t,i,n,r){if(e&&e.length)for(let s of e)r&&t.push(s),s.expanded=this.grid.gridAPI.get_row_expansion_state(s),this.updateNonProcessedRecordExpansion(this.grid,s),this.grid.processedRecords.set(s.key,s),this.getFlatDataRecursive(s.children,t,i,n,r&&s.expanded)}updateNonProcessedRecordExpansion(e,t){e.records.get(t.key).expanded=t.expanded}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"treeGridFlattening",type:e,pure:!0,standalone:!0}),e})(),G2=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s){let o,a=i?i.concat(t):t;o=a.length?JC.treeGridSort(e,a,n,null,this.grid):e;let l=[];return this.flattenTreeGridRecords(o,l),this.grid.setFilteredSortedData(l,s),o}flattenTreeGridRecords(e,t){if(e&&e.length)for(let i of e)t.push(i.data),this.flattenTreeGridRecords(i.children,t)}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"treeGridSorting",type:e,pure:!0,standalone:!0}),e})(),$2=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i=0,n=15,r){if(!t||this.grid.pagingMode!==bS.Local)return e;let s=this.grid._totalRecords>=0?this.grid._totalRecords:e.length,o=Math.ceil(s/n),a={index:o>0&&i>=o?o-1:i,recordsPerPage:n},l=JC.page(lC(e),a,s);return this.grid.pagingState=a,this.grid.page=a.index,l}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"treeGridPaging",type:e,pure:!0,standalone:!0}),e})(),W2=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t){if(this.grid.transactions.enabled){let t=this.grid.transactions.getAggregatedChanges(!0);if(t.length>0){if(!this.grid.primaryKey)return e;let i=this.grid.childDataKey;if(i){let n=dC(e,i);return JC.mergeHierarchicalTransactions(n,t,i,this.grid.primaryKey,this.grid.dataCloneStrategy)}{let i=lC(e);return JC.mergeTransactions(i,t,this.grid.primaryKey,this.grid.dataCloneStrategy)}}}return e}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"treeGridTransaction",type:e,pure:!0,standalone:!0}),e})(),K2=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t){let i=this.grid.primaryKey,n=this.grid.flatData;return n?n.map((e=>({rowID:this.grid.primaryKey?e[i]:e,data:e,level:0,children:[]}))):[]}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"treeGridNormalizeRecord",type:e,pure:!0,standalone:!0}),e})(),j2=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t=!1,i){if(!this.grid.rowEditable||!this.grid.crudService.row||this.grid.crudService.row.getClassName()!==Zk.name||!this.grid.gridAPI.crudService.addRowParent||t!==this.grid.gridAPI.crudService.addRowParent.isPinned)return e;let n=e.slice(0),r=this.grid.crudService.row.recordRef;if(this.grid.crudService.addRowParent.isPinned){let e=n.findIndex((e=>e.rowID===this.grid.crudService.addRowParent.rowID));n.splice(e+1,0,r)}else n.splice(this.grid.crudService.row.index,0,r);return this.grid.records.set(r.key,r),n}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"treeGridAddRow",type:e,pure:!0,standalone:!0}),e})(),U2=(e,t,i,n,r)=>[e,t,i,n,r],q2=(e,t)=>({"igx-icon--success":e,"igx-icon--error":t}),Y2=e=>({"padding-inline-start":e}),X2=e=>({visibility:e}),Z2=e=>({$implicit:e});function Q2(e,t){if(1&e&&(Mg(0,"igx-chip",15),fp(1),Ng()),2&e){let e=rp(2);yg("--ig-size",1),fg("disabled",!0),Ac(),yp(e.grid.resourceStrings.igx_grid_pinned_row_indicator)}}function J2(e,t){1&e&&Xu(0,Q2,2,4,"igx-chip",14),2&e&&fg("ngIf",rp().displayPinnedChip)}function e3(e,t){if(1&e&&(Mg(0,"div",19),Xp(1,"columnFormatter"),Xp(2,"number"),Xp(3,"date"),Xp(4,"currency"),Xp(5,"percent"),fp(6),Xp(7,"columnFormatter"),Xp(8,"number"),Xp(9,"date"),Xp(10,"currency"),Xp(11,"percent"),Ng()),2&e){let e=rp(2);fg("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?Jp(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?Jp(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?em(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?tm(4,22,Hp(55,U2,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Jp(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Ac(6),yp(e.formatter?Jp(7,32,e.value,e.formatter,e.rowData):"number"===e.column.dataType?Jp(8,36,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?em(9,40,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?tm(10,45,Hp(61,U2,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Jp(11,51,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)}}function t3(e,t){if(1&e&&Lg(0,"igx-icon",20),2&e){let e=rp(2);fg("name",e.value?"confirm":"close")("ngClass",Mp(2,q2,e.value,!e.value))}}function i3(e,t){if(1&e&&(Lg(0,"img",21),Xp(1,"igxCellImageAlt")),2&e){let e=rp(2);fg("src",e.value,Xd)("alt",Zp(1,2,e.value))}}function n3(e,t){if(1&e&&Xu(0,e3,12,67,"div",16)(1,t3,1,5,"igx-icon",17)(2,i3,2,4,"img",18),2&e){let e=rp();fg("ngIf","boolean"!==e.column.dataType&&"image"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter),Ac(),fg("ngIf","boolean"===e.column.dataType&&!e.formatter),Ac(),fg("ngIf","image"===e.column.dataType)}}function r3(e,t){if(1&e&&(Mg(0,"div",19),Xp(1,"columnFormatter"),Xp(2,"number"),Xp(3,"date"),Xp(4,"currency"),Xp(5,"percent"),fp(6),Ng()),2&e){let e=rp(2);fg("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?Jp(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?Jp(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?em(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?tm(4,22,Hp(32,U2,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Jp(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Ac(6),yp(e.isEmptyAddRowCell?e.column.header||e.column.field:e.value)}}function s3(e,t){if(1&e&&Xu(0,r3,7,38,"div",16),2&e){let e=rp();fg("ngIf","boolean"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter)}}function o3(e,t){if(1&e){let e=Wg();zg(0,23),Mg(1,"igx-input-group")(2,"input",24),ep("compositionstart",(function(){return Uo(e),qo(rp(2).grid.crudService.isInCompositionMode=!0)}))("compositionend",(function(){return Uo(e),qo(rp(2).grid.crudService.isInCompositionMode=!1)})),Ng()(),Bg()}if(2&e){let e=rp(2);fg("formGroup",e.formGroup),Ac(),yg("--ig-size",1),Ac(),fg("igxFocus",!0)("igxTextSelection",!0)("formControl",e.formControl),tg("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function a3(e,t){if(1&e&&(zg(0),Mg(1,"igx-input-group",23),Lg(2,"input",25),Ng(),Bg()),2&e){let e=rp(2);Ac(),yg("--ig-size",1),fg("formGroup",e.formGroup),Ac(),fg("igxFocus",!0)("step",e.step)("igxTextSelection",!0)("formControl",e.formControl),tg("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function l3(e,t){if(1&e&&(zg(0,23),Lg(1,"igx-checkbox",26),Bg()),2&e){let e=rp(2);fg("formGroup",e.formGroup),Ac(),fg("checked",e.editValue)("igxFocus",!0)("disableRipple",!0)("formControl",e.formControl)}}function d3(e,t){if(1&e){let e=Wg();zg(0,23),Mg(1,"igx-date-picker",27),Sp("valueChange",(function(t){Uo(e);let i=rp(2);return Cp(i.editValue,t)||(i.editValue=t),qo(t)})),Ng(),Bg()}if(2&e){let e=rp(2);fg("formGroup",e.formGroup),Ac(),yg("width",100,"%"),fg("outlet",e.grid.outlet)("locale",e.grid.locale)("weekStart",e.column.pipeArgs.weekStart),_p("value",e.editValue),fg("igxFocus",!0)("formControl",e.formControl)}}function c3(e,t){if(1&e){let e=Wg();zg(0,23),Mg(1,"igx-time-picker",28),Sp("valueChange",(function(t){Uo(e);let i=rp(2);return Cp(i.editValue,t)||(i.editValue=t),qo(t)})),Ng(),Bg()}if(2&e){let e=rp(2);fg("formGroup",e.formGroup),Ac(),yg("width",100,"%"),fg("outlet",e.grid.outlet)("locale",e.grid.locale)("inputFormat",e.column.defaultTimeFormat),_p("value",e.editValue),fg("igxFocus",!0)("formControl",e.formControl)}}function h3(e,t){if(1&e&&(zg(0),Mg(1,"igx-input-group",23),Lg(2,"input",29),Ng(),Bg()),2&e){let e=rp(2);Ac(),fg("formGroup",e.formGroup),Ac(),fg("formControl",e.formControl)("igxDateTimeEditor",e.column.defaultDateTimeFormat)("igxFocus",!0),tg("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function u3(e,t){if(1&e&&(Mg(0,"igx-prefix"),fp(1),Ng()),2&e){let e=rp(3);Ac(),yp(e.currencyCodeSymbol)}}function g3(e,t){if(1&e&&(Mg(0,"igx-suffix"),fp(1),Ng()),2&e){let e=rp(3);Ac(),yp(e.currencyCodeSymbol)}}function p3(e,t){if(1&e&&(zg(0),Mg(1,"igx-input-group",23),Xu(2,u3,2,1,"igx-prefix",12),Lg(3,"input",25),Xu(4,g3,2,1,"igx-suffix",12),Ng(),Bg()),2&e){let e=rp(2);Ac(),yg("--ig-size",1),fg("formGroup",e.formGroup),Ac(),fg("ngIf",e.grid.currencyPositionLeft),Ac(),fg("igxFocus",!0)("step",e.step)("igxTextSelection",!0)("formControl",e.formControl),tg("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Ac(),fg("ngIf",!e.grid.currencyPositionLeft)}}function m3(e,t){if(1&e&&(zg(0),Mg(1,"igx-input-group",23),Lg(2,"input",25),Mg(3,"igx-suffix"),fp(4),Xp(5,"percent"),Ng()(),Bg()),2&e){let e=rp(2);Ac(),yg("--ig-size",1),fg("formGroup",e.formGroup),Ac(),fg("igxFocus",!0)("step",e.step)("igxTextSelection",!0)("formControl",e.formControl),tg("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Ac(2),xp(" ",Jp(5,10,e.editValue,e.column.pipeArgs.digitsInfo,e.grid.locale)," ")}}function f3(e,t){if(1&e&&Xu(0,o3,3,8,"ng-container",22)(1,a3,3,9,"ng-container",12)(2,l3,2,5,"ng-container",22)(3,d3,2,9,"ng-container",22)(4,c3,2,9,"ng-container",22)(5,h3,3,6,"ng-container",12)(6,p3,5,11,"ng-container",12)(7,m3,6,14,"ng-container",12),2&e){let e=rp();fg("ngIf","string"===e.column.dataType||"image"===e.column.dataType),Ac(),fg("ngIf","number"===e.column.dataType),Ac(),fg("ngIf","boolean"===e.column.dataType),Ac(),fg("ngIf","date"===e.column.dataType),Ac(),fg("ngIf","time"===e.column.dataType),Ac(),fg("ngIf","dateTime"===e.column.dataType),Ac(),fg("ngIf","currency"===e.column.dataType),Ac(),fg("ngIf","percent"===e.column.dataType)}}function v3(e,t){if(1&e&&(zg(0),Lg(1,"div",32,8),Bg()),2&e){let e=rp(2);Ac(),Pg("igx-grid__tree-cell--padding-level-",e.level,""),fg("ngStyle",Vp(4,Y2,"calc(var(--igx-tree-indent-size) *"+e.level+")"))}}function y3(e,t){1&e&&Gg(0)}function x3(e,t){1&e&&Gg(0)}function w3(e,t){if(1&e){let e=Wg();Mg(0,"div",33,9),ep("click",(function(t){return Uo(e),qo(rp(2).toggle(t))}))("focus",(function(){return Uo(e),qo(rp(2).onIndicatorFocus())})),Xu(2,y3,1,0,"ng-container",13)(3,x3,1,0,"ng-container",13),Ng()}if(2&e){let e=rp(2);fg("ngStyle",Vp(5,X2,e.showIndicator?"visible":"hidden")),Ac(2),fg("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",Vp(7,Z2,e)),Ac(),fg("ngTemplateOutlet",e.pinnedIndicatorTemplate)("ngTemplateOutletContext",e.context)}}function _3(e,t){1&e&&Gg(0)}function C3(e,t){if(1&e){let e=Wg();Mg(0,"div",34),ep("dblclick",(function(t){return Uo(e),qo(rp(2).onLoadingDblClick(t))})),Xu(1,_3,1,0,"ng-container",35),Ng()}if(2&e){rp();let e=mp(5),t=rp();Ac(),fg("ngTemplateOutlet",t.grid.rowLoadingIndicatorTemplate?t.grid.rowLoadingIndicatorTemplate:e)}}function S3(e,t){1&e&&Lg(0,"igx-circular-bar",36),2&e&&fg("indeterminate",!0)}function b3(e,t){if(1&e&&(zg(0),Xu(1,v3,3,6,"ng-container",12)(2,w3,4,9,"div",30)(3,C3,2,1,"div",31)(4,S3,1,1,"ng-template",null,7,nm),Bg()),2&e){let e=rp();Ac(),fg("ngIf",e.level>0),Ac(),fg("ngIf",!e.isLoading),Ac(),fg("ngIf",e.isLoading)}}function D3(e,t){1&e&&Gg(0)}function I3(e,t){1&e&&Gg(0)}function E3(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"igx-icon",37,10),ep("mouseover",(function(){return Uo(e),qo(rp().errorShowing=!0)}))("mouseout",(function(){return Uo(e),qo(rp().errorShowing=!1)})),Ng(),Mg(3,"div",38,11)(6,"div"),Xu(7,I3,1,0,"ng-container",13),Ng()(),Bg()}if(2&e){let e=mp(5),t=rp(),i=mp(16);Ac(),fg("igxTooltipTarget",e)("igxToggleOutlet",t.grid.outlet),Ac(2),fg("id",t.ariaErrorMessage),Ac(3),yg("width","max-content"),Ac(),fg("ngTemplateOutlet",t.cellValidationErrorTemplate||i)("ngTemplateOutletContext",t.context)}}function T3(e,t){1&e&&Lg(0,"igx-icon",39)}function R3(e,t){1&e&&Lg(0,"igx-icon",40)}function A3(e,t){if(1&e&&(Mg(0,"div"),fp(1),Ng()),2&e){let e=rp(2);Ac(),xp(" ",e.grid.resourceStrings.igx_grid_required_validation_error," ")}}function k3(e,t){if(1&e&&(Mg(0,"div"),fp(1),Xp(2,"igxStringReplace"),Ng()),2&e){let e=rp(2);Ac(),xp(" ",Jp(2,1,e.grid.resourceStrings.igx_grid_min_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.minlength.requiredLength)," ")}}function O3(e,t){if(1&e&&(Mg(0,"div"),fp(1),Xp(2,"igxStringReplace"),Ng()),2&e){let e=rp(2);Ac(),xp(" ",Jp(2,1,e.grid.resourceStrings.igx_grid_max_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.maxlength.requiredLength)," ")}}function P3(e,t){if(1&e&&(Mg(0,"div"),fp(1),Xp(2,"igxStringReplace"),Ng()),2&e){let e=rp(2);Ac(),xp(" ",Jp(2,1,e.grid.resourceStrings.igx_grid_min_validation_error,"{0}",e.formGroup.get(e.column.field).errors.min.min)," ")}}function F3(e,t){if(1&e&&(Mg(0,"div"),fp(1),Xp(2,"igxStringReplace"),Ng()),2&e){let e=rp(2);Ac(),xp(" ",Jp(2,1,e.grid.resourceStrings.igx_grid_max_validation_error,"{0}",e.formGroup.get(e.column.field).errors.max.max)," ")}}function V3(e,t){if(1&e&&(Mg(0,"div"),fp(1),Ng()),2&e){let e=rp(2);Ac(),xp(" ",e.grid.resourceStrings.igx_grid_email_validation_error," ")}}function M3(e,t){if(1&e&&(Mg(0,"div"),fp(1),Ng()),2&e){let e=rp(2);Ac(),xp(" ",e.grid.resourceStrings.igx_grid_pattern_validation_error," ")}}function N3(e,t){if(1&e&&Xu(0,A3,2,1,"div",12)(1,k3,3,5,"div",12)(2,O3,3,5,"div",12)(3,P3,3,5,"div",12)(4,F3,3,5,"div",12)(5,V3,2,1,"div",12)(6,M3,2,1,"div",12),2&e){let e,t,i,n,r,s,o,a=rp();fg("ngIf",null==a.formGroup||null==(e=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:e.required),Ac(),fg("ngIf",null==a.formGroup||null==(t=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:t.minlength),Ac(),fg("ngIf",null==a.formGroup||null==(i=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:i.maxlength),Ac(),fg("ngIf",null==a.formGroup||null==(n=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:n.min),Ac(),fg("ngIf",null==a.formGroup||null==(r=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:r.max),Ac(),fg("ngIf",null==a.formGroup||null==(s=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:s.email),Ac(),fg("ngIf",null==a.formGroup||null==(o=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:o.pattern)}}var L3=(()=>{let e=class extends wX{constructor(){super(...arguments),this.level=0,this.showIndicator=!1}get row(){return new fK(this.grid,this.intRow.index,this.intRow.data)}toggle(e){e.stopPropagation(),this.grid.gridAPI.set_row_expansion_state(this.intRow.key,!this.intRow.expanded,e)}onLoadingDblClick(e){e.stopPropagation()}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵcmp=es({type:e,selectors:[["igx-tree-grid-cell"]],inputs:{level:"level",showIndicator:"showIndicator",isLoading:"isLoading",row:"row"},standalone:!0,features:[kp([CV]),Ru,Pp],decls:17,vars:4,consts:[["defaultPinnedIndicator",""],["defaultCell",""],["addRowCell",""],["inlineEditor",""],["defaultExpandedTemplate",""],["defaultCollapsedTemplate",""],["defaultError",""],["defaultLoadingIndicatorTemplate",""],["indentationDiv",""],["indicator",""],["errorIcon",""],["error","","tooltipRef","tooltip"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","igx-grid__td--pinned-chip",3,"disabled","--ig-size",4,"ngIf"],[1,"igx-grid__td--pinned-chip",3,"disabled"],["igxTextHighlight","","class","igx-grid__td-text",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata",4,"ngIf"],["family","default",3,"name","ngClass",4,"ngIf"],[3,"src","alt",4,"ngIf"],["igxTextHighlight","",1,"igx-grid__td-text",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata"],["family","default",3,"name","ngClass"],[3,"src","alt"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["igxInput","",3,"compositionstart","compositionend","igxFocus","igxTextSelection","formControl"],["igxInput","","type","number",3,"igxFocus","step","igxTextSelection","formControl"],[3,"checked","igxFocus","disableRipple","formControl"],["mode","dropdown",3,"valueChange","outlet","locale","weekStart","value","igxFocus","formControl"],["mode","dropdown",3,"valueChange","outlet","locale","inputFormat","value","igxFocus","formControl"],["type","text","igxInput","",3,"formControl","igxDateTimeEditor","igxFocus"],["class","igx-grid__tree-grouping-indicator",3,"ngStyle","click","focus",4,"ngIf"],["class","igx-grid__tree-loading-indicator",3,"dblclick",4,"ngIf"],[3,"ngStyle"],[1,"igx-grid__tree-grouping-indicator",3,"click","focus","ngStyle"],[1,"igx-grid__tree-loading-indicator",3,"dblclick"],[4,"ngTemplateOutlet"],[3,"indeterminate"],["family","default","name","error",3,"mouseover","mouseout","igxTooltipTarget","igxToggleOutlet"],["igxTooltip","",3,"id"],["family","default","name","tree_collapse"],["family","default","name","tree_expand"]],template:function(e,t){1&e&&Xu(0,J2,1,1,"ng-template",null,0,nm)(2,n3,3,3,"ng-template",null,1,nm)(4,s3,1,1,"ng-template",null,2,nm)(6,f3,8,8,"ng-template",null,3,nm)(8,b3,6,3,"ng-container",12)(9,D3,1,0,"ng-container",13)(10,E3,8,7,"ng-container",12)(11,T3,1,0,"ng-template",null,4,nm)(13,R3,1,0,"ng-template",null,5,nm)(15,N3,7,7,"ng-template",null,6,nm),2&e&&(Ac(8),fg("ngIf",!t.editMode),Ac(),fg("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.context),Ac(),fg("ngIf",t.isInvalid))},dependencies:[cv,av,vv,yv,Tv,Rv,Av,Ev,GV,TA,FT,nw,zy,Yx,px,mx,Qx,ew,PR,pT,jR,DA,mM,QN,$A,vT,yT,Pz,LA,MA,CK,kK,PK,RA],encapsulation:2,changeDetection:0}),e})(),H3=["treeCell"],z3=(e,t,i,n)=>({index:e,rowID:t,key:i,selected:n}),B3=e=>({$implicit:e}),G3=(e,t,i,n,r,s,o)=>[e,t,i,n,r,s,o],$3=(e,t,i,n,r,s)=>[e,t,i,n,r,s],W3=(e,t,i,n,r)=>[e,t,i,n,r];function K3(e,t){1&e&&Gg(0)}function j3(e,t){1&e&&Gg(0)}function U3(e,t){if(1&e){let e=Wg();Mg(0,"div",9),ep("animationend",(function(){return Uo(e),qo(rp().animationEndHandler())})),Xu(1,j3,1,0,"ng-container",8),Ng()}if(2&e){let e=rp(),t=mp(4);xg("igx-grid__tr--add-animate",e.triggerAddAnimationClass),Ac(),fg("ngTemplateOutlet",t)}}function q3(e,t){1&e&&Gg(0)}function Y3(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"div",12),ep("click",(function(t){return Uo(e),qo(t.stopPropagation())})),Xu(2,q3,1,0,"ng-container",8),Ng(),Bg()}if(2&e){let e=rp(2);Ac(),wg(e.resolveDragIndicatorClasses),fg("igxRowDrag",e)("ghostTemplate",e.grid.getDragGhostCustomTemplate()),Ac(),fg("ngTemplateOutlet",e.grid.dragIndicatorIconTemplate?e.grid.dragIndicatorIconTemplate:e.grid.dragIndicatorIconBase)}}function X3(e,t){}function Z3(e,t){1&e&&Xu(0,X3,0,0,"ng-template")}function Q3(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"div",13),ep("click",(function(t){return Uo(e),qo(rp(2).onRowSelectorClick(t))}))("pointerdown",(function(t){return Uo(e),qo(t.preventDefault())})),Xu(2,Z3,1,0,null,14),Ng(),Bg()}if(2&e){rp();let e=mp(8),t=rp();Ac(2),fg("ngTemplateOutlet",t.grid.rowSelectorTemplate?t.grid.rowSelectorTemplate:e)("ngTemplateOutletContext",Vp(7,B3,Lp(2,z3,t.viewIndex,t.key,t.key,t.selected)))}}function J3(e,t){1&e&&Gg(0)}function e4(e,t){if(1&e&&(zg(0),Xu(1,J3,1,0,"ng-container",14),Bg()),2&e){rp();let e=mp(10),t=rp();Ac(),fg("ngTemplateOutlet",e)("ngTemplateOutletContext",t)}}function t4(e,t){if(1&e&&(Lg(0,"igx-grid-cell",15,7),Xp(2,"transactionState"),Xp(3,"igxCellStyleClasses"),Xp(4,"igxCellStyles"),Xp(5,"dataMapper")),2&e){let e=rp().$implicit,t=rp(2);yg("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth),xg("igx-grid__td--edited",tm(2,28,Bp(56,G3,t.key,e.field,t.grid.rowEditable,t.grid.transactions,t.grid.pipeTrigger,t.grid.gridAPI.crudService.cell,t.grid.gridAPI.crudService.row)))("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)("igx-grid__td--bool","boolean"===e.dataType),fg("ngClass",tm(3,36,zp(64,$3,e.cellClasses,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("ngStyle",tm(4,43,zp(71,$3,e.cellStyles,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("editMode",e.editable&&t.grid.crudService.targetInEdit(t.index,e.index))("column",e)("formatter",e.formatter)("intRow",t)("rowData",t.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",tm(5,50,Hp(78,W3,t.data,e.field,t.grid.pipeTrigger,t.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",t.grid.lastSearchInfo)("active",t.isCellActive(e.visibleIndex))("cellSelectionMode",t.grid.cellSelection)("displayPinnedChip",t.shouldDisplayPinnedChip(e.visibleIndex))}}function i4(e,t){if(1&e&&(Lg(0,"igx-tree-grid-cell",16,7),Xp(2,"transactionState"),Xp(3,"igxCellStyleClasses"),Xp(4,"igxCellStyles"),Xp(5,"dataMapper")),2&e){let e=rp().$implicit,t=rp(2);yg("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth),xg("igx-grid__td--edited",tm(2,30,Bp(58,G3,t.key,e.field,t.grid.rowEditable,t.grid.transactions,t.grid.pipeTrigger,t.grid.gridAPI.crudService.cell,t.grid.gridAPI.crudService.row)))("igx-grid__td--number",("number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)&&0!==e.visibleIndex),fg("ngClass",tm(3,38,zp(66,$3,e.cellClasses,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("ngStyle",tm(4,45,zp(73,$3,e.cellStyles,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("level",t.treeRow.level)("expanded",t.expanded)("showIndicator",t.showIndicator)("editMode",e.editable&&t.grid.crudService.targetInEdit(t.index,e.index))("column",e)("formatter",e.formatter)("intRow",t)("rowData",t.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",tm(5,52,Hp(80,W3,t.data,e.field,t.grid.pipeTrigger,t.data[e.field],e.hasNestedPath)))("isLoading",t.isLoading)("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",t.grid.lastSearchInfo)("active",t.isCellActive(e.visibleIndex))("cellSelectionMode",t.grid.cellSelection)("displayPinnedChip",t.shouldDisplayPinnedChip(e.visibleIndex))}}function n4(e,t){1&e&&Gg(0)}function r4(e,t){if(1&e&&Xu(0,t4,6,84,"ng-template",null,5,nm)(2,i4,6,86,"ng-template",null,6,nm)(4,n4,1,0,"ng-container",8),2&e){let e=t.$implicit,i=mp(1),n=mp(3);Ac(4),fg("ngTemplateOutlet",0===e.visibleIndex?n:i)}}function s4(e,t){1&e&&Gg(0)}function o4(e,t){if(1&e&&(zg(0),Xu(1,s4,1,0,"ng-container",14),Bg()),2&e){rp();let e=mp(10),t=rp();Ac(),fg("ngTemplateOutlet",e)("ngTemplateOutletContext",t)}}function a4(e,t){if(1&e&&(Mg(0,"div",17),Lg(1,"igx-checkbox",18),Ng()),2&e){let e=rp(2);Ac(),fg("tabindex",-1)("readonly",!0)("checked",e.selected)("indeterminate",e.indeterminate)("disabled",e.deleted)("disableRipple",!0)("disableTransitions",e.grid.disableTransitions)("aria-label",e.rowCheckboxAriaLabel)}}function l4(e,t){if(1&e&&(Lg(0,"igx-grid-cell",20,7),Xp(2,"transactionState"),Xp(3,"igxCellStyleClasses"),Xp(4,"igxCellStyles"),Xp(5,"dataMapper")),2&e){let e=rp().$implicit,t=rp(3);yg("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth)("left",e.rightPinnedOffset),xg("igx-grid__td--edited",tm(2,30,Bp(58,G3,t.key,e.field,t.grid.rowEditable,t.grid.transactions,t.grid.pipeTrigger,t.grid.gridAPI.crudService.cell,t.grid.gridAPI.crudService.row)))("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType),fg("ngClass",tm(3,38,zp(66,$3,e.cellClasses,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("ngStyle",tm(4,45,zp(73,$3,e.cellStyles,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("editMode",e.editable&&t.grid.crudService.targetInEdit(t.index,e.index))("column",e)("formatter",e.formatter)("intRow",t)("firstPinned",e.isFirstPinned)("lastPinned",e.isLastPinned)("rowData",t.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",tm(5,52,Hp(80,W3,t.data,e.field,t.grid.pipeTrigger,t.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",t.grid.lastSearchInfo)("active",t.isCellActive(e.visibleIndex))("cellSelectionMode",t.grid.cellSelection)("displayPinnedChip",t.shouldDisplayPinnedChip(e.visibleIndex))}}function d4(e,t){if(1&e&&(Lg(0,"igx-tree-grid-cell",21,7),Xp(2,"transactionState"),Xp(3,"igxCellStyleClasses"),Xp(4,"igxCellStyles"),Xp(5,"dataMapper")),2&e){let e=rp().$implicit,t=rp(3);yg("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth)("left",e.rightPinnedOffset),xg("igx-grid__td--edited",tm(2,33,Bp(61,G3,t.key,e.field,t.grid.rowEditable,t.grid.transactions,t.grid.pipeTrigger,t.grid.gridAPI.crudService.cell,t.grid.gridAPI.crudService.row)))("igx-grid__td--number",("number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)&&0!==e.visibleIndex),fg("ngClass",tm(3,41,zp(69,$3,e.cellClasses,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("ngStyle",tm(4,48,zp(76,$3,e.cellStyles,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("level",t.treeRow.level)("expanded",t.expanded)("showIndicator",t.showIndicator)("editMode",e.editable&&t.grid.crudService.targetInEdit(t.index,e.index))("column",e)("formatter",e.formatter)("intRow",t)("lastPinned",e.isLastPinned)("rowData",t.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",tm(5,55,Hp(83,W3,t.data,e.field,t.grid.pipeTrigger,t.data[e.field],e.hasNestedPath)))("isLoading",t.isLoading)("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",t.grid.lastSearchInfo)("active",t.isCellActive(e.visibleIndex))("cellSelectionMode",t.grid.cellSelection)("displayPinnedChip",t.shouldDisplayPinnedChip(e.visibleIndex))}}function c4(e,t){1&e&&Gg(0)}function h4(e,t){if(1&e&&Xu(0,l4,6,86,"ng-template",null,5,nm)(2,d4,6,89,"ng-template",null,6,nm)(4,c4,1,0,"ng-container",8),2&e){let e=t.$implicit,i=mp(1),n=mp(3);Ac(4),fg("ngTemplateOutlet",0===e.visibleIndex?n:i)}}function u4(e,t){1&e&&(Xu(0,h4,5,1,"ng-template",19),Xp(1,"igxNotGrouped")),2&e&&fg("ngForOf",Zp(1,1,rp(2).pinnedColumns))}function g4(e,t){if(1&e&&(Xu(0,Y3,3,5,"ng-container",10)(1,Q3,3,9,"ng-container",10)(2,e4,2,2,"ng-container",10)(3,r4,5,1,"ng-template",11,2,nm),Xp(5,"igxNotGrouped"),Xu(6,o4,2,2,"ng-container",10)(7,a4,2,8,"ng-template",null,3,nm)(9,u4,2,3,"ng-template",null,4,nm)),2&e){let e=rp();fg("ngIf",e.rowDraggable),Ac(),fg("ngIf",e.showRowSelectors),Ac(),fg("ngIf",e.pinnedColumns.length>0&&e.grid.isPinningToStart),Ac(),fg("igxGridForOf",Zp(5,10,e.unpinnedColumns))("igxForScrollContainer",e.grid.parentVirtDir)("igxForScrollOrientation","horizontal")("igxForContainerSize",e.grid.unpinnedWidth)("igxForSizePropName","calcPixelWidth")("igxForTrackBy",e.grid.trackColumnChanges),Ac(3),fg("ngIf",e.pinnedColumns.length>0&&!e.grid.isPinningToStart)}}var p4=(()=>{let e=class extends bO{get treeRow(){return this._treeRow}set treeRow(e){this._treeRow!==e&&(this._treeRow=e,this.data=this._treeRow.data)}set pinned(e){e?this.grid.pinRow(this.key):this.grid.unpinRow(this.key)}get pinned(){return this.grid.isRecordPinned(this._treeRow)}get isRoot(){let e=this.treeRow;return this.pinned&&!this.disabled&&(e=this.grid.unpinnedRecords.find((e=>e.data===this.data))),0===e?.level}get hasChildren(){return!0}get expanded(){return this._treeRow.expanded}set expanded(e){this.grid.gridAPI.set_row_expansion_state(this._treeRow.key,e)}get viewIndex(){return this.index+this.grid.page*this.grid.perPage}get showIndicator(){return this.grid.loadChildrenOnDemand?this.grid.expansionStates.has(this.key)?this.treeRow.children&&this.treeRow.children.length:!this.grid.hasChildrenKey||this.data[this.grid.hasChildrenKey]:this.treeRow.children&&this.treeRow.children.length}get indeterminate(){return this.selectionService.isRowInIndeterminateState(this.key)}ngDoCheck(){this.isLoading=!!this.grid.loadChildrenOnDemand&&this.grid.loadingRows.has(this.key),super.ngDoCheck()}beginAddChild(){this.grid.crudService.enterAddRowMode(this,!0)}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵcmp=es({type:e,selectors:[["igx-tree-grid-row"]],viewQuery:function(e,t){if(1&e&&up(H3,5),2&e){let e;gp(e=pp())&&(t._cells=e)}},hostVars:1,hostBindings:function(e,t){2&e&&tg("aria-expanded",t.expanded)},inputs:{treeRow:"treeRow"},standalone:!0,features:[kp([{provide:bO,useExisting:An((()=>e))}]),Ru,Pp],decls:5,vars:1,consts:[["addTemp",""],["defaultTemp",""],["igxDirRef",""],["rowSelectorBaseTemplate",""],["pinnedCellsTemplate",""],["cellTemplate",""],["treeCellTemplate",""],["treeCell",""],[4,"ngTemplateOutlet"],[1,"igx-grid__tr--inner",3,"animationend"],[4,"ngIf"],["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForScrollOrientation","igxForContainerSize","igxForSizePropName","igxForTrackBy"],[3,"click","igxRowDrag","ghostTemplate"],[1,"igx-grid__cbx-selection","igx-grid__tr-action",3,"click","pointerdown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-grid__td","igx-grid__td--fw",3,"ngClass","ngStyle","editMode","column","formatter","intRow","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--tree-cell",3,"ngClass","ngStyle","level","expanded","showIndicator","editMode","column","formatter","intRow","rowData","width","visibleColumnIndex","value","isLoading","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__cbx-padding"],[3,"tabindex","readonly","checked","indeterminate","disabled","disableRipple","disableTransitions","aria-label"],["ngFor","",3,"ngForOf"],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--pinned",3,"ngClass","ngStyle","editMode","column","formatter","intRow","firstPinned","lastPinned","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--tree-cell","igx-grid__td--pinned",3,"ngClass","ngStyle","level","expanded","showIndicator","editMode","column","formatter","intRow","lastPinned","rowData","width","visibleColumnIndex","value","isLoading","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"]],template:function(e,t){if(1&e&&Xu(0,K3,1,0,"ng-container",8)(1,U3,2,3,"ng-template",null,0,nm)(3,g4,11,12,"ng-template",null,1,nm),2&e){let e=mp(2),i=mp(4);fg("ngTemplateOutlet",t.addRowUI?e:i)}},dependencies:[yv,cv,dj,dA,kY,av,vv,L3,DA,lv,DK,_K,wK,AK,OK],encapsulation:2,changeDetection:0}),e})(),m4=["record_template"],f4=["summary_template"],v4=[[["igx-grid-toolbar"],["igc-grid-toolbar"]],[["igx-tree-grid-group-by-area"],["igc-tree-grid-group-by-area"]],[["igx-grid-footer"],["igc-grid-footer"]],[["igx-paginator"],["igc-paginator"]],[["igx-grid-state"],["igc-grid-state"]],[["igx-column"],["igc-column"],["igx-column-group"],["igc-column-group"],["igx-action-strip"],["igc-action-strip"]]],y4=["igx-grid-toolbar,igc-grid-toolbar","igx-tree-grid-group-by-area,igc-tree-grid-group-by-area","igx-grid-footer,igc-grid-footer","igx-paginator,igc-paginator","igx-grid-state,igc-grid-state","igx-column,igc-column,igx-column-group,igc-column-group,igx-action-strip,igc-action-strip"],x4=(e,t,i,n,r)=>[e,t,i,n,r],w4=(e,t,i,n,r,s)=>[e,t,i,n,r,s],_4=(e,t,i,n,r,s,o)=>[e,t,i,n,r,s,o],C4=e=>({$implicit:e}),S4=()=>[],b4=(e,t,i,n,r,s)=>[e,t,i,n,r,s,!0],D4=(e,t,i,n,r)=>[e,t,i,n,r,!0],I4=(e,t)=>({"igx-grid__tr--pinned-bottom":e,"igx-grid__tr--pinned-top":t}),E4=(e,t,i,n,r,s,o,a,l,d,c,h)=>[e,t,i,n,r,s,o,a,l,d,c,h],T4=(e,t)=>({rowChangesCount:e,endEdit:t});function R4(e,t){1&e&&Lg(0,"span",66),2&e&&(fg("igxColumnMovingDrop",rp().headerContainer),tg("droppable",!0))}function A4(e,t){if(1&e&&Lg(0,"span",67),2&e){let e=rp();yg("left",e.pinnedWidth,"px"),fg("igxColumnMovingDrop",e.headerContainer),tg("droppable",!0)}}function k4(e,t){1&e&&Gg(0)}function O4(e,t){if(1&e&&(zg(0),Xu(1,k4,1,0,"ng-container",38),Bg()),2&e){let e=t.$implicit,i=t.index,n=rp(4),r=mp(27);Ac(),fg("ngTemplateOutlet",r)("ngTemplateOutletContext",n.getContext(e,i,!0))}}function P4(e,t){if(1&e&&(Mg(0,"div",69,25),Xu(2,O4,2,2,"ng-container",70),Ng()),2&e){let e=rp().ngIf,t=rp(2);yg("width",t.calcWidth,"px"),fg("ngClass",Mp(4,I4,!t.isRowPinningToTop,t.isRowPinningToTop)),Ac(2),fg("ngForOf",e)}}function F4(e,t){if(1&e&&(zg(0),Xu(1,P4,3,7,"div",68),Bg()),2&e){let e=t.ngIf;Ac(),fg("ngIf",e.length>0)}}function V4(e,t){if(1&e&&(Xu(0,F4,2,1,"ng-container",62),Xp(1,"treeGridTransaction"),Xp(2,"visibleColumns"),Xp(3,"treeGridNormalizeRecord"),Xp(4,"treeGridAddRow"),Xp(5,"gridRowPinning"),Xp(6,"treeGridFiltering"),Xp(7,"treeGridSorting")),2&e){let e=rp();fg("ngIf",tm(7,27,Hp(41,D4,tm(6,19,zp(34,b4,em(5,14,Jp(4,10,Qp(3,7,Qp(2,4,Qp(1,1,e.data,e.pipeTrigger),e.hasVisibleColumns),e.pipeTrigger),!0,e.pipeTrigger),e.id,!0,e.pipeTrigger),e.filteringExpressionsTree,e.filterStrategy,e.advancedFilteringExpressionsTree,e.pipeTrigger,e.filteringPipeTrigger)),e.sortingExpressions,null==e.treeGroupArea?null:e.treeGroupArea.expressions,e.sortStrategy,e.pipeTrigger)))}}function M4(e,t){1&e&&Gg(0)}function N4(e,t){}function L4(e,t){if(1&e){let e=Wg();Xu(0,N4,0,0,"ng-template",71),ep("cachedViewLoaded",(function(t){return Uo(e),qo(rp().cachedViewLoaded(t))}))}if(2&e){let e=t.$implicit,i=t.index,n=rp(),r=mp(25),s=mp(29);fg("igxTemplateOutlet",n.isSummaryRow(e)?s:r)("igxTemplateOutletContext",n.getContext(e,i,!1))}}function H4(e,t){1&e&&Gg(0)}function z4(e,t){if(1&e&&(Lg(0,"igx-tree-grid-row",72,26),Xp(2,"igxGridRowClasses"),Xp(3,"igxGridRowStyles")),2&e){let e=t.index,i=t.disabled,n=t.$implicit,r=mp(1),s=rp();fg("gridID",s.id)("index",e)("treeRow",n)("disabled",i)("ngClass",tm(2,6,$p(24,E4,[s.rowClasses,r,r.inEditMode,r.selected,r.dirty,r.deleted,r.dragging,e,s.hasColumnLayouts,r.treeRow.isFilteredOutParent,n,s.pipeTrigger])))("ngStyle",em(3,19,s.rowStyles,n,e,s.pipeTrigger))}}function B4(e,t){if(1&e&&(Lg(0,"igx-tree-grid-row",73,27),Xp(3,"igxGridRowClasses"),Xp(4,"igxGridRowStyles")),2&e){let e=t.index,i=t.$implicit,n=mp(1),r=rp();fg("gridID",r.id)("index",e)("treeRow",i)("ngClass",tm(3,5,$p(23,E4,[r.rowClasses,n,n.inEditMode,n.selected,n.dirty,n.deleted,n.dragging,e,r.hasColumnLayouts,n.treeRow.isFilteredOutParent,i,r.pipeTrigger])))("ngStyle",em(4,18,r.rowStyles,i,e,r.pipeTrigger))}}function G4(e,t){if(1&e&&Lg(0,"igx-grid-summary-row",74,28),2&e){let e=t.index,i=t.$implicit;fg("gridID",rp().id)("summaries",i.summaries)("firstCellIndentation",i.cellIndentation)("index",e)}}function $4(e,t){1&e&&Gg(0)}function W4(e,t){1&e&&Lg(0,"igx-circular-bar",75),2&e&&fg("indeterminate",!0)}function K4(e,t){1&e&&Lg(0,"span",76),2&e&&(fg("igxColumnMovingDrop",rp().headerContainer),tg("droppable",!0))}function j4(e,t){}function U4(e,t){if(1&e&&(Lg(0,"igx-grid-summary-row",77,28),Xp(2,"igxGridSummaryDataPipe")),2&e){let e=rp();yg("width",e.calcWidth,"px")("height",e.summaryRowHeight,"px"),fg("gridID",e.id)("summaries",Qp(2,7,e.id,e.summaryService.retriggerRootPipe))("index",e.dataView.length)}}function q4(e,t){}function Y4(e,t){1&e&&Gg(0)}function X4(e,t){if(1&e&&(Mg(0,"span"),Xu(1,Y4,1,0,"ng-container",36),Ng()),2&e){let e=rp(2),t=mp(71);Ac(),fg("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function Z4(e,t){if(1&e&&(Mg(0,"span",78)(1,"span"),fp(2),Ng(),Xu(3,X4,2,1,"span",62),Ng()),2&e){let e=rp();Ac(2),yp(e.emptyFilteredGridMessage),Ac(),fg("ngIf",e.showAddButton)}}function Q4(e,t){1&e&&Gg(0)}function J4(e,t){if(1&e&&(Mg(0,"span"),Xu(1,Q4,1,0,"ng-container",36),Ng()),2&e){let e=rp(2),t=mp(71);Ac(),fg("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function e5(e,t){if(1&e&&(Mg(0,"span",78)(1,"span"),fp(2),Ng(),Xu(3,J4,2,1,"span",62),Ng()),2&e){let e=rp();Ac(2),yp(e.emptyGridMessage),Ac(),fg("ngIf",e.showAddButton)}}function t5(e,t){if(1&e){let e=Wg();Mg(0,"button",79),ep("click",(function(t){return Uo(e),qo(rp().crudService.enterAddRowMode(null,!1,t))})),fp(1),Ng()}if(2&e){let e=rp();Ac(),xp(" ",e.resourceStrings.igx_grid_add_row_label," ")}}function i5(e,t){1&e&&(Mg(0,"div",80),Lg(1,"igx-circular-bar",75),Ng()),2&e&&(Ac(),fg("indeterminate",!0))}function n5(e,t){1&e&&Gg(0)}function r5(e,t){if(1&e&&(Mg(0,"div",41,29)(2,"div",81),Xu(3,n5,1,0,"ng-container",38),Ng()()),2&e){let e=rp();Ac(2),fg("className",e.bannerClass),Ac(),fg("ngTemplateOutlet",e.rowEditContainer)("ngTemplateOutletContext",Mp(3,T4,e.rowChangesCount,e.crudService.endEdit.bind(e)))}}function s5(e,t){if(1&e&&(fp(0),Xp(1,"igxStringReplace"),Xp(2,"igxStringReplace")),2&e){let e=rp();xp(" ",Jp(2,5,Jp(1,1,e.resourceStrings.igx_grid_row_edit_text,"{0}",e.rowChangesCount.toString()),"{1}",e.hiddenColumnsCount.toString()),"\n")}}function o5(e,t){if(1&e){let e=Wg();Mg(0,"button",82),ep("click",(function(t){return Uo(e),qo(rp().endRowEditTabStop(!1,t))})),fp(1),Ng(),Mg(2,"button",82),ep("click",(function(t){return Uo(e),qo(rp().endRowEditTabStop(!0,t))})),fp(3),Ng()}if(2&e){let e=rp();Ac(),yp(e.resourceStrings.igx_grid_row_edit_btn_cancel),Ac(2),yp(e.resourceStrings.igx_grid_row_edit_btn_done)}}function a5(e,t){1&e&&Gg(0)}function l5(e,t){1&e&&Gg(0)}function d5(e,t){if(1&e&&(Mg(0,"div",83)(1,"span",84),Xu(2,a5,1,0,"ng-container",38),Ng()(),Mg(3,"div",85)(4,"div",86),Xu(5,l5,1,0,"ng-container",38),Ng()()),2&e){let e=rp(),t=mp(76),i=mp(78);Ac(2),fg("ngTemplateOutlet","IgxAddRow"===(null==e.crudService.row?null:e.crudService.row.getClassName())?e.rowAddTextTemplate:e.rowEditTextTemplate?e.rowEditTextTemplate:t)("ngTemplateOutletContext",Vp(4,C4,"IgxAddRow"!==(null==e.crudService.row?null:e.crudService.row.getClassName())?e.rowChangesCount:null)),Ac(3),fg("ngTemplateOutlet",e.rowEditActionsTemplate?e.rowEditActionsTemplate:i)("ngTemplateOutletContext",Vp(6,C4,e.endEdit.bind(e)))}}function c5(e,t){1&e&&Lg(0,"igx-icon",87)}function h5(e,t){1&e&&Lg(0,"igx-grid-column-resizer")}function u5(e,t){1&e&&(Mg(0,"div",65,30),ap(2,4),ap(3,5),Ng())}var g5=0,p5=(()=>{let e=class extends vq{get data(){return this._data}set data(e){this._data=e||[],this.summaryService.clearSummaryCache(),this._init||this.validation.updateAll(this._data),this.shouldGenerate&&this.setupColumns(),this.cdr.markForCheck()}get type(){return"tree"}get transactions(){return this._diTransactions&&!this.batchEditing?this._diTransactions:this._transactions}get expansionDepth(){return this._expansionDepth}set expansionDepth(e){this._expansionDepth=e,this.notifyChanges()}get rowLoadingIndicatorTemplate(){return this._rowLoadingIndicatorTemplate}set rowLoadingIndicatorTemplate(e){this._rowLoadingIndicatorTemplate=e,this.notifyChanges()}constructor(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,v,y,x,w){super(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,v,y,x,w),this._diTransactions=w,this.cascadeOnDelete=!0,this.role="treegrid",this.id="igx-tree-grid-"+g5++,this.records=new Map,this.processedRecords=new Map,this.loadingRows=new Set,this._filterStrategy=new lS,this._expansionDepth=1/0}ngOnInit(){super.ngOnInit(),this.rowToggle.pipe(mn(this.destroy$)).subscribe((e=>{this.loadChildrenOnRowExpansion(e)})),this.rowAddedNotifier.pipe(mn(this.destroy$)).subscribe((e=>{if(this.rowSelection===xS){let t=this.gridAPI.get_rec_by_id(this.primaryKey?e.data[this.primaryKey]:e.data);t&&t.parent?this.gridAPI.grid.selectionService.updateCascadeSelectionOnFilterAndCRUD(new Set([t.parent]),t.parent.key):requestAnimationFrame((()=>{t=this.gridAPI.get_rec_by_id(this.primaryKey?e.data[this.primaryKey]:e.data),t&&t.parent&&this.gridAPI.grid.selectionService.updateCascadeSelectionOnFilterAndCRUD(new Set([t.parent]),t.parent.key),this.notifyChanges()}))}})),this.rowDeletedNotifier.pipe(mn(this.destroy$)).subscribe((e=>{if(this.rowSelection===xS)if(e.data){let t=this.gridAPI.get_rec_by_id(this.primaryKey?e.data[this.primaryKey]:e.data);this.handleCascadeSelection(e,t)}else{let e=new Set;this.records.forEach((t=>{t&&(!t.children||0===t.children.length)&&t.parent&&e.add(t.parent)})),requestAnimationFrame((()=>{this.gridAPI.grid.selectionService.updateCascadeSelectionOnFilterAndCRUD(e),this.notifyChanges()}))}})),this.filteringDone.pipe(mn(this.destroy$)).subscribe((()=>{if(this.rowSelection===xS){let e=new Set;this.records.forEach((t=>{t&&(!t.children||0===t.children.length)&&t.parent&&e.add(t.parent)})),this.gridAPI.grid.selectionService.updateCascadeSelectionOnFilterAndCRUD(e),this.notifyChanges()}}))}ngAfterViewInit(){if(super.ngAfterViewInit(),this.rowSelection===xS&&this.selectedRows.length){let e=this.selectedRows;this.selectionService.clearRowSelection(),this.selectRows(e,!0),this.cdr.detectChanges()}}ngAfterContentInit(){this.rowLoadingTemplate&&(this._rowLoadingIndicatorTemplate=this.rowLoadingTemplate.template),super.ngAfterContentInit()}getDefaultExpandState(e){return e.children&&e.children.length&&e.level<this.expansionDepth}expandAll(){this._expansionDepth=1/0,this.expansionStates=new Map}collapseAll(){this._expansionDepth=0,this.expansionStates=new Map}refreshGridState(e){if(super.refreshGridState(),this.primaryKey&&this.foreignKey&&e){let t=e.data[this.foreignKey];this.summaryService.clearSummaryCache({rowID:t}),this.pipeTrigger++,this.cdr.detectChanges()}}addRow(e,t){this.crudService.endEdit(!0),this.gridAPI.addRowToData(e,t),this.rowAddedNotifier.next({data:e,rowData:e,owner:this,primaryKey:e[this.primaryKey],rowKey:e[this.primaryKey]}),this.pipeTrigger++,this.notifyChanges()}beginAddRowByIndex(e,t){return null===e||e<0?this.beginAddRowById(null,t):this._addRowForIndex(e-1,t)}getContext(e,t,i){return{$implicit:this.isGhostRecord(e)?e.recordRef:e,index:this.getDataViewIndex(t,i),templateID:{type:this.isSummaryRow(e)?"summaryRow":"dataRow",id:null},disabled:!!this.isGhostRecord(e)&&void 0===e.recordRef.isFilteredOutParent}}getInitialPinnedIndex(e){let t=this.gridAPI.get_row_id(e);return this._pinnedRecordIDs.indexOf(t)}isRecordPinned(e){return-1!==this.getInitialPinnedIndex(e.data)}getSelectedData(e=!1,t=!1){let i=[];return this.unpinnedDataView.forEach((e=>{e.summaries?i.push(null):i.push(e.data)})),i=this.isRowPinningToTop?[...this.pinnedDataView,...i]:[...i,...this.pinnedDataView],this.extractDataFromSelection(i,e,t)}getEmptyRecordObjectFor(e){let t=e?.treeRow||null,i=ke({},t),n=t?.data||{};i.data=ke({},n),Object.keys(i.data).forEach((e=>{this.foreignKey&&e===this.foreignKey?i.data[e]=t.data[this.crudService.addRowParent?.asChild?this.primaryKey:e]:i.data[e]=void 0}));let r=this.generateRowID();return r===(this.foreignKey&&this.rootRecords&&this.rootRecords.length>0?this.rootRecords[0].data[this.foreignKey]:null)&&(r=this.generateRowID()),i.key=r,i.data[this.primaryKey]=r,{rowID:r,data:i.data,recordRef:i}}deleteRowById(e){let t={rowID:e,primaryKey:e,rowKey:e,cancel:!1,rowData:this.getRowData(e),data:this.getRowData(e),oldValue:null,owner:this};if(this.rowDelete.emit(t),t.cancel)return;let i=this.gridAPI.deleteRowById(e),n=i[this.primaryKey];if(null!=i){let e={data:i,rowData:i,owner:this,primaryKey:n,rowKey:n};this.rowDeleted.emit(e)}return i}getRowByIndex(e){if(!(e<0||e>=this.dataView.length))return this.createRow(e)}getRowByKey(e){let t=this.filteredSortedData?this.primaryKey?this.filteredSortedData.find((t=>t[this.primaryKey]===e)):this.filteredSortedData.find((t=>t===e)):void 0,i=this.dataView.findIndex((e=>e.data&&e.data===t));if(!(i<0||i>=this.filteredSortedData.length))return new fK(this,i,t)}allRows(){return this.dataView.map(((e,t)=>this.createRow(t)))}dataRows(){return this.allRows().filter((e=>e instanceof fK))}get selectedCells(){return this.dataRows().map((e=>e.cells.filter((e=>e.selected)))).reduce(((e,t)=>e.concat(t)),[])}getCellByColumn(e,t){let i=this.getRowByIndex(e),n=this.columns.find((e=>e.field===t));if(i&&i instanceof fK&&n)return new HM(this,e,n)}getCellByKey(e,t){let i=this.getRowByKey(e),n=this.columns.find((e=>e.field===t));if(i&&n)return new HM(this,i.index,n)}pinRow(e,t){let i=this.getRowByKey(e);return super.pinRow(e,t,i)}unpinRow(e){let t=this.getRowByKey(e);return super.unpinRow(e,t)}generateRowPath(e){let t=[],i=this.records.get(e);for(;i.parent;)t.push(i.parent.key),i=i.parent;return t.reverse()}isTreeRow(e){return void 0!==e.key&&e.data}getUnpinnedIndexById(e){return this.unpinnedRecords.findIndex((t=>t.data[this.primaryKey]===e))}createRow(e,t){let i,n=this._getDataViewIndex(e),r=t??this.dataView[n];if(this.isSummaryRow(r)&&(i=new xK(this,e,r.summaries)),!i&&r){let t=this.isTreeRow(r),n=t?r.data:r;i=new fK(this,e,n,t?r:void 0)}return i}generateDataFields(e){return super.generateDataFields(e).filter((e=>e!==this.childDataKey))}transactionStatusUpdate(e){let t=[];if(e.origin===NC.REDO)t=e.actions?e.actions.filter((e=>e.transaction.type===MC.DELETE)):[],this.rowSelection===xS&&this.handleCascadeSelection(e);else if(e.origin===NC.UNDO&&(t=e.actions?e.actions.filter((e=>e.transaction.type===MC.ADD)):[],this.rowSelection===xS))if("add"===e.actions[0].transaction.type){let t=this.gridAPI.get_rec_by_id(e.actions[0].transaction.id);this.handleCascadeSelection(e,t)}else this.handleCascadeSelection(e);if(t.length)for(let e of t)this.deselectChildren(e.transaction.id);super.transactionStatusUpdate(e)}findRecordIndexInView(e){return this.dataView.findIndex((t=>t.data[this.primaryKey]===e[this.primaryKey]))}getDataBasedBodyHeight(){return!this.flatData||this.flatData.length<this._defaultTargetRecordNumber?0:this.defaultTargetBodyHeight}scrollTo(e,t){let i,n=!1;if("number"!=typeof e){let t=e,r=this.gridAPI.get_row_id(t);if(i=this.processedRecords.get(r),this.gridAPI.expand_path_to_record(i),this.paginator){let e=this.processedExpandedFlatData.indexOf(t),i=Math.floor(e/this.perPage);this.page!==i&&(n=!0,this.page=i)}}n?this.verticalScrollContainer.dataChanged.pipe(un()).subscribe((()=>{this.scrollDirective(this.verticalScrollContainer,"number"==typeof e?e:this.unpinnedDataView.indexOf(i))})):this.scrollDirective(this.verticalScrollContainer,"number"==typeof e?e:this.unpinnedDataView.indexOf(i)),this.scrollToHorizontally(t)}writeToData(e,t){cC(this.flatData[e],t)}initColumns(e,t=null){if(this.hasColumnLayouts){let e=this.columns.filter((e=>!e.columnLayout&&!e.columnLayoutChild));this.updateColumns(e)}super.initColumns(e,t)}getGroupAreaHeight(){return this.treeGroupArea?this.getComputedHeight(this.treeGroupArea.nativeElement):0}deselectChildren(e){let t=[],i=this.records.get(e);this.selectionService.deselectRowsWithNoEvent([e]),this.gridAPI.get_selected_children(i,t),t.length>0&&t.forEach((e=>this.deselectChildren(e)))}addChildRows(e,t){if(this.primaryKey&&this.foreignKey){for(let i of e)i[this.foreignKey]=t;this.data.push(...e)}else if(this.childDataKey){let i=this.records.get(t),n=i.data;if(this.transactions.enabled&&this.transactions.getAggregatedChanges(!0).length){let e=[];for(;i;)e.push(i.key),i=i.parent;let t,r=this.data;for(let i=e.length-1;i>=0;i--){let n=e[i];if(t=r.find((e=>e[this.primaryKey]===n)),!t)break;r=t[this.childDataKey]}t&&(n=t)}n[this.childDataKey]=e}this.selectionService.clearHeaderCBState(),this.pipeTrigger++,this.rowSelection===xS&&(this.cdr.detectChanges(),this.selectionService.isRowSelected(t)&&(this.selectionService.rowSelection.delete(t),this.selectionService.selectRowsWithNoEvent([t])))}loadChildrenOnRowExpansion(e){if(this.loadChildrenOnDemand){let t=e.rowID;e.expanded&&!this._expansionStates.has(t)&&(this.loadingRows.add(t),this.loadChildrenOnDemand(t,(e=>{this.loadingRows.delete(t),this.addChildRows(e,t),this.notifyChanges()})))}}handleCascadeSelection(e,t=null){requestAnimationFrame((()=>{null===t&&(t=this.gridAPI.get_rec_by_id(e.actions[0].transaction.id)),t&&t.parent&&(this.gridAPI.grid.selectionService.updateCascadeSelectionOnFilterAndCRUD(new Set([t.parent]),t.parent.key),this.notifyChanges())}))}};return e.ɵfac=function(t){return new(t||e)(Oc(BU),Oc(_O),Oc(R$),Oc(rO),Oc(iT),Oc(Nl),Oc(Dl),Oc(of),Oc(Pm),Oc(Km),Oc(iu),Oc(hl),Oc(Is),Oc(GU),Oc(j$),Oc(rw),Oc(YE),Oc($U),Oc(bm),Oc(fC),Oc(zU,8))},e.ɵcmp=es({type:e,selectors:[["igx-tree-grid"]],contentQueries:function(e,t,i){if(1&e&&(hp(i,N2,5,N2),hp(i,O2,5,O2)),2&e){let e;gp(e=pp())&&(t.treeGroupArea=e.first),gp(e=pp())&&(t.rowLoadingTemplate=e.first)}},viewQuery:function(e,t){if(1&e&&(up(m4,7,Oh),up(f4,7,Oh)),2&e){let e;gp(e=pp())&&(t.recordTemplate=e.first),gp(e=pp())&&(t.summaryTemplate=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&tg("role",t.role)("id",t.id)},inputs:{childDataKey:"childDataKey",foreignKey:"foreignKey",hasChildrenKey:"hasChildrenKey",cascadeOnDelete:[2,"cascadeOnDelete","cascadeOnDelete",Zm],loadChildrenOnDemand:"loadChildrenOnDemand",id:"id",data:"data",expansionDepth:"expansionDepth",rowLoadingIndicatorTemplate:"rowLoadingIndicatorTemplate"},standalone:!0,features:[kp([iO,BU,$U,GU,{provide:_O,useClass:P2},{provide:rO,useClass:k2},{provide:nO,useExisting:e},j$,R$,iA,nA]),Vu,Ru,Pp],ngContentSelectors:y4,decls:89,vars:159,consts:[["tbody",""],["pinnedRecordsTemplate",""],["verticalScrollContainer",""],["record_template",""],["pinned_record_template",""],["summary_template",""],["igxRowEditingOverlayOutlet",""],["loadingOverlay",""],["verticalScrollHolder",""],["addRowSnackbar",""],["igxBodyOverlayOutlet","overlay-outlet"],["tfoot",""],["scr",""],["scrollContainer",""],["footer",""],["emptyFilteredGrid",""],["defaultEmptyGrid",""],["defaultAddRowEmptyTemplate",""],["defaultLoadingGrid",""],["defaultRowEditText",""],["defaultRowEditActions",""],["defaultRowEditTemplate",""],["dragIndicatorIconBase",""],["igxLoadingOverlayOutlet",""],["igxFilteringOverlayOutlet",""],["pinContainer",""],["row",""],["row","","pinnedRow",""],["summaryRow",""],["rowEditingOverlay",""],["sink",""],["tabindex","0",1,"igx-grid-thead",3,"keydown.meta.c","keydown.control.c","copy","keydown","focus","grid","hasMRL","activeDescendant","width","pinnedColumnCollection","unpinnedColumnCollection"],["igxGridBody","","role","rowgroup",1,"igx-grid__tbody",3,"keydown.control.c","copy"],["tabindex","0",1,"igx-grid__tbody-content",3,"focus","keydown","dragStop","dragScroll","scroll","igxGridDragSelect"],["id","left","class","igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop",4,"ngIf"],["id","left","class","igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop","left",4,"ngIf"],[4,"ngTemplateOutlet"],["igxGridFor","",3,"dataChanging","dataChanged","igxGridForOf","igxForScrollOrientation","igxForScrollContainer","igxForContainerSize","igxForItemSize"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["igxOverlayOutlet","",1,"igx-grid__row-editing-outlet"],["text","Trial version of Ignite UI for Blazor"],["igxToggle",""],[3,"indeterminate",4,"ngIf"],["id","right","class","igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop",4,"ngIf"],[1,"igx-grid__tbody-scrollbar",3,"pointerdown","hidden"],[1,"igx-grid__tbody-scrollbar-start"],[1,"igx-grid__tbody-scrollbar-main"],["igxGridFor","",3,"igxGridForOf"],[1,"igx-grid__tbody-scrollbar-end"],[1,"igx-grid__addrow-snackbar"],[3,"outlet","actionText","displayTime"],["igxOverlayOutlet",""],["role","rowgroup",1,"igx-grid__tfoot"],["tabindex","0",3,"focus","keydown"],["role","row","class","igx-grid__summaries",3,"width","height","gridID","summaries","index",4,"ngIf"],[1,"igx-grid__tfoot-thumb",3,"hidden"],[1,"igx-grid__scroll",3,"pointerdown","hidden"],[1,"igx-grid__scroll-start"],[1,"igx-grid__scroll-main"],[1,"igx-grid__scroll-end",3,"hidden"],[1,"igx-grid__footer"],["igxToggle","",4,"ngIf"],[4,"ngIf"],["igxOverlayOutlet","",1,"igx-grid__loading-outlet"],["igxOverlayOutlet","",1,"igx-grid__outlet"],[2,"display","none"],["id","left",1,"igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop"],["id","left",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop"],["class","igx-grid__tr--pinned",3,"ngClass","width",4,"ngIf"],[1,"igx-grid__tr--pinned",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"cachedViewLoaded","igxTemplateOutlet","igxTemplateOutletContext"],[3,"gridID","index","treeRow","disabled","ngClass","ngStyle"],[3,"gridID","index","treeRow","ngClass","ngStyle"],["role","row",1,"igx-grid__summaries--body",3,"gridID","summaries","firstCellIndentation","index"],[3,"indeterminate"],["id","right",1,"igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop"],["role","row",1,"igx-grid__summaries",3,"gridID","summaries","index"],["role","cell",1,"igx-grid__tbody-message"],["type","button","igxButton","contained","igxRipple","",3,"click"],[1,"igx-grid__loading"],[3,"className"],["type","button","igxButton","","igxRowEditTabStop","",3,"click"],[1,"igx-banner__message"],[1,"igx-banner__text"],[1,"igx-banner__actions"],[1,"igx-banner__row"],["family","default","name","drag_indicator"]],template:function(e,t){if(1&e){let e=Wg();op(v4),ap(0),ap(1,1),Mg(2,"igx-grid-header-row",31),ep("keydown.meta.c",(function(i){return Uo(e),qo(t.copyHandler(i))}))("keydown.control.c",(function(i){return Uo(e),qo(t.copyHandler(i))}))("copy",(function(i){return Uo(e),qo(t.copyHandler(i))}))("keydown",(function(i){return Uo(e),qo(t.navigation.headerNavigation(i))}))("focus",(function(){return Uo(e),qo(t.navigation.focusFirstCell())})),Ng(),Mg(3,"div",32),ep("keydown.control.c",(function(i){return Uo(e),qo(t.copyHandler(i))}))("copy",(function(i){return Uo(e),qo(t.copyHandler(i))})),Mg(4,"div",33,0),ep("focus",(function(i){return Uo(e),qo(t.navigation.focusTbody(i))}))("keydown",(function(i){return Uo(e),qo(t.navigation.handleNavigation(i))}))("dragStop",(function(i){return Uo(e),qo(t.selectionService.dragMode=i)}))("dragScroll",(function(i){return Uo(e),qo(t.dragScroll(i))}))("scroll",(function(i){return Uo(e),qo(t.preventContainerScroll(i))})),Xu(6,R4,1,2,"span",34)(7,A4,1,4,"span",35)(8,V4,8,47,"ng-template",null,1,nm)(10,M4,1,0,"ng-container",36)(11,L4,1,2,"ng-template",37,2,nm),Xp(13,"treeGridTransaction"),Xp(14,"visibleColumns"),Xp(15,"treeGridHierarchizing"),Xp(16,"treeGridFiltering"),Xp(17,"treeGridSorting"),Xp(18,"treeGridFlattening"),Xp(19,"treeGridPaging"),Xp(20,"treeGridSummary"),Xp(21,"treeGridAddRow"),Xp(22,"gridRowPinning"),ep("dataChanging",(function(i){return Uo(e),qo(t.dataRebinding(i))}))("dataChanged",(function(i){return Uo(e),qo(t.dataRebound(i))})),Xu(23,H4,1,0,"ng-container",36)(24,z4,4,37,"ng-template",null,3,nm)(26,B4,5,36,"ng-template",null,4,nm)(28,G4,2,4,"ng-template",null,5,nm)(30,$4,1,0,"ng-container",38),Lg(31,"div",39,6)(33,"igc-trial-watermark",40),Ng(),Mg(34,"div",41,7),Xu(36,W4,1,1,"igx-circular-bar",42),Ng(),Xu(37,K4,1,2,"span",43),Mg(38,"div",44),ep("pointerdown",(function(t){return Uo(e),qo(t.preventDefault())})),Lg(39,"div",45),Mg(40,"div",46),Xu(41,j4,0,0,"ng-template",47,8,nm),Ng(),Lg(43,"div",48),Ng(),Mg(44,"div",49)(45,"igx-snackbar",50,9),fp(47),Ng()(),Lg(48,"div",51,10),Ng(),Mg(50,"div",52,11)(52,"div",53),ep("focus",(function(){return Uo(e),qo(t.navigation.focusFirstCell(!1))}))("keydown",(function(i){return Uo(e),qo(t.navigation.summaryNav(i))})),Xu(53,U4,3,10,"igx-grid-summary-row",54),Lg(54,"div",55),Ng()(),Mg(55,"div",56,12),ep("pointerdown",(function(t){return Uo(e),qo(t.preventDefault())})),Lg(57,"div",57),Mg(58,"div",58),Xu(59,q4,0,0,"ng-template",47,13,nm),Ng(),Lg(61,"div",59),Ng(),Mg(62,"div",60,14),ap(64,2),ap(65,3),Ng(),Xu(66,Z4,4,2,"ng-template",null,15,nm)(68,e5,4,2,"ng-template",null,16,nm)(70,t5,2,1,"ng-template",null,17,nm)(72,i5,2,1,"ng-template",null,18,nm)(74,r5,4,6,"div",61)(75,s5,3,9,"ng-template",null,19,nm)(77,o5,4,2,"ng-template",null,20,nm)(79,d5,6,8,"ng-template",null,21,nm)(81,c5,1,0,"ng-template",null,22,nm)(83,h5,1,0,"igx-grid-column-resizer",62),Lg(84,"div",63,23)(86,"div",64,24),Xu(88,u5,4,0,"div",65)}if(2&e){let e=mp(9),i=mp(49);Ac(2),fg("grid",t)("hasMRL",t.hasColumnLayouts)("activeDescendant",t.activeDescendant)("width",t.calcWidth)("pinnedColumnCollection",t.pinnedColumns)("unpinnedColumnCollection",t.unpinnedColumns),Ac(2),yg("height",t.totalHeight,"px")("width",t.calcWidth,"px"),fg("igxGridDragSelect",t.selectionService.dragMode),tg("aria-activedescendant",t.activeDescendant)("role",t.dataView.length?null:"row"),Ac(2),fg("ngIf",t.moving&&t.columnInDrag&&t.pinnedColumns.length<=0),Ac(),fg("ngIf",t.moving&&t.columnInDrag&&t.pinnedColumns.length>0),Ac(3),fg("ngTemplateOutlet",t.hasPinnedRecords&&t.isRowPinningToTop?e:null),Ac(),fg("igxGridForOf",em(22,117,Jp(21,113,tm(20,105,Bp(147,_4,tm(19,99,Hp(141,x4,em(18,94,tm(17,88,Hp(135,x4,tm(16,81,zp(128,w4,tm(15,75,Hp(122,x4,Qp(14,72,Qp(13,69,t.data,t.pipeTrigger),t.hasVisibleColumns),t.primaryKey,t.foreignKey,t.childDataKey,t.pipeTrigger)),t.filteringExpressionsTree,t.filterStrategy,t.advancedFilteringExpressionsTree,t.pipeTrigger,t.filteringPipeTrigger)),t.sortingExpressions,null==t.treeGroupArea?null:t.treeGroupArea.expressions,t.sortStrategy,t.pipeTrigger)),t.expansionDepth,t.expansionStates,t.pipeTrigger),!!t.paginator,t.page,t.perPage,t.pipeTrigger)),t.hasSummarizedColumns,t.summaryCalculationMode,t.summaryPosition,t.showSummaryOnCollapse,t.pipeTrigger,t.summaryPipeTrigger)),!1,t.pipeTrigger),t.id,!1,t.pipeTrigger))("igxForScrollOrientation","vertical")("igxForScrollContainer",t.verticalScroll)("igxForContainerSize",t.calcHeight)("igxForItemSize",t.renderedRowHeight),Ac(12),fg("ngTemplateOutlet",t.hasPinnedRecords&&!t.isRowPinningToTop?e:null),Ac(7),fg("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Vp(155,C4,t)),Ac(6),fg("ngIf",t.shouldOverlayLoading),Ac(),fg("ngIf",t.moving&&t.columnInDrag),Ac(),yg("width",t.scrollSize,"px")("height",t.calcHeight,"px"),fg("hidden",!t.hasVerticalScroll()),Ac(),yg("height",t.isRowPinningToTop?t.pinnedRowHeight:0,"px"),Ac(),yg("height",t.calcHeight,"px"),Ac(),fg("igxGridForOf",Fp(157,S4)),Ac(2),yg("height",t.isRowPinningToTop?0:t.pinnedRowHeight,"px"),Ac(2),fg("outlet",i)("actionText",t.resourceStrings.igx_grid_snackbar_addrow_actiontext)("displayTime",t.snackbarDisplayTime),Ac(2),yp(t.resourceStrings.igx_grid_snackbar_addrow_label),Ac(3),yg("height",t.summaryRowHeight,"px"),Ac(2),tg("aria-activedescendant",t.activeDescendant),Ac(),fg("ngIf",t.hasSummarizedColumns&&t.rootSummariesEnabled),Ac(),yg("height",t.summaryRowHeight,"px")("width",t.scrollSize,"px"),fg("hidden",!t.hasVerticalScroll()),Ac(),yg("height",t.scrollSize,"px"),fg("hidden",t.isHorizontalScrollHidden),Ac(2),yg("width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px")("min-width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px"),Ac(),yg("width",t.unpinnedWidth,"px"),Ac(),fg("igxGridForOf",Fp(158,S4)),Ac(2),yg("width",t.pinnedWidth,"px")("min-width",t.pinnedWidth,"px"),fg("hidden",0===t.pinnedWidth||t.isPinningToStart),Ac(13),fg("ngIf",t.rowEditable),Ac(9),fg("ngIf",t.colResizingService.showResizer),Ac(5),Fg(t.platform.isElements?88:-1)}},dependencies:[cv,lv,av,vv,yv,lj,Xj,uZ,dW,dA,AA,p4,wU,FA,OA,Pz,RU,ST,vA,nU,FT,CU,TK,RK,SK,bK,Wq,z2,B2,G2,H2,$2,W2,L2,K2,j2,kK],encapsulation:2,changeDetection:0}),e})(),m5=(()=>{let e=class extends yq{constructor(){super(...arguments),this.childRowIslands=new Map,this.childGrids=new Map}registerChildRowIsland(e){this.childRowIslands.set(e.key,e),this.destroyMap.set(e.key,new ei)}unsetChildRowIsland(e){this.childGrids.delete(e.key),this.childRowIslands.delete(e.key),this.destroyMap.delete(e.key)}getChildRowIsland(e){return this.childRowIslands.get(e)}getChildGrid(e){let t,i=e,n=i.shift(),r=this.childGrids.get(n.rowIslandKey);if(r){let e=r.get(n.rowKey);t=0===i.length?e:e.gridAPI.getChildGrid(i)}return t}getChildGrids(e){let t=[];return this.childGrids.forEach((i=>{i.forEach((i=>{if(t.push(i),e){let n=i.gridAPI.getChildGrids(e);t=t.concat(n)}}))})),t}getParentRowId(e){let t;return this.childGrids.forEach((i=>{i.forEach(((i,n)=>{i!==e||(t=n)}))})),t}registerChildGrid(e,t,i){let n=this.childGrids.get(t);n||(this.childGrids.set(t,new Map),n=this.childGrids.get(t)),n.set(e,i)}getChildGridsForRowIsland(e){let t=this.childGrids.get(e),i=[];return t&&t.forEach((e=>{i.push(e)})),i}getChildGridByID(e,t){return this.childGrids.get(e).get(t)}get_row_expansion_state(e){let t;if(void 0!==e.childGridsData){let t=e.key,i=this.grid.expansionStates.get(t);return void 0!==i?i:this.grid.getDefaultExpandState(e)}return t=!!super.get_row_expansion_state(e),t&&0!==this.grid.childLayoutList.length}allow_expansion_state_change(e,t){let i=this.get_rec_by_id(e),n=this.grid;return!(n.hasChildrenKey&&!i[n.hasChildrenKey]||!i||this.grid.expansionStates.get(e)===t)}get_rec_by_id(e){let t=this.get_all_data(!1);return t[this.get_row_index_in_data(e,t)]}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),f5=(()=>{let e=class extends GU{constructor(){super(...arguments),this._pendingNavigation=!1}dispatchEvent(e){let t=e.key.toLowerCase();if(this.activeNode&&(bC.has(t)||"tab"===t&&this.grid.crudService.cell||this.grid.crudService.rowEditingBlocked||this.grid.crudService.rowInEditMode)&&(this.getClosestElemByTag(e.target,"igx-hierarchical-grid")||this.getClosestElemByTag(e.target,"igc-hierarchical-grid"))===this.grid.nativeElement){if(this._pendingNavigation&&xC.has(t))return void e.preventDefault();super.dispatchEvent(e)}}navigateInBody(e,t,i=null){let n=this.grid.dataView[e];if(n&&this.grid.isChildGridRecord(n)){let n=this.grid.verticalScrollContainer.state,r=e>=n.startIndex&&e<=n.startIndex+n.chunkSize,s=this.activeNode.row<e,o=s?null:this.grid.childLayoutKeys.length-1;if(r)this._moveToChild(e,t,s,o,i);else{let n=this.grid.verticalScrollContainer.getScrollForIndex(e,!s);n+=s?1:-1,this.grid.verticalScrollContainer.getScroll().scrollTop=n,this._pendingNavigation=!0,this.grid.verticalScrollContainer.chunkLoad.pipe(un()).subscribe((()=>{this._moveToChild(e,t,s,o,i),this._pendingNavigation=!1}))}return}let r=e===this.grid.dataView.length;if(-1!==e&&!r||null===this.grid.parent){if(this.grid.parent){let n=!(!this.activeNode||"number"!=typeof this.activeNode.row)&&e>this.activeNode.row,r=t=>{this._handleScrollInChild(e,n),i(t)};return this.activeNode||(this.activeNode={row:null,column:null}),void super.navigateInBody(e,t,r)}this.activeNode||(this.activeNode={row:null,column:null}),super.navigateInBody(e,t,i)}else{let e=this.nextSiblingIndex(r);null!==e?this.grid.parent.navigation._moveToChild(this.grid.childRow.index,t,r,e,i):this._moveToParent(r,t,i)}}shouldPerformVerticalScroll(e,t=-1,i){let n=this.grid.dataView[e];if(this.grid.isChildGridRecord(n)){let t=this.grid.verticalScrollContainer.getScrollForIndex(e,!i),n=this.grid.verticalScrollContainer.getScroll().scrollTop;return i?n<t:t>n}return super.shouldPerformVerticalScroll(e,t)}focusTbody(e){this.activeNode&&null!==this.activeNode.row?super.focusTbody(e):(this.activeNode={row:0,column:0},this.grid.navigateTo(0,0,(t=>{this.grid.clearCellSelection(),t.target.activate(e)})))}nextSiblingIndex(e){let t=this.grid.childRow.layout.key,i=this.grid.parent.childLayoutKeys.indexOf(t),n=e?i+1:i-1;return n<=this.grid.parent.childLayoutKeys.length-1&&n>-1?n:null}_handleScrollInChild(e,t,i){this.shouldPerformVerticalScroll(e,-1,t)?this.grid.navigation.performVerticalScrollToCell(e,-1,(()=>{this.positionInParent(e,t,i)})):this.positionInParent(e,t,i)}positionInParent(e,t,i){let n=this.grid.gridAPI.get_row_by_index(e);if(!n)return void(i&&i());let r=this.getPositionInfo(n,t);if(r.inView)i&&i();else{this._pendingNavigation=!0;let e=t?this.getNextScrollableDown(this.grid):this.getNextScrollableUp(this.grid);e.grid.verticalScrollContainer.recalcUpdateSizes(),e.grid.verticalScrollContainer.addScrollTop(r.offset),e.grid.verticalScrollContainer.chunkLoad.pipe(un()).subscribe((()=>{this._pendingNavigation=!1,i&&i()}))}}_moveToChild(e,t,i,n,r){let s="number"!=typeof n?this.grid.childLayoutList.first:this.grid.childLayoutList.toArray()[n],o=this.grid.dataView[e].rowID,a={rowID:o,rowKey:o,rowIslandKey:s.key},l=this.grid.gridAPI.getChildGrid([a]),d=i?0:l.dataView.length-1,c=l.dataView[d];if(!c)return void l.navigation.navigateInBody(d,t,r);if(l.isChildGridRecord(c))return this.grid.navigation.activeNode.row=null,l.navigation.activeNode={row:d,column:this.activeNode.column},void l.navigation._handleScrollInChild(d,i,(()=>{let e=i?0:l.childLayoutList.toArray().length-1;l.navigation._moveToChild(d,t,i,e,r)}));let h=l.navigation;this.clearActivation();let u=h.lastColumnIndex,g=t<=u?t:u;h.activeNode={row:d,column:g},l.tbody.nativeElement.focus({preventScroll:!0}),this._pendingNavigation=!1,l.navigation._handleScrollInChild(d,i,(()=>{l.navigateTo(d,g,r)}))}_moveToParent(e,t,i){let n=this.grid.childRow.index;if(!this.hasNextTarget(this.grid.parent,n,e))return;this.clearActivation();let r=e?n+1:n-1,s=this.grid.parent.navigation.lastColumnIndex,o=t<=s?t:s;this._pendingNavigation=!0,this.grid.parent.navigation.navigateInBody(r,o,(e=>{this._pendingNavigation=!1,i(e),e.target.grid.tbody.nativeElement.focus()}))}getPositionInfo(e,t){let i=e.nativeElement;if(e.layout){let n=this.grid.childLayoutKeys,r=t?n[0]:n[n.length-1],s={rowID:e.data.rowID,rowKey:e.data.rowID,rowIslandKey:r};i=this.grid.gridAPI.getChildGrid([s]).tfoot.nativeElement}let n=this._getMinBottom(this.grid),r=i.getBoundingClientRect().bottom-n,s=this._getMaxTop(this.grid),o=i.getBoundingClientRect().bottom-i.offsetHeight-s;return{inView:t?Math.round(r)<=0:Math.round(o)>=0,offset:t?r:o}}getClosestElemByTag(e,t){let i=e;for(;null!==i&&1===i.nodeType;){if(i.tagName.toLowerCase()===t.toLowerCase())return i;i=i.parentNode}return null}clearActivation(){this.activeNode&&Object.keys(this.activeNode).length&&(this.activeNode=Object.assign({}))}hasNextTarget(e,t,i){let n=i?t+1:t-1;if(e.dataView[n])return!0;{let t=!1;if(e.parent){let n=e.childRow.index;t=this.hasNextTarget(e.parent,n,i)}return t}}_getMaxTop(e){let t=e,i=t.tbody.nativeElement.getBoundingClientRect().top;for(;t.parent;){t=t.parent;let e=t.hasPinnedRecords&&t.isRowPinningToTop?t.pinnedRowHeight:0;i=Math.max(i,t.tbody.nativeElement.getBoundingClientRect().top+e)}return i}_getMinBottom(e){let t=e,i=t.tbody.nativeElement.getBoundingClientRect().bottom;for(;t.parent;){t=t.parent;let e=t.hasPinnedRecords&&!t.isRowPinningToTop?t.pinnedRowHeight:0;i=Math.min(i,t.tbody.nativeElement.getBoundingClientRect().bottom-e)}return i}getNextScrollableDown(e){let t=e.parent;if(!t)return{grid:e,prev:null};let i=t.verticalScrollContainer.scrollPosition,n=t.verticalScrollContainer.getScroll().scrollHeight,r=0===n||Math.round(i+t.verticalScrollContainer.igxForContainerSize)===n,s=e;for(;r&&null!==t.parent;)s=t,t=t.parent,i=t.verticalScrollContainer.scrollPosition,n=t.verticalScrollContainer.getScroll().scrollHeight,r=0===n||Math.round(i+t.verticalScrollContainer.igxForContainerSize)===n;return{grid:t,prev:s}}getNextScrollableUp(e){let t=e.parent;if(!t)return{grid:e,prev:null};let i=0===t.verticalScrollContainer.scrollPosition,n=e;for(;i&&null!==t.parent;)n=t,t=t.parent,i=0===t.verticalScrollContainer.scrollPosition;return{grid:t,prev:n}}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),v5=(()=>{let e=class extends vq{get type(){return"hierarchical"}get maxLevelHeaderDepth(){return null===this._maxLevelHeaderDepth&&(this._maxLevelHeaderDepth=this.columns.reduce(((e,t)=>Math.max(e,t.level)),0)),this._maxLevelHeaderDepth}get outlet(){return this.rootGrid?this.rootGrid.resolveOutlet():this.resolveOutlet()}set outlet(e){this._userOutletDirective=e}get batchEditing(){return this._batchEditing}set batchEditing(e){e!==this._batchEditing&&(delete this._transactions,this.switchTransactionService(e),this.subscribeToTransactions(),this.batchEditingChange.emit(e),this._batchEditing=e)}constructor(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,v,y,x,w){super(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,v,y,x,w),this.gridAPI=n,this.showExpandAll=!1,this.dataPreLoad=new yl,this.batchEditingChange=new yl}createColumnsList(e){let t=[];e.filter((e=>0===e.level)).forEach((e=>{let i=this._createColumn(e);i.changeDetectorRef.detectChanges(),t.push(i.instance)}));let i=y5(t);this.updateColumns(i),this.initPinning(),i.forEach((e=>{this.columnInit.emit(e)})),tf(zM).outputs.filter((e=>"columnChange"!==e.propName)).forEach((e=>{this.columns.forEach((t=>{t[e.propName]&&t[e.propName].pipe(mn(t.destroy$)).subscribe((i=>{this.parentIsland.columnList.find((e=>e.field?e.field===t.field:e.header===t.header))[e.propName].emit({args:i,owner:this})}))}))}))}_createColumn(e){let t;return t=e instanceof WM?this._createColGroupComponent(e):this._createColComponent(e),t}_createColGroupComponent(e){let t=ef(WM,{environmentInjector:this.envInjector,elementInjector:this.injector});if(t.changeDetectorRef.detectChanges(),tf(WM).inputs.forEach((i=>{let n=i.propName;t.instance[n]=e[n]})),e.children.length>0){let i=[];e.children.forEach((e=>{let n=this._createColumn(e).instance;n.parent=t.instance,i.push(n)})),t.instance.children.reset(i),t.instance.children.notifyOnChanges()}return t}_createColComponent(e){let t=ef(zM,{environmentInjector:this.envInjector,elementInjector:this.injector});return tf(zM).inputs.forEach((i=>{let n=i.propName;e[n]instanceof lO?t.instance[n]=e[n].constructor:t.instance[n]=e[n]})),t.instance.validators=e.validators,t}getGridsForIsland(e){return this.gridAPI.getChildGridsForRowIsland(e)}getChildGrid(e){if(e)return this.gridAPI.getChildGrid(e)}};return e.ɵfac=function(t){return new(t||e)(Oc(BU),Oc(_O),Oc(R$),Oc(rO),Oc(tT),Oc(Nl),Oc(Dl),Oc(of),Oc(Pm),Oc(Km),Oc(iu),Oc(hl),Oc(Is),Oc(f5),Oc(j$),Oc(rw),Oc(YE),Oc($U),Oc(bm),Oc(fC),Oc(zU,8))},e.ɵdir=ss({type:e,inputs:{hasChildrenKey:"hasChildrenKey",showExpandAll:[2,"showExpandAll","showExpandAll",Zm]},outputs:{dataPreLoad:"dataPreLoad"},features:[Vu,Ru]}),e})(),y5=e=>{let t=[];return e.forEach((e=>{t.push(e),e.children&&(t=t.concat(y5(e.children.toArray())))})),t},x5=(()=>{let e=class{constructor(){this.change=new ei,this.state=new Map,this.destroyMap=new Map,this.childRowIslands=new Map,this.childGrids=new Map}register(e){this.state.set(e.id,e),this.destroyMap.set(e.id,new ei)}unsubscribe(e){this.state.delete(e.id)}get(e){return this.state.get(e)}unset(e){this.state.delete(e),this.destroyMap.delete(e)}reset(e,t){let i=this.destroyMap.get(e),n=this.get(e);this.unset(e),n&&this.state.set(t,n),i&&this.destroyMap.set(t,i)}registerChildRowIsland(e){this.childRowIslands.set(e.key,e),this.destroyMap.set(e.key,new ei)}unsetChildRowIsland(e){this.childRowIslands.delete(e.key),this.destroyMap.delete(e.key)}getChildRowIsland(e){return this.childRowIslands.get(e)}registerChildGrid(e,t){this.childGrids.set(e,t)}getChildGrids(e){let t=[];return this.childGrids.forEach((e=>{t.push(e)})),e&&this.childRowIslands.forEach((i=>{t=t.concat(i.rowIslandAPI.getChildGrids(e))})),t}getChildGridByID(e){return this.childGrids.get(e)}};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),w5=[[["igx-column"],["igc-column"],["igx-column-group"],["igc-column-group"],["igx-action-strip"],["igc-action-strip"]],[["igx-row-island"],["igc-row-island"]]],_5=["igx-column,igc-column,igx-column-group,igc-column-group,igx-action-strip,igc-action-strip","igx-row-island,igc-row-island"];function C5(e,t){1&e&&(Mg(0,"div",1,0),ap(2),ap(3,1),Ng())}var S5=(()=>{let e=class extends v5{get childDataKey(){return this.key}set childDataKey(e){this.key=e}get toolbarTemplate(){return this._toolbarTemplate||this.toolbarDirectiveTemplate}set toolbarTemplate(e){this._toolbarTemplate=e}get paginatorTemplate(){return this._paginatorTemplate||this.paginatorDirectiveTemplate}set paginatorTemplate(e){this._paginatorTemplate=e}get hiddenColumnsCount(){return 0}get pinnedColumnsCount(){return 0}get lastSearchInfo(){return null}get filteredData(){return[]}get filteredSortedData(){return[]}get virtualizationState(){return null}get pinnedColumns(){return[]}get unpinnedColumns(){return[]}get visibleColumns(){return[]}get dataView(){return[]}set expandChildren(e){this._defaultExpandState=e,this.rowIslandAPI.getChildGrids().forEach((t=>{document.body.contains(t.nativeElement)?(t.expandChildren=e,t.cdr.detectChanges()):t.updateOnRender=!0}))}get expandChildren(){return this._defaultExpandState}get id(){let e=this.parentId?this.parentId.substring(this.parentId.indexOf(this.layout_id)+this.layout_id.length)+"-":"";return this.layout_id+e+this.key}get parentId(){return this.parentIsland?this.parentIsland.id:null}get level(){let e=this.parentIsland,t=0;for(;e;)t++,e=e.parentIsland;return t+1}constructor(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,v,y,x,w){super(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,v,x,w),this.rowIslandAPI=y,this.children=new zl,this.childLayoutList=new zl,this.childColumns=new zl,this.layoutChange=new yl,this.gridCreated=new yl,this.gridInitialized=new yl,this.initialChanges=[],this.rootGrid=null,this.layout_id="igx-row-island-",this.isInit=!1,this._childColumns=[]}ngOnInit(){this.filteringService.grid=this,this.rootGrid=this.gridAPI.grid,this.rowIslandAPI.rowIsland=this,this.ri_columnListDiffer=this.differs.find([]).create(null)}ngAfterContentInit(){this.updateChildren(),this.children.notifyOnChanges(),this.children.changes.pipe(mn(this.destroy$)).subscribe((()=>{this.updateChildren(),this.getGridsForIsland(this.key).forEach((e=>{e.onRowIslandChange(this.children)}))}));let e=this.children.map((e=>e.columnList.toArray())),t=[].concat.apply([],e),i=this.columnList.filter((e=>-1===t.indexOf(e)));this._childColumns=i,this.updateColumns(this._childColumns),this.columnList.changes.pipe(mn(this.destroy$)).subscribe((()=>{Promise.resolve().then((()=>{this.updateColumnList()}))})),this.ri_columnListDiffer.diff(this.childColumns),this._childColumns.forEach((e=>e.columnChange.pipe(mn(e.destroy$)).subscribe((()=>this.updateColumnList())))),this.childColumns.changes.pipe(mn(this.destroy$)).subscribe((e=>{let t=this.ri_columnListDiffer.diff(e);t&&t.forEachAddedItem((e=>{e.item.columnChange.pipe(mn(e.item.destroy$)).subscribe((()=>this.updateColumnList()))}))})),this.actionStrip&&(this.actionStrip.menuOverlaySettings.outlet=this.outlet)}ngAfterViewInit(){this.rowIslandAPI.register(this),this.parentIsland?this.parentIsland.rowIslandAPI.registerChildRowIsland(this):this.rootGrid.gridAPI.registerChildRowIsland(this),this._init=!1,this.gridCreated.pipe(function(...e){let t=e.length;if(0===t)throw new Error("list of properties cannot be empty.");return Bi((i=>{let n=i;for(let i=0;i<t;i++){let t=n?.[e[i]];if(!(typeof t<"u"))return;n=t}return n}))}("grid"),mn(this.destroy$)).subscribe((e=>{e.rendered$.pipe(un(),on((()=>!!this.toolbarTemplate))).subscribe((()=>e.toolbarOutlet.createEmbeddedView(this.toolbarTemplate,{$implicit:e},{injector:e.toolbarOutlet.injector}))),e.rendered$.pipe(un(),on((()=>!!this.paginatorTemplate))).subscribe((()=>{this.rootGrid.paginatorList.changes.pipe(mn(this.destroy$)).subscribe((t=>{t.forEach((t=>{t.nativeElement.offsetParent?.id===e.id&&e.setUpPaginator()}))})),e.paginatorOutlet.createEmbeddedView(this.paginatorTemplate,{$implicit:e})}))}))}ngOnChanges(e){this.layoutChange.emit(e),this.isInit||this.initialChanges.push(e)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this._destroyed=!0,this.rowIslandAPI.unset(this.id),this.parentIsland?(this.getGridsForIsland(this.key).forEach((e=>{this.cleanGridState(e),e.gridAPI.unsetChildRowIsland(this)})),this.parentIsland.rowIslandAPI.unsetChildRowIsland(this)):(this.rootGrid.gridAPI.unsetChildRowIsland(this),this.cleanGridState(this.rootGrid))}reflow(){}calculateGridHeight(){}calculateGridWidth(){}updateColumnList(){let e=this.children.map((e=>e.columnList.toArray())),t=[].concat.apply([],e),i=this.columnList.filter((e=>-1===t.indexOf(e)&&(e.defaultWidth=void 0,!0)));this._childColumns=i,this.updateColumns(this._childColumns),this.rowIslandAPI.getChildGrids().forEach((e=>{e.createColumnsList(this._childColumns),document.body.contains(e.nativeElement)||(e.updateOnRender=!0)}))}updateChildren(){this.children.first===this&&this.children.reset(this.children.toArray().slice(1)),this.children.forEach((e=>{e.parentIsland=this}))}cleanGridState(e){e.childGridTemplates.forEach((e=>{e.owner.cleanView(e.context.templateID)})),e.childGridTemplates.clear(),e.onRowIslandChange()}};return e.ɵfac=function(t){return new(t||e)(Oc(BU),Oc(_O),Oc(R$),Oc(rO),Oc(tT),Oc(Nl),Oc(Dl),Oc(of),Oc(Pm),Oc(Km),Oc(iu),Oc(hl),Oc(Is),Oc(f5),Oc(j$),Oc(rw),Oc(YE),Oc($U),Oc(x5),Oc(bm),Oc(fC))},e.ɵcmp=es({type:e,selectors:[["igx-row-island"]],contentQueries:function(t,i,n){if(1&t&&(hp(n,A1,5,Oh),hp(n,n2,5,Oh),hp(n,e,4,e),hp(n,e,4,e),hp(n,zM,4,zM),hp(n,IO,4,IO)),2&t){let e;gp(e=pp())&&(i.toolbarDirectiveTemplate=e.first),gp(e=pp())&&(i.paginatorDirectiveTemplate=e.first),gp(e=pp())&&(i.children=e),gp(e=pp())&&(i.childLayoutList=e),gp(e=pp())&&(i.childColumns=e),gp(e=pp())&&(i.actionStripComponents=e)}},inputs:{key:"key",childDataKey:"childDataKey",toolbarTemplate:"toolbarTemplate",paginatorTemplate:"paginatorTemplate",expandChildren:[2,"expandChildren","expandChildren",Zm]},outputs:{layoutChange:"layoutChange",gridCreated:"gridCreated",gridInitialized:"gridInitialized"},standalone:!0,features:[kp([x5,j$,_O]),Vu,Ru,yo,Pp],ngContentSelectors:_5,decls:1,vars:1,consts:[["sink",""],[2,"display","none"]],template:function(e,t){1&e&&(op(w5),Xu(0,C5,4,0,"div",1)),2&e&&Fg(t.platform.isElements?0:-1)},encapsulation:2,changeDetection:0}),e})(),b5=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t=new Map,i,n,r,s){return 0===r.length||this.grid.verticalScrollContainer.isRemote?e:this.addHierarchy(this.grid,lC(e),t,n,r)}addHierarchy(e,t,i,n,r){let s=[];return t.forEach((t=>{s.push(t);let i={};r.forEach((e=>{t[e]||(t[e]=[]);let n=e?.includes(".")?TC(t,e):t[e];i[e]=n})),e.gridAPI.get_row_expansion_state(t)&&s.push({rowID:n?t[n]:t,childGridsData:i})})),s}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"gridHierarchical",type:e,pure:!0,standalone:!0}),e})(),D5=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i=0,n=15,r,s){if(!t||this.grid.pagingMode!==bS.Local)return e;let o={index:i,recordsPerPage:n},a=this.grid._totalRecords>=0?this.grid._totalRecords:e.length,l=JC.page(lC(e),o,a);return this.grid.pagingState=o,l}};return e.ɵfac=function(t){return new(t||e)(Oc(nO,16))},e.ɵpipe=os({name:"gridHierarchicalPaging",type:e,pure:!0,standalone:!0}),e})(),I5=(e,t,i,n,r)=>[e,t,i,n,r],E5=(e,t)=>({"igx-icon--success":e,"igx-icon--error":t});function T5(e,t){if(1&e&&(Mg(0,"igx-chip",10),fp(1),Ng()),2&e){let e=rp(2);yg("--ig-size",1),fg("disabled",!0),Ac(),yp(e.grid.resourceStrings.igx_grid_pinned_row_indicator)}}function R5(e,t){1&e&&Xu(0,T5,2,4,"igx-chip",9),2&e&&fg("ngIf",rp().displayPinnedChip)}function A5(e,t){if(1&e&&(Mg(0,"div",14),Xp(1,"columnFormatter"),Xp(2,"number"),Xp(3,"date"),Xp(4,"currency"),Xp(5,"percent"),fp(6),Xp(7,"columnFormatter"),Xp(8,"number"),Xp(9,"date"),Xp(10,"currency"),Xp(11,"percent"),Ng()),2&e){let e=rp(2);fg("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?em(1,9,e.value,e.formatter,e.rowData,e.columnData):"number"===e.column.dataType?Jp(2,14,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?em(3,18,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?tm(4,23,Hp(57,I5,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Jp(5,29,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Ac(6),yp(e.formatter?em(7,33,e.value,e.formatter,e.rowData,e.columnData):"number"===e.column.dataType?Jp(8,38,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?em(9,42,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?tm(10,47,Hp(63,I5,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Jp(11,53,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)}}function k5(e,t){if(1&e&&Lg(0,"igx-icon",15),2&e){let e=rp(2);fg("name",e.value?"confirm":"close")("ngClass",Mp(2,E5,e.value,!e.value))}}function O5(e,t){if(1&e&&(Lg(0,"img",16),Xp(1,"igxCellImageAlt")),2&e){let e=rp(2);fg("src",e.value,Xd)("alt",Zp(1,2,e.value))}}function P5(e,t){if(1&e&&Xu(0,A5,12,69,"div",11)(1,k5,1,5,"igx-icon",12)(2,O5,2,4,"img",13),2&e){let e=rp();fg("ngIf","boolean"!==e.column.dataType&&"image"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter),Ac(),fg("ngIf","boolean"===e.column.dataType&&!e.formatter),Ac(),fg("ngIf","image"===e.column.dataType)}}function F5(e,t){if(1&e&&(Mg(0,"div",14),Xp(1,"columnFormatter"),Xp(2,"number"),Xp(3,"date"),Xp(4,"currency"),Xp(5,"percent"),fp(6),Ng()),2&e){let e=rp(2);fg("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?Jp(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?Jp(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?em(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?tm(4,22,Hp(32,I5,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Jp(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Ac(6),yp(e.isEmptyAddRowCell?e.column.header||e.column.field:e.value)}}function V5(e,t){if(1&e&&Xu(0,F5,7,38,"div",11),2&e){let e=rp();fg("ngIf","boolean"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter)}}function M5(e,t){if(1&e){let e=Wg();zg(0,18),Mg(1,"igx-input-group")(2,"input",19),ep("compositionstart",(function(){return Uo(e),qo(rp(2).grid.crudService.isInCompositionMode=!0)}))("compositionend",(function(){return Uo(e),qo(rp(2).grid.crudService.isInCompositionMode=!1)})),Ng()(),Bg()}if(2&e){let e=rp(2);fg("formGroup",e.formGroup),Ac(2),fg("igxFocus",!0)("igxTextSelection",!0)("formControl",e.formControl),tg("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function N5(e,t){if(1&e&&(zg(0),Mg(1,"igx-input-group",18),Lg(2,"input",20),Ng(),Bg()),2&e){let e=rp(2);Ac(),fg("formGroup",e.formGroup),Ac(),fg("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),tg("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function L5(e,t){if(1&e&&(zg(0,18),Lg(1,"igx-checkbox",21),Bg()),2&e){let e=rp(2);fg("formGroup",e.formGroup),Ac(),fg("checked",e.editValue)("igxFocus",!0)("disableRipple",!0)("formControl",e.formControl)}}function H5(e,t){if(1&e){let e=Wg();zg(0,18),Mg(1,"igx-date-picker",22),Sp("valueChange",(function(t){Uo(e);let i=rp(2);return Cp(i.editValue,t)||(i.editValue=t),qo(t)})),Ng(),Bg()}if(2&e){let e=rp(2);fg("formGroup",e.formGroup),Ac(),yg("width",100,"%"),fg("outlet",e.grid.outlet)("locale",e.grid.locale)("weekStart",e.column.pipeArgs.weekStart),_p("value",e.editValue),fg("igxFocus",!0)("formControl",e.formControl)}}function z5(e,t){if(1&e){let e=Wg();zg(0,18),Mg(1,"igx-time-picker",23),Sp("valueChange",(function(t){Uo(e);let i=rp(2);return Cp(i.editValue,t)||(i.editValue=t),qo(t)})),Ng(),Bg()}if(2&e){let e=rp(2);fg("formGroup",e.formGroup),Ac(),yg("width",100,"%"),fg("outlet",e.grid.outlet)("locale",e.grid.locale)("inputFormat",e.column.defaultTimeFormat),_p("value",e.editValue),fg("igxFocus",!0)("formControl",e.formControl)}}function B5(e,t){if(1&e&&(zg(0),Mg(1,"igx-input-group",18),Lg(2,"input",24),Ng(),Bg()),2&e){let e=rp(2);Ac(),fg("formGroup",e.formGroup),Ac(),fg("formControl",e.formControl)("igxDateTimeEditor",e.column.defaultDateTimeFormat)("igxFocus",!0),tg("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function G5(e,t){if(1&e&&(Mg(0,"igx-prefix"),fp(1),Ng()),2&e){let e=rp(3);Ac(),yp(e.currencyCodeSymbol)}}function $5(e,t){if(1&e&&(Mg(0,"igx-suffix"),fp(1),Ng()),2&e){let e=rp(3);Ac(),yp(e.currencyCodeSymbol)}}function W5(e,t){if(1&e&&(zg(0),Mg(1,"igx-input-group",18),Xu(2,G5,2,1,"igx-prefix",8),Lg(3,"input",20),Xu(4,$5,2,1,"igx-suffix",8),Ng(),Bg()),2&e){let e=rp(2);Ac(),fg("formGroup",e.formGroup),Ac(),fg("ngIf",e.grid.currencyPositionLeft),Ac(),fg("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),tg("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Ac(),fg("ngIf",!e.grid.currencyPositionLeft)}}function K5(e,t){if(1&e&&(zg(0),Mg(1,"igx-input-group",18),Lg(2,"input",20),Mg(3,"igx-suffix"),fp(4),Xp(5,"percent"),Ng()(),Bg()),2&e){let e=rp(2);Ac(),fg("formGroup",e.formGroup),Ac(),fg("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),tg("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Ac(2),xp(" ",Jp(5,8,e.editValue,e.column.pipeArgs.digitsInfo,e.grid.locale)," ")}}function j5(e,t){if(1&e&&Xu(0,M5,3,6,"ng-container",17)(1,N5,3,7,"ng-container",8)(2,L5,2,5,"ng-container",17)(3,H5,2,9,"ng-container",17)(4,z5,2,9,"ng-container",17)(5,B5,3,6,"ng-container",8)(6,W5,5,9,"ng-container",8)(7,K5,6,12,"ng-container",8),2&e){let e=rp();fg("ngIf","string"===e.column.dataType||"image"===e.column.dataType),Ac(),fg("ngIf","number"===e.column.dataType),Ac(),fg("ngIf","boolean"===e.column.dataType),Ac(),fg("ngIf","date"===e.column.dataType),Ac(),fg("ngIf","time"===e.column.dataType),Ac(),fg("ngIf","dateTime"===e.column.dataType),Ac(),fg("ngIf","currency"===e.column.dataType),Ac(),fg("ngIf","percent"===e.column.dataType)}}function U5(e,t){1&e&&Gg(0)}function q5(e,t){1&e&&Gg(0)}function Y5(e,t){1&e&&Gg(0)}function X5(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"igx-icon",25,5),ep("mouseover",(function(){return Uo(e),qo(rp().errorShowing=!0)}))("mouseout",(function(){return Uo(e),qo(rp().errorShowing=!1)})),Ng(),Mg(3,"div",26,6)(6,"div"),Xu(7,Y5,1,0,"ng-container",7),Ng()(),Bg()}if(2&e){let e=mp(5),t=rp(),i=mp(12);Ac(),fg("igxTooltipTarget",e)("igxToggleOutlet",t.grid.outlet),Ac(2),fg("id",t.ariaErrorMessage),Ac(3),yg("width","max-content"),Ac(),fg("ngTemplateOutlet",t.cellValidationErrorTemplate||i)("ngTemplateOutletContext",t.context)}}function Z5(e,t){if(1&e&&(Mg(0,"div"),fp(1),Ng()),2&e){let e=rp(2);Ac(),xp(" ",e.grid.resourceStrings.igx_grid_required_validation_error," ")}}function Q5(e,t){if(1&e&&(Mg(0,"div"),fp(1),Xp(2,"igxStringReplace"),Ng()),2&e){let e=rp(2);Ac(),xp(" ",Jp(2,1,e.grid.resourceStrings.igx_grid_min_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.minlength.requiredLength)," ")}}function J5(e,t){if(1&e&&(Mg(0,"div"),fp(1),Xp(2,"igxStringReplace"),Ng()),2&e){let e=rp(2);Ac(),xp(" ",Jp(2,1,e.grid.resourceStrings.igx_grid_max_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.maxlength.requiredLength)," ")}}function e6(e,t){if(1&e&&(Mg(0,"div"),fp(1),Xp(2,"igxStringReplace"),Ng()),2&e){let e=rp(2);Ac(),xp(" ",Jp(2,1,e.grid.resourceStrings.igx_grid_min_validation_error,"{0}",e.formGroup.get(e.column.field).errors.min.min)," ")}}function t6(e,t){if(1&e&&(Mg(0,"div"),fp(1),Xp(2,"igxStringReplace"),Ng()),2&e){let e=rp(2);Ac(),xp(" ",Jp(2,1,e.grid.resourceStrings.igx_grid_max_validation_error,"{0}",e.formGroup.get(e.column.field).errors.max.max)," ")}}function i6(e,t){if(1&e&&(Mg(0,"div"),fp(1),Ng()),2&e){let e=rp(2);Ac(),xp(" ",e.grid.resourceStrings.igx_grid_email_validation_error," ")}}function n6(e,t){if(1&e&&(Mg(0,"div"),fp(1),Ng()),2&e){let e=rp(2);Ac(),xp(" ",e.grid.resourceStrings.igx_grid_pattern_validation_error," ")}}function r6(e,t){if(1&e&&Xu(0,Z5,2,1,"div",8)(1,Q5,3,5,"div",8)(2,J5,3,5,"div",8)(3,e6,3,5,"div",8)(4,t6,3,5,"div",8)(5,i6,2,1,"div",8)(6,n6,2,1,"div",8),2&e){let e,t,i,n,r,s,o,a=rp();fg("ngIf",null==a.formGroup||null==(e=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:e.required),Ac(),fg("ngIf",null==a.formGroup||null==(t=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:t.minlength),Ac(),fg("ngIf",null==a.formGroup||null==(i=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:i.maxlength),Ac(),fg("ngIf",null==a.formGroup||null==(n=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:n.min),Ac(),fg("ngIf",null==a.formGroup||null==(r=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:r.max),Ac(),fg("ngIf",null==a.formGroup||null==(s=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:s.email),Ac(),fg("ngIf",null==a.formGroup||null==(o=a.formGroup.get(null==a.column?null:a.column.field).errors)?null:o.pattern)}}var s6=(()=>{let e=class extends kY{constructor(e,t,i,n,r,s,o,a){super(e,t,i,n,r,s,o,a)}ngOnInit(){super.ngOnInit(),this._rootGrid=this._getRootGrid()}activate(e){this._clearAllHighlights();let t,i=this.grid.nativeElement,n=this.grid;for(this._rootGrid.id!==i.id&&i.classList.add("igx-grid__tr--highlighted");this._rootGrid.id!==n.id;){t=n,n=n.parent;let e=n.gridAPI.getParentRowId(t);n.highlightedRowID=e}this.grid.navigation.activeNode.gridID=this.gridID,super.activate(e)}_getRootGrid(){let e=this.grid;for(;e.parent;)e=e.parent;return e}_clearAllHighlights(){[this._rootGrid,...this._rootGrid.getChildGrids(!0)].forEach((e=>{e!==this.grid&&e.navigation.activeNode&&(e.navigation.clearActivation(),e.selectionService.initKeyboardState(),e.selectionService.clear()),e.selectionService.activeElement=null,e.nativeElement.classList.remove("igx-grid__tr--highlighted"),e.highlightedRowID=null,e.cdr.markForCheck()}))}};return e.ɵfac=function(t){return new(t||e)(Oc(_O),Oc(nO),Oc(YE),Oc(Pm),Oc(Nl),Oc(Dl),Oc(CV),Oc(fC))},e.ɵcmp=es({type:e,selectors:[["igx-hierarchical-grid-cell"]],standalone:!0,features:[kp([CV]),Ru,Pp],decls:13,vars:5,consts:[["defaultPinnedIndicator",""],["defaultCell",""],["addRowCell",""],["inlineEditor",""],["defaultError",""],["errorIcon",""],["error","","tooltipRef","tooltip"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],["class","igx-grid__td--pinned-chip",3,"disabled","--ig-size",4,"ngIf"],[1,"igx-grid__td--pinned-chip",3,"disabled"],["igxTextHighlight","","class","igx-grid__td-text",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata",4,"ngIf"],["family","default",3,"name","ngClass",4,"ngIf"],[3,"src","alt",4,"ngIf"],["igxTextHighlight","",1,"igx-grid__td-text",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata"],["family","default",3,"name","ngClass"],[3,"src","alt"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["igxInput","",3,"compositionstart","compositionend","igxFocus","igxTextSelection","formControl"],["igxInput","","type","number",3,"igxFocus","igxTextSelection","step","formControl"],[3,"checked","igxFocus","disableRipple","formControl"],["mode","dropdown",3,"valueChange","outlet","locale","weekStart","value","igxFocus","formControl"],["mode","dropdown",3,"valueChange","outlet","locale","inputFormat","value","igxFocus","formControl"],["type","text","igxInput","",3,"formControl","igxDateTimeEditor","igxFocus"],["family","default","name","error",3,"mouseover","mouseout","igxTooltipTarget","igxToggleOutlet"],["igxTooltip","",3,"id"]],template:function(e,t){1&e&&Xu(0,R5,1,1,"ng-template",null,0,nm)(2,P5,3,3,"ng-template",null,1,nm)(4,V5,1,1,"ng-template",null,2,nm)(6,j5,8,8,"ng-template",null,3,nm)(8,U5,1,0,"ng-container",7)(9,q5,1,0,"ng-container",7)(10,X5,8,7,"ng-container",8)(11,r6,7,7,"ng-template",null,4,nm),2&e&&(Ac(8),fg("ngTemplateOutlet",t.pinnedIndicatorTemplate)("ngTemplateOutletContext",t.context),Ac(),fg("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.context),Ac(),fg("ngIf",t.isInvalid))},dependencies:[cv,GV,TA,FT,av,iw,zy,Yx,px,mx,nw,Qx,ew,PR,pT,jR,RA,DA,mM,QN,$A,vT,yT,yv,LA,MA,CK,kK,PK,Tv,Rv,Av,Ev],encapsulation:2,changeDetection:0}),e})(),o6=["expander"],a6=["defaultExpandedTemplate"],l6=["defaultEmptyTemplate"],d6=["defaultCollapsedTemplate"],c6=(e,t,i,n,r,s)=>({index:e,rowID:t,key:i,selected:n,select:r,deselect:s}),h6=e=>({$implicit:e}),u6=(e,t,i,n,r,s,o)=>[e,t,i,n,r,s,o],g6=(e,t,i,n,r,s)=>[e,t,i,n,r,s],p6=(e,t,i,n,r)=>[e,t,i,n,r];function m6(e,t){1&e&&Gg(0)}function f6(e,t){1&e&&Lg(0,"igx-icon",10),2&e&&fg("active",!rp().added)}function v6(e,t){1&e&&Lg(0,"igx-icon",11),2&e&&fg("active",!rp().added)}function y6(e,t){1&e&&Lg(0,"igx-icon")}function x6(e,t){1&e&&Gg(0)}function w6(e,t){if(1&e){let e=Wg();Mg(0,"div",12),ep("animationend",(function(){return Uo(e),qo(rp().animationEndHandler())})),Xu(1,x6,1,0,"ng-container",9),Ng()}if(2&e){let e=rp(),t=mp(10);xg("igx-grid__tr--add-animate",e.triggerAddAnimationClass),Ac(),fg("ngTemplateOutlet",t)}}function _6(e,t){1&e&&Gg(0)}function C6(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"div",16),ep("click",(function(t){return Uo(e),qo(t.stopPropagation())}))("pointerdown",(function(t){return Uo(e),qo(t.preventDefault())})),Xu(2,_6,1,0,"ng-container",9),Ng(),Bg()}if(2&e){let e=rp(2);Ac(),wg(e.resolveDragIndicatorClasses),fg("igxRowDrag",e)("ghostTemplate",e.grid.getDragGhostCustomTemplate()),Ac(),fg("ngTemplateOutlet",e.grid.dragIndicatorIconTemplate?e.grid.dragIndicatorIconTemplate:e.grid.dragIndicatorIconBase)}}function S6(e,t){}function b6(e,t){1&e&&Xu(0,S6,0,0,"ng-template")}function D6(e,t){if(1&e){let e=Wg();zg(0),Mg(1,"div",17),ep("click",(function(t){return Uo(e),qo(rp(2).onRowSelectorClick(t))}))("pointerdown",(function(t){return Uo(e),qo(t.preventDefault())})),Xu(2,b6,1,0,null,18),Ng(),Bg()}if(2&e){rp();let e=mp(9),t=rp();Ac(2),fg("ngTemplateOutlet",t.grid.rowSelectorTemplate?t.grid.rowSelectorTemplate:e)("ngTemplateOutletContext",Vp(9,h6,zp(2,c6,t.viewIndex,t.key,t.key,t.selected,t.select,t.deselect)))}}function I6(e,t){1&e&&Gg(0)}function E6(e,t){if(1&e){let e=Wg();Mg(0,"div",19,8),ep("click",(function(t){return Uo(e),qo(rp(2).expanderClick(t))}))("mousedown",(function(t){return Uo(e),qo(t.preventDefault())})),Xu(2,I6,1,0,"ng-container",18),Ng()}if(2&e){let e=rp(2);fg("ngClass",e.expanderClassResolved),Ac(2),fg("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",Vp(3,h6,e))}}function T6(e,t){}function R6(e,t){1&e&&Xu(0,T6,0,0,"ng-template")}function A6(e,t){if(1&e&&(zg(0),Xu(1,R6,1,0,null,18),Bg()),2&e){rp();let e=mp(11),t=rp();Ac(),fg("ngTemplateOutlet",e)("ngTemplateOutletContext",t)}}function k6(e,t){if(1&e&&(Lg(0,"igx-hierarchical-grid-cell",20),Xp(1,"transactionState"),Xp(2,"igxCellStyleClasses"),Xp(3,"igxCellStyles"),Xp(4,"dataMapper")),2&e){let e=t.$implicit,i=rp(2);yg("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth),xg("igx-grid__td--edited",tm(1,28,Bp(56,u6,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)("igx-grid__td--bool","boolean"===e.dataType),fg("ngClass",tm(2,36,zp(64,g6,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",tm(3,43,zp(71,g6,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("formatter",e.formatter)("intRow",i)("active",i.isCellActive(e.visibleIndex))("rowData",i.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",tm(4,50,Hp(78,p6,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function O6(e,t){}function P6(e,t){1&e&&Xu(0,O6,0,0,"ng-template")}function F6(e,t){if(1&e&&(zg(0),Xu(1,P6,1,0,null,18),Bg()),2&e){rp();let e=mp(11),t=rp();Ac(),fg("ngTemplateOutlet",e)("ngTemplateOutletContext",t)}}function V6(e,t){if(1&e&&(Mg(0,"div",21),Lg(1,"igx-checkbox",22),Ng()),2&e){let e=rp(2);Ac(),fg("tabindex",-1)("readonly",!0)("checked",e.selected)("disableRipple",!0)("disabled",e.deleted)("disableTransitions",e.grid.disableTransitions)("aria-label",e.rowCheckboxAriaLabel)}}function M6(e,t){if(1&e&&(Lg(0,"igx-hierarchical-grid-cell",24),Xp(1,"transactionState"),Xp(2,"igxCellStyleClasses"),Xp(3,"igxCellStyles"),Xp(4,"dataMapper")),2&e){let e=t.$implicit,i=rp(3);yg("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth)("left",e.rightPinnedOffset),xg("igx-grid__td--edited",tm(1,30,Bp(58,u6,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType),fg("ngClass",tm(2,38,zp(66,g6,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",tm(3,45,zp(73,g6,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("formatter",e.formatter)("intRow",i)("active",i.isCellActive(e.visibleIndex))("firstPinned",e.isFirstPinned)("lastPinned",e.isLastPinned)("rowData",i.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",tm(4,52,Hp(80,p6,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function N6(e,t){1&e&&(Xu(0,M6,5,86,"igx-hierarchical-grid-cell",23),Xp(1,"igxNotGrouped")),2&e&&fg("ngForOf",Zp(1,1,rp(2).pinnedColumns))}function L6(e,t){if(1&e&&(Xu(0,C6,3,5,"ng-container",13)(1,D6,3,11,"ng-container",13)(2,E6,3,5,"div",14)(3,A6,2,2,"ng-container",13)(4,k6,5,84,"ng-template",15,5,nm),Xp(6,"igxNotGrouped"),Xu(7,F6,2,2,"ng-container",13)(8,V6,2,7,"ng-template",null,6,nm)(10,N6,2,3,"ng-template",null,7,nm)),2&e){let e=rp();fg("ngIf",e.rowDraggable),Ac(),fg("ngIf",e.showRowSelectors),Ac(),fg("ngIf",e.hasChildren),Ac(),fg("ngIf",e.pinnedColumns.length>0&&e.grid.isPinningToStart),Ac(),fg("igxGridForOf",Zp(6,11,e.unpinnedColumns))("igxForScrollContainer",e.grid.parentVirtDir)("igxForSizePropName","calcPixelWidth")("igxForScrollOrientation","horizontal")("igxForContainerSize",e.grid.unpinnedWidth)("igxForTrackBy",e.grid.trackColumnChanges),Ac(3),fg("ngIf",e.pinnedColumns.length>0&&!e.grid.isPinningToStart)}}var H6=(()=>{let e=class extends bO{constructor(){super(...arguments),this.expanderClass="igx-grid__hierarchical-expander",this.rolActionClass="igx-grid__tr-action",this.select=()=>{this.grid.selectRows([this.key])},this.deselect=()=>{this.grid.deselectRows([this.key])}}get expanderClassResolved(){return{[`${this.expanderClass} ${this.rolActionClass}`]:!this.pinned||this.disabled,[`${this.expanderClass}--empty`]:this.pinned&&!this.disabled}}get viewIndex(){return this.index+this.grid.page*this.grid.perPage}get expanded(){return this.grid.gridAPI.get_row_expansion_state(this.data)}get expandedClass(){return this.expanded&&!this.pinned}get hasChildren(){return!!this.grid.childLayoutKeys.length}get highlighted(){return this.grid&&this.grid.highlightedRowID===this.key}expanderClick(e){e.stopPropagation(),this.toggle()}toggle(){this.added||(this.grid.gridAPI.set_row_expansion_state(this.key,!this.expanded),this.grid.cdr.detectChanges())}get iconTemplate(){let e=!0;return this.grid.hasChildrenKey&&(e=this.data[this.grid.hasChildrenKey]),!e||this.pinned&&!this.disabled?this.defaultEmptyTemplate:this.expanded?this.grid.rowExpandedIndicatorTemplate||this.defaultExpandedTemplate:this.grid.rowCollapsedIndicatorTemplate||this.defaultCollapsedTemplate}endEdit(e){e.gridAPI.crudService.cellInEditMode&&e.gridAPI.crudService.endEdit(),e.gridAPI.getChildGrids(!0).forEach((e=>{e.gridAPI.crudService.cellInEditMode&&e.gridAPI.crudService.endEdit()}))}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵcmp=es({type:e,selectors:[["igx-hierarchical-grid-row"]],viewQuery:function(e,t){if(1&e&&(up(o6,5,Nl),up(a6,7,Oh),up(l6,7,Oh),up(d6,7,Oh),up(s6,5,s6)),2&e){let e;gp(e=pp())&&(t.expander=e.first),gp(e=pp())&&(t.defaultExpandedTemplate=e.first),gp(e=pp())&&(t.defaultEmptyTemplate=e.first),gp(e=pp())&&(t.defaultCollapsedTemplate=e.first),gp(e=pp())&&(t._cells=e)}},hostVars:4,hostBindings:function(e,t){2&e&&xg("igx-grid__tr--expanded",t.expandedClass)("igx-grid__tr--highlighted",t.highlighted)},standalone:!0,features:[kp([{provide:bO,useExisting:An((()=>e))}]),Ru,Pp],decls:11,vars:1,consts:[["defaultExpandedTemplate",""],["defaultCollapsedTemplate",""],["defaultEmptyTemplate",""],["addTemp",""],["defaultTemp",""],["igxDirRef",""],["rowSelectorBaseTemplate",""],["pinnedCellsTemplate",""],["expander",""],[4,"ngTemplateOutlet"],["family","default","name","tree_collapse",3,"active"],["family","default","name","tree_expand",3,"active"],[1,"igx-grid__tr--inner",3,"animationend"],[4,"ngIf"],[3,"ngClass","click","mousedown",4,"ngIf"],["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForSizePropName","igxForScrollOrientation","igxForContainerSize","igxForTrackBy"],[3,"click","pointerdown","igxRowDrag","ghostTemplate"],[1,"igx-grid__cbx-selection","igx-grid__tr-action",3,"click","pointerdown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","mousedown","ngClass"],[1,"igx-grid__td","igx-grid__td--fw",3,"ngClass","ngStyle","editMode","column","formatter","intRow","active","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__cbx-padding"],[3,"tabindex","readonly","checked","disableRipple","disabled","disableTransitions","aria-label"],["class","igx-grid__td igx-grid__td--fw igx-grid__td--pinned",3,"igx-grid__td--edited","igx-grid__td--number","ngClass","ngStyle","editMode","column","formatter","intRow","active","firstPinned","lastPinned","rowData","min-width","max-width","flex-basis","left","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","cellSelectionMode","displayPinnedChip",4,"ngFor","ngForOf"],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--pinned",3,"ngClass","ngStyle","editMode","column","formatter","intRow","active","firstPinned","lastPinned","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","cellSelectionMode","displayPinnedChip"]],template:function(e,t){if(1&e&&Xu(0,m6,1,0,"ng-container",9)(1,f6,1,1,"ng-template",null,0,nm)(3,v6,1,1,"ng-template",null,1,nm)(5,y6,1,0,"ng-template",null,2,nm)(7,w6,2,3,"ng-template",null,3,nm)(9,L6,12,13,"ng-template",null,4,nm),2&e){let e=mp(8),i=mp(10);fg("ngTemplateOutlet",t.addRowUI?e:i)}},dependencies:[yv,FT,cv,dj,av,dA,s6,vv,DA,lv,DK,_K,wK,AK,OK],encapsulation:2,changeDetection:0}),e})(),z6=["container"],B6=e=>({"igx-grid__hierarchical-indent--scroll":e}),G6=["toolbarOutlet"],$6=["paginatorOutlet"],W6=["hierarchical_record_template"],K6=["child_record_template"],j6=[[["igx-grid-toolbar"],["igc-grid-toolbar"]],[["igx-grid-footer"],["igc-grid-footer"]],[["igx-paginator"],["igc-paginator"]],[["igx-grid-state"],["igc-grid-state"]],[["igx-column"],["igc-column"],["igx-column-group"],["igc-column-group"],["igx-action-strip"],["igc-action-strip"]],[["igx-row-island"],["igc-row-island"]]],U6=["igx-grid-toolbar,igc-grid-toolbar","igx-grid-footer,igc-grid-footer","igx-paginator,igc-paginator","igx-grid-state,igc-grid-state","igx-column,igc-column,igx-column-group,igc-column-group,igx-action-strip,igc-action-strip","igx-row-island,igc-row-island"],q6=(e,t,i,n,r,s,o)=>[e,t,i,n,r,s,o],Y6=()=>[],X6=(e,t,i,n,r,s)=>[e,t,i,n,r,s],Z6=e=>({$implicit:e}),Q6=(e,t,i,n,r,s,o)=>[e,t,i,n,r,s,o,!0],J6=(e,t,i,n,r,s)=>[e,t,i,n,r,s,!0],e8=(e,t)=>({"igx-grid__tr--pinned-bottom":e,"igx-grid__tr--pinned-top":t}),t8=(e,t,i,n,r,s,o,a,l,d,c)=>[e,t,i,n,r,s,o,a,l,!1,d,c],i8=e=>({"igx-grid__tr-container":!0,"igx-grid__tr--highlighted":e}),n8=(e,t)=>({rowChangesCount:e,endEdit:t});function r8(e,t){1&e&&Lg(0,"span",70),2&e&&(fg("igxColumnMovingDrop",rp().headerContainer),tg("droppable",!0))}function s8(e,t){if(1&e&&Lg(0,"span",71),2&e){let e=rp();yg("left",e.pinnedWidth,"px"),fg("igxColumnMovingDrop",e.headerContainer),tg("droppable",!0)}}function o8(e,t){1&e&&Gg(0)}function a8(e,t){if(1&e&&(zg(0),Xu(1,o8,1,0,"ng-container",42),Bg()),2&e){let e=t.$implicit,i=t.index,n=rp(4),r=mp(25);Ac(),fg("ngTemplateOutlet",r)("ngTemplateOutletContext",n.getContext(e,i,!0))}}function l8(e,t){if(1&e&&(Mg(0,"div",73,29),Xu(2,a8,2,2,"ng-container",74),Ng()),2&e){let e=rp().ngIf,t=rp(2);yg("width",t.calcWidth,"px"),fg("ngClass",Mp(4,e8,!t.isRowPinningToTop,t.isRowPinningToTop)),Ac(2),fg("ngForOf",e)}}function d8(e,t){if(1&e&&(zg(0),Xu(1,l8,3,7,"div",72),Bg()),2&e){let e=t.ngIf;Ac(),fg("ngIf",e.length>0)}}function c8(e,t){if(1&e&&(Xu(0,d8,2,1,"ng-container",66),Xp(1,"gridTransaction"),Xp(2,"visibleColumns"),Xp(3,"gridAddRow"),Xp(4,"gridRowPinning"),Xp(5,"gridFiltering"),Xp(6,"gridSort")),2&e){let e=rp();fg("ngIf",tm(6,26,zp(43,J6,tm(5,17,Bp(34,Q6,em(4,12,Jp(3,8,Qp(2,5,Jp(1,1,e.data,e.id,e.pipeTrigger),e.hasVisibleColumns),!0,e.pipeTrigger),e.id,!0,e.pipeTrigger),e.filteringExpressionsTree,e.filterStrategy,e.advancedFilteringExpressionsTree,e.id,e.pipeTrigger,e.filteringPipeTrigger)),e.sortingExpressions,Fp(42,Y6),e.sortStrategy,e.id,e.pipeTrigger)))}}function h8(e,t){1&e&&Gg(0)}function u8(e,t){}function g8(e,t){if(1&e){let e=Wg();Xu(0,u8,0,0,"ng-template",75),ep("viewCreated",(function(t){return Uo(e),qo(rp().viewCreatedHandler(t))}))("viewMoved",(function(t){return Uo(e),qo(rp().viewMovedHandler(t))}))("cachedViewLoaded",(function(t){return Uo(e),qo(rp().cachedViewLoaded(t))}))}if(2&e){let e=t.$implicit,i=t.index,n=rp(),r=mp(23),s=mp(27);fg("igxTemplateOutlet",n.isHierarchicalRecord(e)?r:n.isChildGridRecord(e)?s:r)("igxTemplateOutletContext",n.getContext(e,i,!1))}}function p8(e,t){if(1&e&&(Lg(0,"igx-hierarchical-grid-row",76,30),Xp(2,"igxGridRowClasses"),Xp(3,"igxGridRowStyles")),2&e){let e=t.index,i=t.disabled,n=t.$implicit,r=mp(1),s=rp();fg("gridID",s.id)("index",e)("disabled",i)("data",n)("ngClass",tm(2,6,$p(24,t8,[s.rowClasses,r,r.inEditMode,r.selected,r.dirty,r.deleted,r.dragging,e,s.hasColumnLayouts,n,s.pipeTrigger])))("ngStyle",em(3,19,s.rowStyles,n,e,s.pipeTrigger))}}function m8(e,t){if(1&e&&(Lg(0,"igx-hierarchical-grid-row",77,31),Xp(3,"igxGridRowClasses"),Xp(4,"igxGridRowStyles")),2&e){let e=t.index,i=t.$implicit,n=mp(1),r=rp();fg("gridID",r.id)("index",e)("data",i)("ngClass",tm(3,5,$p(23,t8,[r.rowClasses,n,n.inEditMode,n.selected,n.dirty,n.deleted,n.dragging,e,r.hasColumnLayouts,i,r.pipeTrigger])))("ngStyle",em(4,18,r.rowStyles,i,e,r.pipeTrigger))}}function f8(e,t){if(1&e&&Lg(0,"igx-child-grid-row",80,30),2&e){let e=t.$implicit,i=rp(),n=i.index,r=i.$implicit;fg("parentGridID",rp().id)("index",n)("data",r)("layout",e)}}function v8(e,t){if(1&e){let e=Wg();Mg(0,"div",78),ep("scroll",(function(){return Uo(e),qo(rp().onContainerScroll())})),Xu(1,f8,2,4,"igx-child-grid-row",79),Ng()}if(2&e){let e=t.index,i=t.$implicit,n=rp();fg("ngClass",Vp(3,i8,n.isRowHighlighted(i))),tg("data-rowindex",e),Ac(),fg("ngForOf",n.childLayoutList)}}function y8(e,t){1&e&&Gg(0)}function x8(e,t){1&e&&Gg(0)}function w8(e,t){1&e&&Lg(0,"span",81),2&e&&(fg("igxColumnMovingDrop",rp().headerContainer),tg("droppable",!0))}function _8(e,t){1&e&&Lg(0,"igc-trial-watermark",82)}function C8(e,t){1&e&&Lg(0,"igx-circular-bar",83),2&e&&fg("indeterminate",!0)}function S8(e,t){1&e&&Lg(0,"span",81),2&e&&(fg("igxColumnMovingDrop",rp().headerContainer),tg("droppable",!0))}function b8(e,t){}function D8(e,t){if(1&e&&(Lg(0,"igx-grid-summary-row",84,32),Xp(2,"igxGridSummaryDataPipe")),2&e){let e=rp();yg("width",e.calcWidth,"px")("height",e.summaryRowHeight,"px"),fg("gridID",e.id)("summaries",Qp(2,7,e.id,e.summaryService.retriggerRootPipe))("index",e.dataView.length)}}function I8(e,t){}function E8(e,t){1&e&&Gg(0)}function T8(e,t){if(1&e&&(Mg(0,"span"),Xu(1,E8,1,0,"ng-container",40),Ng()),2&e){let e=rp(2),t=mp(73);Ac(),fg("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function R8(e,t){if(1&e&&(Mg(0,"span",85)(1,"span"),fp(2),Ng(),Xu(3,T8,2,1,"span",66),Ng()),2&e){let e=rp();Ac(2),yp(e.emptyFilteredGridMessage),Ac(),fg("ngIf",e.showAddButton)}}function A8(e,t){1&e&&Gg(0)}function k8(e,t){if(1&e&&(Mg(0,"span"),Xu(1,A8,1,0,"ng-container",40),Ng()),2&e){let e=rp(2),t=mp(73);Ac(),fg("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function O8(e,t){if(1&e&&(Mg(0,"span",85)(1,"span"),fp(2),Ng(),Xu(3,k8,2,1,"span",66),Ng()),2&e){let e=rp();Ac(2),yp(e.emptyGridMessage),Ac(),fg("ngIf",e.showAddButton)}}function P8(e,t){if(1&e){let e=Wg();Mg(0,"button",86),ep("click",(function(t){return Uo(e),qo(rp().crudService.enterAddRowMode(null,!1,t))})),fp(1),Ng()}if(2&e){let e=rp();Ac(),xp(" ",e.resourceStrings.igx_grid_add_row_label," ")}}function F8(e,t){1&e&&(Mg(0,"div",87),Lg(1,"igx-circular-bar",83),Ng()),2&e&&(Ac(),fg("indeterminate",!0))}function V8(e,t){1&e&&Lg(0,"igx-icon",88)}function M8(e,t){if(1&e&&Lg(0,"igx-icon",89),2&e){let e=rp();fg("active",e.hasExpandedRecords()&&e.hasExpandableChildren)}}function N8(e,t){1&e&&Gg(0)}function L8(e,t){if(1&e&&(Mg(0,"div",46,33)(2,"div",90),Xu(3,N8,1,0,"ng-container",42),Ng()()),2&e){let e=rp();Ac(2),fg("className",e.bannerClass),Ac(),fg("ngTemplateOutlet",e.resolveRowEditContainer)("ngTemplateOutletContext",Mp(3,n8,e.rowChangesCount,e.crudService.endEdit.bind(e)))}}function H8(e,t){if(1&e&&(fp(0),Xp(1,"igxStringReplace"),Xp(2,"igxStringReplace")),2&e){let e=rp();xp(" ",Jp(2,5,Jp(1,1,e.resourceStrings.igx_grid_row_edit_text,"{0}",e.rowChangesCount.toString()),"{1}",e.hiddenColumnsCount.toString()),"\n")}}function z8(e,t){if(1&e){let e=Wg();Mg(0,"button",91),ep("click",(function(t){return Uo(e),qo(rp().endRowEditTabStop(!1,t))})),fp(1),Ng(),Mg(2,"button",91),ep("click",(function(t){return Uo(e),qo(rp().endRowEditTabStop(!0,t))})),fp(3),Ng()}if(2&e){let e=rp();Ac(),yp(e.resourceStrings.igx_grid_row_edit_btn_cancel),Ac(2),yp(e.resourceStrings.igx_grid_row_edit_btn_done)}}function B8(e,t){1&e&&Gg(0)}function G8(e,t){1&e&&Gg(0)}function $8(e,t){if(1&e&&(Mg(0,"div",92)(1,"span",93),Xu(2,B8,1,0,"ng-container",42),Ng()(),Mg(3,"div",94)(4,"div",95),Xu(5,G8,1,0,"ng-container",42),Ng()()),2&e){let e=rp(),t=mp(82),i=mp(84);Ac(2),fg("ngTemplateOutlet","IgxAddRow"===(null==e.crudService.row?null:e.crudService.row.getClassName())?e.rowAddTextTemplate:e.resolveRowEditText||t)("ngTemplateOutletContext",Vp(4,Z6,"IgxAddRow"!==(null==e.crudService.row?null:e.crudService.row.getClassName())?e.rowChangesCount:null)),Ac(3),fg("ngTemplateOutlet",e.resolveRowEditActions||i)("ngTemplateOutletContext",Vp(6,Z6,e.endEdit.bind(e)))}}function W8(e,t){1&e&&Lg(0,"igx-icon",96)}function K8(e,t){1&e&&Lg(0,"igx-grid-column-resizer")}function j8(e,t){1&e&&(Mg(0,"div",69,34),ap(2,3),ap(3,4),ap(4,5),Ng())}var U8=0,q8=(()=>{let e=class{get parentHasScroll(){return!this.parentGrid.verticalScrollContainer.dc.instance.notVirtual}get data(){return this._data||[]}set data(e){this._data=e,this.hGrid&&!this.hGrid.dataSetByUser&&this.hGrid.setDataInternal(this._data.childGridsData[this.layout.key])}get parentGrid(){return this.gridAPI.grid}get level(){return this.layout.level}get nativeElement(){return this.element.nativeElement}constructor(e,t,i){this.gridAPI=e,this.element=t,this.cdr=i,this.expanded=!1}ngOnInit(){let e=this.container.createComponent(Y8,{injector:this.container.injector});this.hGrid=e.instance,this.hGrid.setDataInternal(this.data.childGridsData[this.layout.key]),this.hGrid.nativeElement.__componentRef=e,this.layout.layoutChange.subscribe((e=>{this._handleLayoutChanges(e)})),this.layout.initialChanges.forEach((e=>{this._handleLayoutChanges(e)})),this.hGrid.parent=this.parentGrid,this.hGrid.parentIsland=this.layout,this.hGrid.childRow=this,this.setupEventEmitters(),this.layout.gridCreated.emit({owner:this.layout,parentID:this.data.rowID,grid:this.hGrid})}ngAfterViewInit(){this.hGrid.childLayoutList=this.layout.children,this.hGrid.childLayoutList.toArray().forEach((e=>this.hGrid.gridAPI.registerChildRowIsland(e))),this.parentGrid.gridAPI.registerChildGrid(this.data.rowID,this.layout.key,this.hGrid),this.layout.rowIslandAPI.registerChildGrid(this.data.rowID,this.hGrid),this.layout.gridInitialized.emit({owner:this.layout,parentID:this.data.rowID,grid:this.hGrid}),this.hGrid.cdr.detectChanges()}setupEventEmitters(){let e=mn(this.hGrid.destroy$),t=tf(bQ),i=t.inputs.map((e=>e.propName));t.outputs.filter((e=>{let t=e.propName.slice(0,e.propName.indexOf("Change"));return-1===i.indexOf(t)})).filter((e=>"rendered"!==e.propName)).forEach((t=>{this.hGrid[t.propName]&&this.hGrid[t.propName].pipe(e).subscribe((e=>{e||(e={}),e.owner=this.hGrid,this.layout[t.propName].emit(e)}))}))}_handleLayoutChanges(e){for(let t in e)e.hasOwnProperty(t)&&(this.hGrid[t]=e[t].currentValue)}};return e.ɵfac=function(t){return new(t||e)(Oc(rO),Oc(Nl),Oc(Pm))},e.ɵcmp=es({type:e,selectors:[["igx-child-grid-row"]],viewQuery:function(e,t){if(1&e&&up(z6,7,iu),2&e){let e;gp(e=pp())&&(t.container=e.first)}},hostVars:1,hostBindings:function(e,t){2&e&&tg("aria-level",t.level)},inputs:{layout:"layout",parentGridID:"parentGridID",data:"data",index:"index"},standalone:!0,features:[Pp],decls:3,vars:3,consts:[["container",""],[1,"igx-grid__hierarchical-indent",3,"ngClass"]],template:function(e,t){1&e&&(Mg(0,"div",1),Gg(1,null,0),Ng()),2&e&&fg("ngClass",Vp(1,B6,t.parentHasScroll))},dependencies:[av],encapsulation:2,changeDetection:0}),e})(),Y8=(()=>{let e=class extends v5{constructor(){super(...arguments),this.role="grid",this.childLayoutKeys=[],this.dataSetByUser=!1,this.highlightedRowID=null,this.updateOnRender=!1,this.parent=null,this.h_id="igx-hierarchical-grid-"+U8++,this.childGridTemplates=new Map}get headerHierarchyExpander(){return this.theadRow?.headerHierarchyExpander}get actionStrip(){return this.parentIsland?this.parentIsland.actionStrip:super.actionStrip}get id(){return this.h_id}set id(e){this.h_id=e}set data(e){this.setDataInternal(e),this.dataSetByUser=!0}get data(){return this._data}get paginator(){let e=this.id;return!this.parentIsland&&this.paginationComponents?.first||this.rootGrid.paginatorList?.find((t=>t.nativeElement.offsetParent?.id===e))}get excelStyleFilteringComponent(){return this.parentIsland?this.parentIsland.excelStyleFilteringComponents.first:super.excelStyleFilteringComponent}set totalItemCount(e){this.verticalScrollContainer.totalItemCount=e}get totalItemCount(){return this.verticalScrollContainer.totalItemCount}set expandChildren(e){this._defaultExpandState=e,this.expansionStates=new Map}get expandChildren(){return this._defaultExpandState}get foreignKey(){return this.parent?this.parent.gridAPI.getParentRowId(this):null}get hasExpandableChildren(){return!!this.childLayoutKeys.length}get resolveRowEditContainer(){return this.parentIsland&&this.parentIsland.rowEditCustom?this.parentIsland.rowEditContainer:this.rowEditContainer}get resolveRowEditActions(){return this.parentIsland?this.parentIsland.rowEditActionsTemplate:this.rowEditActionsTemplate}get resolveRowEditText(){return this.parentIsland?this.parentIsland.rowEditTextTemplate:this.rowEditTextTemplate}hideActionStrip(){this.parent||(super.hideActionStrip(),this.allLayoutList.forEach((e=>{e.actionStrip?.hide()})))}get parentRowOutletDirective(){return this.parent?this.parent.rowOutletDirective:this.outlet}ngOnInit(){this.batchEditing=!!this.rootGrid.batchEditing,this.rootGrid!==this&&this.rootGrid.batchEditingChange.pipe(mn(this.destroy$)).subscribe((e=>{this.batchEditing=e})),super.ngOnInit()}ngAfterViewInit(){super.ngAfterViewInit(),this.verticalScrollContainer.beforeViewDestroyed.pipe(mn(this.destroy$)).subscribe((e=>{let t=e.context.$implicit;if(this.isChildGridRecord(t)){let e=this.childGridTemplates.get(t.rowID);e&&e.owner._viewContainerRef.detach(0)}})),this.parent&&(this.childLayoutKeys=this.parentIsland.children.map((e=>e.key))),this.headSelectorsTemplates=this.parentIsland?this.parentIsland.headSelectorsTemplates:this.headSelectorsTemplates,this.rowSelectorsTemplates=this.parentIsland?this.parentIsland.rowSelectorsTemplates:this.rowSelectorsTemplates,this.dragIndicatorIconTemplate=this.parentIsland?this.parentIsland.dragIndicatorIconTemplate:this.dragIndicatorIconTemplate,this.rowExpandedIndicatorTemplate=this.rootGrid.rowExpandedIndicatorTemplate,this.rowCollapsedIndicatorTemplate=this.rootGrid.rowCollapsedIndicatorTemplate,this.headerCollapsedIndicatorTemplate=this.rootGrid.headerCollapsedIndicatorTemplate,this.headerExpandedIndicatorTemplate=this.rootGrid.headerExpandedIndicatorTemplate,this.excelStyleHeaderIconTemplate=this.rootGrid.excelStyleHeaderIconTemplate,this.sortAscendingHeaderIconTemplate=this.rootGrid.sortAscendingHeaderIconTemplate,this.sortDescendingHeaderIconTemplate=this.rootGrid.sortDescendingHeaderIconTemplate,this.sortHeaderIconTemplate=this.rootGrid.sortHeaderIconTemplate,this.hasChildrenKey=this.parentIsland&&this.parentIsland.hasChildrenKey||this.rootGrid.hasChildrenKey,this.showExpandAll=this.parentIsland?this.parentIsland.showExpandAll:this.rootGrid.showExpandAll}ngAfterContentInit(){this.updateColumnList(!1),this.childLayoutKeys=this.parent?this.parentIsland.children.map((e=>e.key)):this.childLayoutKeys=this.childLayoutList.map((e=>e.key)),this.childLayoutList.notifyOnChanges(),this.childLayoutList.changes.pipe(mn(this.destroy$)).subscribe((()=>this.onRowIslandChange())),super.ngAfterContentInit()}getRowByIndex(e){if(!(e<0||e>=this.dataView.length))return this.createRow(e)}getRowByKey(e){let t=this.dataView,i=this.primaryKey?t.find((t=>t[this.primaryKey]===e)):t.find((t=>t===e)),n=t.indexOf(i);if(!(n<0||n>t.length))return new vK(this,n,i)}allRows(){return this.dataView.map(((e,t)=>this.createRow(t)))}dataRows(){return this.allRows().filter((e=>e instanceof vK))}get selectedCells(){return this.dataRows().map((e=>e.cells.filter((e=>e.selected)))).reduce(((e,t)=>e.concat(t)),[])}getCellByColumn(e,t){let i=this.getRowByIndex(e),n=this.columns.find((e=>e.field===t));if(i&&i instanceof vK&&n)return new HM(this,e,n)}getCellByKey(e,t){let i=this.getRowByKey(e),n=this.columns.find((e=>e.field===t));if(i&&n)return new HM(this,i.index,n)}pinRow(e,t){let i=this.getRowByKey(e);return super.pinRow(e,t,i)}setDataInternal(e){this._data=e||[],this.summaryService.clearSummaryCache(),this._init||this.validation.updateAll(this._data),this.shouldGenerate&&(this.setupColumns(),this.reflow()),this.cdr.markForCheck(),this.parent&&(null===this.height||-1!==this.height.indexOf("%"))&&this.notifyChanges(!0)}unpinRow(e){let t=this.getRowByKey(e);return super.unpinRow(e,t)}dataLoading(e){this.dataPreLoad.emit(e)}featureColumnsWidth(){return super.featureColumnsWidth(this.headerHierarchyExpander)}onRowIslandChange(){this.parent?this.childLayoutKeys=this.parentIsland.children.filter((e=>!e._destroyed)).map((e=>e.key)):this.childLayoutKeys=this.childLayoutList.filter((e=>!e._destroyed)).map((e=>e.key)),this.cdr.destroyed||this.cdr.detectChanges()}ngOnDestroy(){this.parent||this.gridAPI.getChildGrids(!0).forEach((e=>{e.childRow.cdr.destroyed||e.childRow.cdr.destroy()})),this.parent&&this.selectionService.activeElement&&this._clearSeletionHighlights(),super.ngOnDestroy()}isRowHighlighted(e){return this.highlightedRowID===e.rowID}isHierarchicalRecord(e){return this.isGhostRecord(e)&&(e=e.recordRef),0!==this.childLayoutList.length&&e[this.childLayoutList.first.key]}isChildGridRecord(e){return void 0!==e?.childGridsData}trackChanges(e,t){return void 0!==t.childGridsData?t.rowID:t}getContext(e,t,i){if(this.isChildGridRecord(e)){let t=this.childGridTemplates.get(e.rowID);return t?{$implicit:e,moveView:t.view,owner:t.owner,index:this.dataView.indexOf(e)}:{$implicit:e,templateID:{type:"childRow",id:e.rowID},index:this.dataView.indexOf(e)}}return{$implicit:this.isGhostRecord(e)?e.recordRef:e,templateID:{type:"dataRow",id:null},index:this.getDataViewIndex(t,i),disabled:this.isGhostRecord(e)}}get rootGrid(){let e=this;for(;e.parent;)e=e.parent;return e}get iconTemplate(){return this.hasExpandedRecords()&&this.hasExpandableChildren||!this.showExpandAll?this.headerExpandedIndicatorTemplate||this.defaultExpandedTemplate:this.headerCollapsedIndicatorTemplate||this.defaultCollapsedTemplate}getDragGhostCustomTemplate(){return this.parentIsland?this.parentIsland.getDragGhostCustomTemplate():super.getDragGhostCustomTemplate()}getVisibleContentHeight(){let e=super.getVisibleContentHeight();if(this.parent){let t=this.rootGrid.getVisibleContentHeight(),i=this.nativeElement.getBoundingClientRect().top-this.rootGrid.nativeElement.getBoundingClientRect().top;e=t-i>e?e:t-i}return e}toggleAll(){this.hasExpandedRecords()&&this.hasExpandableChildren||!this.showExpandAll?this.collapseAll():this.expandAll()}hasExpandedRecords(){if(this.expandChildren)return!0;let e=!1;return this.expansionStates.forEach((t=>{t&&(e=t)})),e}getDefaultExpandState(e){return!(this.hasChildrenKey&&!e[this.hasChildrenKey])&&this.expandChildren}isExpanded(e){return this.gridAPI.get_row_expansion_state(e)}viewCreatedHandler(e){if(this.isChildGridRecord(e.context.$implicit)){let t=e.context.$implicit.rowID;this.childGridTemplates.set(t,e)}}viewMovedHandler(e){if(this.isChildGridRecord(e.context.$implicit)){let t=e.context.$implicit.rowID;this.childGridTemplates.get(t).owner=e.owner,this.childLayoutList.forEach((t=>{let i=this.gridAPI.getChildGridByID(t.key,e.context.$implicit.rowID);i&&i.updateOnRender&&(i.notifyChanges(!0),i.updateOnRender=!1)}))}}onContainerScroll(){this.hideOverlays()}createRow(e,t){let i,n=this._getDataViewIndex(e),r=t??this.dataView[n];return!i&&r&&!r.childGridsData&&(i=new vK(this,e,r)),i}getChildGrids(e){return this.gridAPI.getChildGrids(e)}generateDataFields(e){return super.generateDataFields(e).filter((e=>-1===(this.parentIsland?this.parentIsland.children:this.childLayoutList).map((e=>e.key)).indexOf(e)))}resizeNotifyHandler(){this.nativeElement?.isConnected&&!this.parent&&this.notifyChanges(!0)}initColumns(e,t=null){if(this.hasColumnLayouts){let e=this.columns.filter((e=>!e.columnLayout&&!e.columnLayoutChild));this.updateColumns(e)}super.initColumns(e,t)}setupColumns(){this.parentIsland&&this.parentIsland.childColumns.length>0&&!this.autoGenerate?this.createColumnsList(this.parentIsland.childColumns.toArray()):super.setupColumns()}getColumnList(){let e=(this.parent?this.childLayoutList:this.allLayoutList).map((e=>e.columnList.toArray())),t=[].concat.apply([],e);return t.length>0?this.columnList.filter((e=>-1===t.indexOf(e))):this.columnList.toArray()}onColumnsChanged(){Promise.resolve().then((()=>{this.updateColumnList()}))}_shouldAutoSize(e){return!(!this.isPercentHeight||!this.parent)||super._shouldAutoSize(e)}updateColumnList(e=!0){let t=(this.parent?this.childLayoutList:this.allLayoutList).map((e=>e.columnList.toArray())),i=[].concat.apply([],t),n=this.columns.length,r=this.columnList.filter((e=>-1===i.indexOf(e)));r.length>0&&(this.initColumns(r,(e=>this.columnInit.emit(e))),e&&this.columns.length!==n&&this.calculateGridSizes(!1))}_clearSeletionHighlights(){[this.rootGrid,...this.rootGrid.getChildGrids(!0)].forEach((e=>{e.selectionService.clear(),e.selectionService.activeElement=null,e.nativeElement.classList.remove("igx-grid__tr--highlighted"),e.highlightedRowID=null,e.cdr.markForCheck()}))}};return e.ɵfac=(()=>{let t;return function(i){return(t||(t=sl(e)))(i||e)}})(),e.ɵcmp=es({type:e,selectors:[["igx-hierarchical-grid"]],contentQueries:function(e,t,i){if(1&e&&(hp(i,S5,4,S5),hp(i,S5,5,S5),hp(i,VU,5),hp(i,IO,4,IO)),2&e){let e;gp(e=pp())&&(t.childLayoutList=e),gp(e=pp())&&(t.allLayoutList=e),gp(e=pp())&&(t.paginatorList=e),gp(e=pp())&&(t.actionStripComponents=e)}},viewQuery:function(e,t){if(1&e&&(up(G6,5,iu),up($6,5,iu),up(W6,7,Oh),up(K6,7,Oh),up(AA,5,AA),up(q8,5)),2&e){let e;gp(e=pp())&&(t.toolbarOutlet=e.first),gp(e=pp())&&(t.paginatorOutlet=e.first),gp(e=pp())&&(t.hierarchicalRecordTemplate=e.first),gp(e=pp())&&(t.childTemplate=e.first),gp(e=pp())&&(t.templateOutlets=e),gp(e=pp())&&(t.hierarchicalRows=e)}},hostVars:2,hostBindings:function(e,t){2&e&&tg("role",t.role)("id",t.id)},inputs:{id:"id",data:"data",totalItemCount:"totalItemCount",expandChildren:[2,"expandChildren","expandChildren",Zm]},standalone:!0,features:[kp([iO,BU,_O,{provide:rO,useClass:m5},{provide:nO,useExisting:e},$U,j$,f5,R$,iA,nA,x5]),Vu,Ru,Pp],ngContentSelectors:U6,decls:95,vars:149,consts:[["toolbarOutlet",""],["tbody",""],["pinnedRecordsTemplate",""],["verticalScrollContainer",""],["hierarchical_record_template",""],["pinned_hierarchical_record_template",""],["child_record_template",""],["igxRowEditingOverlayOutlet",""],["loadingOverlay",""],["verticalScrollHolder",""],["addRowSnackbar",""],["igxBodyOverlayOutlet","overlay-outlet"],["tfoot",""],["scr",""],["scrollContainer",""],["footer",""],["paginatorOutlet",""],["emptyFilteredGrid",""],["defaultEmptyGrid",""],["defaultAddRowEmptyTemplate",""],["defaultLoadingGrid",""],["defaultCollapsedTemplate",""],["defaultExpandedTemplate",""],["defaultRowEditText",""],["defaultRowEditActions",""],["defaultRowEditTemplate",""],["dragIndicatorIconBase",""],["igxLoadingOverlayOutlet",""],["igxFilteringOverlayOutlet",""],["pinContainer",""],["row",""],["row","","pinnedRow",""],["summaryRow",""],["rowEditingOverlay",""],["sink",""],["tabindex","0",1,"igx-grid-thead",3,"keydown.meta.c","keydown.control.c","copy","keydown","focus","grid","hasMRL","activeDescendant","width","pinnedColumnCollection","unpinnedColumnCollection"],["igxGridBody","","role","rowgroup",1,"igx-grid__tbody",3,"keydown.control.c","copy"],["tabindex","0",1,"igx-grid__tbody-content",3,"focus","keydown","dragStop","dragScroll","scroll","igxGridDragSelect"],["id","left","class","igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop",4,"ngIf"],["id","left","class","igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop","left",4,"ngIf"],[4,"ngTemplateOutlet"],["igxGridFor","",3,"chunkPreload","dataChanging","dataChanged","igxGridForOf","igxForScrollOrientation","igxForScrollContainer","igxForContainerSize","igxForItemSize","igxForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","right","class","igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop",4,"ngIf"],["igxOverlayOutlet","",1,"igx-grid__row-editing-outlet"],["text","Trial version of Ignite UI for Blazor",4,"ngIf"],["igxToggle",""],[3,"indeterminate",4,"ngIf"],[1,"igx-grid__tbody-scrollbar",3,"pointerdown","hidden"],[1,"igx-grid__tbody-scrollbar-start"],[1,"igx-grid__tbody-scrollbar-main"],["igxGridFor","",3,"igxGridForOf"],[1,"igx-grid__tbody-scrollbar-end"],[1,"igx-grid__addrow-snackbar"],[3,"outlet","actionText","displayTime"],["igxOverlayOutlet",""],["role","rowgroup",1,"igx-grid__tfoot"],["tabindex","0",3,"focus","keydown"],["role","row","class","igx-grid__summaries",3,"width","height","gridID","summaries","index",4,"ngIf"],[1,"igx-grid__tfoot-thumb",3,"hidden"],[1,"igx-grid__scroll",3,"pointerdown","hidden"],[1,"igx-grid__scroll-start"],[1,"igx-grid__scroll-main"],[1,"igx-grid__scroll-end",3,"hidden"],[1,"igx-grid__footer"],["igxToggle","",4,"ngIf"],[4,"ngIf"],["igxOverlayOutlet","",1,"igx-grid__loading-outlet"],["igxOverlayOutlet","",1,"igx-grid__outlet"],[2,"display","none"],["id","left",1,"igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop"],["id","left",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop"],["class","igx-grid__tr--pinned",3,"ngClass","width",4,"ngIf"],[1,"igx-grid__tr--pinned",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"viewCreated","viewMoved","cachedViewLoaded","igxTemplateOutlet","igxTemplateOutletContext"],[3,"gridID","index","disabled","data","ngClass","ngStyle"],[3,"gridID","index","data","ngClass","ngStyle"],[3,"scroll","ngClass"],[3,"parentGridID","index","data","layout",4,"ngFor","ngForOf"],[3,"parentGridID","index","data","layout"],["id","right",1,"igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop"],["text","Trial version of Ignite UI for Blazor"],[3,"indeterminate"],["role","row",1,"igx-grid__summaries",3,"gridID","summaries","index"],["role","cell",1,"igx-grid__tbody-message"],["type","button","igxButton","contained","igxRipple","",3,"click"],[1,"igx-grid__loading"],["family","default","name","unfold_more","role","button"],["family","default","name","unfold_less","role","button",3,"active"],[3,"className"],["type","button","igxButton","","igxRowEditTabStop","",3,"click"],[1,"igx-banner__message"],[1,"igx-banner__text"],[1,"igx-banner__actions"],[1,"igx-banner__row"],["family","default","name","drag_indicator"]],template:function(e,t){if(1&e){let e=Wg();op(j6),ap(0),Gg(1,null,0),Mg(3,"igx-grid-header-row",35),ep("keydown.meta.c",(function(i){return Uo(e),qo(t.copyHandler(i))}))("keydown.control.c",(function(i){return Uo(e),qo(t.copyHandler(i))}))("copy",(function(i){return Uo(e),qo(t.copyHandler(i))}))("keydown",(function(i){return Uo(e),qo(t.navigation.headerNavigation(i))}))("focus",(function(){return Uo(e),qo(t.navigation.focusFirstCell())})),Ng(),Mg(4,"div",36),ep("keydown.control.c",(function(i){return Uo(e),qo(t.copyHandler(i))}))("copy",(function(i){return Uo(e),qo(t.copyHandler(i))})),Mg(5,"div",37,1),ep("focus",(function(i){return Uo(e),qo(t.navigation.focusTbody(i))}))("keydown",(function(i){return Uo(e),qo(t.navigation.handleNavigation(i))}))("dragStop",(function(i){return Uo(e),qo(t.selectionService.dragMode=i)}))("dragScroll",(function(i){return Uo(e),qo(t.dragScroll(i))}))("scroll",(function(i){return Uo(e),qo(t.preventContainerScroll(i))})),Xu(7,r8,1,2,"span",38)(8,s8,1,4,"span",39)(9,c8,7,50,"ng-template",null,2,nm)(11,h8,1,0,"ng-container",40)(12,g8,1,2,"ng-template",41,3,nm),Xp(14,"gridTransaction"),Xp(15,"visibleColumns"),Xp(16,"gridFiltering"),Xp(17,"gridSort"),Xp(18,"gridHierarchicalPaging"),Xp(19,"gridHierarchical"),Xp(20,"gridAddRow"),Xp(21,"gridRowPinning"),ep("chunkPreload",(function(i){return Uo(e),qo(t.dataLoading(i))}))("dataChanging",(function(i){return Uo(e),qo(t.dataRebinding(i))}))("dataChanged",(function(i){return Uo(e),qo(t.dataRebound(i))})),Xu(22,p8,4,36,"ng-template",null,4,nm)(24,m8,5,35,"ng-template",null,5,nm)(26,v8,2,5,"ng-template",null,6,nm)(28,y8,1,0,"ng-container",40)(29,x8,1,0,"ng-container",42)(30,w8,1,2,"span",43),Lg(31,"div",44,7),Xu(33,_8,1,0,"igc-trial-watermark",45),Ng(),Mg(34,"div",46,8),Xu(36,C8,1,1,"igx-circular-bar",47),Ng(),Xu(37,S8,1,2,"span",43),Mg(38,"div",48),ep("pointerdown",(function(t){return Uo(e),qo(t.preventDefault())})),Lg(39,"div",49),Mg(40,"div",50),Xu(41,b8,0,0,"ng-template",51,9,nm),Ng(),Lg(43,"div",52),Ng(),Mg(44,"div",53)(45,"igx-snackbar",54,10),fp(47),Ng()(),Lg(48,"div",55,11),Ng(),Mg(50,"div",56,12)(52,"div",57),ep("focus",(function(){return Uo(e),qo(t.navigation.focusFirstCell(!1))}))("keydown",(function(i){return Uo(e),qo(t.navigation.summaryNav(i))})),Xu(53,D8,3,10,"igx-grid-summary-row",58),Lg(54,"div",59),Ng()(),Mg(55,"div",60,13),ep("pointerdown",(function(t){return Uo(e),qo(t.preventDefault())})),Lg(57,"div",61),Mg(58,"div",62),Xu(59,I8,0,0,"ng-template",51,14,nm),Ng(),Lg(61,"div",63),Ng(),Mg(62,"div",64,15),ap(64,1),ap(65,2),Gg(66,null,16),Ng(),Xu(68,R8,4,2,"ng-template",null,17,nm)(70,O8,4,2,"ng-template",null,18,nm)(72,P8,2,1,"ng-template",null,19,nm)(74,F8,2,1,"ng-template",null,20,nm)(76,V8,1,0,"ng-template",null,21,nm)(78,M8,1,1,"ng-template",null,22,nm)(80,L8,4,6,"div",65)(81,H8,3,9,"ng-template",null,23,nm)(83,z8,4,2,"ng-template",null,24,nm)(85,$8,6,8,"ng-template",null,25,nm)(87,W8,1,0,"ng-template",null,26,nm)(89,K8,1,0,"igx-grid-column-resizer",66),Lg(90,"div",67,27)(92,"div",68,28),Xu(94,j8,5,0,"div",69)}if(2&e){let e=mp(10),i=mp(49);Ac(3),fg("grid",t)("hasMRL",t.hasColumnLayouts)("activeDescendant",t.activeDescendant)("width",t.calcWidth)("pinnedColumnCollection",t.pinnedColumns)("unpinnedColumnCollection",t.unpinnedColumns),Ac(2),yg("height",t.totalHeight,"px")("width",t.calcWidth,"px"),fg("igxGridDragSelect",t.selectionService.dragMode),tg("aria-activedescendant",t.activeDescendant)("role",t.dataView.length?null:"row"),Ac(2),fg("ngIf",t.moving&&t.columnInDrag&&t.pinnedColumns.length<=0),Ac(),fg("ngIf",t.moving&&t.columnInDrag&&t.pinnedColumns.length>0),Ac(3),fg("ngTemplateOutlet",t.hasPinnedRecords&&t.isRowPinningToTop?e:null),Ac(),fg("igxGridForOf",em(21,110,Jp(20,106,tm(19,99,zp(138,X6,tm(18,92,zp(131,X6,tm(17,85,zp(124,X6,tm(16,77,Bp(115,q6,Qp(15,74,Jp(14,70,t.data,t.id,t.pipeTrigger),t.hasVisibleColumns),t.filteringExpressionsTree,t.filterStrategy,t.advancedFilteringExpressionsTree,t.id,t.pipeTrigger,t.filteringPipeTrigger)),t.sortingExpressions,Fp(123,Y6),t.sortStrategy,t.id,t.pipeTrigger)),!!t.paginator,t.page,t.perPage,t.id,t.pipeTrigger)),t.expansionStates,t.id,t.primaryKey,t.childLayoutKeys,t.pipeTrigger)),!1,t.pipeTrigger),t.id,!1,t.pipeTrigger))("igxForScrollOrientation","vertical")("igxForScrollContainer",t.verticalScroll)("igxForContainerSize",t.calcHeight)("igxForItemSize",t.renderedRowHeight)("igxForTrackBy",t.trackChanges),Ac(16),fg("ngTemplateOutlet",t.hasPinnedRecords&&!t.isRowPinningToTop?e:null),Ac(),fg("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Vp(145,Z6,t)),Ac(),fg("ngIf",t.moving&&t.columnInDrag),Ac(3),fg("ngIf",!t.parent),Ac(3),fg("ngIf",t.shouldOverlayLoading),Ac(),fg("ngIf",t.moving&&t.columnInDrag),Ac(),yg("width",t.scrollSize,"px"),fg("hidden",!t.hasVerticalScroll()),Ac(),yg("height",t.isRowPinningToTop?t.pinnedRowHeight:0,"px"),Ac(),yg("height",t.calcHeight,"px"),Ac(),fg("igxGridForOf",Fp(147,Y6)),Ac(2),yg("height",t.isRowPinningToTop?0:t.pinnedRowHeight,"px"),Ac(2),fg("outlet",i)("actionText",t.resourceStrings.igx_grid_snackbar_addrow_actiontext)("displayTime",t.snackbarDisplayTime),Ac(2),yp(t.resourceStrings.igx_grid_snackbar_addrow_label),Ac(3),yg("height",t.summaryRowHeight,"px"),Ac(2),tg("aria-activedescendant",t.activeDescendant),Ac(),fg("ngIf",t.hasSummarizedColumns&&t.rootSummariesEnabled),Ac(),yg("height",t.summaryRowHeight,"px")("width",t.scrollSize,"px"),fg("hidden",!t.hasVerticalScroll()),Ac(),yg("height",t.scrollSize,"px"),fg("hidden",t.isHorizontalScrollHidden),Ac(2),yg("width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px")("min-width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px"),Ac(),yg("width",t.unpinnedWidth,"px"),Ac(),fg("igxGridForOf",Fp(148,Y6)),Ac(2),yg("width",t.pinnedWidth,"px")("min-width",t.pinnedWidth,"px"),fg("hidden",0===t.pinnedWidth||t.isPinningToStart),Ac(19),fg("ngIf",t.rowEditable),Ac(9),fg("ngIf",t.colResizingService.showResizer),Ac(5),Fg(t.platform.isElements?94:-1)}},dependencies:[cv,av,lv,yv,vv,lj,Xj,uZ,dW,dA,AA,H6,FA,OA,Pz,RU,wU,ST,vA,FT,nU,CU,q8,zq,$q,EK,TK,RK,FK,SK,bK,Wq,b5,D5,kK],encapsulation:2,changeDetection:0}),e})();function X8(e){return new wn(3e3,!1)}function Z8(e){switch(e.length){case 0:return new cD;case 1:return e[0];default:return new hD(e)}}function Q8(e,t,i=new Map,n=new Map){let r=[],s=[],o=-1,a=null;if(t.forEach((t=>{let l=t.get("offset"),d=l==o,c=d&&a||new Map;t.forEach(((t,s)=>{let o=s,a=t;if("offset"!==s)switch(o=e.normalizePropertyName(o,r),a){case"!":a=i.get(s);break;case Zb:a=n.get(s);break;default:a=e.normalizeStyleValue(s,o,a,r)}c.set(o,a)})),d||s.push(c),a=c,o=l})),r.length)throw new wn(3502,!1);return s}function J8(e,t,i,n){switch(t){case"start":e.onStart((()=>n(i&&e7(i,"start",e))));break;case"done":e.onDone((()=>n(i&&e7(i,"done",e))));break;case"destroy":e.onDestroy((()=>n(i&&e7(i,"destroy",e))))}}function e7(e,t,i){let n=i.totalTime,r=!!i.disabled,s=t7(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,n??e.totalTime,r),o=e._data;return null!=o&&(s._data=o),s}function t7(e,t,i,n,r="",s=0,o){return{element:e,triggerName:t,fromState:i,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function i7(e,t,i){let n=e.get(t);return n||e.set(t,n=i),n}function n7(e){let t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}var r7=typeof document>"u"?null:document.documentElement;function s7(e){let t=e.parentNode||e.host||null;return t===r7?null:t}var o7=null,a7=!1;function l7(e,t){for(;t;){if(t===e)return!0;t=s7(t)}return!1}function d7(e,t,i){if(i)return Array.from(e.querySelectorAll(t));let n=e.querySelector(t);return n?[n]:[]}var c7=(()=>{let e=class{validateStyleProperty(e){return function(e){o7||(o7=(typeof document<"u"?document.body:null)||{},a7=!!o7.style&&"WebkitAppearance"in o7.style);let t=!0;return o7.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in o7.style,!t&&a7&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in o7.style)),t}(e)}containsElement(e,t){return l7(e,t)}getParentElement(e){return s7(e)}query(e,t,i){return d7(e,t,i)}computeStyle(e,t,i){return i||""}animate(e,t,i,n,r,s=[],o){return new cD(i,n)}};return e.ɵfac=function(t){return new(t||e)},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),h7=class{};h7.NOOP=new c7;var u7=h7,g7=class{},p7=1e3,m7="ng-enter",f7="ng-leave",v7="ng-trigger",y7=".ng-trigger",x7="ng-animating",w7=".ng-animating";function _7(e){if("number"==typeof e)return e;let t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:C7(parseFloat(t[1]),t[2])}function C7(e,t){return"s"===t?e*p7:e}function S7(e,t,i){return e.hasOwnProperty("duration")?e:function(e,t,i){let n,r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,s=0,o="";if("string"==typeof e){let i=e.match(r);if(null===i)return t.push(X8()),{duration:0,delay:0,easing:""};n=C7(parseFloat(i[1]),i[2]);let a=i[3];null!=a&&(s=C7(parseFloat(a),i[4]));let l=i[5];l&&(o=l)}else n=e;if(!i){let e=!1,i=t.length;n<0&&(t.push(new wn(3100,!1)),e=!0),s<0&&(t.push(new wn(3101,!1)),e=!0),e&&t.splice(i,0,X8())}return{duration:n,delay:s,easing:o}}(e,t,i)}function b7(e,t,i){t.forEach(((t,n)=>{let r=k7(n);i&&!i.has(n)&&i.set(n,e.style[r]),e.style[r]=t}))}function D7(e,t){t.forEach(((t,i)=>{let n=k7(i);e.style[n]=""}))}function I7(e){return Array.isArray(e)?1==e.length?e[0]:Jb(e):e}var E7=new RegExp("{{\\s*(.+?)\\s*}}","g");function T7(e){let t=[];if("string"==typeof e){let i;for(;i=E7.exec(e);)t.push(i[1]);E7.lastIndex=0}return t}function R7(e,t,i){let n=`${e}`,r=n.replace(E7,((e,n)=>{let r=t[n];return null==r&&(i.push(new wn(3003,!1)),r=""),r.toString()}));return r==n?e:r}var A7=/-+([a-z0-9])/g;function k7(e){return e.replace(A7,((...e)=>e[1].toUpperCase()))}function O7(e,t,i){switch(t.type){case Xb.Trigger:return e.visitTrigger(t,i);case Xb.State:return e.visitState(t,i);case Xb.Transition:return e.visitTransition(t,i);case Xb.Sequence:return e.visitSequence(t,i);case Xb.Group:return e.visitGroup(t,i);case Xb.Animate:return e.visitAnimate(t,i);case Xb.Keyframes:return e.visitKeyframes(t,i);case Xb.Style:return e.visitStyle(t,i);case Xb.Reference:return e.visitReference(t,i);case Xb.AnimateChild:return e.visitAnimateChild(t,i);case Xb.AnimateRef:return e.visitAnimateRef(t,i);case Xb.Query:return e.visitQuery(t,i);case Xb.Stagger:return e.visitStagger(t,i);default:throw t.type,new wn(3004,!1)}}function P7(e,t){return window.getComputedStyle(e)[t]}var F7=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),V7=class extends g7{normalizePropertyName(e,t){return k7(e)}normalizeStyleValue(e,t,i,n){let r="",s=i.toString().trim();if(F7.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{let e=i.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&n.push(new wn(3005,!1))}return s+r}},M7="*";var N7=new Set(["true","1"]),L7=new Set(["false","0"]);function H7(e,t){let i=N7.has(e)||L7.has(e),n=N7.has(t)||L7.has(t);return(r,s)=>{let o=e==M7||e==r,a=t==M7||t==s;return!o&&i&&"boolean"==typeof r&&(o=r?N7.has(e):L7.has(e)),!a&&n&&"boolean"==typeof s&&(a=s?N7.has(t):L7.has(t)),o&&a}}var z7=":self",B7=new RegExp(`s*${z7}s*,?`,"g");function G7(e,t,i,n){return new $7(e).build(t,i,n)}var $7=class{constructor(e){this._driver=e}build(e,t,i){let n=new W7(t);return this._resetContextStyleTimingState(n),O7(this,I7(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,n=t.depCount=0,r=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(new wn(3006,!1)),e.definitions.forEach((e=>{if(this._resetContextStyleTimingState(t),e.type==Xb.State){let i=e,n=i.name;n.toString().split(/\s*,\s*/).forEach((e=>{i.name=e,r.push(this.visitState(i,t))})),i.name=n}else if(e.type==Xb.Transition){let r=this.visitTransition(e,t);i+=r.queryCount,n+=r.depCount,s.push(r)}else t.errors.push(new wn(3007,!1))})),{type:Xb.Trigger,name:e.name,states:r,transitions:s,queryCount:i,depCount:n,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),n=e.options&&e.options.params||null;if(i.containsDynamicStyles){let r=new Set,s=n||{};i.styles.forEach((e=>{e instanceof Map&&e.forEach((e=>{T7(e).forEach((e=>{s.hasOwnProperty(e)||r.add(e)}))}))})),r.size&&t.errors.push((e.name,r.values(),new wn(3008,!1)))}return{type:Xb.State,name:e.name,style:i,options:n?{params:n}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=O7(this,I7(e.animation),t),n=function(e,t){let i=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach((e=>function(e,t,i){if(":"==e[0]){let n=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(new wn(3016,!1)),"* => *"}}(e,i);if("function"==typeof n)return void t.push(n);e=n}let n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return i.push(new wn(3015,!1)),t;let r=n[1],s=n[2],o=n[3];t.push(H7(r,o));let a=r==M7&&o==M7;"<"==s[0]&&!a&&t.push(H7(o,r))}(e,i,t))):i.push(e),i}(e.expr,t.errors);return{type:Xb.Transition,matchers:n,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:K7(e.options)}}visitSequence(e,t){return{type:Xb.Sequence,steps:e.steps.map((e=>O7(this,e,t))),options:K7(e.options)}}visitGroup(e,t){let i=t.currentTime,n=0,r=e.steps.map((e=>{t.currentTime=i;let r=O7(this,e,t);return n=Math.max(n,t.currentTime),r}));return t.currentTime=n,{type:Xb.Group,steps:r,options:K7(e.options)}}visitAnimate(e,t){let i=function(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return j7(S7(e,t).duration,0,"");let i=e;if(i.split(/\s+/).some((e=>"{"==e.charAt(0)&&"{"==e.charAt(1)))){let e=j7(0,0,"");return e.dynamic=!0,e.strValue=i,e}let n=S7(i,t);return j7(n.duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let n,r=e.styles?e.styles:eD({});if(r.type==Xb.Keyframes)n=this.visitKeyframes(r,t);else{let r=e.styles,s=!1;if(!r){s=!0;let e={};i.easing&&(e.easing=i.easing),r=eD(e)}t.currentTime+=i.duration+i.delay;let o=this.visitStyle(r,t);o.isEmptyStep=s,n=o}return t.currentAnimateTimings=null,{type:Xb.Animate,timings:i,style:n,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],n=Array.isArray(e.styles)?e.styles:[e.styles];for(let e of n)"string"==typeof e?e===Zb?i.push(e):t.errors.push(new wn(3002,!1)):i.push(new Map(Object.entries(e)));let r=!1,s=null;return i.forEach((e=>{if(e instanceof Map&&(e.has("easing")&&(s=e.get("easing"),e.delete("easing")),!r))for(let t of e.values())if(t.toString().indexOf("{{")>=0){r=!0;break}})),{type:Xb.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,n=t.currentTime,r=t.currentTime;i&&r>0&&(r-=i.duration+i.delay),e.styles.forEach((e=>{"string"!=typeof e&&e.forEach(((e,i)=>{let s=t.collectedStyles.get(t.currentQuerySelector),o=s.get(i),a=!0;o&&(r!=n&&r>=o.startTime&&n<=o.endTime&&(t.errors.push((o.startTime,o.endTime,new wn(3010,!1))),a=!1),r=o.startTime),a&&s.set(i,{startTime:r,endTime:n}),t.options&&function(e,t,i){let n=t.params||{},r=T7(e);r.length&&r.forEach((e=>{n.hasOwnProperty(e)||i.push(new wn(3001,!1))}))}(e,t.options,t.errors)}))}))}visitKeyframes(e,t){let i={type:Xb.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(new wn(3011,!1)),i;let n=0,r=[],s=!1,o=!1,a=0,l=e.steps.map((e=>{let i=this._makeStyleAst(e,t),l=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach((e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}}));else if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}return t}(i.styles),d=0;return null!=l&&(n++,d=i.offset=l),o=o||d<0||d>1,s=s||d<a,a=d,r.push(d),i}));o&&t.errors.push(new wn(3012,!1)),s&&t.errors.push(new wn(3200,!1));let d=e.steps.length,c=0;n>0&&n<d?t.errors.push(new wn(3202,!1)):0==n&&(c=1/(d-1));let h=d-1,u=t.currentTime,g=t.currentAnimateTimings,p=g.duration;return l.forEach(((e,n)=>{let s=c>0?n==h?1:c*n:r[n],o=s*p;t.currentTime=u+g.delay+o,g.duration=o,this._validateStyleAst(e,t),e.offset=s,i.styles.push(e)})),i}visitReference(e,t){return{type:Xb.Reference,animation:O7(this,I7(e.animation),t),options:K7(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Xb.AnimateChild,options:K7(e.options)}}visitAnimateRef(e,t){return{type:Xb.AnimateRef,animation:this.visitReference(e.animation,t),options:K7(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,n=e.options||{};t.queryCount++,t.currentQuery=e;let[r,s]=function(e){let t=!!e.split(/\s*,\s*/).find((e=>e==z7));return t&&(e=e.replace(B7,"")),e=e.replace(/@\*/g,y7).replace(/@\w+/g,(e=>y7+"-"+e.slice(1))).replace(/:animating/g,w7),[e,t]}(e.selector);t.currentQuerySelector=i.length?i+" "+r:r,i7(t.collectedStyles,t.currentQuerySelector,new Map);let o=O7(this,I7(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:Xb.Query,selector:r,limit:n.limit||0,optional:!!n.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:K7(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(new wn(3013,!1));let i="full"===e.timings?{duration:0,delay:0,easing:"full"}:S7(e.timings,t.errors,!0);return{type:Xb.Stagger,animation:O7(this,I7(e.animation),t),timings:i,options:null}}},W7=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function K7(e){return e?(e=ke({},e)).params&&(e.params=function(e){return e?ke({},e):null}(e.params)):e={},e}function j7(e,t,i){return{duration:e,delay:t,easing:i}}function U7(e,t,i,n,r,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:i,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var q7=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Y7=new RegExp(":enter","g"),X7=new RegExp(":leave","g");function Z7(e,t,i,n,r,s=new Map,o=new Map,a,l,d=[]){return(new Q7).buildKeyframes(e,t,i,n,r,s,o,a,l,d)}var Q7=class{buildKeyframes(e,t,i,n,r,s,o,a,l,d=[]){l=l||new q7;let c=new e9(e,t,l,n,r,d,[]);c.options=a;let h=a.delay?_7(a.delay):0;c.currentTimeline.delayNextStep(h),c.currentTimeline.setStyles([s],null,c.errors,a),O7(this,i,c);let u=c.timelines.filter((e=>e.containsAnimation()));if(u.length&&o.size){let e;for(let i=u.length-1;i>=0;i--){let n=u[i];if(n.element===t){e=n;break}}e&&!e.allowOnlyTimelineStyles()&&e.setStyles([o],null,c.errors,a)}return u.length?u.map((e=>e.buildKeyframes())):[U7(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let n=t.createSubContext(e.options),r=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,n,n.options);r!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let n of e){let e=n?.delay;if(e){let r="number"==typeof e?e:_7(R7(e,n?.params??{},t.errors));i.delayNextStep(r)}}}_visitSubInstructions(e,t,i){let n=t.currentTimeline.currentTime,r=null!=i.duration?_7(i.duration):null,s=null!=i.delay?_7(i.delay):null;return 0!==r&&e.forEach((e=>{let i=t.appendInstructionToTimeline(e,r,s);n=Math.max(n,i.duration+i.delay)})),n}visitReference(e,t){t.updateOptions(e.options,!0),O7(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,n=t,r=e.options;if(r&&(r.params||r.delay)&&(n=t.createSubContext(r),n.transformIntoNewTimeline(),null!=r.delay)){n.previousNode.type==Xb.Style&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=J7);let e=_7(r.delay);n.delayNextStep(e)}e.steps.length&&(e.steps.forEach((e=>O7(this,e,n))),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>i&&n.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],n=t.currentTimeline.currentTime,r=e.options&&e.options.delay?_7(e.options.delay):0;e.steps.forEach((s=>{let o=t.createSubContext(e.options);r&&o.delayNextStep(r),O7(this,s,o),n=Math.max(n,o.currentTimeline.currentTime),i.push(o.currentTimeline)})),i.forEach((e=>t.currentTimeline.mergeTimelineCollectedStyles(e))),t.transformIntoNewTimeline(n),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue;return S7(t.params?R7(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),n=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),n.snapshotCurrentStyles());let r=e.style;r.type==Xb.Keyframes?this.visitKeyframes(r,t):(t.incrementTime(i.duration),this.visitStyle(r,t),n.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,n=t.currentAnimateTimings;!n&&i.hasCurrentStyleProperties()&&i.forwardFrame();let r=n&&n.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(r):i.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,n=t.currentTimeline.duration,r=i.duration,s=t.createSubContext().currentTimeline;s.easing=i.easing,e.styles.forEach((e=>{let i=e.offset||0;s.forwardTime(i*r),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(n+r),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,n=e.options||{},r=n.delay?_7(n.delay):0;r&&(t.previousNode.type===Xb.Style||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=J7);let s=i,o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!n.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach(((i,n)=>{t.currentQueryIndex=n;let o=t.createSubContext(e.options,i);r&&o.delayNextStep(r),i===t.element&&(a=o.currentTimeline),O7(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe();let l=o.currentTimeline.currentTime;s=Math.max(s,l)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,n=t.currentTimeline,r=e.timings,s=Math.abs(r.duration),o=s*(t.currentQueryTotal-1),a=s*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=i.currentStaggerTime}let l=t.currentTimeline;a&&l.delayNextStep(a);let d=l.currentTime;O7(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=n.currentTime-d+(n.startTime-i.currentTimeline.startTime)}},J7={},e9=class e{constructor(e,t,i,n,r,s,o,a){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=n,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=J7,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new t9(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,n=this.options;null!=i.duration&&(n.duration=_7(i.duration)),null!=i.delay&&(n.delay=_7(i.delay));let r=i.params;if(r){let e=n.params;e||(e=this.options.params={}),Object.keys(r).forEach((i=>{(!t||!e.hasOwnProperty(i))&&(e[i]=R7(r[i],e,this.errors))}))}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach((e=>{i[e]=t[e]}))}}return e}createSubContext(t=null,i,n){let r=i||this.element,s=new e(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=J7,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let n={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},r=new i9(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,n,e.stretchStartingKeyframe);return this.timelines.push(r),n}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,n,r,s){let o=[];if(n&&o.push(this.element),e.length>0){e=(e=e.replace(Y7,"."+this._enterClassName)).replace(X7,"."+this._leaveClassName);let t=1!=i,n=this._driver.query(this.element,e,t);0!==i&&(n=i<0?n.slice(n.length+i,n.length):n.slice(0,i)),o.push(...n)}return!r&&0==o.length&&s.push(new wn(3014,!1)),o}},t9=class e{constructor(e,t,i,n){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=n,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(t,i){return this.applyStylesToKeyframe(),new e(this._driver,t,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[e,t]of this._globalTimelineStyles)this._backFill.set(e,t||Zb),this._currentKeyframe.set(e,Zb);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,n){t&&this._previousKeyframe.set("easing",t);let r=n&&n.params||{},s=function(e,t){let i,n=new Map;return e.forEach((e=>{if("*"===e){i??=t.keys();for(let e of i)n.set(e,Zb)}else for(let[t,i]of e)n.set(t,i)})),n}(e,this._globalTimelineStyles);for(let[e,t]of s){let n=R7(t,r,i);this._pendingStyles.set(e,n),this._localTimelineStyles.has(e)||this._backFill.set(e,this._globalTimelineStyles.get(e)??Zb),this._updateStyle(e,n)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach(((e,t)=>{this._currentKeyframe.set(t,e)})),this._pendingStyles.clear(),this._localTimelineStyles.forEach(((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)})))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach(((e,t)=>{let i=this._styleSummary.get(t);(!i||e.time>i.time)&&this._updateStyle(t,e.value)}))}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration,n=[];this._keyframes.forEach(((r,s)=>{let o=new Map([...this._backFill,...r]);o.forEach(((i,n)=>{"!"===i?e.add(n):i===Zb&&t.add(n)})),i||o.set("offset",s/this.duration),n.push(o)}));let r=[...e.values()],s=[...t.values()];if(i){let e=n[0],t=new Map(e);e.set("offset",0),t.set("offset",1),n=[e,t]}return U7(this.element,n,r,s,this.duration,this.startTime,this.easing,!1)}},i9=class extends t9{constructor(e,t,i,n,r,s,o=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=n,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:n}=this.timings;if(this._stretchStartingKeyframe&&t){let r=[],s=i+t,o=t/s,a=new Map(e[0]);a.set("offset",0),r.push(a);let l=new Map(e[0]);l.set("offset",n9(o)),r.push(l);let d=e.length-1;for(let n=1;n<=d;n++){let o=new Map(e[n]),a=t+o.get("offset")*i;o.set("offset",n9(a/s)),r.push(o)}i=s,t=0,n="",e=r}return U7(this.element,e,this.preStyleProps,this.postStyleProps,i,t,n,!0)}};function n9(e,t=3){let i=Math.pow(10,t-1);return Math.round(e*i)/i}function r9(e,t,i,n,r,s,o,a,l,d,c,h,u){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:i,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:d,postStyleProps:c,totalTime:h,errors:u}}var s9={},o9=class{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,n){return function(e,t,i,n,r){return e.some((e=>e(t,i,n,r)))}(this.ast.matchers,e,t,i,n)}buildStyles(e,t,i){let n=this._stateStyles.get("*");return void 0!==e&&(n=this._stateStyles.get(e?.toString())||n),n?n.buildStyles(t,i):new Map}build(e,t,i,n,r,s,o,a,l,d){let c=[],h=this.ast.options&&this.ast.options.params||s9,u=o&&o.params||s9,g=this.buildStyles(i,u,c),p=a&&a.params||s9,m=this.buildStyles(n,p,c),f=new Set,v=new Map,y=new Map,x="void"===n,w={params:a9(p,h),delay:this.ast.options?.delay},_=d?[]:Z7(e,t,this.ast.animation,r,s,g,m,w,l,c),C=0;return _.forEach((e=>{C=Math.max(e.duration+e.delay,C)})),c.length?r9(t,this._triggerName,i,n,x,g,m,[],[],v,y,C,c):(_.forEach((e=>{let i=e.element,n=i7(v,i,new Set);e.preStyleProps.forEach((e=>n.add(e)));let r=i7(y,i,new Set);e.postStyleProps.forEach((e=>r.add(e))),i!==t&&f.add(i)})),r9(t,this._triggerName,i,n,x,g,m,_,[...f.values()],v,y,C))}};function a9(e,t){let i=ke({},t);return Object.entries(e).forEach((([e,t])=>{null!=t&&(i[e]=t)})),i}function l9(e,t,i){e.has(t)?e.has(i)||e.set(i,e.get(t)):e.has(i)&&e.set(t,e.get(i))}var d9=new q7,c9="ng-animate-queued",h9="ng-animate-disabled",u9=[],g9={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},p9={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},m9="__ng_removed",f9=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),n=i?e.value:e;if(this.value=function(e){return e??null}(n),i){let t=e,{value:i}=t,n=Pe(t,["value"]);this.options=n}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let e=this.options.params;Object.keys(t).forEach((i=>{null==e[i]&&(e[i]=t[i])}))}}},v9="void",y9=new f9(v9),x9=class{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new cD,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach(((t,i)=>{t.forEach((t=>J8(e,i,void 0,t)))})),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart((()=>t.triggerCallback("start"))),e.onDone((()=>this.finish())),e.onDestroy((()=>this.destroy()))}_queueEvent(e,t){i7(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function w9(e){return e&&1===e.nodeType}function _9(e,t){let i=e.style.display;return e.style.display=t??"none",i}function C9(e,t,i,n,r){let s=[];i.forEach((e=>s.push(_9(e))));let o=[];n.forEach(((i,n)=>{let s=new Map;i.forEach((e=>{let i=t.computeStyle(n,e,r);s.set(e,i),(!i||0==i.length)&&(n[m9]=p9,o.push(n))})),e.set(n,s)}));let a=0;return i.forEach((e=>_9(e,s[a++]))),o}function S9(e,t){let i=new Map;if(e.forEach((e=>i.set(e,[]))),0==t.length)return i;let n=new Set(t),r=new Map;function s(e){if(!e)return 1;let t=r.get(e);if(t)return t;let o=e.parentNode;return t=i.has(o)?o:n.has(o)?1:s(o),r.set(e,t),t}return t.forEach((e=>{let t=s(e);1!==t&&i.get(t).push(e)})),i}function b9(e,t){e.classList?.add(t)}function D9(e,t){e.classList?.remove(t)}function I9(e,t,i){Z8(i).onDone((()=>e.processLeaveNode(t)))}function E9(e,t){for(let i=0;i<e.length;i++){let n=e[i];n instanceof hD?E9(n.players,t):t.push(n)}}function T9(e,t,i){let n=i.get(e);if(!n)return!1;let r=t.get(e);return r?n.forEach((e=>r.add(e))):t.set(e,n),i.delete(e),!0}var R9=class{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach((t=>{t.players.forEach((t=>{t.queued&&e.push(t)}))})),e}createNamespace(e,t){let i=new class{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,b9(t,this._hostClassName)}listen(e,t,i,n){if(!this._triggers.has(t))throw new wn(3302,!1);if(null==i||0==i.length)throw new wn(3303,!1);if(!function(e){return"start"==e||"done"==e}(i))throw new wn(3400,!1);let r=i7(this._elementListeners,e,[]),s={name:t,phase:i,callback:n};r.push(s);let o=i7(this._engine.statesByElement,e,new Map);return o.has(t)||(b9(e,v7),b9(e,v7+"-"+t),o.set(t,y9)),()=>{this._engine.afterFlush((()=>{let e=r.indexOf(s);e>=0&&r.splice(e,1),this._triggers.has(t)||o.delete(t)}))}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw new wn(3401,!1);return t}trigger(e,t,i,n=!0){let r=this._getTrigger(t),s=new x9(this.id,t,e),o=this._engine.statesByElement.get(e);o||(b9(e,v7),b9(e,v7+"-"+t),this._engine.statesByElement.set(e,o=new Map));let a=o.get(t),l=new f9(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o.set(t,l),a||(a=y9),l.value!==v9&&a.value===l.value){if(!function(e,t){let i=Object.keys(e),n=Object.keys(t);if(i.length!=n.length)return!1;for(let n=0;n<i.length;n++){let r=i[n];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(a.params,l.params)){let t=[],i=r.matchStyles(a.value,a.params,t),n=r.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush((()=>{D7(e,i),b7(e,n)}))}return}let d=i7(this._engine.playersByElement,e,[]);d.forEach((e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()}));let c=r.matchTransition(a.value,l.value,e,l.params),h=!1;if(!c){if(!n)return;c=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:c,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(b9(e,c9),s.onStart((()=>{D9(e,c9)}))),s.onDone((()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);let i=this._engine.playersByElement.get(e);if(i){let e=i.indexOf(s);e>=0&&i.splice(e,1)}})),this.players.push(s),d.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach((t=>t.delete(e))),this._elementListeners.forEach(((t,i)=>{this._elementListeners.set(i,t.filter((t=>t.name!=e)))}))}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach((e=>e.destroy())),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,y7,!0);i.forEach((e=>{if(e[m9])return;let i=this._engine.fetchNamespacesByElement(e);i.size?i.forEach((i=>i.triggerLeaveAnimation(e,t,!1,!0))):this.clearElementCache(e)})),this._engine.afterFlushAnimationsDone((()=>i.forEach((e=>this.clearElementCache(e)))))}triggerLeaveAnimation(e,t,i,n){let r=this._engine.statesByElement.get(e),s=new Map;if(r){let o=[];if(r.forEach(((t,i)=>{if(s.set(i,t.value),this._triggers.has(i)){let t=this.trigger(e,i,v9,n);t&&o.push(t)}})),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Z8(o).onDone((()=>this._engine.processLeaveNode(e))),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let n=new Set;t.forEach((t=>{let r=t.name;if(n.has(r))return;n.add(r);let s=this._triggers.get(r).fallbackTransition,o=i.get(r)||y9,a=new f9(v9),l=new x9(this.id,r,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:r,transition:s,fromState:o,toState:a,player:l,isFallbackTransition:!0})}))}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let n=!1;if(i.totalAnimations){let t=i.players.length?i.playersByQueriedElement.get(e):[];if(t&&t.length)n=!0;else{let t=e;for(;t=t.parentNode;)if(i.statesByElement.get(t)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(e),n)i.markElementAsRemoved(this.id,e,!1,t);else{let n=e[m9];(!n||n===g9)&&(i.afterFlush((()=>this.clearElementCache(e))),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){b9(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach((i=>{let n=i.player;if(n.destroyed)return;let r=i.element,s=this._elementListeners.get(r);s&&s.forEach((t=>{if(t.name==i.triggerName){let n=t7(r,i.triggerName,i.fromState.value,i.toState.value);n._data=e,J8(i.player,t.phase,n,t.callback)}})),n.markedForDestroy?this._engine.afterFlush((()=>{n.destroy()})):t.push(i)})),this._queue=[],t.sort(((e,t)=>{let i=e.transition.ast.depCount,n=t.transition.ast.depCount;return 0==i||0==n?i-n:this._engine.driver.containsElement(e.element,t.element)?1:-1}))}destroy(e){this.players.forEach((e=>e.destroy())),this._signalRemovalForInnerTriggers(this.hostElement,e)}}(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,n=this.namespacesByHostElement;if(i.length-1>=0){let r=!1,s=this.driver.getParentElement(t);for(;s;){let t=n.get(s);if(t){let n=i.indexOf(t);i.splice(n+1,0,e),r=!0;break}s=this.driver.getParentElement(s)}r||i.unshift(e)}else i.push(e);return n.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let n=this._namespaceLookup[e];n&&n.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush((()=>{})),this.afterFlushAnimationsDone((()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let n=this._namespaceList.indexOf(i);n>=0&&this._namespaceList.splice(n,1),i.destroy(t),delete this._namespaceLookup[e]})))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i)for(let e of i.values())if(e.namespaceId){let i=this._fetchNamespace(e.namespaceId);i&&t.add(i)}return t}trigger(e,t,i,n){if(w9(t)){let r=this._fetchNamespace(e);if(r)return r.trigger(t,i,n),!0}return!1}insertNode(e,t,i,n){if(!w9(t))return;let r=t[m9];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){let n=this._fetchNamespace(e);n&&n.insertNode(t,i)}n&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),b9(e,h9)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),D9(e,h9))}removeNode(e,t,i){if(w9(t)){let n=e?this._fetchNamespace(e):null;n?n.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let r=this.namespacesByHostElement.get(t);r&&r.id!==e&&r.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,n,r){this.collectedLeaveElements.push(t),t[m9]={namespaceId:e,setForRemoval:n,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:r}}listen(e,t,i,n,r){return w9(t)?this._fetchNamespace(e).listen(t,i,n,r):()=>{}}_buildInstruction(e,t,i,n,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,n,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,y7,!0);t.forEach((e=>this.destroyActiveAnimationsForElement(e))),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,w7,!0),t.forEach((e=>this.finishActiveQueriedAnimationOnElement(e))))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach((e=>{e.queued?e.markedForDestroy=!0:e.destroy()}))}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach((e=>e.finish()))}whenRenderingDone(){return new Promise((e=>{if(this.players.length)return Z8(this.players).onDone((()=>e()));e()}))}processLeaveNode(e){let t=e[m9];if(t&&t.setForRemoval){if(e[m9]=g9,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(h9)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((e=>{this.markElementAsDisabled(e,!1)}))}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach(((e,t)=>this._balanceNamespaceList(e,t))),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let e=0;e<this.collectedEnterElements.length;e++)b9(this.collectedEnterElements[e],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let e=0;e<i.length;e++)i[e]()}}else for(let e=0;e<this.collectedLeaveElements.length;e++){let t=this.collectedLeaveElements[e];this.processLeaveNode(t)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((e=>e())),this._flushFns=[],this._whenQuietFns.length){let e=this._whenQuietFns;this._whenQuietFns=[],t.length?Z8(t).onDone((()=>{e.forEach((e=>e()))})):e.forEach((e=>e()))}}reportError(e){throw new wn(3402,!1)}_flushAnimations(e,t){let i=new q7,n=[],r=new Map,s=[],o=new Map,a=new Map,l=new Map,d=new Set;this.disabledNodes.forEach((e=>{d.add(e);let t=this.driver.query(e,".ng-animate-queued",!0);for(let e=0;e<t.length;e++)d.add(t[e])}));let c=this.bodyNode,h=Array.from(this.statesByElement.keys()),u=S9(h,this.collectedEnterElements),g=new Map,p=0;u.forEach(((e,t)=>{let i=m7+p++;g.set(t,i),e.forEach((e=>b9(e,i)))}));let m=[],f=new Set,v=new Set;for(let e=0;e<this.collectedLeaveElements.length;e++){let t=this.collectedLeaveElements[e],i=t[m9];i&&i.setForRemoval&&(m.push(t),f.add(t),i.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach((e=>f.add(e))):v.add(t))}let y=new Map,x=S9(h,Array.from(f));x.forEach(((e,t)=>{let i=f7+p++;y.set(t,i),e.forEach((e=>b9(e,i)))})),e.push((()=>{u.forEach(((e,t)=>{let i=g.get(t);e.forEach((e=>D9(e,i)))})),x.forEach(((e,t)=>{let i=y.get(t);e.forEach((e=>D9(e,i)))})),m.forEach((e=>{this.processLeaveNode(e)}))}));let w=[],_=[];for(let e=this._namespaceList.length-1;e>=0;e--)this._namespaceList[e].drainQueuedTransitions(t).forEach((e=>{let t=e.player,r=e.element;if(w.push(t),this.collectedEnterElements.length){let i=r[m9];if(i&&i.setForMove){if(i.previousTriggersValues&&i.previousTriggersValues.has(e.triggerName)){let t=i.previousTriggersValues.get(e.triggerName),n=this.statesByElement.get(e.element);if(n&&n.has(e.triggerName)){let i=n.get(e.triggerName);i.value=t,n.set(e.triggerName,i)}}return void t.destroy()}}let d=!c||!this.driver.containsElement(c,r),h=y.get(r),u=g.get(r),p=this._buildInstruction(e,i,u,h,d);if(p.errors&&p.errors.length)return void _.push(p);if(d)return t.onStart((()=>D7(r,p.fromStyles))),t.onDestroy((()=>b7(r,p.toStyles))),void n.push(t);if(e.isFallbackTransition)return t.onStart((()=>D7(r,p.fromStyles))),t.onDestroy((()=>b7(r,p.toStyles))),void n.push(t);let m=[];p.timelines.forEach((e=>{e.stretchStartingKeyframe=!0,this.disabledNodes.has(e.element)||m.push(e)})),p.timelines=m,i.append(r,p.timelines);let f={instruction:p,player:t,element:r};s.push(f),p.queriedElements.forEach((e=>i7(o,e,[]).push(t))),p.preStyleProps.forEach(((e,t)=>{if(e.size){let i=a.get(t);i||a.set(t,i=new Set),e.forEach(((e,t)=>i.add(t)))}})),p.postStyleProps.forEach(((e,t)=>{let i=l.get(t);i||l.set(t,i=new Set),e.forEach(((e,t)=>i.add(t)))}))}));if(_.length){let e=[];_.forEach((t=>{e.push((t.triggerName,t.errors,new wn(3505,!1)))})),w.forEach((e=>e.destroy())),this.reportError(e)}let C=new Map,S=new Map;s.forEach((e=>{let t=e.element;i.has(t)&&(S.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,C))})),n.forEach((e=>{let t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((e=>{i7(C,t,[]).push(e),e.destroy()}))}));let b=m.filter((e=>T9(e,a,l))),D=new Map;C9(D,this.driver,v,l,Zb).forEach((e=>{T9(e,a,l)&&b.push(e)}));let I=new Map;u.forEach(((e,t)=>{C9(I,this.driver,new Set(e),a,"!")})),b.forEach((e=>{let t=D.get(e),i=I.get(e);D.set(e,new Map([...t?.entries()??[],...i?.entries()??[]]))}));let E=[],T=[],R={};s.forEach((e=>{let{element:t,player:s,instruction:o}=e;if(i.has(t)){if(d.has(t))return s.onDestroy((()=>b7(t,o.toStyles))),s.disabled=!0,s.overrideTotalTime(o.totalTime),void n.push(s);let e=R;if(S.size>1){let i=t,n=[];for(;i=i.parentNode;){let t=S.get(i);if(t){e=t;break}n.push(i)}n.forEach((t=>S.set(t,e)))}let i=this._buildAnimation(s.namespaceId,o,C,r,I,D);if(s.setRealPlayer(i),e===R)E.push(s);else{let t=this.playersByElement.get(e);t&&t.length&&(s.parentPlayer=Z8(t)),n.push(s)}}else D7(t,o.fromStyles),s.onDestroy((()=>b7(t,o.toStyles))),T.push(s),d.has(t)&&n.push(s)})),T.forEach((e=>{let t=r.get(e.element);if(t&&t.length){let i=Z8(t);e.setRealPlayer(i)}})),n.forEach((e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(let e=0;e<m.length;e++){let t=m[e],i=t[m9];if(D9(t,f7),i&&i.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,w7,!0);for(let e=0;e<i.length;e++){let t=o.get(i[e]);t&&t.length&&n.push(...t)}}let r=n.filter((e=>!e.destroyed));r.length?I9(this,t,r):this.processLeaveNode(t)}return m.length=0,E.forEach((e=>{this.players.push(e),e.onDone((()=>{e.destroy();let t=this.players.indexOf(e);this.players.splice(t,1)})),e.play()})),E}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,n,r){let s=[];if(t){let t=this.playersByQueriedElement.get(e);t&&(s=t)}else{let t=this.playersByElement.get(e);if(t){let e=!r||r==v9;t.forEach((t=>{t.queued||!e&&t.triggerName!=n||s.push(t)}))}}return(i||n)&&(s=s.filter((e=>!(i&&i!=e.namespaceId||n&&n!=e.triggerName)))),s}_beforeAnimationBuild(e,t,i){let n=t.triggerName,r=t.element,s=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:n;for(let e of t.timelines){let n=e.element,a=n!==r,l=i7(i,n,[]);this._getPreviousPlayers(n,a,s,o,t.toState).forEach((e=>{let t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)}))}D7(r,t.fromStyles)}_buildAnimation(e,t,i,n,r,s){let o=t.triggerName,a=t.element,l=[],d=new Set,c=new Set,h=t.timelines.map((t=>{let h=t.element;d.add(h);let u=h[m9];if(u&&u.removedBeforeQueried)return new cD(t.duration,t.delay);let g=h!==a,p=function(e){let t=[];return E9(e,t),t}((i.get(h)||u9).map((e=>e.getRealPlayer()))).filter((e=>{let t=e;return!!t.element&&t.element===h})),m=r.get(h),f=s.get(h),v=Q8(this._normalizer,t.keyframes,m,f),y=this._buildPlayer(t,v,p);if(t.subTimeline&&n&&c.add(h),g){let t=new x9(e,o,h);t.setRealPlayer(y),l.push(t)}return y}));l.forEach((e=>{i7(this.playersByQueriedElement,e.element,[]).push(e),e.onDone((()=>function(e,t,i){let n=e.get(t);if(n){if(n.length){let e=n.indexOf(i);n.splice(e,1)}0==n.length&&e.delete(t)}return n}(this.playersByQueriedElement,e.element,e)))})),d.forEach((e=>b9(e,x7)));let u=Z8(h);return u.onDestroy((()=>{d.forEach((e=>D9(e,x7))),b7(a,t.toStyles)})),c.forEach((e=>{i7(n,e,[]).push(u)})),u}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new cD(e.duration,e.delay)}}(e.body,t,i),this._timelineEngine=new class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let i=[],n=G7(this._driver,t,i,[]);if(i.length)throw new wn(3503,!1);this._animations.set(e,n)}_buildPlayer(e,t,i){let n=e.element,r=Q8(this._normalizer,e.keyframes,t,i);return this._driver.animate(n,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let n,r=[],s=this._animations.get(e),o=new Map;if(s?(n=Z7(this._driver,t,s,m7,f7,new Map,new Map,i,d9,r),n.forEach((e=>{let t=i7(o,e.element,new Map);e.postStyleProps.forEach((e=>t.set(e,null)))}))):(r.push(new wn(3300,!1)),n=[]),r.length)throw new wn(3504,!1);o.forEach(((e,t)=>{e.forEach(((i,n)=>{e.set(n,this._driver.computeStyle(t,n,Zb))}))}));let a=Z8(n.map((e=>{let t=o.get(e.element);return this._buildPlayer(e,new Map,t)})));return this._playersById.set(e,a),a.onDestroy((()=>this.destroy(e))),this.players.push(a),a}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw new wn(3301,!1);return t}listen(e,t,i,n){let r=t7(t,"","","");return J8(this._getPlayer(e),i,r,n),()=>{}}command(e,t,i,n){if("register"==i)return void this.register(e,n[0]);if("create"==i){let i=n[0]||{};return void this.create(e,t,i)}let r=this._getPlayer(e);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(e)}}}(e.body,t,i),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,i,n,r){let s=e+"-"+n,o=this._triggerCache[s];if(!o){let e=[],t=[],i=G7(this._driver,r,e,t);if(e.length)throw new wn(3404,!1);t.length,o=function(e,t,i){return new class{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach((e=>{let t=e.options&&e.options.params||{};this.states.set(e.name,new class{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,n=a9(e,this.defaultParams);return this.styles.styles.forEach((e=>{"string"!=typeof e&&e.forEach(((e,r)=>{e&&(e=R7(e,n,t));let s=this.normalizer.normalizePropertyName(r,t);e=this.normalizer.normalizeStyleValue(r,s,e,t),i.set(r,e)}))})),i}}(e.style,t,i))})),l9(this.states,"true","1"),l9(this.states,"false","0"),t.transitions.forEach((t=>{this.transitionFactories.push(new o9(e,t,this.states))})),this.fallbackTransition=function(e,t,i){let n={type:Xb.Sequence,steps:[],options:null},r={type:Xb.Transition,animation:n,matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0};return new o9(e,r,t)}(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,n){return this.transitionFactories.find((r=>r.match(e,t,i,n)))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}(e,t,i)}(n,i,this._normalizer),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,n,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,n){this._transitionEngine.insertNode(e,t,i,n)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,n){if("@"==i.charAt(0)){let[e,r]=n7(i),s=n;this._timelineEngine.command(e,t,r,s)}else this._transitionEngine.trigger(e,t,i,n)}listen(e,t,i,n,r){if("@"==i.charAt(0)){let[e,n]=n7(i);return this._timelineEngine.listen(e,t,n,r)}return this._transitionEngine.listen(e,t,i,n,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}},A9=class e{constructor(t,i,n){this._element=t,this._startStyles=i,this._endStyles=n,this._state=0;let r=e.initialStylesByElement.get(t);r||e.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&b7(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(b7(this._element,this._initialStyles),this._endStyles&&(b7(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(D7(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(D7(this._element,this._endStyles),this._endStyles=null),b7(this._element,this._initialStyles),this._state=3)}};A9.initialStylesByElement=new WeakMap;var k9=A9;function O9(e){let t=null;return e.forEach(((e,i)=>{(function(e){return"display"===e||"position"===e})(i)&&(t=t||new Map,t.set(i,e))})),t}var P9,F9=class{constructor(e,t,i,n){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach((e=>e())),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy((()=>{this.domPlayer.removeEventListener("finish",t)}))}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach((e=>{t.push(Object.fromEntries(e))})),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((e=>e())),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((e=>e())),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach(((t,i)=>{"offset"!==i&&e.set(i,this._finished?t:P7(this.element,i))})),this.currentSnapshot=e}triggerCallback(e){let t="start"===e?this._onStartFns:this._onDoneFns;t.forEach((e=>e())),t.length=0}},V9="@",M9="@.disabled",N9=class{constructor(e,t,i,n){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=n,this.ɵtype=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone((()=>{queueMicrotask((()=>{this.delegate.destroy()}))})),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,n=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,n)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,n){this.delegate.setAttribute(e,t,i,n)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,n){this.delegate.setStyle(e,t,i,n)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==V9&&t==M9?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},L9=class extends N9{constructor(e,t,i,n,r){super(t,i,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==V9?"."==t.charAt(1)&&t==M9?(i=void 0===i||!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==V9){let n=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),r=t.slice(1),s="";return r.charAt(0)!=V9&&([r,s]=function(e){let t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(r)),this.engine.listen(this.namespaceId,n,r,s,(e=>{let t=e._data||-1;this.factory.scheduleListenerCallback(t,i,e)}))}return this.delegate.listen(e,t,i)}},H9=(()=>{let e=class extends R9{constructor(e,t,i){super(e,t,i)}ngOnDestroy(){this.flush()}};return e.ɵfac=function(t){return new(t||e)(gr(of),gr(u7),gr(g7))},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),z9=[{provide:g7,useFactory:function(){return new V7}},{provide:R9,useClass:H9},{provide:Uh,useFactory:function(e,t,i){return new class{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(e,t)=>{t?.removeChild(null,e)}}createRenderer(e,t){let i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let e=this._rendererCache,t=e.get(i);if(!t){let n=()=>e.delete(i);t=new N9("",i,this.engine,n),e.set(i,t)}return t}let n=t.id,r=t.id+"-"+this._currentId;this._currentId++,this.engine.register(r,e);let s=t=>{Array.isArray(t)?t.forEach(s):this.engine.registerTrigger(n,r,e,t.name,t)};return t.data.animation.forEach(s),new L9(this,r,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask((()=>{this._microtaskId++}))}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run((()=>t(i)));let n=this._animationCallbacksBuffer;0==n.length&&queueMicrotask((()=>{this._zone.run((()=>{n.forEach((e=>{let[t,i]=e;t(i)})),this._animationCallbacksBuffer=[]}))})),n.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)})),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}(e,t,i)},deps:[py,R9,Dl]}],B9=[{provide:u7,useFactory:()=>new class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return l7(e,t)}getParentElement(e){return s7(e)}query(e,t,i){return d7(e,t,i)}computeStyle(e,t,i){return P7(e,t)}animate(e,t,i,n,r,s=[]){let o={duration:i,delay:n,fill:0==n?"both":"forwards"};r&&(o.easing=r);let a=new Map,l=s.filter((e=>e instanceof F9));(function(e,t){return 0===e||0===t})(i,n)&&l.forEach((e=>{e.currentSnapshot.forEach(((e,t)=>a.set(t,e)))}));let d=function(e){return e.length?e[0]instanceof Map?e:e.map((e=>new Map(Object.entries(e)))):[]}(t).map((e=>new Map(e)));d=function(e,t,i){if(i.size&&t.length){let n=t[0],r=[];if(i.forEach(((e,t)=>{n.has(t)||r.push(t),n.set(t,e)})),r.length)for(let i=1;i<t.length;i++){let n=t[i];r.forEach((t=>n.set(t,P7(e,t))))}}return t}(e,d,a);let c=function(e,t){let i=null,n=null;return Array.isArray(t)&&t.length?(i=O9(t[0]),t.length>1&&(n=O9(t[t.length-1]))):t instanceof Map&&(i=O9(t)),i||n?new k9(e,i,n):null}(e,d);return new F9(e,d,o,c)}}},{provide:id,useValue:"BrowserAnimations"},...z9],G9=[{provide:u7,useClass:c7},{provide:id,useValue:"NoopAnimations"},...z9],$9=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?G9:B9}}};return e.ɵfac=function(t){return new(t||e)},e.ɵmod=ns({type:e}),e.ɵinj=Fn({providers:B9,imports:[ky]}),e})(),W9=(()=>{let e=class extends b1{constructor(e,t,i,n){super(e,t,i,n),this.viewRef=t,this.envInjector=i,this.injector=n,this.stateParsed=new yl}applyState(e,t=[]){0===t.length&&(t=null),super.setStateInternal(e,t)}applyStateFromString(e,t=[]){0===t.length&&(t=null);let i=JSON.parse(e);this.stateParsed.emit(i),super.setStateInternal(i,t)}getState(e=[]){return 0===e.length&&(e=null),super.getStateInternal(!1,e)}getStateAsString(e=[]){return 0===e.length&&(e=null),super.getStateInternal(!0,e)}stringifyCallback(e,t){return"searchVal"===e&&t instanceof Set?Array.from(t):"externalObject"!==e?t:void 0}};return e.ɵfac=function(t){return new(t||e)(Oc(nO),Oc(iu),Oc(Is),Oc(hl))},e.ɵcmp=es({type:e,selectors:[["igx-grid-state"]],outputs:{stateParsed:"stateParsed"},standalone:!0,features:[Ru,Pp],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),K9=[{component:FO,parents:[bQ,p5,Y8,S5],contentQueries:[{property:"actionButtons",childType:DO,isQueryList:!0}],additionalProperties:[],methods:["show","hide"],boolProps:["hidden"],provideAs:IO},{component:zM,parents:[bQ,p5,Y8,S1,S5,WM,qM],contentQueries:[],additionalProperties:[{name:"selected",writable:!0},{name:"index"},{name:"visibleIndex"},{name:"columnGroup"},{name:"columnLayout"},{name:"columnLayoutChild"},{name:"childColumns"},{name:"level"},{name:"filteringExpressionsTree"},{name:"parent",writable:!0},{name:"grid",writable:!0},{name:"topLevelParent"}],methods:["pin","unpin","move","autosize"],templateProps:["summaryTemplate","bodyTemplate","headerTemplate","inlineEditorTemplate","errorTemplate","filterCellTemplate"],numericProps:["rowEnd","colEnd","rowStart","colStart"],boolProps:["sortable","selectable","groupable","editable","filterable","resizable","autosizeHeader","hasSummary","hidden","disableHiding","disablePinning","filteringIgnoreCase","sortingIgnoreCase","searchable","pinned","visibleWhenCollapsed"]},{component:WM,parents:[bQ,p5,Y8,WM,S5],contentQueries:[{property:"children",childType:zM,isQueryList:!0}],additionalProperties:[{name:"selected",writable:!0},{name:"childColumns"},{name:"columnGroup"},{name:"columnLayout"},{name:"index"},{name:"visibleIndex"},{name:"columnLayoutChild"},{name:"level"},{name:"filteringExpressionsTree"},{name:"parent",writable:!0},{name:"grid",writable:!0},{name:"topLevelParent"}],methods:["pin","unpin","move","autosize"],templateProps:["collapsibleIndicatorTemplate","summaryTemplate","headerTemplate","errorTemplate","filterCellTemplate"],numericProps:["rowEnd","colEnd","rowStart","colStart"],boolProps:["collapsible","expanded","searchable","hidden","sortable","groupable","editable","filterable","resizable","autosizeHeader","hasSummary","disableHiding","disablePinning","filteringIgnoreCase","sortingIgnoreCase","pinned","visibleWhenCollapsed"],provideAs:zM},{component:qM,parents:[bQ],contentQueries:[{property:"children",childType:zM,isQueryList:!0}],additionalProperties:[{name:"columnLayout"},{name:"visibleIndex"},{name:"selected",writable:!0},{name:"childColumns"},{name:"columnGroup"},{name:"index"},{name:"columnLayoutChild"},{name:"level"},{name:"filteringExpressionsTree"},{name:"parent",writable:!0},{name:"grid",writable:!0},{name:"topLevelParent"}],methods:["pin","unpin","move","autosize"],templateProps:["collapsibleIndicatorTemplate","summaryTemplate","headerTemplate","errorTemplate","filterCellTemplate"],numericProps:["rowEnd","colEnd","rowStart","colStart"],boolProps:["hidden","collapsible","expanded","searchable","sortable","groupable","editable","filterable","resizable","autosizeHeader","hasSummary","disableHiding","disablePinning","filteringIgnoreCase","sortingIgnoreCase","pinned","visibleWhenCollapsed"],provideAs:zM},{component:bQ,parents:[],contentQueries:[{property:"columnList",childType:zM,isQueryList:!0,descendants:!0},{property:"actionStripComponents",childType:IO,isQueryList:!0},{property:"toolbar",childType:Qj,isQueryList:!0},{property:"paginationComponents",childType:VU,isQueryList:!0}],additionalProperties:[{name:"groupsRecords"},{name:"selectedCells"},{name:"shouldGenerate",writable:!0},{name:"rowList"},{name:"dataRowList"},{name:"hiddenColumnsCount"},{name:"pinnedColumnsCount"},{name:"transactions"},{name:"lastSearchInfo"},{name:"filteredData"},{name:"filteredSortedData"},{name:"validation"},{name:"gridAPI"},{name:"cdr"},{name:"navigation",writable:!0},{name:"virtualizationState"},{name:"nativeElement"},{name:"defaultRowHeight"},{name:"defaultHeaderGroupMinWidth"},{name:"columns"},{name:"pinnedColumns"},{name:"pinnedRows"},{name:"unpinnedColumns"},{name:"visibleColumns"},{name:"dataView"}],methods:["groupBy","clearGrouping","isExpandedGroup","toggleGroup","selectRowsInGroup","deselectRowsInGroup","fullyExpandGroup","toggleAllGroupRows","getSelectedData","getRowByIndex","getRowByKey","getCellByColumn","getCellByKey","pinRow","unpinRow","isRecordPinnedByIndex","toggleColumnVisibility","expandAll","collapseAll","expandRow","collapseRow","toggleRow","getHeaderGroupWidth","getColumnByName","getColumnByVisibleIndex","recalculateAutoSizes","moveColumn","markForCheck","addRow","deleteRow","updateCell","updateRow","getRowData","sort","filter","filterGlobal","enableSummaries","disableSummaries","clearFilter","clearSort","pinColumn","unpinColumn","reflow","findNext","findPrev","refreshSearch","clearSearch","getPinnedWidth","selectRows","deselectRows","selectAllRows","deselectAllRows","clearCellSelection","selectRange","getSelectedRanges","selectedColumns","selectColumns","deselectColumns","deselectAllColumns","selectAllColumns","getSelectedColumnsData","navigateTo","getNextCell","getPreviousCell","openAdvancedFilteringDialog","closeAdvancedFilteringDialog","endEdit","beginAddRowById","beginAddRowByIndex"],templateProps:["dropAreaTemplate","detailTemplate","groupByRowSelectorTemplate","groupRowTemplate","emptyGridTemplate","addRowEmptyTemplate","loadingGridTemplate","dragGhostCustomTemplate","rowEditTextTemplate","rowAddTextTemplate","rowEditActionsTemplate","rowExpandedIndicatorTemplate","rowCollapsedIndicatorTemplate","headerExpandedIndicatorTemplate","headerCollapsedIndicatorTemplate","excelStyleHeaderIconTemplate","sortAscendingHeaderIconTemplate","sortDescendingHeaderIconTemplate","sortHeaderIconTemplate","headSelectorTemplate","rowSelectorTemplate","dragIndicatorIconTemplate"],numericProps:["totalItemCount","snackbarDisplayTime","summaryRowHeight","rowHeight","totalRecords"],boolProps:["groupsExpanded","hideGroupedColumns","showGroupArea","autoGenerate","moving","hideRowSelectors","rowDraggable","rowEditable","isLoading","allowFiltering","allowAdvancedFiltering","showSummaryOnCollapse","batchEditing","selectRowOnClick"]},{component:XO,parents:[FO],contentQueries:[],additionalProperties:[{name:"hasChildren"}],methods:["startEdit"],boolProps:["addRow","editRow","deleteRow","addChild","asMenuItems"],provideAs:DO},{component:iP,parents:[FO],contentQueries:[],additionalProperties:[],methods:["pin","unpin","scrollToRow"],boolProps:["asMenuItems"],provideAs:DO},{component:W9,parents:[bQ,p5,Y8,S1],contentQueries:[],additionalProperties:[{name:"grid",writable:!0}],methods:["applyState","applyStateFromString","getState","getStateAsString"]},{component:R1,parents:[G1],contentQueries:[],additionalProperties:[],methods:[]},{component:F1,parents:[G1],contentQueries:[],additionalProperties:[],methods:[]},{component:G1,parents:[bQ,p5,Y8,S1],contentQueries:[{property:"hasActions",childType:R1}],additionalProperties:[{name:"nativeElement"}],methods:[],boolProps:["showProgress"],provideAs:Qj},{component:Q1,parents:[G1],contentQueries:[],additionalProperties:[],methods:["export"],boolProps:["exportCSV","exportExcel"]},{component:e2,parents:[G1],contentQueries:[],additionalProperties:[],methods:["checkAll","uncheckAll"],numericProps:["indentetion"],boolProps:["hideFilter"]},{component:i2,parents:[G1],contentQueries:[],additionalProperties:[],methods:["checkAll","uncheckAll"],numericProps:["indentetion"],boolProps:["hideFilter"]},{component:T1,parents:[G1],contentQueries:[],additionalProperties:[],methods:[]},{component:Y8,parents:[],contentQueries:[{property:"childLayoutList",childType:S5,isQueryList:!0},{property:"allLayoutList",childType:S5,isQueryList:!0,descendants:!0},{property:"paginatorList",childType:VU,isQueryList:!0,descendants:!0},{property:"actionStripComponents",childType:IO,isQueryList:!0},{property:"columnList",childType:zM,isQueryList:!0,descendants:!0},{property:"toolbar",childType:Qj,isQueryList:!0},{property:"paginationComponents",childType:VU,isQueryList:!0}],additionalProperties:[{name:"foreignKey"},{name:"selectedCells"},{name:"gridAPI",writable:!0},{name:"shouldGenerate",writable:!0},{name:"rowList"},{name:"dataRowList"},{name:"hiddenColumnsCount"},{name:"pinnedColumnsCount"},{name:"transactions"},{name:"lastSearchInfo"},{name:"filteredData"},{name:"filteredSortedData"},{name:"validation"},{name:"cdr"},{name:"navigation",writable:!0},{name:"virtualizationState"},{name:"nativeElement"},{name:"defaultRowHeight"},{name:"defaultHeaderGroupMinWidth"},{name:"columns"},{name:"pinnedColumns"},{name:"pinnedRows"},{name:"unpinnedColumns"},{name:"visibleColumns"},{name:"dataView"}],methods:["getRowByIndex","getRowByKey","getCellByColumn","getCellByKey","pinRow","unpinRow","getDefaultExpandState","isRecordPinnedByIndex","toggleColumnVisibility","expandAll","collapseAll","expandRow","collapseRow","toggleRow","getHeaderGroupWidth","getColumnByName","getColumnByVisibleIndex","recalculateAutoSizes","moveColumn","markForCheck","addRow","deleteRow","updateCell","updateRow","getRowData","sort","filter","filterGlobal","enableSummaries","disableSummaries","clearFilter","clearSort","pinColumn","unpinColumn","reflow","findNext","findPrev","refreshSearch","clearSearch","getPinnedWidth","selectRows","deselectRows","selectAllRows","deselectAllRows","clearCellSelection","selectRange","getSelectedRanges","getSelectedData","selectedColumns","selectColumns","deselectColumns","deselectAllColumns","selectAllColumns","getSelectedColumnsData","navigateTo","getNextCell","getPreviousCell","openAdvancedFilteringDialog","closeAdvancedFilteringDialog","endEdit","beginAddRowById","beginAddRowByIndex"],templateProps:["emptyGridTemplate","addRowEmptyTemplate","loadingGridTemplate","dragGhostCustomTemplate","rowEditTextTemplate","rowAddTextTemplate","rowEditActionsTemplate","rowExpandedIndicatorTemplate","rowCollapsedIndicatorTemplate","headerExpandedIndicatorTemplate","headerCollapsedIndicatorTemplate","excelStyleHeaderIconTemplate","sortAscendingHeaderIconTemplate","sortDescendingHeaderIconTemplate","sortHeaderIconTemplate","headSelectorTemplate","rowSelectorTemplate","dragIndicatorIconTemplate"],numericProps:["totalItemCount","snackbarDisplayTime","summaryRowHeight","rowHeight","totalRecords"],boolProps:["expandChildren","showExpandAll","autoGenerate","moving","hideRowSelectors","rowDraggable","rowEditable","isLoading","allowFiltering","allowAdvancedFiltering","showSummaryOnCollapse","selectRowOnClick"]},{component:h2,parents:[bQ,p5,Y8,S1],contentQueries:[],additionalProperties:[{name:"totalPages",writable:!0},{name:"isLastPage"},{name:"isFirstPage"},{name:"nativeElement"}],methods:["nextPage","previousPage","paginate"],numericProps:["page","perPage","totalRecords"],provideAs:VU},{component:A2,parents:[],contentQueries:[],additionalProperties:[{name:"animationSettings",writable:!0}],methods:[],boolProps:["columnsExpanded","rowsExpanded","filtersExpanded","valuesExpanded"]},{component:S1,parents:[],contentQueries:[{property:"columnList",childType:zM,isQueryList:!0,descendants:!0},{property:"toolbar",childType:Qj,isQueryList:!0},{property:"paginationComponents",childType:VU,isQueryList:!0}],additionalProperties:[{name:"dimensionsSortingExpressions"},{name:"allDimensions"},{name:"rowList"},{name:"dataRowList"},{name:"lastSearchInfo"},{name:"filteredData"},{name:"filteredSortedData"},{name:"validation"},{name:"gridAPI"},{name:"cdr"},{name:"navigation",writable:!0},{name:"virtualizationState"},{name:"nativeElement"},{name:"defaultRowHeight"},{name:"defaultHeaderGroupMinWidth"},{name:"columns"},{name:"visibleColumns"},{name:"dataView"}],methods:["notifyDimensionChange","toggleColumn","getColumnGroupExpandState","toggleRowGroup","autoSizeRowDimension","insertDimensionAt","moveDimension","removeDimension","toggleDimension","insertValueAt","moveValue","removeValue","toggleValue","sortDimension","filterDimension","toggleRow","getHeaderGroupWidth","getColumnByName","getColumnByVisibleIndex","recalculateAutoSizes","markForCheck","getRowData","sort","filter","filterGlobal","clearFilter","clearSort","reflow","selectRows","deselectRows","selectAllRows","deselectAllRows","clearCellSelection","selectRange","getSelectedRanges","getSelectedData","selectedColumns","selectColumns","deselectColumns","deselectAllColumns","selectAllColumns","getSelectedColumnsData","navigateTo"],templateProps:["valueChipTemplate","rowDimensionHeaderTemplate","emptyPivotGridTemplate","emptyGridTemplate","loadingGridTemplate","dragGhostCustomTemplate","rowEditTextTemplate","rowAddTextTemplate","rowEditActionsTemplate","rowExpandedIndicatorTemplate","rowCollapsedIndicatorTemplate","headerExpandedIndicatorTemplate","headerCollapsedIndicatorTemplate","excelStyleHeaderIconTemplate","sortAscendingHeaderIconTemplate","sortDescendingHeaderIconTemplate","sortHeaderIconTemplate","headSelectorTemplate","rowSelectorTemplate"],numericProps:["rowHeight"],boolProps:["autoGenerateConfig","superCompactMode","defaultExpandState","isLoading","selectRowOnClick"]},{component:S5,parents:[Y8,S5],contentQueries:[{property:"children",childType:S5,isQueryList:!0},{property:"childLayoutList",childType:S5,isQueryList:!0},{property:"childColumns",childType:zM,isQueryList:!0},{property:"actionStripComponents",childType:IO,isQueryList:!0},{property:"columnList",childType:zM,isQueryList:!0,descendants:!0}],additionalProperties:[{name:"rowIslandAPI",writable:!0},{name:"gridAPI",writable:!0},{name:"shouldGenerate",writable:!0},{name:"rowList"},{name:"dataRowList"},{name:"transactions"},{name:"validation"},{name:"cdr"},{name:"navigation",writable:!0},{name:"nativeElement"},{name:"defaultRowHeight"},{name:"defaultHeaderGroupMinWidth"},{name:"columns"},{name:"pinnedRows"}],methods:["isRecordPinnedByIndex","toggleColumnVisibility","expandAll","collapseAll","expandRow","collapseRow","toggleRow","getHeaderGroupWidth","getColumnByName","getColumnByVisibleIndex","recalculateAutoSizes","moveColumn","markForCheck","addRow","deleteRow","updateCell","updateRow","getRowData","sort","filter","filterGlobal","enableSummaries","disableSummaries","clearFilter","clearSort","pinColumn","unpinColumn","pinRow","unpinRow","findNext","findPrev","refreshSearch","clearSearch","getPinnedWidth","selectRows","deselectRows","selectAllRows","deselectAllRows","clearCellSelection","selectRange","getSelectedRanges","getSelectedData","selectedColumns","selectColumns","deselectColumns","deselectAllColumns","selectAllColumns","getSelectedColumnsData","navigateTo","getNextCell","getPreviousCell","openAdvancedFilteringDialog","closeAdvancedFilteringDialog","endEdit","beginAddRowById","beginAddRowByIndex"],templateProps:["toolbarTemplate","paginatorTemplate","emptyGridTemplate","addRowEmptyTemplate","loadingGridTemplate","dragGhostCustomTemplate","rowEditTextTemplate","rowAddTextTemplate","rowEditActionsTemplate","rowExpandedIndicatorTemplate","rowCollapsedIndicatorTemplate","headerExpandedIndicatorTemplate","headerCollapsedIndicatorTemplate","excelStyleHeaderIconTemplate","sortAscendingHeaderIconTemplate","sortDescendingHeaderIconTemplate","sortHeaderIconTemplate","headSelectorTemplate","rowSelectorTemplate","dragIndicatorIconTemplate"],numericProps:["snackbarDisplayTime","summaryRowHeight","rowHeight","totalRecords"],boolProps:["expandChildren","showExpandAll","autoGenerate","moving","hideRowSelectors","rowDraggable","rowEditable","isLoading","allowFiltering","allowAdvancedFiltering","showSummaryOnCollapse","selectRowOnClick"]},{component:p5,parents:[],contentQueries:[{property:"columnList",childType:zM,isQueryList:!0,descendants:!0},{property:"actionStripComponents",childType:IO,isQueryList:!0},{property:"toolbar",childType:Qj,isQueryList:!0},{property:"paginationComponents",childType:VU,isQueryList:!0}],additionalProperties:[{name:"rootRecords",writable:!0},{name:"records",writable:!0},{name:"processedRootRecords",writable:!0},{name:"processedRecords",writable:!0},{name:"selectedCells"},{name:"shouldGenerate",writable:!0},{name:"rowList"},{name:"dataRowList"},{name:"hiddenColumnsCount"},{name:"pinnedColumnsCount"},{name:"lastSearchInfo"},{name:"filteredData"},{name:"filteredSortedData"},{name:"validation"},{name:"gridAPI"},{name:"cdr"},{name:"navigation",writable:!0},{name:"virtualizationState"},{name:"nativeElement"},{name:"defaultRowHeight"},{name:"defaultHeaderGroupMinWidth"},{name:"columns"},{name:"pinnedColumns"},{name:"pinnedRows"},{name:"unpinnedColumns"},{name:"visibleColumns"},{name:"dataView"}],methods:["getDefaultExpandState","expandAll","collapseAll","addRow","beginAddRowByIndex","getSelectedData","getRowByIndex","getRowByKey","getCellByColumn","getCellByKey","pinRow","unpinRow","isRecordPinnedByIndex","toggleColumnVisibility","expandRow","collapseRow","toggleRow","getHeaderGroupWidth","getColumnByName","getColumnByVisibleIndex","recalculateAutoSizes","moveColumn","markForCheck","deleteRow","updateCell","updateRow","getRowData","sort","filter","filterGlobal","enableSummaries","disableSummaries","clearFilter","clearSort","pinColumn","unpinColumn","reflow","findNext","findPrev","refreshSearch","clearSearch","getPinnedWidth","selectRows","deselectRows","selectAllRows","deselectAllRows","clearCellSelection","selectRange","getSelectedRanges","selectedColumns","selectColumns","deselectColumns","deselectAllColumns","selectAllColumns","getSelectedColumnsData","navigateTo","getNextCell","getPreviousCell","openAdvancedFilteringDialog","closeAdvancedFilteringDialog","endEdit","beginAddRowById"],templateProps:["rowLoadingIndicatorTemplate","emptyGridTemplate","addRowEmptyTemplate","loadingGridTemplate","dragGhostCustomTemplate","rowEditTextTemplate","rowAddTextTemplate","rowEditActionsTemplate","rowExpandedIndicatorTemplate","rowCollapsedIndicatorTemplate","headerExpandedIndicatorTemplate","headerCollapsedIndicatorTemplate","excelStyleHeaderIconTemplate","sortAscendingHeaderIconTemplate","sortDescendingHeaderIconTemplate","sortHeaderIconTemplate","headSelectorTemplate","rowSelectorTemplate","dragIndicatorIconTemplate"],numericProps:["expansionDepth","snackbarDisplayTime","summaryRowHeight","rowHeight","totalRecords"],boolProps:["cascadeOnDelete","autoGenerate","moving","hideRowSelectors","rowDraggable","rowEditable","isLoading","allowFiltering","allowAdvancedFiltering","showSummaryOnCollapse","batchEditing","selectRowOnClick"]}],j9={schedule(e,t){let i=setTimeout(e,t);return()=>clearTimeout(i)},scheduleBeforeRender(e){if(typeof window>"u")return j9.schedule(e,0);if(typeof window.requestAnimationFrame>"u")return j9.schedule(e,16);let t=window.requestAnimationFrame(e);return()=>window.cancelAnimationFrame(t)}};function U9(e,t,i){let n=i;return function(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}(e)&&t.some(((t,i)=>!("*"===t||!function(e,t){if(!P9){let e=Element.prototype;P9=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return e.nodeType===Node.ELEMENT_NODE&&P9.call(e,t)}(e,t)||(n=i,0)))),n}var q9=class{constructor(e,t){this.componentFactory=t.get(jh).resolveComponentFactory(e)}create(e){return new Y9(this.componentFactory,e)}},Y9=class{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new ri(1),this.events=this.eventEmitters.pipe(pn((e=>sn(...e)))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map((({propName:e})=>e))),this.ngZone=this.injector.get(Dl),this.elementZone=typeof Zone>"u"?null:this.ngZone.run((()=>Zone.current))}connect(e){this.runInZone((()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)}))}disconnect(){this.runInZone((()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=j9.schedule((()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)}),10))}))}getInputValue(e){return this.runInZone((()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e]))}setInputValue(e,t,i){this.runInZone((()=>{i&&(t=i.call(this.componentRef?.instance,t)),null!==this.componentRef?function(e,t){return e===t||e!=e&&t!=t}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)}))}initializeComponent(e){let t=hl.create({providers:[],parent:this.injector}),i=function(e,t){let i=e.childNodes,n=t.map((()=>[])),r=-1;t.some(((e,t)=>"*"===e&&(r=t,!0)));for(let e=0,s=i.length;e<s;++e){let s=i[e],o=U9(s,t,r);-1!==o&&n[o].push(s)}return n}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,i,e),this.viewChangeDetectorRef=this.componentRef.injector.get(Pm),this.implementsOnChanges=function(e){return"function"==typeof e}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(fm).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach((({propName:e,transform:t})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e),t)})),this.initialInputValues.clear()}initializeOutputs(e){let t=this.componentFactory.outputs.map((({propName:t,templateName:i})=>e.instance[t].pipe(Bi((e=>({name:i,value:e}))))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;let t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=j9.scheduleBeforeRender((()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()})))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});let i=this.inputChanges[e];if(i)return void(i.currentValue=t);let n=this.unchangedInputs.has(e),r=n?void 0:this.getInputValue(e);this.inputChanges[e]=new fo(r,t,n)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}},X9=class extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}};var Z9,Q9=class{constructor(e,t){this.componentFactory=t.get(jh).resolveComponentFactory(e)}create(e){return new J9(this.componentFactory,e)}},J9=class{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new ri(1),this.events=this.eventEmitters.pipe(pn((e=>sn(...e)))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map((({propName:e})=>e))),this.ngZone=this.injector.get(Dl),this.elementZone=typeof Zone>"u"?null:this.ngZone.run((()=>Zone.current))}connect(e){this.runInZone((()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)}))}disconnect(){this.runInZone((()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=eee.schedule((()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)}),10))}))}getInputValue(e){return this.runInZone((()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e]))}setInputValue(e,t,i){this.runInZone((()=>{i&&(t=i.call(this.componentRef?.instance,t)),null!==this.componentRef&&this.componentRef.instance?function(e,t){return e===t||e!=e&&t!=t}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)}))}initializeComponent(e){let t=hl.create({providers:[],parent:this.injector}),i=iee(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,i,e),this.viewChangeDetectorRef=this.componentRef.injector.get(Pm),this.implementsOnChanges=tee(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(fm).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach((({propName:e,transform:t})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e),t)})),this.initialInputValues.clear()}initializeOutputs(e){let t=this.componentFactory.outputs.map((({propName:t,templateName:i})=>e.instance[t].pipe(Bi((e=>({name:i,value:e}))))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;let t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=eee.scheduleBeforeRender((()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()})))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});let i=this.inputChanges[e];if(i)return void(i.currentValue=t);let n=this.unchangedInputs.has(e),r=n?void 0:this.getInputValue(e);this.inputChanges[e]=new fo(r,t,n)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}},eee={schedule(e,t){let i=setTimeout(e,t);return()=>clearTimeout(i)},scheduleBeforeRender(e){if(typeof window>"u")return eee.schedule(e,0);if(typeof window.requestAnimationFrame>"u")return eee.schedule(e,16);let t=window.requestAnimationFrame(e);return()=>window.cancelAnimationFrame(t)}};function tee(e){return"function"==typeof e}function iee(e,t){let i=e.childNodes,n=t.map((()=>[])),r=-1;t.some(((e,t)=>"*"===e&&(r=t,!0)));for(let e=0,s=i.length;e<s;++e){let s=i[e],o=nee(s,t,r);-1!==o&&n[o].push(s)}return n}function nee(e,t,i){let n=i;return function(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}(e)&&t.some(((t,i)=>!("*"===t||!function(e,t){if(!Z9){let e=Element.prototype;Z9=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return e.nodeType===Node.ELEMENT_NODE&&Z9.call(e,t)}(e,t)||(n=i,0)))),n}var ree=class extends Oh{get elementRef(){return this.innerTemplateRef.elementRef}constructor(e,t){super(),this.innerTemplateRef=e,this._templateFunction=t,this._contentContext=new Map}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i=null){let n,r,s,o=!!this._templateFunction.___isBridged,a=new Proxy(e,{get:(e,t,i)=>"context"===t?i:("implicit"===t&&(t="$implicit"),o&&"___contentId"===t?r:!(!o||"___immediate"!==t)||(o&&"___root"===t?s:Reflect.get(e,t,i)))}),l=this.innerTemplateRef.createEmbeddedViewImpl(a,t);return o&&(s=l.rootNodes[0],n=new see,r=FU(),n._id=r,s._id=r,n.root=s,n.templateFunction=this._templateFunction,this._contentContext.set(r,n),this._templateFunction.___onTemplateInit(this._templateFunction,s,n),l.onDestroy((()=>{this.destroyingBridgedView(n)}))),l}destroyingBridgedView(e){this._templateFunction.___onTemplateTeardown(this._templateFunction,e.root,e),this._contentContext.delete(e._id)}},see=class{};function oee(e,t){if(1&e&&(Lg(0,"div",2,0),fp(2)),2&e){let e=t.context,i=mp(1),n=rp().$implicit,r=rp();Ac(2),xp(" ",r.litRender(i,n,e),"\n")}}function aee(e,t){1&e&&Xu(0,oee,3,1,"ng-template")}var lee,dee=(()=>{let e=class{constructor(e){this.cdr=e,this.templateFunctions=[]}litRender(e,t,i){(0,n.render)(t(i),e)}addTemplate(e){return this.templateFunctions.push(e),this.cdr.detectChanges(),new ree(this.templateRefs.last,e)}getTemplateFunction(e){if(!e)return;let t=this.templateRefs.toArray().indexOf(e.innerTemplateRef);return this.templateFunctions[t-1]}};return e.ɵfac=function(t){return new(t||e)(Oc(Pm))},e.ɵcmp=es({type:e,selectors:[["igx-template-wrapper"]],viewQuery:function(e,t){if(1&e&&up(Oh,5),2&e){let e;gp(e=pp())&&(t.templateRefs=e)}},standalone:!0,features:[Pp],decls:1,vars:1,consts:[["container",""],[4,"ngFor","ngForOf"],[2,"display","contents"]],template:function(e,t){1&e&&Xu(0,aee,1,0,null,1),2&e&&fg("ngForOf",t.templateFunctions)},dependencies:[lv],styles:["[_nghost-%COMP%]{display:none}"]}),e})(),cee=Symbol("ComponentRef"),hee=class extends J9{get templateWrapper(){if(!this._templateWrapper){let e=this.componentRef.injector.get(iu);this._templateWrapper=e.createComponent(dee).instance}return this._templateWrapper}constructor(e,t,i){super(e,t),this._componentFactory=e,this._injector=t,this.config=i,this.cachedChildComponents=new Map,this[lee]=new Promise(((e,t)=>this.setComponentRef=e)),this.schedule=new Map}initializeComponent(e){return Ge(this,null,(function*(){if(!e.isConnected)return;this.element=e,this.componentRef={};let t=Array.from(e.children).filter((e=>!this._componentFactory.ngContentSelectors.some((t=>e.matches(t)))));for(let e of t);let i,n,r,s=[],o=this.config?.find((e=>e.component===this._componentFactory.componentType));o&&(o.selector=e.tagName.toLocaleLowerCase());let a=o?.parents.map((e=>this.config.find((t=>t.component===e)))).filter((e=>e.selector));if(a?.length){let t=e;for(;t?.parentElement;)t=t.parentElement.closest(a.flatMap((e=>[e.selector,tf(e.component).selector])).join(",")),t&&s.push(t);let r=s[0];r?.ngElementStrategy?(this.angularParent=r.ngElementStrategy.angularParent,i=(yield r?.ngElementStrategy[cee])?.injector,("igc-grid-toolbar"===e.tagName.toLocaleLowerCase()||"igc-paginator"===e.tagName.toLocaleLowerCase())&&(n=(yield r?.ngElementStrategy[cee])?.instance.anchor)):r?.__componentRef&&(this.angularParent=r.__componentRef,i=this.angularParent.injector)}this.injector=i||this._injector;let l=hl.create({providers:[],parent:this.injector}),d=iee(e,this._componentFactory.ngContentSelectors);if(this.componentRef=this._componentFactory.create(l,d,e),this.setComponentRef(this.componentRef),this.viewChangeDetectorRef=this.componentRef.injector.get(Pm),this.implementsOnChanges=tee(this.componentRef.instance.ngOnChanges),e&&this.componentRef.instance&&(this.componentRef.instance.___wcElement=e),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),n&&i){i.get(iu);let t=e.parentElement,r=e.nextSibling;n.insert(this.componentRef.hostView),t.insertBefore(e,r),this.detectChanges()}else n||this._injector.get(fm).attachView(this.componentRef.hostView);let c=this.componentRef;for(let e=0;e<s.length;e++){let t=s[e];if(r=a.find((e=>e.selector===t?.tagName.toLocaleLowerCase())),!r)continue;let i=this._componentFactory.componentType,n=r.contentQueries.filter((e=>e.childType===i||e.childType===o.provideAs));for(let i of n){if(e>0&&!i.descendants)continue;let n=yield t.ngElementStrategy[cee];i.isQueryList?(t.ngElementStrategy.scheduleQueryUpdate(i.property),this.angularParent&&this.addToParentCache(t,i.property)):(n.instance[i.property]=c.instance,n.changeDetectorRef.detectChanges())}}["igc-grid","igc-tree-grid","igc-hierarchical-grid"].includes(e.tagName.toLocaleLowerCase())&&this.patchGridPopups()}))}setInputValue(e,t,i){if(null===this.componentRef||!this.componentRef.instance)return void this.initialInputValues.set(e,t);let n=this.componentRef,r=this.config?.find((e=>e.component===this._componentFactory.componentType));if(t!==n.instance[e]){if(n&&r?.templateProps?.includes(e)){if(this.templateWrapper.templateFunctions.includes(t))return;let i=n.instance[e];if((i&&this.templateWrapper.getTemplateFunction(i))===t)return;t=this.templateWrapper.addTemplate(t)}n&&r?.boolProps?.includes(e)&&(t=null!=t&&"false"!=`${t}`),n&&r?.numericProps?.includes(e)&&(isNaN(Number(t)-parseFloat(t))||(t=Number(t))),"igc-pivot-data-selector"===r.selector&&"grid"===e&&t&&(t=t.ngElementStrategy?.componentRef?.instance||t),super.setInputValue(e,t,i)}}getInputValue(e){let t=super.getInputValue(e),i=this.config?.find((e=>e.component===this._componentFactory.componentType));return this.componentRef&&i?.templateProps?.includes(e)&&(t=this.templateWrapper.getTemplateFunction(t)||t),t}scheduleQueryUpdate(e){this.schedule.has(e)&&this.schedule.get(e)();let t=setTimeout((()=>this.updateQuery(e)),10);this.schedule.set(e,(()=>clearTimeout(t)))}updateQuery(e){if(this.schedule.delete(e),this.componentRef){let t=(this.config?.find((e=>e.component===this._componentFactory.componentType))).contentQueries.find((t=>t.property===e)),i=this.runQueryInDOM(this.element,t),n=[];for(let e of i){let t=e.ngElementStrategy.componentRef;t?.instance&&n.push(t.instance)}t.descendants&&this.cachedChildComponents.has(e)&&(n=[...this.cachedChildComponents.get(e),...n]);let r=this.componentRef.instance[t.property];r.reset(n),r.notifyOnChanges()}}runQueryInDOM(e,t){let i=this.config.filter((e=>e.component===t.childType||t.childType===e.provideAs)),n=i.map((e=>e.selector)).filter((e=>e)).join(","),r=Array.from(e.querySelectorAll(n));if(r.length&&!t.descendants){let t=new Set(i.map((e=>e.parents)).flat()),n=this.config.filter((e=>t.has(e.component))).map((e=>e.selector)).filter((e=>e)).join(",");r=r.filter((t=>t.parentElement.closest(n)===e))}return r}addToParentCache(e,t){var i=e.ngElementStrategy.cachedChildComponents.get(t)||[];i.push(this.componentRef.instance),e.ngElementStrategy.cachedChildComponents.set(t,i)}assignTemplateCallback(e,t){let i=this.componentRef;if(i){let n=this.templateWrapper.addTemplate(t);i.instance[e]=n,i.changeDetectorRef.detectChanges()}}patchGridPopups(){let e=new Set,t=this.componentRef;en(this.element,"gridScroll").pipe(mn(t.instance.destroy$)).subscribe((()=>{e.size&&(e.forEach((e=>{e.isConnected&&e.hide()})),e.clear())})),en(this.element,"igcOpened").pipe(mn(t.instance.destroy$)).subscribe((t=>{Object.keys(t.detail).length||e.add(t.target)}))}disconnect(){this.angularParent?this.angularParent.onDestroy((()=>super.disconnect())):super.disconnect()}};lee=cee;var uee=class extends Q9{constructor(e,t,i){super(e,t),this.config=i}create(e){return new hee(this.componentFactory,e,this.config)}};function gee(e,t){let i=new uee(e,t.injector,t.registerConfig);!function(e){let t=e.componentFactory.componentDef.inputs;for(let e in t){let i=t[e];/[A-Z]{2,}/.test(e)&&(t[e.replace(/([A-Z])([A-Z]+)(?![a-z])/g,((e,t,i)=>t+i.toLowerCase()))]=i)}}(i);let n=function(e,t){let i=function(e,t){return t.get(jh).resolveComponentFactory(e).inputs}(e,t.injector),n=t.strategyFactory||new q9(e,t.injector),r=function(e){let t={};return e.forEach((({propName:e,templateName:i,transform:n})=>{t[function(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}(i)]=[e,n]})),t}(i),s=class extends X9{get ngElementStrategy(){if(!this._ngElementStrategy){let e=this._ngElementStrategy=n.create(this.injector||t.injector);i.forEach((({propName:t,transform:i})=>{if(!this.hasOwnProperty(t))return;let n=this[t];delete this[t],e.setInputValue(t,n,i)}))}return this._ngElementStrategy}constructor(e){super(),this.injector=e}attributeChangedCallback(e,t,i,n){let[s,o]=r[e];this.ngElementStrategy.setInputValue(s,i,o)}connectedCallback(){let e=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),e=!0),this.ngElementStrategy.connect(this),e||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe((e=>{let t=new CustomEvent(e.name,{detail:e.value});this.dispatchEvent(t)}))}};s.observedAttributes=Object.keys(r);let o=s;return i.forEach((({propName:e,transform:t})=>{Object.defineProperty(o.prototype,e,{get(){return this.ngElementStrategy.getInputValue(e)},set(i){this.ngElementStrategy.setInputValue(e,i,t)},configurable:!0,enumerable:!0})})),o}(e,Oe(ke({},t),{strategyFactory:i})),r=t.registerConfig?.find((t=>t.component===e));for(let e of r?.methods)n.prototype[e]=function(){let t=this.ngElementStrategy.componentRef.instance;return this.ngElementStrategy.runInZone((()=>t[e].apply(t,arguments)))};if(r?.additionalProperties.forEach((t=>{let i;if(t.name in n.prototype)throw new Error(`Potentially illegal property name ${t.name} defined for ${e.name}`);t.writable&&(i=function(e){this.ngElementStrategy.setInputValue(t.name,e)}),Object.defineProperty(n.prototype,t.name,{get(){return this.ngElementStrategy.getInputValue(t.name)},set:i,configurable:!0,enumerable:!0})})),e===bQ){let e=function(){return{stringFilteringOperand:ZA.instance(),numberFilteringOperand:XA.instance(),timeFilteringOperand:YA.instance(),dateTimeFilteringOperand:qA.instance(),dateFilteringOperand:UA.instance(),booleanFilteringOperand:KA.instance(),createFilteringExpressionTree:(e,t)=>new iS(e,t)}};n.prototype.getFilterFactory=e}return n}var pee=function(e){return e[e.SyncState=0]="SyncState",e[e.RegisterIcon=1]="RegisterIcon",e[e.UpdateIconReference=2]="UpdateIconReference",e}(pee||{}),mee=(()=>{let e=class{constructor(e,t){this._iconService=e,this._platformUtil=t,this._platformUtil?.isBrowser&&(this.iconBroadcastChannel=new BroadcastChannel("ignite-ui-icon-channel"),this.iconBroadcastChannel.onmessage=e=>{let t=e.data;(t.actionType===pee.SyncState||t.actionType===pee.RegisterIcon)&&this.updateIconsFromCollection(t.collections),(t.actionType===pee.SyncState||t.actionType===pee.UpdateIconReference)&&this.updateRefsFromCollection(t.references)},this.iconBroadcastChannel.postMessage({actionType:pee.SyncState}))}updateIconsFromCollection(e){if(!e)return;let t=e.keys();for(let i of t){let t=e.get(i);for(let e of t.keys()){let n=t.get(e).svg;this._iconService.addSvgIconFromText(e,n,i)}}}updateRefsFromCollection(e){if(!e)return;let t=e.keys();for(let i of t){let t=e.get(i);for(let e of t.keys()){let i=t.get(e).collection,n=t.get(e).name;this._iconService.setIconRef(e,"default",{family:i,name:n})}}}};return e.ɵfac=function(t){return new(t||e)(gr(TT),gr(fC,8))},e.ɵprov=Pn({token:e,factory:e.ɵfac}),e})(),fee=(()=>{let e=class{constructor(e,t){this.injector=e,this._iconBroadcast=t}ngDoBootstrap(){let e=gee(bQ,{injector:this.injector,registerConfig:K9});customElements.define("igc-grid",e);let t=gee(p5,{injector:this.injector,registerConfig:K9});customElements.define("igc-tree-grid",t);let i=gee(Y8,{injector:this.injector,registerConfig:K9});customElements.define("igc-hierarchical-grid",i);let n=gee(S1,{injector:this.injector,registerConfig:K9});customElements.define("igc-pivot-grid",n);let r=gee(A2,{injector:this.injector,registerConfig:K9});customElements.define("igc-pivot-data-selector",r);let s=gee(S5,{injector:this.injector,registerConfig:K9});customElements.define("igc-row-island",s);let o=gee(WM,{injector:this.injector,registerConfig:K9});customElements.define("igc-column-group",o);let a=gee(qM,{injector:this.injector,registerConfig:K9});customElements.define("igc-column-layout",a);let l=gee(zM,{injector:this.injector,registerConfig:K9});customElements.define("igc-column",l);let d=gee(h2,{injector:this.injector,registerConfig:K9});customElements.define("igc-paginator",d);let c=gee(G1,{injector:this.injector,registerConfig:K9});customElements.define("igc-grid-toolbar",c);let h=gee(FO,{injector:this.injector,registerConfig:K9});customElements.define("igc-action-strip",h);let u=gee(W9,{injector:this.injector,registerConfig:K9});customElements.define("igc-grid-state",u);let g=gee(XO,{injector:this.injector,registerConfig:K9});customElements.define("igc-grid-editing-actions",g);let p=gee(iP,{injector:this.injector,registerConfig:K9});customElements.define("igc-grid-pinning-actions",p);let m=gee(T1,{injector:this.injector,registerConfig:K9});customElements.define("igc-grid-toolbar-title",m);let f=gee(R1,{injector:this.injector,registerConfig:K9});customElements.define("igc-grid-toolbar-actions",f);let v=gee(e2,{injector:this.injector,registerConfig:K9});customElements.define("igc-grid-toolbar-hiding",v);let y=gee(i2,{injector:this.injector,registerConfig:K9});customElements.define("igc-grid-toolbar-pinning",y);let x=gee(Q1,{injector:this.injector,registerConfig:K9});customElements.define("igc-grid-toolbar-exporter",x);let w=gee(F1,{injector:this.injector,registerConfig:K9});customElements.define("igc-grid-toolbar-advanced-filtering",w)}};return e.ɵfac=function(t){return new(t||e)(gr(hl),gr(mee))},e.ɵmod=ns({type:e}),e.ɵinj=Fn({providers:[{provide:oC,useValue:!0},mee],imports:[ky,$9]}),e})();Ey().bootstrapModule(fee).catch((e=>console.error(e)))}}]);